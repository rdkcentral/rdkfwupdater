Running main() from ./googletest/src/gtest_main.cc
[==========] Running 14 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 14 tests from RdkFwupdateMgrHandlersTest

╔══════════════════════════════════════════════════════════════╗
║  rdkFwupdateMgr_handlers Test Suite                         ║
║  Target: src/dbus/rdkFwupdateMgr_handlers.c                 ║
║  Coverage Goal: 80-85% line coverage                        ║
╚══════════════════════════════════════════════════════════════╝
[ RUN      ] RdkFwupdateMgrHandlersTest.XconfCacheExists_NoCacheFile_ReturnsFalse

=== SetUp: XconfCacheExists_NoCacheFile_ReturnsFalse ===
=== TearDown: XconfCacheExists_NoCacheFile_ReturnsFalse ===

[       OK ] RdkFwupdateMgrHandlersTest.XconfCacheExists_NoCacheFile_ReturnsFalse (0 ms)
[ RUN      ] RdkFwupdateMgrHandlersTest.XconfCacheExists_CacheFileExists_ReturnsTrue

=== SetUp: XconfCacheExists_CacheFileExists_ReturnsTrue ===
[TEST HELPER] Created XConf cache: HTTP 200, JSON length=202
=== TearDown: XconfCacheExists_CacheFileExists_ReturnsTrue ===

[       OK ] RdkFwupdateMgrHandlersTest.XconfCacheExists_CacheFileExists_ReturnsTrue (0 ms)
[ RUN      ] RdkFwupdateMgrHandlersTest.XconfCacheExists_CacheDeleted_ReturnsFalse

=== SetUp: XconfCacheExists_CacheDeleted_ReturnsFalse ===
[TEST HELPER] Created XConf cache: HTTP 200, JSON length=202
=== TearDown: XconfCacheExists_CacheDeleted_ReturnsFalse ===

[       OK ] RdkFwupdateMgrHandlersTest.XconfCacheExists_CacheDeleted_ReturnsFalse (0 ms)
[ RUN      ] RdkFwupdateMgrHandlersTest.CheckupdateResponseFree_NullResponse_NoSegfault

=== SetUp: CheckupdateResponseFree_NullResponse_NoSegfault ===
=== TearDown: CheckupdateResponseFree_NullResponse_NoSegfault ===

[       OK ] RdkFwupdateMgrHandlersTest.CheckupdateResponseFree_NullResponse_NoSegfault (0 ms)
[ RUN      ] RdkFwupdateMgrHandlersTest.CheckupdateResponseFree_AllocatedStrings_FreesMemory

=== SetUp: CheckupdateResponseFree_AllocatedStrings_FreesMemory ===
=== TearDown: CheckupdateResponseFree_AllocatedStrings_FreesMemory ===

[       OK ] RdkFwupdateMgrHandlersTest.CheckupdateResponseFree_AllocatedStrings_FreesMemory (0 ms)
[ RUN      ] RdkFwupdateMgrHandlersTest.CheckForUpdate_ValidCache_SameVersion_ReturnsNotAvailable

=== SetUp: CheckForUpdate_ValidCache_SameVersion_ReturnsNotAvailable ===
[TEST HELPER] Created XConf cache: HTTP 200, JSON length=202
[rdkFwupdateMgr] ===== FUNCTION ENTRY: rdkFwupdateMgr_checkForUpdate() =====
[rdkFwupdateMgr] CheckForUpdate: handler=test_handler
[rdkFwupdateMgr] About to allocate XCONFRES structure on stack (~2KB)...
[rdkFwupdateMgr] XCONFRES structure allocated successfully
[rdkFwupdateMgr] CheckForUpdate: Checking for cached XConf data...
[rdkFwupdateMgr] Cache hit! Loading XConf data from cache
[CACHE] Loading XConf data from cache: /tmp/xconf_response_thunder.txt
[CACHE] Loaded 202 bytes from cache
[CACHE] Successfully parsed: version='TEST_v1.0.0', file='TEST_v1.0.0-signed.bin'
[rdkFwupdateMgr] Successfully loaded XConf data from cache
[rdkFwupdateMgr] XConf call completed with result: ret=0
=== [rdkFwupdateMgr] XConf Response - Complete Data ===
[rdkFwupdateMgr] Core Firmware Data:
[rdkFwupdateMgr]   - cloudFWVersion: 'TEST_v1.0.0'
[rdkFwupdateMgr]   - cloudFWFile: 'TEST_v1.0.0-signed.bin'
[rdkFwupdateMgr]   - cloudFWLocation: 'http://test.server.com/firmware/TEST_v1.0.0-signed.bin'
[rdkFwupdateMgr]   - ipv6cloudFWLocation: '(empty)'
[rdkFwupdateMgr] Download Control:
[rdkFwupdateMgr]   - cloudDelayDownload: '(empty)'
[rdkFwupdateMgr]   - cloudProto: '(empty)'
[rdkFwupdateMgr]   - cloudImmediateRebootFlag: '(empty)'
[rdkFwupdateMgr] Additional Components:
[rdkFwupdateMgr]   - peripheralFirmwares: '(empty)'
[rdkFwupdateMgr]   - dlCertBundle: '(empty)'
[rdkFwupdateMgr]   - cloudPDRIVersion: '(empty)'
=== [rdkFwupdateMgr] XConf Response - End ===
[rdkFwupdateMgr] XConf returned firmware version: 'TEST_v1.0.0'
[rdkFwupdateMgr] create_success_response: Getting current image info
[rdkFwupdateMgr]   - currentImg status: SUCCESS
[rdkFwupdateMgr]   - current_img_buffer: 'TEST_v1.0.0'
=== TearDown: CheckForUpdate_ValidCache_SameVersion_ReturnsNotAvailable ===

[       OK ] RdkFwupdateMgrHandlersTest.CheckForUpdate_ValidCache_SameVersion_ReturnsNotAvailable (0 ms)
[ RUN      ] RdkFwupdateMgrHandlersTest.CheckForUpdate_ValidCache_NewerVersion_ReturnsAvailable

=== SetUp: CheckForUpdate_ValidCache_NewerVersion_ReturnsAvailable ===
[TEST HELPER] Created XConf cache: HTTP 200, JSON length=202
[rdkFwupdateMgr] ===== FUNCTION ENTRY: rdkFwupdateMgr_checkForUpdate() =====
[rdkFwupdateMgr] CheckForUpdate: handler=test_handler
[rdkFwupdateMgr] About to allocate XCONFRES structure on stack (~2KB)...
[rdkFwupdateMgr] XCONFRES structure allocated successfully
[rdkFwupdateMgr] CheckForUpdate: Checking for cached XConf data...
[rdkFwupdateMgr] Cache hit! Loading XConf data from cache
[CACHE] Loading XConf data from cache: /tmp/xconf_response_thunder.txt
[CACHE] Loaded 202 bytes from cache
[CACHE] Successfully parsed: version='TEST_v2.0.0', file='TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr] Successfully loaded XConf data from cache
[rdkFwupdateMgr] XConf call completed with result: ret=0
=== [rdkFwupdateMgr] XConf Response - Complete Data ===
[rdkFwupdateMgr] Core Firmware Data:
[rdkFwupdateMgr]   - cloudFWVersion: 'TEST_v2.0.0'
[rdkFwupdateMgr]   - cloudFWFile: 'TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr]   - cloudFWLocation: 'http://test.server.com/firmware/TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr]   - ipv6cloudFWLocation: '(empty)'
[rdkFwupdateMgr] Download Control:
[rdkFwupdateMgr]   - cloudDelayDownload: '(empty)'
[rdkFwupdateMgr]   - cloudProto: '(empty)'
[rdkFwupdateMgr]   - cloudImmediateRebootFlag: '(empty)'
[rdkFwupdateMgr] Additional Components:
[rdkFwupdateMgr]   - peripheralFirmwares: '(empty)'
[rdkFwupdateMgr]   - dlCertBundle: '(empty)'
[rdkFwupdateMgr]   - cloudPDRIVersion: '(empty)'
=== [rdkFwupdateMgr] XConf Response - End ===
[rdkFwupdateMgr] XConf returned firmware version: 'TEST_v2.0.0'
[rdkFwupdateMgr] create_success_response: Getting current image info
[rdkFwupdateMgr]   - currentImg status: SUCCESS
[rdkFwupdateMgr]   - current_img_buffer: 'TEST_v1.0.0'
[rdkFwupdateMgr] create_success_response: Response created with current image: 'TEST_v1.0.0', available: 'TEST_v2.0.0', status: 'Firmware update available'
=== TearDown: CheckForUpdate_ValidCache_NewerVersion_ReturnsAvailable ===

[       OK ] RdkFwupdateMgrHandlersTest.CheckForUpdate_ValidCache_NewerVersion_ReturnsAvailable (0 ms)
[ RUN      ] RdkFwupdateMgrHandlersTest.CheckForUpdate_ValidCache_OlderVersion_HandlesProperly

=== SetUp: CheckForUpdate_ValidCache_OlderVersion_HandlesProperly ===
[TEST HELPER] Created XConf cache: HTTP 200, JSON length=202
[rdkFwupdateMgr] ===== FUNCTION ENTRY: rdkFwupdateMgr_checkForUpdate() =====
[rdkFwupdateMgr] CheckForUpdate: handler=test_handler
[rdkFwupdateMgr] About to allocate XCONFRES structure on stack (~2KB)...
[rdkFwupdateMgr] XCONFRES structure allocated successfully
[rdkFwupdateMgr] CheckForUpdate: Checking for cached XConf data...
[rdkFwupdateMgr] Cache hit! Loading XConf data from cache
[CACHE] Loading XConf data from cache: /tmp/xconf_response_thunder.txt
[CACHE] Loaded 202 bytes from cache
[CACHE] Successfully parsed: version='TEST_v0.9.0', file='TEST_v0.9.0-signed.bin'
[rdkFwupdateMgr] Successfully loaded XConf data from cache
[rdkFwupdateMgr] XConf call completed with result: ret=0
=== [rdkFwupdateMgr] XConf Response - Complete Data ===
[rdkFwupdateMgr] Core Firmware Data:
[rdkFwupdateMgr]   - cloudFWVersion: 'TEST_v0.9.0'
[rdkFwupdateMgr]   - cloudFWFile: 'TEST_v0.9.0-signed.bin'
[rdkFwupdateMgr]   - cloudFWLocation: 'http://test.server.com/firmware/TEST_v0.9.0-signed.bin'
[rdkFwupdateMgr]   - ipv6cloudFWLocation: '(empty)'
[rdkFwupdateMgr] Download Control:
[rdkFwupdateMgr]   - cloudDelayDownload: '(empty)'
[rdkFwupdateMgr]   - cloudProto: '(empty)'
[rdkFwupdateMgr]   - cloudImmediateRebootFlag: '(empty)'
[rdkFwupdateMgr] Additional Components:
[rdkFwupdateMgr]   - peripheralFirmwares: '(empty)'
[rdkFwupdateMgr]   - dlCertBundle: '(empty)'
[rdkFwupdateMgr]   - cloudPDRIVersion: '(empty)'
=== [rdkFwupdateMgr] XConf Response - End ===
[rdkFwupdateMgr] XConf returned firmware version: 'TEST_v0.9.0'
[rdkFwupdateMgr] create_success_response: Getting current image info
[rdkFwupdateMgr]   - currentImg status: SUCCESS
[rdkFwupdateMgr]   - current_img_buffer: 'TEST_v1.0.0'
[rdkFwupdateMgr] create_success_response: Response created with current image: 'TEST_v1.0.0', available: 'TEST_v0.9.0', status: 'Firmware update available'
[TEST] Downgrade scenario status_code: 0
=== TearDown: CheckForUpdate_ValidCache_OlderVersion_HandlesProperly ===

[       OK ] RdkFwupdateMgrHandlersTest.CheckForUpdate_ValidCache_OlderVersion_HandlesProperly (0 ms)
[ RUN      ] RdkFwupdateMgrHandlersTest.CheckForUpdate_CorruptCache_FallsBackToNetwork

=== SetUp: CheckForUpdate_CorruptCache_FallsBackToNetwork ===
[TEST HELPER] Created XConf cache: HTTP 200, JSON length=31
[rdkFwupdateMgr] ===== FUNCTION ENTRY: rdkFwupdateMgr_checkForUpdate() =====
[rdkFwupdateMgr] CheckForUpdate: handler=test_handler
[rdkFwupdateMgr] About to allocate XCONFRES structure on stack (~2KB)...
[rdkFwupdateMgr] XCONFRES structure allocated successfully
[rdkFwupdateMgr] CheckForUpdate: Checking for cached XConf data...
[rdkFwupdateMgr] Cache hit! Loading XConf data from cache
[CACHE] Loading XConf data from cache: /tmp/xconf_response_thunder.txt
[CACHE] Loaded 31 bytes from cache
[CACHE] Failed to parse cached data (error: -1)
[rdkFwupdateMgr] Cache read failed, falling back to live XConf call
fetch_xconf_firmware_info: server URL 
fetch_xconf_firmware_info: no valid server URL
[rdkFwupdateMgr] XConf call completed with result: ret=-1
[rdkFwupdateMgr] XConf communication failed: ret=-1, http=0
[rdkFwupdateMgr] create_result_response: Getting current image info
[rdkFwupdateMgr]   - currentImg status: SUCCESS
[rdkFwupdateMgr]   - current_img_buffer: 'TEST_v1.0.0'
[rdkFwupdateMgr] create_result_response: Response created with current image: 'TEST_v1.0.0', status: 'Network error - unable to reach update server'
[TEST] Corrupt cache status_code: 3
=== TearDown: CheckForUpdate_CorruptCache_FallsBackToNetwork ===

[       OK ] RdkFwupdateMgrHandlersTest.CheckForUpdate_CorruptCache_FallsBackToNetwork (0 ms)
[ RUN      ] RdkFwupdateMgrHandlersTest.CheckForUpdate_NoCache_NoNetwork_ReturnsNetworkError

=== SetUp: CheckForUpdate_NoCache_NoNetwork_ReturnsNetworkError ===
[rdkFwupdateMgr] ===== FUNCTION ENTRY: rdkFwupdateMgr_checkForUpdate() =====
[rdkFwupdateMgr] CheckForUpdate: handler=test_handler
[rdkFwupdateMgr] About to allocate XCONFRES structure on stack (~2KB)...
[rdkFwupdateMgr] XCONFRES structure allocated successfully
[rdkFwupdateMgr] CheckForUpdate: Checking for cached XConf data...
[rdkFwupdateMgr] Cache miss! Making live XConf call
fetch_xconf_firmware_info: server URL 
fetch_xconf_firmware_info: no valid server URL
[rdkFwupdateMgr] XConf call completed with result: ret=-1
[rdkFwupdateMgr] XConf communication failed: ret=-1, http=0
[rdkFwupdateMgr] create_result_response: Getting current image info
[rdkFwupdateMgr]   - currentImg status: SUCCESS
[rdkFwupdateMgr]   - current_img_buffer: 'TEST_v1.0.0'
[rdkFwupdateMgr] create_result_response: Response created with current image: 'TEST_v1.0.0', status: 'Network error - unable to reach update server'
[TEST] No cache + no network status_code: 3
=== TearDown: CheckForUpdate_NoCache_NoNetwork_ReturnsNetworkError ===

[       OK ] RdkFwupdateMgrHandlersTest.CheckForUpdate_NoCache_NoNetwork_ReturnsNetworkError (0 ms)
[ RUN      ] RdkFwupdateMgrHandlersTest.CheckForUpdate_NullHandlerId_HandlesGracefully

=== SetUp: CheckForUpdate_NullHandlerId_HandlesGracefully ===
[TEST HELPER] Created XConf cache: HTTP 200, JSON length=202
[rdkFwupdateMgr] ===== FUNCTION ENTRY: rdkFwupdateMgr_checkForUpdate() =====
[rdkFwupdateMgr] CRITICAL ERROR: handler_id is NULL!
[rdkFwupdateMgr] create_result_response: Getting current image info
[rdkFwupdateMgr]   - currentImg status: SUCCESS
[rdkFwupdateMgr]   - current_img_buffer: 'TEST_v1.0.0'
[rdkFwupdateMgr] create_result_response: Response created with current image: 'TEST_v1.0.0', status: 'Internal error - invalid handler ID'
[TEST] NULL handler_id status_code: 3
=== TearDown: CheckForUpdate_NullHandlerId_HandlesGracefully ===

[       OK ] RdkFwupdateMgrHandlersTest.CheckForUpdate_NullHandlerId_HandlesGracefully (0 ms)
[ RUN      ] RdkFwupdateMgrHandlersTest.CheckForUpdate_EmptyHandlerId_HandlesGracefully

=== SetUp: CheckForUpdate_EmptyHandlerId_HandlesGracefully ===
[TEST HELPER] Created XConf cache: HTTP 200, JSON length=202
[rdkFwupdateMgr] ===== FUNCTION ENTRY: rdkFwupdateMgr_checkForUpdate() =====
[rdkFwupdateMgr] CheckForUpdate: handler=
[rdkFwupdateMgr] About to allocate XCONFRES structure on stack (~2KB)...
[rdkFwupdateMgr] XCONFRES structure allocated successfully
[rdkFwupdateMgr] CheckForUpdate: Checking for cached XConf data...
[rdkFwupdateMgr] Cache hit! Loading XConf data from cache
[CACHE] Loading XConf data from cache: /tmp/xconf_response_thunder.txt
[CACHE] Loaded 202 bytes from cache
[CACHE] Successfully parsed: version='TEST_v2.0.0', file='TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr] Successfully loaded XConf data from cache
[rdkFwupdateMgr] XConf call completed with result: ret=0
=== [rdkFwupdateMgr] XConf Response - Complete Data ===
[rdkFwupdateMgr] Core Firmware Data:
[rdkFwupdateMgr]   - cloudFWVersion: 'TEST_v2.0.0'
[rdkFwupdateMgr]   - cloudFWFile: 'TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr]   - cloudFWLocation: 'http://test.server.com/firmware/TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr]   - ipv6cloudFWLocation: '(empty)'
[rdkFwupdateMgr] Download Control:
[rdkFwupdateMgr]   - cloudDelayDownload: '(empty)'
[rdkFwupdateMgr]   - cloudProto: '(empty)'
[rdkFwupdateMgr]   - cloudImmediateRebootFlag: '(empty)'
[rdkFwupdateMgr] Additional Components:
[rdkFwupdateMgr]   - peripheralFirmwares: '(empty)'
[rdkFwupdateMgr]   - dlCertBundle: '(empty)'
[rdkFwupdateMgr]   - cloudPDRIVersion: '(empty)'
=== [rdkFwupdateMgr] XConf Response - End ===
[rdkFwupdateMgr] XConf returned firmware version: 'TEST_v2.0.0'
[rdkFwupdateMgr] create_success_response: Getting current image info
[rdkFwupdateMgr]   - currentImg status: SUCCESS
[rdkFwupdateMgr]   - current_img_buffer: 'TEST_v1.0.0'
[rdkFwupdateMgr] create_success_response: Response created with current image: 'TEST_v1.0.0', available: 'TEST_v2.0.0', status: 'Firmware update available'
[TEST] Empty handler_id status_code: 0
=== TearDown: CheckForUpdate_EmptyHandlerId_HandlesGracefully ===

[       OK ] RdkFwupdateMgrHandlersTest.CheckForUpdate_EmptyHandlerId_HandlesGracefully (0 ms)
[ RUN      ] RdkFwupdateMgrHandlersTest.CheckForUpdate_CacheExists_NoHttpCodeFile_HandlesGracefully

=== SetUp: CheckForUpdate_CacheExists_NoHttpCodeFile_HandlesGracefully ===
[rdkFwupdateMgr] ===== FUNCTION ENTRY: rdkFwupdateMgr_checkForUpdate() =====
[rdkFwupdateMgr] CheckForUpdate: handler=test_handler
[rdkFwupdateMgr] About to allocate XCONFRES structure on stack (~2KB)...
[rdkFwupdateMgr] XCONFRES structure allocated successfully
[rdkFwupdateMgr] CheckForUpdate: Checking for cached XConf data...
[rdkFwupdateMgr] Cache hit! Loading XConf data from cache
[CACHE] Loading XConf data from cache: /tmp/xconf_response_thunder.txt
[CACHE] Loaded 202 bytes from cache
[CACHE] Successfully parsed: version='TEST_v2.0.0', file='TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr] Successfully loaded XConf data from cache
[rdkFwupdateMgr] XConf call completed with result: ret=0
=== [rdkFwupdateMgr] XConf Response - Complete Data ===
[rdkFwupdateMgr] Core Firmware Data:
[rdkFwupdateMgr]   - cloudFWVersion: 'TEST_v2.0.0'
[rdkFwupdateMgr]   - cloudFWFile: 'TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr]   - cloudFWLocation: 'http://test.server.com/firmware/TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr]   - ipv6cloudFWLocation: '(empty)'
[rdkFwupdateMgr] Download Control:
[rdkFwupdateMgr]   - cloudDelayDownload: '(empty)'
[rdkFwupdateMgr]   - cloudProto: '(empty)'
[rdkFwupdateMgr]   - cloudImmediateRebootFlag: '(empty)'
[rdkFwupdateMgr] Additional Components:
[rdkFwupdateMgr]   - peripheralFirmwares: '(empty)'
[rdkFwupdateMgr]   - dlCertBundle: '(empty)'
[rdkFwupdateMgr]   - cloudPDRIVersion: '(empty)'
=== [rdkFwupdateMgr] XConf Response - End ===
[rdkFwupdateMgr] XConf returned firmware version: 'TEST_v2.0.0'
[rdkFwupdateMgr] create_success_response: Getting current image info
[rdkFwupdateMgr]   - currentImg status: SUCCESS
[rdkFwupdateMgr]   - current_img_buffer: 'TEST_v1.0.0'
[rdkFwupdateMgr] create_success_response: Response created with current image: 'TEST_v1.0.0', available: 'TEST_v2.0.0', status: 'Firmware update available'
[TEST] Missing HTTP code file status_code: 0
=== TearDown: CheckForUpdate_CacheExists_NoHttpCodeFile_HandlesGracefully ===

[       OK ] RdkFwupdateMgrHandlersTest.CheckForUpdate_CacheExists_NoHttpCodeFile_HandlesGracefully (1 ms)
[ RUN      ] RdkFwupdateMgrHandlersTest.CheckForUpdate_MultipleCalls_ConsistentResults

=== SetUp: CheckForUpdate_MultipleCalls_ConsistentResults ===
[TEST HELPER] Created XConf cache: HTTP 200, JSON length=202
[rdkFwupdateMgr] ===== FUNCTION ENTRY: rdkFwupdateMgr_checkForUpdate() =====
[rdkFwupdateMgr] CheckForUpdate: handler=test_handler
[rdkFwupdateMgr] About to allocate XCONFRES structure on stack (~2KB)...
[rdkFwupdateMgr] XCONFRES structure allocated successfully
[rdkFwupdateMgr] CheckForUpdate: Checking for cached XConf data...
[rdkFwupdateMgr] Cache hit! Loading XConf data from cache
[CACHE] Loading XConf data from cache: /tmp/xconf_response_thunder.txt
[CACHE] Loaded 202 bytes from cache
[CACHE] Successfully parsed: version='TEST_v2.0.0', file='TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr] Successfully loaded XConf data from cache
[rdkFwupdateMgr] XConf call completed with result: ret=0
=== [rdkFwupdateMgr] XConf Response - Complete Data ===
[rdkFwupdateMgr] Core Firmware Data:
[rdkFwupdateMgr]   - cloudFWVersion: 'TEST_v2.0.0'
[rdkFwupdateMgr]   - cloudFWFile: 'TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr]   - cloudFWLocation: 'http://test.server.com/firmware/TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr]   - ipv6cloudFWLocation: '(empty)'
[rdkFwupdateMgr] Download Control:
[rdkFwupdateMgr]   - cloudDelayDownload: '(empty)'
[rdkFwupdateMgr]   - cloudProto: '(empty)'
[rdkFwupdateMgr]   - cloudImmediateRebootFlag: '(empty)'
[rdkFwupdateMgr] Additional Components:
[rdkFwupdateMgr]   - peripheralFirmwares: '(empty)'
[rdkFwupdateMgr]   - dlCertBundle: '(empty)'
[rdkFwupdateMgr]   - cloudPDRIVersion: '(empty)'
=== [rdkFwupdateMgr] XConf Response - End ===
[rdkFwupdateMgr] XConf returned firmware version: 'TEST_v2.0.0'
[rdkFwupdateMgr] create_success_response: Getting current image info
[rdkFwupdateMgr]   - currentImg status: SUCCESS
[rdkFwupdateMgr]   - current_img_buffer: 'TEST_v1.0.0'
[rdkFwupdateMgr] create_success_response: Response created with current image: 'TEST_v1.0.0', available: 'TEST_v2.0.0', status: 'Firmware update available'
[rdkFwupdateMgr] ===== FUNCTION ENTRY: rdkFwupdateMgr_checkForUpdate() =====
[rdkFwupdateMgr] CheckForUpdate: handler=test_handler
[rdkFwupdateMgr] About to allocate XCONFRES structure on stack (~2KB)...
[rdkFwupdateMgr] XCONFRES structure allocated successfully
[rdkFwupdateMgr] CheckForUpdate: Checking for cached XConf data...
[rdkFwupdateMgr] Cache hit! Loading XConf data from cache
[CACHE] Loading XConf data from cache: /tmp/xconf_response_thunder.txt
[CACHE] Loaded 202 bytes from cache
[CACHE] Successfully parsed: version='TEST_v2.0.0', file='TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr] Successfully loaded XConf data from cache
[rdkFwupdateMgr] XConf call completed with result: ret=0
=== [rdkFwupdateMgr] XConf Response - Complete Data ===
[rdkFwupdateMgr] Core Firmware Data:
[rdkFwupdateMgr]   - cloudFWVersion: 'TEST_v2.0.0'
[rdkFwupdateMgr]   - cloudFWFile: 'TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr]   - cloudFWLocation: 'http://test.server.com/firmware/TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr]   - ipv6cloudFWLocation: '(empty)'
[rdkFwupdateMgr] Download Control:
[rdkFwupdateMgr]   - cloudDelayDownload: '(empty)'
[rdkFwupdateMgr]   - cloudProto: '(empty)'
[rdkFwupdateMgr]   - cloudImmediateRebootFlag: '(empty)'
[rdkFwupdateMgr] Additional Components:
[rdkFwupdateMgr]   - peripheralFirmwares: '(empty)'
[rdkFwupdateMgr]   - dlCertBundle: '(empty)'
[rdkFwupdateMgr]   - cloudPDRIVersion: '(empty)'
=== [rdkFwupdateMgr] XConf Response - End ===
[rdkFwupdateMgr] XConf returned firmware version: 'TEST_v2.0.0'
[rdkFwupdateMgr] create_success_response: Getting current image info
[rdkFwupdateMgr]   - currentImg status: SUCCESS
[rdkFwupdateMgr]   - current_img_buffer: 'TEST_v1.0.0'
[rdkFwupdateMgr] create_success_response: Response created with current image: 'TEST_v1.0.0', available: 'TEST_v2.0.0', status: 'Firmware update available'
[rdkFwupdateMgr] ===== FUNCTION ENTRY: rdkFwupdateMgr_checkForUpdate() =====
[rdkFwupdateMgr] CheckForUpdate: handler=test_handler
[rdkFwupdateMgr] About to allocate XCONFRES structure on stack (~2KB)...
[rdkFwupdateMgr] XCONFRES structure allocated successfully
[rdkFwupdateMgr] CheckForUpdate: Checking for cached XConf data...
[rdkFwupdateMgr] Cache hit! Loading XConf data from cache
[CACHE] Loading XConf data from cache: /tmp/xconf_response_thunder.txt
[CACHE] Loaded 202 bytes from cache
[CACHE] Successfully parsed: version='TEST_v2.0.0', file='TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr] Successfully loaded XConf data from cache
[rdkFwupdateMgr] XConf call completed with result: ret=0
=== [rdkFwupdateMgr] XConf Response - Complete Data ===
[rdkFwupdateMgr] Core Firmware Data:
[rdkFwupdateMgr]   - cloudFWVersion: 'TEST_v2.0.0'
[rdkFwupdateMgr]   - cloudFWFile: 'TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr]   - cloudFWLocation: 'http://test.server.com/firmware/TEST_v2.0.0-signed.bin'
[rdkFwupdateMgr]   - ipv6cloudFWLocation: '(empty)'
[rdkFwupdateMgr] Download Control:
[rdkFwupdateMgr]   - cloudDelayDownload: '(empty)'
[rdkFwupdateMgr]   - cloudProto: '(empty)'
[rdkFwupdateMgr]   - cloudImmediateRebootFlag: '(empty)'
[rdkFwupdateMgr] Additional Components:
[rdkFwupdateMgr]   - peripheralFirmwares: '(empty)'
[rdkFwupdateMgr]   - dlCertBundle: '(empty)'
[rdkFwupdateMgr]   - cloudPDRIVersion: '(empty)'
=== [rdkFwupdateMgr] XConf Response - End ===
[rdkFwupdateMgr] XConf returned firmware version: 'TEST_v2.0.0'
[rdkFwupdateMgr] create_success_response: Getting current image info
[rdkFwupdateMgr]   - currentImg status: SUCCESS
[rdkFwupdateMgr]   - current_img_buffer: 'TEST_v1.0.0'
[rdkFwupdateMgr] create_success_response: Response created with current image: 'TEST_v1.0.0', available: 'TEST_v2.0.0', status: 'Firmware update available'
=== TearDown: CheckForUpdate_MultipleCalls_ConsistentResults ===

[       OK ] RdkFwupdateMgrHandlersTest.CheckForUpdate_MultipleCalls_ConsistentResults (2 ms)

╔══════════════════════════════════════════════════════════════╗
║  rdkFwupdateMgr_handlers Test Suite Complete                ║
╚══════════════════════════════════════════════════════════════╝

[----------] 14 tests from RdkFwupdateMgrHandlersTest (16 ms total)

[----------] Global test environment tear-down
[==========] 14 tests from 1 test suite ran. (18 ms total)
[  PASSED  ] 14 tests.

  YOU HAVE 6 DISABLED TESTS

