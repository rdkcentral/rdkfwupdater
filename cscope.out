cscope 15 /home/DEAMONIZATION/rdkfwupdater               0001173079
	@src/cedmInterface/codebigUtils.c

19 
	~"rdkv_cdl.h
"

20 
	~"rdkv_cdl_log_w¿µ”.h
"

21 
	~"codebigUts.h
"

23 
	~"rfcš‹rçû.h
"

24 
	~"rdk_fwdl_uts.h
"

25 
	~"deviû_­i.h
"

29 
	#URL_DELIMITER
 '?'

	)

55 
	$doCodeBigSignšg
Ğ
£rv”_ty³
, cÚ¡ *
SignIÅut
, *
signu¾
, 
size_t
 
signu¾size
, *
outhh—d”
, size_ˆ
outH—d”Size
 )

58 
	}
}

	@src/cedmInterface/codebigUtils.h

19 #iâdeà 
_CODEBIG_DL_H_


20 
	#_CODEBIG_DL_H_


	)

22 
	#MAX_DIR_LEN
 256

	)

23 
	#MAX_HEADER_LEN
 512

	)

24 
	#MAX_FMT_LEN
 32

	)

26 
	#INVALID_SERVICE
 0

	)

27 
	#SSR_SERVICE
 1

	)

28 
	#XCONF_SERVICE
 2

	)

29 
	#CIXCONF_SERVICE
 4

	)

30 
	#DAC15_SERVICE
 14

	)

32 
doCodeBigSignšg
(
£rv”_ty³
, cÚ¡ * 
SignIÅut
, *
signu¾
, 
size_t
 
signu¾size
, *
outhh—d”
, size_ˆ
outH—d”Size
);

	@src/cedmInterface/mtlsUtils.c

19 
	~"msUts.h
"

20 
	~"deviûuts.h
"

21 #iâdeà
LIBRDKCERTSELECTOR


22 #ifdeà
LIBRDKCONFIG_BUILD


23 
	~"rdkcÚfig.h
"

27 #ifdeà
LIBRDKCERTSELECTOR


28 
	#FILESCHEME
 "fe://"

	)

34 
MsAuthStus
 
	$g‘Msû¹
(
MsAuth_t
 *
£c
, 
rdkû¹£ËùÜ_h
* 
±hisC”tS–
) {

36 
¡©e_»d
 = 0;

37 *
û¹Uri
 = 
NULL
;

38 *
û¹Pass
 = 
NULL
;

39 *
’gše
 = 
NULL
;

40 *
û¹Fe
 = 
NULL
;

42 
¡©e_»d
 = 
	`isInS‹Red
();

43 if(
¡©e_»d
 == 1) {

44 
rdkû¹£ËùÜStus_t
 
¡©”edû¹St
 = 
	`rdkû¹£ËùÜ_g‘C”t
(*
±hisC”tS–
, &
û¹Uri
, &
û¹Pass
);

46 ià(
¡©”edû¹St
 !ğ
û¹£ËùÜOk
 || 
û¹Uri
 =ğ
NULL
 || 
û¹Pass
 == NULL) {

47 
	`SWLOG_ERROR
("%s, FaedØ»Œ›vû¹ifiÿ‹ fÜ RCVRY\n", 
__FUNCTION__
);

48 
	`rdkû¹£ËùÜ_ä“
(
±hisC”tS–
);

49 if(*
±hisC”tS–
 =ğ
NULL
){

50 
	`SWLOG_INFO
("%s, s‹„ed C”ˆ£ËùÜ memÜy f»e\n", 
__FUNCTION__
);

52 
	`SWLOG_ERROR
("%s, s‹„ed C”ˆ£ËùÜ memÜy f»çed\n", 
__FUNCTION__
);

54 
	`SWLOG_ERROR
("%s, AÎ‡‰em±s/Œ› tØ»Œ›vû¹ ¬exhau¡ed\n", 
__FUNCTION__
);

55  
STATE_RED_CERT_FETCH_FAILURE
;

58 
û¹Fe
 = 
û¹Uri
;

59 ià(
	`¡ºcmp
(
û¹Fe
, 
FILESCHEME
, (FILESCHEME)-1) == 0) {

60 
û¹Fe
 +ğ((
FILESCHEME
)-1);

63 
size_t
 
û¹Fe_Ën
 = 
	`¡ºËn
(
û¹Fe
, (
£c
->
û¹_Çme
));

64 ià(
û¹Fe_Ën
 >ğ(
£c
->
û¹_Çme
) - 1) {

65 
	`SWLOG_ERROR
("%s, Certificate file‚ameoo†ong (%zu chars), maximum‡llowed: %zu\n",

66 
__FUNCTION__
, 
û¹Fe_Ën
, (
£c
->
û¹_Çme
) - 1);

67 
	`rdkû¹£ËùÜ_ä“
(
±hisC”tS–
);

68  
STATE_RED_CERT_FETCH_FAILURE
;

70 
	`¡ºıy
(
£c
->
û¹_Çme
, 
û¹Fe
, (sec->cert_name));

72 
size_t
 
û¹Pass_Ën
 = 
	`¡ºËn
(
û¹Pass
, (
£c
->
key_·s
));

73 ià(
û¹Pass_Ën
 >ğ(
£c
->
key_·s
) - 1) {

74 
	`SWLOG_ERROR
("%s, Certificate…asswordoo†ong (%zu chars), maximum‡llowed: %zu\n",

75 
__FUNCTION__
, 
û¹Pass_Ën
, (
£c
->
key_·s
) - 1);

76 
	`rdkû¹£ËùÜ_ä“
(
±hisC”tS–
);

77  
STATE_RED_CERT_FETCH_FAILURE
;

79 
	`¡ºıy
(
£c
->
key_·s
, 
û¹Pass
, (sec->key_pas));

81 
’gše
 = 
	`rdkû¹£ËùÜ_g‘Engše
(*
±hisC”tS–
);

82 ià(
’gše
 =ğ
NULL
) {

83 
£c
->
’gše
[0] = '\0';

85 
size_t
 
’gše_Ën
 = 
	`¡ºËn
(
’gše
, (
£c
->engine));

86 ià(
’gše_Ën
 >ğ(
£c
->
’gše
) - 1) {

87 
	`SWLOG_ERROR
("%s, Engine‚ameoo†ong (%zu chars), maximum‡llowed: %zu\n",

88 
__FUNCTION__
, 
’gše_Ën
, (
£c
->
’gše
) - 1);

89 
	`rdkû¹£ËùÜ_ä“
(
±hisC”tS–
);

90  
STATE_RED_CERT_FETCH_FAILURE
;

92 
	`¡ºıy
(
£c
->
’gše
,ƒngine, (sec->engine));

95 
	`¡ºıy
(
£c
->
û¹_ty³
, "P12", (sec->cert_type) - 1);

97 
	`SWLOG_INFO
("%s, S‹„ed sucûss. c”t=%s,y³=%s,ƒngše=%s\n", 
__FUNCTION__
, 
£c
->
û¹_Çme
, sec->
û¹_ty³
, sec->
’gše
);

98 
	`SWLOG_INFO
("RED:State Red Recovery CURL_CMD: method for download\n");

102 
rdkû¹£ËùÜStus_t
 
û¹St
 = 
	`rdkû¹£ËùÜ_g‘C”t
(*
±hisC”tS–
, &
û¹Uri
, &
û¹Pass
);

104 ià(
û¹St
 !ğ
û¹£ËùÜOk
 || 
û¹Uri
 =ğ
NULL
 || 
û¹Pass
 == NULL) {

105 
	`SWLOG_ERROR
("%s, FaedØ»Œ›vû¹ifiÿ‹ fÜ MTLS\n", 
__FUNCTION__
);

106 
	`rdkû¹£ËùÜ_ä“
(
±hisC”tS–
);

107 if(*
±hisC”tS–
 =ğ
NULL
){

108 
	`SWLOG_INFO
("%s, C”ˆ£ËùÜ memÜy f»e\n", 
__FUNCTION__
);

110 
	`SWLOG_ERROR
("%s, C”ˆ£ËùÜ memÜy f»çed\n", 
__FUNCTION__
);

112  
MTLS_CERT_FETCH_FAILURE
;

115 
û¹Fe
 = 
û¹Uri
;

116 ià(
	`¡ºcmp
(
û¹Fe
, 
FILESCHEME
, (FILESCHEME)-1) == 0) {

117 
û¹Fe
 +ğ((
FILESCHEME
)-1);

120 
size_t
 
û¹Fe_Ën
 = 
	`¡ºËn
(
û¹Fe
, (
£c
->
û¹_Çme
));

121 ià(
û¹Fe_Ën
 >ğ(
£c
->
û¹_Çme
) - 1) {

122 
	`SWLOG_ERROR
("%s, Certificate file‚ameoo†ong (%zu chars), maximum‡llowed: %zu\n",

123 
__FUNCTION__
, 
û¹Fe_Ën
, (
£c
->
û¹_Çme
) - 1);

124 
	`rdkû¹£ËùÜ_ä“
(
±hisC”tS–
);

125  
MTLS_CERT_FETCH_FAILURE
;

127 
	`¡ºıy
(
£c
->
û¹_Çme
, 
û¹Fe
, (sec->cert_name));

128 
£c
->
û¹_Çme
[(sec->cert_name) - 1] = '\0';

130 
size_t
 
û¹Pass_Ën
 = 
	`¡ºËn
(
û¹Pass
, (
£c
->
key_·s
));

131 ià(
û¹Pass_Ën
 >ğ(
£c
->
key_·s
) - 1) {

132 
	`SWLOG_ERROR
("%s, Certificate…asswordoo†ong (%zu chars), maximum‡llowed: %zu\n",

133 
__FUNCTION__
, 
û¹Pass_Ën
, (
£c
->
key_·s
) - 1);

134 
	`rdkû¹£ËùÜ_ä“
(
±hisC”tS–
);

135  
MTLS_CERT_FETCH_FAILURE
;

137 
	`¡ºıy
(
£c
->
key_·s
, 
û¹Pass
, (sec->key_pas));

139 
’gše
 = 
	`rdkû¹£ËùÜ_g‘Engše
(*
±hisC”tS–
);

140 ià(
’gše
 =ğ
NULL
) {

141 
£c
->
’gše
[0] = '\0';

143 
size_t
 
’gše_Ën
 = 
	`¡ºËn
(
’gše
, (
£c
->engine));

144 ià(
’gše_Ën
 >ğ(
£c
->
’gše
) - 1) {

145 
	`SWLOG_ERROR
("%s, Engine‚ameoo†ong (%zu chars), maximum‡llowed: %zu\n",

146 
__FUNCTION__
, 
’gše_Ën
, (
£c
->
’gše
) - 1);

147 
	`rdkû¹£ËùÜ_ä“
(
±hisC”tS–
);

148  
MTLS_CERT_FETCH_FAILURE
;

150 
	`¡ºıy
(
£c
->
’gše
,ƒngine, (sec->engine));

153 
	`¡ºıy
(
£c
->
û¹_ty³
, "P12", (sec->cert_type) - 1);

155 
	`SWLOG_INFO
("%s, MTLS dyÇmic/¡©iøû¹ sucûss. c”t=%s,y³=%s,ƒngše=%s\n", 
__FUNCTION__
, 
£c
->
û¹_Çme
, sec->
û¹_ty³
, sec->
’gše
);

157  
MTLS_CERT_FETCH_SUCCESS
;

158 
	}
}

164 
	$g‘Msû¹
(
MsAuth_t
 *
£c
) {

174  
MTLS_FAILURE
;

175 
	}
}

	@src/cedmInterface/mtlsUtils.h

19 #iâdeà
VIDEO_CORE_MTLSUTILS_H_


20 
	#VIDEO_CORE_MTLSUTILS_H_


	)

22 
	~<¡dio.h
>

23 
	~<¡dlib.h
>

24 
	~<¡ršg.h
>

26 
	~"deviû_¡©us_h–³r.h
"

27 
	~"rdkv_cdl_log_w¿µ”.h
"

28 #iâdeà
GTEST_ENABLE


29 
	~"sy¡em_uts.h
"

30 
	~"u¾H–³r.h
"

33 #ifdeà
LIBRDKCERTSELECTOR


34 
	~"rdkû¹£ËùÜ.h
"

38 
	#RDKSSACLI
 "G‘Key %s"

	)

39 
	#GETCONFIGFILE_STATERED
 "G‘CÚfigFe"

	)

40 
	#DAC15DEFAULT
 "URL"

	)

41 
	#CIXCONFDEFAULT
 "cÚfigu¾"

	)

42 
	#DEVXCONFDEFAULT
 "deçuÉu¾"

	)

43 
	#XCONFDEFAULT
 "xcÚf"

	)

45 #ifdeà
LIBRDKCERTSELECTOR


47 
	#CURL_MTLS_LOCAL_CERTPROBLEM
 58

	)

50 
	mSTATE_RED_CERT_FETCH_FAILURE
 = -2,

51 
	mMTLS_CERT_FETCH_FAILURE
 = -1,

52 
	mMTLS_CERT_FETCH_SUCCESS
 = 0

53 } 
	tMsAuthStus
;

55 
MsAuthStus
 
g‘Msû¹
(
MsAuth_t
 *
£c
, 
rdkû¹£ËùÜ_h
* 
±hisC”tS–
);

57 
	#MTLS_SUCCESS
 1

	)

58 
	#MTLS_FAILURE
 -1

	)

60 
g‘Msû¹
(
MsAuth_t
 *
£c
);

	@src/chunk.c

19 
	~<sys/¡©.h
>

21 
	~"šşude/rdkv_cdl.h
"

22 
	~"rdkv_cdl_log_w¿µ”.h
"

23 #iâdeà
GTEST_ENABLE


24 
	~"dowÆßdUt.h
"

25 
	~"u¾H–³r.h
"

28 #ifdeà
GTEST_ENABLE


29 
	#CURLE_OK
 0

	)

32 *
cu¾
;

33 
fÜû_ex™
;

38 
size_t
 
	$g‘CÚ‹ÁL’gth
(cÚ¡ *
fe
)

40 
size_t
 
út_Ën
 = 0;

41 
tbuff
[64] = {0};

42 *
tmp
 = 
NULL
;

43 
FILE
 *
å
 = 
NULL
;

45 
å
 = 
	`fİ’
(
fe
,"r");

46 ià(
å
 =ğ
NULL
) {

47 
	`SWLOG_ERROR
( "Inside getContentLength() unableo open file\n");

48  
út_Ën
;

50 (
	`fg‘s
(
tbuff
, Ñbuff)-1, 
å
è!ğ
NULL
)) {

51 
	`SWLOG_INFO
("%s\n", 
tbuff
);

52 ià(
	`¡r¡r
(
tbuff
, "Content-Length: ")) {

53 
	`SWLOG_INFO
("CÚ‹Á_Ënghˆ¡ršg=%s\n", 
tbuff
);

54 
tmp
 = 
	`¡rchr
(
tbuff
, ':');

55 ià(
tmp
 !ğ
NULL
) {

56 
út_Ën
 = 
	`©oi
(
tmp
 + 2);

60 
	`mem£t
(
tbuff
,'\0', (tbuff));

62 
	`SWLOG_INFO
("CÚ‹Á_Ënghˆ¡ršg=%zu\n", 
út_Ën
);

65 
	`fşo£
(
å
);

66  
út_Ën
;

67 
	}
}

78 
	$chunkDowÆßd
(
FeDwÆ_t
 *
pfe_dwÆ
, 
MsAuth_t
 *
£c
, 
¥“d_lim™
, *
h‰pcode
)

80 
»t
 = -1;

81 
cu¾_»t_code
 = -1;

82 
cu¾_code_h—d”_»q
 = -1;

83 
size_t
 
cÚ‹Á_Ën
 = 0;

84 
¿nge
[16] = {0};

85 
fe_size
 = 0;

86 
h—d”fe
[136];

88 ià(
pfe_dwÆ
 =ğ
NULL
 || 
h‰pcode
 == NULL) {

89  
»t
;

91 
	`¢´štf
(
h—d”fe
, (h—d”fe), "%s.h—d”", 
pfe_dwÆ
->
·thÇme
);

92 
cÚ‹Á_Ën
 = 
	`g‘CÚ‹ÁL’gth
(
h—d”fe
);

93 
	`SWLOG_INFO
("cÚ‹Á_ËÀğ%zu f—tched from h—d”fe=%s\n", 
cÚ‹Á_Ën
, 
h—d”fe
);

94 
	`t2CouÁNÙify
("SYST_INFO_FetchFWCTN", 1);

95 ià(((
	`feP»£ÁCheck
(
pfe_dwÆ
->
·thÇme
)è=ğ0è&& (
cÚ‹Á_Ën
 > 0)) {

96 
fe_size
 = 
	`g‘FeSize
(
pfe_dwÆ
->
·thÇme
);

98 ià(
fe_size
 =ğ
cÚ‹Á_Ën
) {

99 
	`SWLOG_INFO
("chunkDowÆßd(èExi¡šg fe_size=%d‡nd cÚ‹Á_Ën=%zu‡» same\n", 
fe_size
, 
cÚ‹Á_Ën
);

100 
	`t2CouÁNÙify
("SYST_INFO_SAME_FWCTN", 1);

101 *
h‰pcode
 = 200;

102 
cu¾_»t_code
 = 
CURLE_OK
;

103  
cu¾_»t_code
;

104 } ià(
fe_size
 != -1) {

105 
	`¢´štf
(
¿nge
,Ôªge), "%d-", 
fe_size
);

106 
	`SWLOG_INFO
("chunkDowÆßd(èfsize=%d‡nd„ªge=%s\n", 
fe_size
, 
¿nge
);

108 
	`SWLOG_ERROR
Ğ"chunkDowÆßd(è”rÜ g‘FeSize=%s\n", 
pfe_dwÆ
->
·thÇme
);

112 
	`SWLOG_ERROR
Ğ"chunkDowÆßd(èE¼ÜØ´oûed fÜ chunk dowÆßd dutØb–ow„—sÚ.\nCÚ‹Á†’gth‚Ù…»£Á=%zu o¸P¬tŸÈimagfnÙ…»£Á.\n", 
cÚ‹Á_Ën
);

113 
	`t2CouÁNÙify
("SYST_ERR_FWCTNFetch", 1);

114  
cu¾_code_h—d”_»q
;

116 ià(
h‰pcode
 !ğ
NULL
) {

117 *
h‰pcode
 = 0;

119 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INIT
);

120 
cu¾
 = 
	`doCu¾In™
();

121 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INPROGRESS
);

122 ià(
cu¾
 !ğ
NULL
) {

123 
cu¾_»t_code
 = 
	`doH‰pFeDowÆßd
(
cu¾
, 
pfe_dwÆ
, 
£c
, 
¥“d_lim™
, 
¿nge
, 
h‰pcode
);

125 
	`SWLOG_ERROR
( "chunkDownload()ƒrror in doCurlInit\n");

126  
cu¾_»t_code
;

128 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_EXIT
);

129 ià(
cu¾
 !ğ
NULL
) {

130 
	`doStİDowÆßd
(
cu¾
);

134 ià(
fÜû_ex™
 =ğ1 && (
cu¾_»t_code
 == 23)) {

135 
	`unš™Ÿlize
(
INITIAL_VALIDATION_SUCCESS
);

136 
	`ex™
(1);

138 
	`SWLOG_INFO
("chunkDowÆßd(ècu¾„‘ stus=%u\n", 
cu¾_»t_code
);

139 ià(
cu¾_»t_code
 == 33 || curl_ret_code == 36) {

140 
	`SWLOG_ERROR
Ğ"chunkDowÆßd(ècu¾„‘uÀ33/36 SØgošg fÜ fuÎ DowÆßd:%u\n", 
cu¾_»t_code
);

141 ià((
	`feP»£ÁCheck
(
pfe_dwÆ
->
·thÇme
)) == 0) {

142 
	`uÆšk
(
pfe_dwÆ
->
·thÇme
);

143 
	`uÆšk
(
h—d”fe
);

144 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INIT
);

145 
cu¾
 = 
	`doCu¾In™
();

146 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INPROGRESS
);

148 ià(
cu¾
 !ğ
NULL
) {

149 
cu¾_»t_code
 = 
	`doH‰pFeDowÆßd
(
cu¾
, 
pfe_dwÆ
, 
£c
, 
¥“d_lim™
, 
NULL
, 
h‰pcode
);

151 
	`SWLOG_ERROR
( "chunkDownload()ƒrror in doCurlInit‡fter curl„eturn 33 or 36\n");

152  
cu¾_»t_code
;

154 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_EXIT
);

155 ià(
cu¾
 !ğ
NULL
) {

156 
	`doStİDowÆßd
(
cu¾
);

160 ià(
fÜû_ex™
 =ğ1 && (
cu¾_»t_code
 == 23)) {

161 
	`unš™Ÿlize
(
INITIAL_VALIDATION_SUCCESS
);

162 
	`ex™
(1);

165 } ià((
cu¾_»t_code
 =ğ0è&& ((
	`feP»£ÁCheck
(
pfe_dwÆ
->
·thÇme
)) == 0)) {

166 
fe_size
 = 0;

167 
fe_size
 = 
	`g‘FeSize
(
pfe_dwÆ
->
·thÇme
);

168 
	`SWLOG_INFO
("chunkDowÆßd(ècu¾ stu sucûss=%u, fesize=%d, cÚ‹Á_Ën=%zu\n", 
cu¾_»t_code
, 
fe_size
, 
cÚ‹Á_Ën
);

169 ià(
fe_size
 =ğ
cÚ‹Á_Ën
) {

170 
	`SWLOG_INFO
("chunkDownload() All file data Downloaded\n");

171 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_COMPLETE
);

173 
	`SWLOG_ERROR
( "chunkDownload() Downloaded File Size‡nd content†ength fetch from header‡re‚ot same. So Go For Full Download\n");

174 
	`t2CouÁNÙify
("SYST_ERR_DiffFWCTN_FLdnld", 1);

175 
	`SWLOG_ERROR
Ğ"chunkDowÆßd(èFSize=%d‡nd cÚ‹Á†’=%zu\n", 
fe_size
, 
cÚ‹Á_Ën
);

176 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INIT
);

177 
cu¾
 = 
	`doCu¾In™
();

178 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INPROGRESS
);

180 ià(
cu¾
 !ğ
NULL
) {

181 
cu¾_»t_code
 = 
	`doH‰pFeDowÆßd
(
cu¾
, 
pfe_dwÆ
, 
£c
, 
¥“d_lim™
, 
NULL
, 
h‰pcode
);

183 
	`SWLOG_ERROR
( "chunkDownload()ƒrror in doCurlInit‡fter content†ength‚ot match\n");

186 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_EXIT
);

187 ià(
cu¾
 !ğ
NULL
) {

188 
	`doStİDowÆßd
(
cu¾
);

190 ià(
fÜû_ex™
 =ğ1 && (
cu¾_»t_code
 == 23)) {

191 
	`unš™Ÿlize
(
INITIAL_VALIDATION_SUCCESS
);

192 
	`ex™
(1);

196 
	`SWLOG_ERROR
Ğ"chunkDowÆßd(ècu¾ stu ç=%u\n", 
cu¾_»t_code
);

197 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_FAILED
);

200 if((
	`feP»£ÁCheck
(
CURL_PROGRESS_FILE
)) == 0) {

201 
	`SWLOG_INFO
("% : Cu¾ Prog»s d©¨FÜ Chunk DowÆßd...\n", 
__FUNCTION__
);

202 
	`logFeD©a
(
CURL_PROGRESS_FILE
);

203 
	`uÆšk
(
CURL_PROGRESS_FILE
);

205  
cu¾_»t_code
;

206 
	}
}

	@src/dbus/rdkFwupdateMgr_handlers.c

1 
	~"rdkFwupd©eMgr_hªdËrs.h
"

2 
	~"rdkv_cdl_log_w¿µ”.h
"

3 
	~"rdkv_cdl.h
"

4 
	~"jsÚ_´oûss.h
"

5 
	~"deviû_¡©us_h–³r.h
"

6 #iâdeà
GTEST_ENABLE


7 
	~"dowÆßdUt.h
"

8 
	~"u¾H–³r.h
"

9 
	~"commÚ_deviû_­i.h
"

10 
	~"rdk_fwdl_uts.h
"

11 
	~"sy¡em_uts.h
"

13 
	~"misûÎªeous.h
"

15 
	~"deviûuts.h
"

16 
	~"rdkv_cdl.h
"

17 
	~"rdkv_upg¿de.h
"

18 
	~"deviû_­i.h
"

19 
	~"ŸrmIÁ”çû.h
"

20 
	~"rfcš‹rçû.h
"

21 
	~<¡ršg.h
>

24 
	#JSON_STR_LEN
 1000

	)

25 
	#URL_MAX_LEN
 512

	)

28 
	#XCONF_CACHE_FILE
 "/tmp/xcÚf_»¥Ú£_thund”.txt"

	)

29 
	#XCONF_HTTP_CODE_FILE
 "/tmp/xcÚf_h‰pcode_thund”.txt"

	)

30 
	#XCONF_PROGRESS_FILE
 "/tmp/xcÚf_cu¾_´og»ss_thund”"

	)

31 
	#RED_STATE_FILE
 "/lib/rdk/¡©eRedRecov”y.sh"

	)

35 
DeviûPrİ”ty_t
 
deviû_šfo
;

36 
ImageD‘as_t
 
cur_img_d‘a
;

39 
gboŞ—n
 
	$xcÚf_ÿche_exi¡s
() {

40  
	`g_fe_‹¡
(
XCONF_CACHE_FILE
, 
G_FILE_TEST_EXISTS
);

41 
	}
}

43 
gboŞ—n
 
	$lßd_xcÚf_äom_ÿche
(
XCONFRES
 *
pRe¥Ú£
) {

44 
gch¬
 *
ÿche_cÚ‹Á
 = 
NULL
;

45 
gsize
 
Ëngth
;

46 
GE¼Ü
 *
”rÜ
 = 
NULL
;

47 
gboŞ—n
 
»suÉ
 = 
FALSE
;

49 
	`SWLOG_INFO
("[CACHE] Lßdšg XCÚàd©¨äom cachfe: %s\n", 
XCONF_CACHE_FILE
);

51 ià(!
	`g_fe_g‘_cÚ‹Ás
(
XCONF_CACHE_FILE
, &
ÿche_cÚ‹Á
, &
Ëngth
, &
”rÜ
)) {

52 
	`SWLOG_ERROR
("[CACHE] FaedØ»ad cachfe: %s\n", 
”rÜ
 ?ƒ¼Ü->
mes§ge
 : "Unknownƒrror");

53 ià(
”rÜ
è
	`g_”rÜ_ä“
(error);

54  
FALSE
;

57 
	`SWLOG_INFO
("[CACHE] Cachflßded sucûssfuÎy (%zu by‹s)\n", 
Ëngth
);

58 
	`SWLOG_INFO
("[CACHE] CachcÚ‹Á: %s\n", 
ÿche_cÚ‹Á
);

61 
·r£_»suÉ
 = 
	`g‘XcÚfRe¥D©a
(
pRe¥Ú£
, 
ÿche_cÚ‹Á
);

62 ià(
·r£_»suÉ
 == 0) {

63 
	`SWLOG_INFO
("[CACHE] Successfully…arsed cached XConf data\n");

64 
	`SWLOG_INFO
("[CACHE] - fœmw¬eV”siÚ: '%s'\n", 
pRe¥Ú£
->
şoudFWV”siÚ
);

65 
	`SWLOG_INFO
("[CACHE] - fœmw¬eF’ame: '%s'\n", 
pRe¥Ú£
->
şoudFWFe
);

66 
	`SWLOG_INFO
("[CACHE] - fœmw¬eLoÿtiÚ: '%s'\n", 
pRe¥Ú£
->
şoudFWLoÿtiÚ
);

67 
»suÉ
 = 
TRUE
;

69 
	`SWLOG_ERROR
("[CACHE] FaedØ·r£ cached XCÚàd©¨Ó¼Ü: %d)\n", 
·r£_»suÉ
);

72 
	`g_ä“
(
ÿche_cÚ‹Á
);

73  
»suÉ
;

74 
	}
}

76 
gboŞ—n
 
	$§ve_xcÚf_to_ÿche
(cÚ¡ *
xcÚf_»¥Ú£
, 
h‰p_code
) {

77 
GE¼Ü
 *
”rÜ
 = 
NULL
;

79 
	`SWLOG_INFO
("[CACHE] Saving XConf„esponseo cache files\n");

82 ià(!
	`g_fe_£t_cÚ‹Ás
(
XCONF_CACHE_FILE
, 
xcÚf_»¥Ú£
, -1, &
”rÜ
)) {

83 
	`SWLOG_ERROR
("[CACHE] FaedØ§vXCÚà»¥Ú£: %s\n", 
”rÜ
 ?ƒ¼Ü->
mes§ge
 : "Unknownƒrror");

84 ià(
”rÜ
è
	`g_”rÜ_ä“
(error);

85  
FALSE
;

89 
gch¬
 *
h‰p_code_¡r
 = 
	`g_¡rdup_´štf
("%d", 
h‰p_code
);

90 ià(!
	`g_fe_£t_cÚ‹Ás
(
XCONF_HTTP_CODE_FILE
, 
h‰p_code_¡r
, -1, &
”rÜ
)) {

91 
	`SWLOG_ERROR
("[CACHE] FaedØ§vHTTP code: %s\n", 
”rÜ
 ?ƒ¼Ü->
mes§ge
 : "Unknownƒrror");

92 ià(
”rÜ
è
	`g_”rÜ_ä“
(error);

93 
	`g_ä“
(
h‰p_code_¡r
);

94  
FALSE
;

97 
	`SWLOG_INFO
("[CACHE] XConf data cached successfully\n");

98 
	`SWLOG_INFO
("[CACHE] - Re¥Ú£ fe: %s\n", 
XCONF_CACHE_FILE
);

99 
	`SWLOG_INFO
("[CACHE] - HTTP codfe: % (code: %d)\n", 
XCONF_HTTP_CODE_FILE
, 
h‰p_code
);

101 
	`g_ä“
(
h‰p_code_¡r
);

102  
TRUE
;

103 
	}
}

105 
	$ãtch_xcÚf_fœmw¬e_šfo
Ğ
XCONFRES
 *
pRe¥Ú£
, 
£rv”_ty³
, *
pH‰p_code
 )

107 
DowÆßdD©a
 
DwnLoc
;

108 *
pJSONSŒ
 = 
NULL
;

109 *
pS”vURL
 = 
NULL
;

110 
size_t
 
Ën
 = 0;

111 
»t
 = -1;

112 *
cu¾
 = 
NULL
;

114 
DwnLoc
.
pvOut
 = 
NULL
;

115 
DwnLoc
.
d©asize
 = 0;

116 
DwnLoc
.
memsize
 = 0;

117 *
pH‰p_code
 = 0;

119 ifĞ
	`®locDowndLßdD©aMem
Ğ&
DwnLoc
, 
DEFAULT_DL_ALLOC
 ) == 0 )

121 ifĞ(
pJSONSŒ
=(*)
	`m®loc
Ğ
JSON_STR_LEN
 )è!ğ
NULL
 )

123 ifĞ(
pS”vURL
=(*)
	`m®loc
Ğ
URL_MAX_LEN
 )è!ğ
NULL
 )

125 
Ën
 = 
	`G‘S”vURL
Ğ
pS”vURL
, 
URL_MAX_LEN
 );

126 
	`SWLOG_INFO
Ğ"ãtch_xcÚf_fœmw¬e_šfo: s”v” URL %s\n", 
pS”vURL
 );

127 ifĞ
Ën
 )

129 
	`SWLOG_INFO
("ãtch_xcÚf_fœmw¬e_šfo: S”v” URL†’gth: %d,…»·ršg deviû JSON d©a...\n", ()
Ën
);

130 
Ën
 = 
	`ü—‹JsÚSŒšg
Ğ
pJSONSŒ
, 
JSON_STR_LEN
 );

131 
	`SWLOG_INFO
("ãtch_xcÚf_fœmw¬e_šfo: Deviû JSON d©¨´•¬ed (%d by‹s)\n", ()
Ën
);

132 
	`SWLOG_INFO
("ãtch_xcÚf_fœmw¬e_šfo: JSON POST d©a:\n%s\n", 
pJSONSŒ
);

135 
RdkUpg¿deCÚ‹xt_t
 
xcÚf_cÚ‹xt
 = {0};

136 
xcÚf_cÚ‹xt
.
upg¿de_ty³
 = 
XCONF_UPGRADE
;

137 
xcÚf_cÚ‹xt
.
£rv”_ty³
 = server_type;

138 
xcÚf_cÚ‹xt
.
¬tiçùLoÿtiÚU¾
 = 
pS”vURL
;

139 
xcÚf_cÚ‹xt
.
dwÎoc
 = &
DwnLoc
;

140 
xcÚf_cÚ‹xt
.
pPo¡F›lds
 = 
pJSONSŒ
;

143 
Rfc_t
 
loÿl_rfc_li¡
 = {0};

144 
	`g‘RFCS‘tšgs
(&
loÿl_rfc_li¡
);

146 cÚ¡ *
loÿl_immed_»boÙ_æag
 = "false";

147 
loÿl_d–ay_dwÆ
 = 0;

148 cÚ¡ *
loÿl_Ï¡run
 = "0";

149 *
loÿl_di§bËStsUpd©e
 = "false";

150 
loÿl_fÜû_ex™
 = 0;

151 
loÿl_Œigg”_ty³
 = 1;

153 
xcÚf_cÚ‹xt
.
immed_»boÙ_æag
 = 
loÿl_immed_»boÙ_æag
;

154 
xcÚf_cÚ‹xt
.
d–ay_dwÆ
 = 
loÿl_d–ay_dwÆ
;

155 
xcÚf_cÚ‹xt
.
Ï¡run
 = 
loÿl_Ï¡run
;

156 
xcÚf_cÚ‹xt
.
di§bËStsUpd©e
 = 
loÿl_di§bËStsUpd©e
;

157 
xcÚf_cÚ‹xt
.
deviû_šfo
 = &device_info;

158 
xcÚf_cÚ‹xt
.
fÜû_ex™
 = &
loÿl_fÜû_ex™
;

159 
xcÚf_cÚ‹xt
.
Œigg”_ty³
 = 
loÿl_Œigg”_ty³
;

160 
xcÚf_cÚ‹xt
.
rfc_li¡
 = &
loÿl_rfc_li¡
;

162 
	`SWLOG_INFO
("Simulating‡ 3600 seconds sleep()\n");

163 - 
	`¦“p
(120);

164 - 
	`SWLOG_INFO
("Just‚ow completed 120 seconds sleep\n");

165 
	`SWLOG_INFO
("ãtch_xcÚf_fœmw¬e_šfo: In™Ÿtšg XCÚà»que¡ w™h s”v”_ty³=%d\n", 
£rv”_ty³
);

166 
	`SWLOG_INFO
("fetch_xconf_firmware_info: Context setup - device_info=%p,„fc_list=%p\n",

167 
xcÚf_cÚ‹xt
.
deviû_šfo
, xcÚf_cÚ‹xt.
rfc_li¡
);

170 
	`SWLOG_INFO
("fetch_xconf_firmware_info: Calling„dkv_upgrade_request...\n");

171 
»t
 = 
	`rdkv_upg¿de_»que¡
(&
xcÚf_cÚ‹xt
, &
cu¾
, 
pH‰p_code
);

172 
	`SWLOG_INFO
("ãtch_xcÚf_fœmw¬e_šfo:„dkv_upg¿de_»que¡„‘uºed (»t=%d)\n", 
»t
);

174 
	`SWLOG_INFO
("ãtch_xcÚf_fœmw¬e_šfo: XCÚà»que¡ com¶‘ed -„‘=%d, h‰p_code=%d\n", 
»t
, *
pH‰p_code
);

176 ifĞ
»t
 =ğ0 && *
pH‰p_code
 =ğ200 && 
DwnLoc
.
pvOut
 !ğ
NULL
 )

178 
	`SWLOG_INFO
("fetch_xconf_firmware_info: SUCCESS - XConf communication successful\n");

179 
	`SWLOG_INFO
("fetch_xconf_firmware_info: Raw XConf„esponse (%d bytes):\n%s\n",

180 ()
DwnLoc
.
d©asize
, (*)DwnLoc.
pvOut
);

181 
	`SWLOG_INFO
("fetch_xconf_firmware_info: Calling getXconfRespDatao…arse„esponse...\n");

182 
»t
 = 
	`g‘XcÚfRe¥D©a
Ğ
pRe¥Ú£
, (*)
DwnLoc
.
pvOut
 );

183 
	`SWLOG_INFO
("ãtch_xcÚf_fœmw¬e_šfo: g‘XcÚfRe¥D©¨»tuºed %d\n", 
»t
);

186 ià(
»t
 == 0) {

187 
	`SWLOG_INFO
("MakeXconfComms: PARSED XConf Response Data:\n");

188 
	`SWLOG_INFO
(" - fœmw¬eF’ame: '%s'\n", 
pRe¥Ú£
->
şoudFWFe
);

189 
	`SWLOG_INFO
(" - fœmw¬eLoÿtiÚ: '%s'\n", 
pRe¥Ú£
->
şoudFWLoÿtiÚ
);

190 
	`SWLOG_INFO
(" - fœmw¬eV”siÚ: '%s'\n", 
pRe¥Ú£
->
şoudFWV”siÚ
);

191 
	`SWLOG_INFO
(" - fœmw¬ePrÙocŞ: '%s'\n", 
pRe¥Ú£
->
şoudPrÙo
);

192 
	`SWLOG_INFO
(" -„eboÙImmedŸ‹ly: '%s'\n", 
pRe¥Ú£
->
şoudImmedŸ‹ReboÙFÏg
);

193 
	`SWLOG_INFO
(" - d–ayDowÆßd: '%s'\n", 
pRe¥Ú£
->
şoudD–ayDowÆßd
);

194 
	`SWLOG_INFO
(" -…”h”®Fœmw¬es: '%s'\n", 
pRe¥Ú£
->
³rh”®Fœmw¬es
);

195 
	`SWLOG_INFO
(" - cloudPDRIV”siÚ: '%s'\n", 
pRe¥Ú£
->
şoudPDRIV”siÚ
);

198 
	`SWLOG_INFO
("[CACHE] Saving successful XConf„esponseo cache...\n");

199 ià(
	`§ve_xcÚf_to_ÿche
((*)
DwnLoc
.
pvOut
, *
pH‰p_code
)) {

200 
	`SWLOG_INFO
("[CACHE] XConf„esponse cached successfully\n");

202 
	`SWLOG_ERROR
("[CACHE] Failedo cache XConf„esponse\n");

205 
	`SWLOG_ERROR
("MakeXconfComms: ERROR - Failedo…arse XConf„esponse\n");

209 #iâdeà
GTEST_ENABLE


210 ifĞ(
	`feP»£ÁCheck
Ğ
RED_STATE_REBOOT
 ) =ğ
RDK_API_SUCCESS
) ) {

211 
	`SWLOG_INFO
("% : RED Recov”y com¶‘ed\n", 
__FUNCTION__
);

212 
	`ev’tMªag”
(
RED_STATE_EVENT
, 
RED_RECOVERY_COMPLETED
);

213 
	`uÆšk
(
RED_STATE_REBOOT
);

219 
	`SWLOG_ERROR
("fetch_xconf_firmware_info: FAILED - XConf communication failed\n");

220 
	`SWLOG_ERROR
(" -„‘=%d (0=sucûss)\n", 
»t
);

221 
	`SWLOG_ERROR
(" - h‰p_code=%d (200=sucûss)\n", *
pH‰p_code
);

222 
	`SWLOG_ERROR
(" - DwnLoc.pvOut=%°(should‚Ù bNULL)\n", 
DwnLoc
.
pvOut
);

223 ià(
DwnLoc
.
pvOut
 !ğ
NULL
) {

224 
	`SWLOG_ERROR
(" - Re¥Ú£ d©¨size: %d by‹s\n", ()
DwnLoc
.
d©asize
);

225 
	`SWLOG_ERROR
(" - Re¥Ú£ d©a: '%s'\n", (*)
DwnLoc
.
pvOut
);

231 
	`SWLOG_ERROR
( "fetch_xconf_firmware_info:‚o valid server URL\n" );

233 
	`ä“
Ğ
pS”vURL
 );

237 
	`SWLOG_ERROR
("ãtch_xcÚf_fœmw¬e_šfo: Faed m®loøfÜ s”v” URL oà%d by‹s\n", 
URL_MAX_LEN
 );

239 
	`ä“
Ğ
pJSONSŒ
 );

243 
	`SWLOG_ERROR
("ãtch_xcÚf_fœmw¬e_šfo: Faed m®loøfÜ jsÚ sŒšg oà%d by‹s\n", 
JSON_STR_LEN
 );

245 ifĞ
DwnLoc
.
pvOut
 !ğ
NULL
 )

247 
	`ä“
Ğ
DwnLoc
.
pvOut
 );

250  
»t
;

251 
	}
}

254 
	$checkupd©e_»¥Ú£_ä“
(
CheckUpd©eRe¥Ú£
 *
»¥Ú£
) {

255 ià(
»¥Ú£
) {

256 
	`g_ä“
(
»¥Ú£
->
avaabË_v”siÚ
);

257 
	`g_ä“
(
»¥Ú£
->
upd©e_d‘as
);

258 
	`g_ä“
(
»¥Ú£
->
¡©us_mes§ge
);

260 
»¥Ú£
->
avaabË_v”siÚ
 = 
NULL
;

261 
»¥Ú£
->
upd©e_d‘as
 = 
NULL
;

262 
»¥Ú£
->
¡©us_mes§ge
 = 
NULL
;

264 
	}
}

267 
CheckUpd©eRe¥Ú£
 
	$ü—‹_sucûss_»¥Ú£
(cÚ¡ 
gch¬
 *
avaabË_v”siÚ
,

268 cÚ¡ 
gch¬
 *
upd©e_d‘as
,

269 cÚ¡ 
gch¬
 *
¡©us_mes§ge
) {

270 
CheckUpd©eRe¥Ú£
 
»¥Ú£
 = {0};

271 
cu¼’t_img_bufãr
[64] = {0};

274 
boŞ
 
img_¡©us
 = 
	`cu¼’tImg
(
cu¼’t_img_bufãr
, (current_img_buffer));

276 
	`SWLOG_INFO
("[rdkFwupdateMgr] create_success_response: Getting current image info\n");

277 
	`SWLOG_INFO
("[rdkFwupd©eMgr] - cu¼’tImg stus: %s\n", 
img_¡©us
 ? "SUCCESS" : "FAILED");

278 
	`SWLOG_INFO
("[rdkFwupd©eMgr] - cu¼’t_img_bufãr: '%s'\n", 
cu¼’t_img_bufãr
);

280 
»¥Ú£
.
»suÉ_code
 = 
UPDATE_AVAILABLE
;

281 
»¥Ú£
.
cu¼’t_img_v”siÚ
 = 
	`g_¡rdup
(
img_¡©us
 ? 
cu¼’t_img_bufãr
 : "Unknown");

282 
»¥Ú£
.
avaabË_v”siÚ
 = 
	`g_¡rdup
(available_version ?‡vailable_version : "");

283 
»¥Ú£
.
upd©e_d‘as
 = 
	`g_¡rdup
(update_details ? update_details : "");

284 
»¥Ú£
.
¡©us_mes§ge
 = 
	`g_¡rdup
(status_message ? status_message : "Firmware update‡vailable");

286 
	`SWLOG_INFO
("[rdkFwupdateMgr] create_success_response: Response created with current image: '%s',‡vailable: '%s', status: '%s'\n",

287 
»¥Ú£
.
cu¼’t_img_v”siÚ
,„e¥Ú£.
avaabË_v”siÚ
,„e¥Ú£.
¡©us_mes§ge
);

289  
»¥Ú£
;

290 
	}
}

293 
CheckUpd©eRe¥Ú£
 
	$ü—‹_»suÉ_»¥Ú£
(
CheckFÜUpd©eResuÉ
 
»suÉ_code
,

294 cÚ¡ 
gch¬
 *
¡©us_mes§ge
) {

295 
CheckUpd©eRe¥Ú£
 
»¥Ú£
 = {0};

296 
cu¼’t_img_bufãr
[256] = {0};

299 
boŞ
 
img_¡©us
 = 
	`cu¼’tImg
(
cu¼’t_img_bufãr
, (current_img_buffer));

301 
	`SWLOG_INFO
("[rdkFwupdateMgr] create_result_response: Getting current image info\n");

302 
	`SWLOG_INFO
("[rdkFwupd©eMgr] - cu¼’tImg stus: %s\n", 
img_¡©us
 ? "SUCCESS" : "FAILED");

303 
	`SWLOG_INFO
("[rdkFwupd©eMgr] - cu¼’t_img_bufãr: '%s'\n", 
cu¼’t_img_bufãr
);

305 
»¥Ú£
.
»suÉ_code
 =„esult_code;

306 
»¥Ú£
.
cu¼’t_img_v”siÚ
 = 
	`g_¡rdup
(
img_¡©us
 ? 
cu¼’t_img_bufãr
 : "Unknown");

307 
»¥Ú£
.
avaabË_v”siÚ
 = 
	`g_¡rdup
("");

308 
»¥Ú£
.
upd©e_d‘as
 = 
	`g_¡rdup
("");

311 cÚ¡ 
gch¬
 *
deçuÉ_¡©us
 = "";

312 ià(
¡©us_mes§ge
) {

313 
deçuÉ_¡©us
 = 
¡©us_mes§ge
;

315 
»suÉ_code
) {

316 
UPDATE_AVAILABLE
:

317 
deçuÉ_¡©us
 = "Update‡vailable";

319 
UPDATE_NOT_AVAILABLE
:

320 
deçuÉ_¡©us
 = "No update‡vailable";

322 
UPDATE_ERROR
:

323 
deçuÉ_¡©us
 = "Error checking for updates";

326 
deçuÉ_¡©us
 = "Unknown status";

331 
»¥Ú£
.
¡©us_mes§ge
 = 
	`g_¡rdup
(
deçuÉ_¡©us
);

333 
	`SWLOG_INFO
("[rdkFwupdateMgr] create_result_response: Response created with current image: '%s', status: '%s'\n",

334 
»¥Ú£
.
cu¼’t_img_v”siÚ
,„e¥Ú£.
¡©us_mes§ge
);

336  
»¥Ú£
;

337 
	}
}

339 
CheckUpd©eRe¥Ú£
 
	$rdkFwupd©eMgr_checkFÜUpd©e
(cÚ¡ 
gch¬
 *
hªdËr_id
) {

341 
	`SWLOG_INFO
("[rdkFwupd©eMgr] CheckFÜUpd©e: hªdËr=%s\n",
hªdËr_id
);

344 
XCONFRES
 
»¥Ú£
 = {0};

345 
h‰p_code
 = 0;

346 
£rv”_ty³
 = 
HTTP_XCONF_DIRECT
;

348 *
»¥Ú£
.
şoudFWFe
 = 0;

349 *
»¥Ú£
.
şoudFWLoÿtiÚ
 = 0;

350 *
»¥Ú£
.
v6şoudFWLoÿtiÚ
 = 0;

351 *
»¥Ú£
.
şoudFWV”siÚ
 = 0;

352 *
»¥Ú£
.
şoudD–ayDowÆßd
 = 0;

353 *
»¥Ú£
.
şoudPrÙo
 = 0;

354 *
»¥Ú£
.
şoudImmedŸ‹ReboÙFÏg
 = 0;

355 *
»¥Ú£
.
³rh”®Fœmw¬es
 = 0;

356 *
»¥Ú£
.
dlC”tBundË
 = 0;

357 *
»¥Ú£
.
şoudPDRIV”siÚ
 = 0;

360 
»t
 = -1;

362 
	`SWLOG_INFO
("[rdkFwupdateMgr] CheckForUpdate: Checking for cached XConf data...\n");

365 ià(
	`xcÚf_ÿche_exi¡s
()) {

366 
	`SWLOG_INFO
("[rdkFwupdateMgr] Cache hit! Loading XConf data from cache\n");

367 ià(
	`lßd_xcÚf_äom_ÿche
(&
»¥Ú£
)) {

368 
»t
 = 0;

369 
h‰p_code
 = 200;

370 
	`SWLOG_INFO
("[rdkFwupdateMgr] Successfully†oaded XConf data from cache\n");

372 
	`SWLOG_ERROR
("[rdkFwupdateMgr] Cache„ead failed, falling backo†ive XConf call\n");

373 
»t
 = 
	`ãtch_xcÚf_fœmw¬e_šfo
(&
»¥Ú£
, 
£rv”_ty³
, &
h‰p_code
);

376 
	`SWLOG_INFO
("[rdkFwupdateMgr] Cache miss! Making†ive XConf call\n");

377 
»t
 = 
	`ãtch_xcÚf_fœmw¬e_šfo
(&
»¥Ú£
, 
£rv”_ty³
, &
h‰p_code
);

380 ià(
»t
 =ğ0 && 
h‰p_code
 == 200) {

383 
	`SWLOG_INFO
("[rdkFwupdateMgr] XConf call successful - cache save will be implemented in fetch_xconf_firmware_info\n");

387 
	`SWLOG_INFO
("[rdkFwupd©eMgr] XCÚàÿÎ com¶‘ed w™h„esuÉ:„‘=%d\n",
»t
);

389 ià(
»t
 =ğ0 && 
h‰p_code
 == 200) {

391 
	`SWLOG_INFO
("=== [rdkFwupdateMgr] XConf Response - Complete Data ===\n");

392 
	`SWLOG_INFO
("[rdkFwupdateMgr] Core Firmware Data:\n");

393 
	`SWLOG_INFO
("[rdkFwupdateMgr] - cloudFWVersion: '%s'\n",

394 
»¥Ú£
.
şoudFWV”siÚ
[0] ?„esponse.cloudFWVersion : "(empty)");

395 
	`SWLOG_INFO
("[rdkFwupdateMgr] - cloudFWFile: '%s'\n",

396 
»¥Ú£
.
şoudFWFe
[0] ?„esponse.cloudFWFile : "(empty)");

397 
	`SWLOG_INFO
("[rdkFwupdateMgr] - cloudFWLocation: '%s'\n",

398 
»¥Ú£
.
şoudFWLoÿtiÚ
[0] ?„esponse.cloudFWLocation : "(empty)");

399 
	`SWLOG_INFO
("[rdkFwupdateMgr] - ipv6cloudFWLocation: '%s'\n",

400 
»¥Ú£
.
v6şoudFWLoÿtiÚ
[0] ?„esponse.ipv6cloudFWLocation : "(empty)");

402 
	`SWLOG_INFO
("[rdkFwupdateMgr] Download Control:\n");

403 
	`SWLOG_INFO
("[rdkFwupdateMgr] - cloudDelayDownload: '%s'\n",

404 
»¥Ú£
.
şoudD–ayDowÆßd
[0] ?„esponse.cloudDelayDownload : "(empty)");

405 
	`SWLOG_INFO
("[rdkFwupdateMgr] - cloudProto: '%s'\n",

406 
»¥Ú£
.
şoudPrÙo
[0] ?„esponse.cloudProto : "(empty)");

407 
	`SWLOG_INFO
("[rdkFwupdateMgr] - cloudImmediateRebootFlag: '%s'\n",

408 
»¥Ú£
.
şoudImmedŸ‹ReboÙFÏg
[0] ?„esponse.cloudImmediateRebootFlag : "(empty)");

410 
	`SWLOG_INFO
("[rdkFwupdateMgr] Additional Components:\n");

411 
	`SWLOG_INFO
("[rdkFwupdateMgr] -…eripheralFirmwares: '%s'\n",

412 
»¥Ú£
.
³rh”®Fœmw¬es
[0] ?„esponse.peripheralFirmwares : "(empty)");

413 
	`SWLOG_INFO
("[rdkFwupdateMgr] - dlCertBundle: '%s'\n",

414 
»¥Ú£
.
dlC”tBundË
[0] ?„esponse.dlCertBundle : "(empty)");

415 
	`SWLOG_INFO
("[rdkFwupdateMgr] - cloudPDRIVersion: '%s'\n",

416 
»¥Ú£
.
şoudPDRIV”siÚ
[0] ?„esponse.cloudPDRIVersion : "(empty)");

417 
	`SWLOG_INFO
("=== [rdkFwupdateMgr] XConf Response - End ===\n");

421 
gch¬
 *
upd©e_d‘as
 = 
	`g_¡rdup_´štf
(

423 
»¥Ú£
.
şoudFWFe
[0] ?„esponse.cloudFWFile : "N/A",

424 
»¥Ú£
.
şoudFWLoÿtiÚ
[0] ?„esponse.cloudFWLocation : "N/A",

425 
»¥Ú£
.
v6şoudFWLoÿtiÚ
[0] ?„esponse.ipv6cloudFWLocation : "N/A",

426 
»¥Ú£
.
şoudFWV”siÚ
[0] ?„esponse.cloudFWVersion : "N/A",

427 
»¥Ú£
.
şoudPrÙo
[0] ?„esponse.cloudProto : "HTTP",

428 
»¥Ú£
.
şoudImmedŸ‹ReboÙFÏg
[0] ?„esponse.cloudImmediateRebootFlag : "false",

429 
»¥Ú£
.
şoudD–ayDowÆßd
[0] ?„esponse.cloudDelayDownload : "0",

430 
»¥Ú£
.
şoudPDRIV”siÚ
[0] ?„esponse.cloudPDRIVersion : "N/A",

431 
»¥Ú£
.
³rh”®Fœmw¬es
[0] ?„esponse.peripheralFirmwares : "N/A",

432 
»¥Ú£
.
dlC”tBundË
[0] ?„esponse.dlCertBundle : "N/A"

436 ià(
»¥Ú£
.
şoudFWV”siÚ
[0] && 
	`¡¾’
(response.cloudFWVersion) > 0) {

437 
	`SWLOG_INFO
("[rdkFwupd©eMgr] XCÚà»tuºed fœmw¬v”siÚ: '%s'\n", 
»¥Ú£
.
şoudFWV”siÚ
);

440 
CheckUpd©eRe¥Ú£
 
»suÉ
 = 
	`ü—‹_sucûss_»¥Ú£
(

441 
»¥Ú£
.
şoudFWV”siÚ
,

442 
upd©e_d‘as
,

446 
	`g_ä“
(
upd©e_d‘as
);

447  
»suÉ
;

449 
	`SWLOG_INFO
("[rdkFwupdateMgr] XConf„eturned‚o firmware version -‚o update‡vailable\n");

452 
	`g_ä“
(
upd©e_d‘as
);

453  
	`ü—‹_»suÉ_»¥Ú£
(
UPDATE_NOT_AVAILABLE
, "No firmware update‡vailable");

457 
	`SWLOG_ERROR
("[rdkFwupd©eMgr] XCÚàcommuniÿtiÚ faed:„‘=%d, h‰p=%d\n", 
»t
, 
h‰p_code
);

459 ià(
h‰p_code
 != 200) {

460  
	`ü—‹_»suÉ_»¥Ú£
(
UPDATE_ERROR
, "Networkƒrror - unableo„each update server");

462  
	`ü—‹_»suÉ_»¥Ú£
(
UPDATE_ERROR
, "Update check failed - server communicationƒrror");

465 
	}
}

468 
	$rdkFwupd©eMgr_dowÆßdFœmw¬e
(cÚ¡ 
gch¬
 *
hªdËr_id
,

469 cÚ¡ 
gch¬
 *
image_Çme
,

470 cÚ¡ 
gch¬
 *
avaabË_v”siÚ
,

471 
gch¬
 **
dowÆßd_¡©us
,

472 
gch¬
 **
dowÆßd_·th
) {

474 *
dowÆßd_¡©us
 = 
	`g_¡rdup
("RDKFW_FAILED");

475 *
dowÆßd_·th
 = 
	`g_¡rdup
("");

476 
	`SWLOG_INFO
("[rdkFwupdateMgr] downloadFirmware: Not implemented yet");

478 
	}
}

	@src/dbus/rdkFwupdateMgr_handlers.h

1 #iâdeà
RDKFWUPDATEMGR_HANDLERS_H


2 
	#RDKFWUPDATEMGR_HANDLERS_H


	)

4 
	~<glib.h
>

5 
	~"jsÚ_´oûss.h
"

9 
	mUPDATE_AVAILABLE
,

10 
	mUPDATE_NOT_AVAILABLE
,

11 
	mUPDATE_NOT_ALLOWED
,

12 
	mRDKFW_FAILED
,

13 
	mUPDATE_ERROR


14 } 
	tCheckFÜUpd©eResuÉ
;

18 
CheckFÜUpd©eResuÉ
 
	m»suÉ_code
;

19 
gch¬
 *
	mcu¼’t_img_v”siÚ
;

20 
gch¬
 *
	mavaabË_v”siÚ
;

21 
gch¬
 *
	mupd©e_d‘as
;

22 
gch¬
 *
	m¡©us_mes§ge
;

23 } 
	tCheckUpd©eRe¥Ú£
;

26 
CheckUpd©eRe¥Ú£
 
rdkFwupd©eMgr_checkFÜUpd©e
(cÚ¡ 
gch¬
 *
hªdËr_id
);

29 
checkupd©e_»¥Ú£_ä“
(
CheckUpd©eRe¥Ú£
 *
»¥Ú£
);

32 
gboŞ—n
 
xcÚf_ÿche_exi¡s
();

34 
rdkFwupd©eMgr_dowÆßdFœmw¬e
(cÚ¡ 
gch¬
 *
hªdËr_id
,

35 cÚ¡ 
gch¬
 *
image_Çme
,

36 cÚ¡ 
gch¬
 *
avaabË_v”siÚ
,

37 
gch¬
 **
dowÆßd_¡©us
,

38 
gch¬
 **
dowÆßd_·th
);

40 
rdkFwupd©eMgr_upd©eFœmw¬e
(cÚ¡ 
gch¬
 *
hªdËr_id
,

41 cÚ¡ 
gch¬
 *
cu¼’t_v”siÚ
,

42 cÚ¡ 
gch¬
 *
rg‘_v”siÚ
,

43 
gch¬
 **
upd©e_¡©us
,

44 
gch¬
 **
¡©us_mes§ge
);

46 
rdkFwupd©eMgr_subsüibeToEv’ts
(cÚ¡ 
gch¬
 *
hªdËr_id
,

47 cÚ¡ 
gch¬
 *
ÿÎback_’dpošt
);

49 
gušt64
 
rdkFwupd©eMgr_»gi¡”Proûss
(cÚ¡ 
gch¬
 *
´oûss_Çme
,

50 cÚ¡ 
gch¬
 *
lib_v”siÚ
,

51 cÚ¡ 
gch¬
 *
£nd”_id
);

53 
rdkFwupd©eMgr_uÄegi¡”Proûss
(
gušt64
 
hªdËr_id
);

	@src/dbus/rdkv_dbus_server.c

1 
	~<glib.h
>

2 
	~<¡dio.h
>

3 
	~<¡dlib.h
>

4 
	~<sigÇl.h
>

5 
	~<uni¡d.h
>

6 
	~<±h»ad.h
>

7 
	~<time.h
>

8 
	~"rdkv_dbus_£rv”.h
"

9 
	~"rdkFwupd©eMgr_hªdËrs.h
"

10 
	~"rdkv_cdl_log_w¿µ”.h
"

14 
gch¬
 *
	mhªdËr_id
;

15 
GDBusCÚÃùiÚ
 *
	mcÚÃùiÚ
;

16 } 
	tAsyncXcÚfF‘chCÚ‹xt
;

19 
async_xcÚf_ãtch_sk
(
GTask
 *
sk
, 
gpoš‹r
 
sourû_objeù
, gpoš‹¸
sk_d©a
, 
GCªûÎabË
 *
ÿnûÎabË
);

20 
async_xcÚf_ãtch_com¶‘e
(
GObjeù
 *
sourû_objeù
, 
GAsyncResuÉ
 *
»s
, 
gpoš‹r
 
u£r_d©a
);

22 
gboŞ—n
 
	gIsCheckUpd©eInProg»ss
 = 
FALSE
;

23 
gboŞ—n
 
	gIsDowÆßdInProg»ss
 = 
FALSE
;

25 
GSLi¡
 *
	gwa™šg_checkUpd©e_ids
 = 
NULL
;

26 
GSLi¡
 *
	gwa™šg_dowÆßd_ids
 = 
NULL
;

29 
gušt
 
	gowÃr_id
 = 0;

30 
gušt64
 
	gÃxt_´oûss_id
 = 1;

33 
GDBusCÚÃùiÚ
 *
	gcÚÃùiÚ
 = 
NULL
;

34 
GMašLoİ
 *
	gmaš_loİ
 = 
NULL
;

35 
gušt
 
	g»gi¡¿tiÚ_id
 = 0;

38 
GHashTabË
 *
	gaùive_sks
 = 
NULL
;

39 
gušt
 
	gÃxt_sk_id
 = 1;

42 
GHashTabË
 *
	g»gi¡”ed_´oûs£s
 = 
NULL
;

45 cÚ¡ 
gch¬
 
	gšŒo¥eùiÚ_xml
[] =

93 
´oûss_­p_»que¡
(
GDBusCÚÃùiÚ
 *
rdkv_cÚn_dbus
,

94 cÚ¡ 
gch¬
 *
rdkv_»q_ÿÎ”_id
,

95 cÚ¡ 
gch¬
 *
rdkv_»q_obj_·th
,

96 cÚ¡ 
gch¬
 *
rdkv_»q_içû_Çme
,

97 cÚ¡ 
gch¬
 *
rdkv_»q_m‘hod
,

98 
GV¬ŸÁ
 *
rdkv_»q_·ylßd
,

99 
GDBusM‘hodInvoÿtiÚ
 *
rdkv_»¥_ùx
,

100 
gpoš‹r
 
rdkv_u£r_ùx
);

103 
	$š™_´oûss_Œackšg
()

106 
»gi¡”ed_´oûs£s
 = 
	`g_hash_bË_Ãw_fuÎ
(
g_dœeù_hash
, 
g_dœeù_equ®
,
NULL
, (
GDe¡royNÙify
)
g_ä“
);

107 
	`SWLOG_INFO
("[TRACKING]…rocessracking initialized\n");

108 
	}
}

111 
gušt64
 
	$add_´oûss_to_Œackšg
(cÚ¡ 
gch¬
 *
´oûss_Çme
,

112 cÚ¡ 
gch¬
 *
lib_v”siÚ
,

113 cÚ¡ 
gch¬
 *
£nd”_id
)

116 
GHashTabËI‹r
 
™”
;

117 
gpoš‹r
 
key
, 
v®ue
;

118 
	`g_hash_bË_™”_š™
(&
™”
, 
»gi¡”ed_´oûs£s
);

120 
ProûssInfo
 *
exi¡šg_§me_ş›Á
 = 
NULL
;

121 
ProûssInfo
 *
exi¡šg_§me_´oûss
 = 
NULL
;

123 
	`SWLOG_INFO
("[PROCESS_TRACKING] Validating„egistration for…rocess='%s', sender='%s'\n",

124 
´oûss_Çme
, 
£nd”_id
);

126 
	`g_hash_bË_™”_Ãxt
(&
™”
, &
key
, &
v®ue
)) {

127 
ProûssInfo
 *
šfo
 = (ProûssInfo*)
v®ue
;

130 ià(
	`g_¡rcmp0
(
šfo
->
£nd”_id
, sender_id) == 0) {

131 
exi¡šg_§me_ş›Á
 = 
šfo
;

132 
	`SWLOG_INFO
("[PROCESS_TRACKING] Foundƒxi¡šg cl›Á:…roûss='%s', hªdËr=%"
G_GUINT64_FORMAT
"\n",

133 
šfo
->
´oûss_Çme
, info->
hªdËr_id
);

137 ià(
	`g_¡rcmp0
(
šfo
->
´oûss_Çme
,…rocess_name) == 0) {

138 
exi¡šg_§me_´oûss
 = 
šfo
;

139 
	`SWLOG_INFO
("[PROCESS_TRACKING] Foundƒxi¡šg…roûs Çme: s’d”='%s', hªdËr=%"
G_GUINT64_FORMAT
"\n",

140 
šfo
->
£nd”_id
, info->
hªdËr_id
);

146 ià(
exi¡šg_§me_ş›Á
 && 
exi¡šg_§me_´oûss
 &&

147 
exi¡šg_§me_ş›Á
 =ğ
exi¡šg_§me_´oûss
) {

148 
	`SWLOG_INFO
("[PROCESS_TRACKING] SCENARIO: Same client„e-registering same…rocess\n");

149 
	`SWLOG_INFO
("[PROCESS_TRACKING] RESULT: R‘uºšgƒxi¡šg hªdËr_id %"
G_GUINT64_FORMAT
"\n",

150 
exi¡šg_§me_ş›Á
->
hªdËr_id
);

151  
exi¡šg_§me_ş›Á
->
hªdËr_id
;

155 ià(
exi¡šg_§me_ş›Á
 && (!
exi¡šg_§me_´oûss
 ||ƒxisting_same_client !=ƒxisting_same_process)) {

156 
	`SWLOG_ERROR
("[PROCESS_TRACKING] SCENARIO: Same client‡ttempting different…rocess‚ame\n");

157 
	`SWLOG_ERROR
("[PROCESS_TRACKING] CONFLICT: Cl›Á‡Ì—dy„egi¡”ed‡ '%s' (hªdËr=%"
G_GUINT64_FORMAT
")\n",

158 
exi¡šg_§me_ş›Á
->
´oûss_Çme
,ƒxi¡šg_§me_ş›Á->
hªdËr_id
);

159 
	`SWLOG_ERROR
("[PROCESS_TRACKING] RESULT: REJECTED - One„egistration…er client\n");

164 ià(
exi¡šg_§me_´oûss
 && (!
exi¡šg_§me_ş›Á
 ||ƒxisting_same_client !=ƒxisting_same_process)) {

165 
	`SWLOG_ERROR
("[PROCESS_TRACKING] SCENARIO: Different client‡ttempting same…rocess‚ame\n");

166 
	`SWLOG_ERROR
("[PROCESS_TRACKING] CONFLICT: Proûs '%s'‡Ì—dy„egi¡”ed by cl›Á '%s' (hªdËr=%"
G_GUINT64_FORMAT
")\n",

167 
exi¡šg_§me_´oûss
->
´oûss_Çme
,ƒxi¡šg_§me_´oûss->
£nd”_id
,ƒxi¡šg_§me_´oûss->
hªdËr_id
);

168 
	`SWLOG_ERROR
("[PROCESS_TRACKING] RESULT: REJECTED - Process‚ame‡lreadyaken\n");

173 
	`SWLOG_INFO
("[PROCESS_TRACKING] SCENARIO: New client,‚ew…rocess‚ame\n");

174 
	`SWLOG_INFO
("[PROCESS_TRACKING] RESULT: Creating‚ew„egistration\n");

176 
ProûssInfo
 *
šfo
 = 
	`g_m®loc0
((ProcessInfo));

177 
šfo
->
hªdËr_id
 = 
Ãxt_´oûss_id
++;

178 
šfo
->
´oûss_Çme
 = 
	`g_¡rdup
(process_name);

179 
šfo
->
lib_v”siÚ
 = 
	`g_¡rdup
(lib_version);

180 
šfo
->
£nd”_id
 = 
	`g_¡rdup
(sender_id);

181 
šfo
->
»gi¡¿tiÚ_time
 = 
	`g_g‘_mÚÙÚic_time
();

183 
gušt64
 
hªdËr_key
 = 
šfo
->
hªdËr_id
;

184 
	`g_hash_bË_š£¹
(
»gi¡”ed_´oûs£s
, 
	`GINT_TO_POINTER
(
hªdËr_key
), 
šfo
);

186 
	`SWLOG_INFO
("[PROCESS_TRACKING] SUCCESS: Added…roûss='%s' (hªdËr=%"
G_GUINT64_FORMAT
", sender='%s')\n",

187 
´oûss_Çme
, 
šfo
->
hªdËr_id
, 
£nd”_id
);

188 
	`SWLOG_INFO
("[PROCESS_TRACKING] TÙ®„egi¡”ed…roûs£s: %d\n", 
	`g_hash_bË_size
(
»gi¡”ed_´oûs£s
));

190  
šfo
->
hªdËr_id
;

191 
	}
}

194 
gboŞ—n
 
	$»move_´oûss_äom_Œackšg
(
gušt64
 
hªdËr_id
)

196 
ProûssInfo
 *
šfo
 = 
	`g_hash_bË_lookup
(
»gi¡”ed_´oûs£s
, 
	`GINT_TO_POINTER
(
hªdËr_id
));

197 ià(!
šfo
) {

198 
	`SWLOG_INFO
("[PROCESS_TRACKING] HªdË¸%"
G_GUINT64_FORMAT
"‚Ù found\n", 
hªdËr_id
);

199  
FALSE
;

201 
	`SWLOG_INFO
("[PROCESS_TRACKING] Removšg: % (hªdËr: %"
G_GUINT64_FORMAT
")\n",
šfo
->
´oûss_Çme
, 
hªdËr_id
);

202 
	`g_hash_bË_»move
(
»gi¡”ed_´oûs£s
, 
	`GINT_TO_POINTER
(
hªdËr_id
));

203 
	`SWLOG_INFO
("[PROCESS_TRACKING] TÙ®„egi¡”ed: %d\n", 
	`g_hash_bË_size
(
»gi¡”ed_´oûs£s
));

204  
TRUE
;

205 
	}
}

207 
	$ş—nup_´oûss_Œackšg
()

209 ià(
»gi¡”ed_´oûs£s
) {

210 
	`SWLOG_INFO
("[TRACKING] CËªšg u°%d„egi¡”ed…roûs£s\n",
	`g_hash_bË_size
(
»gi¡”ed_´oûs£s
));

211 
	`g_hash_bË_de¡roy
(
»gi¡”ed_´oûs£s
);

212 
»gi¡”ed_´oûs£s
 = 
NULL
;

214 
	}
}

217 cÚ¡ 
gch¬
* 
	$g‘_»jeùiÚ_»asÚ
(cÚ¡ 
gch¬
 *
´oûss_Çme
, cÚ¡ gch¬ *
£nd”_id
)

219 
GHashTabËI‹r
 
™”
;

220 
gpoš‹r
 
key
, 
v®ue
;

221 
	`g_hash_bË_™”_š™
(&
™”
, 
»gi¡”ed_´oûs£s
);

223 
ProûssInfo
 *
exi¡šg_§me_ş›Á
 = 
NULL
;

224 
ProûssInfo
 *
exi¡šg_§me_´oûss
 = 
NULL
;

226 
	`g_hash_bË_™”_Ãxt
(&
™”
, &
key
, &
v®ue
)) {

227 
ProûssInfo
 *
šfo
 = (ProûssInfo*)
v®ue
;

229 ià(
	`g_¡rcmp0
(
šfo
->
£nd”_id
, sender_id) == 0) {

230 
exi¡šg_§me_ş›Á
 = 
šfo
;

233 ià(
	`g_¡rcmp0
(
šfo
->
´oûss_Çme
,…rocess_name) == 0) {

234 
exi¡šg_§me_´oûss
 = 
šfo
;

239 ià(
exi¡šg_§me_ş›Á
 && (!
exi¡šg_§me_´oûss
 ||ƒxisting_same_client !=ƒxisting_same_process)) {

243 ià(
exi¡šg_§me_´oûss
 && (!
exi¡šg_§me_ş›Á
 ||ƒxisting_same_client !=ƒxisting_same_process)) {

248 
	}
}

251 
	$š™_sk_sy¡em
()

253 
aùive_sks
 = 
	`g_hash_bË_Ãw_fuÎ
(
g_dœeù_hash
, 
g_dœeù_equ®
,
NULL
, (
GDe¡royNÙify
)
g_ä“
);

254 
	`SWLOG_INFO
("[TASK-SYSTEM] Initializedaskracking system\n");

256 
	`š™_´oûss_Œackšg
();

257 
	}
}

260 
TaskCÚ‹xt
* 
	$ü—‹_sk_cÚ‹xt
(
TaskTy³
 
ty³
,

261 cÚ¡ 
gch¬
* 
hªdËr_´oûss_Çme
,

262 cÚ¡ 
gch¬
* 
£nd”_id
,

263 
GDBusM‘hodInvoÿtiÚ
 *
švoÿtiÚ
)

265 
TaskCÚ‹xt
 *
ùx
 = 
	`g_m®loc0
((TaskContext));

266 
ùx
->
ty³
 =ype;

267 
ùx
->
´oûss_Çme
 = 
	`g_¡rdup
(
hªdËr_´oûss_Çme
);

268 
ùx
->
£nd”_id
 = 
	`g_¡rdup
(sender_id);

269 
ùx
->
švoÿtiÚ
 = invocation;

272 
	`SWLOG_INFO
("C»©edask cÚ‹xˆfÜy³: %d\n", 
ty³
);

273  
ùx
;

274 
	}
}

277 
	$ä“_sk_cÚ‹xt
(
TaskCÚ‹xt
 *
ùx
)

279 ià(!
ùx
) ;

282 
	`g_ä“
(
ùx
->
´oûss_Çme
);

283 
	`g_ä“
(
ùx
->
£nd”_id
);

286 
ùx
->
ty³
) {

287 
TASK_TYPE_CHECK_UPDATE
:

288 
	`g_ä“
(
ùx
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_v”siÚ
);

289 
	`g_ä“
(
ùx
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_avaabËV”siÚ
);

290 
	`g_ä“
(
ùx
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_upd©eD‘as
);

291 
	`g_ä“
(
ùx
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_¡©us
);

294 
TASK_TYPE_DOWNLOAD
:

295 
	`g_ä“
(
ùx
->
d©a
.
dowÆßd
.
image_to_dowÆßd
);

296 
	`g_ä“
(
ùx
->
d©a
.
dowÆßd
.
dowÆßd_u¾
);

299 
TASK_TYPE_UPDATE
:

300 
	`g_ä“
(
ùx
->
d©a
.
upd©e
.
fœmw¬e_·th
);

303 
TASK_TYPE_REGISTER
:

308 
	`SWLOG_ERROR
("UnknowÀsky³ iÀä“_sk_cÚ‹xt: %d\n", 
ùx
->
ty³
);

312 
	`g_ä“
(
ùx
);

313 
	}
}

316 
	$com¶‘e_CheckUpd©e_wa™šg_sks
(
TaskCÚ‹xt
 *
ùx
)

319 
	`SWLOG_INFO
("Com¶‘šg %d wa™šg CheckUpd©sks\n",
	`g_¦i¡_Ëngth
(
wa™šg_checkUpd©e_ids
));

321 
GSLi¡
 *
cu¼’t
 = 
wa™šg_checkUpd©e_ids
;

322 
cu¼’t
 !ğ
NULL
) {

323 
gušt
 
sk_id
 = 
	`GPOINTER_TO_UINT
(
cu¼’t
->
d©a
);

324 
	`SWLOG_INFO
("cu¼’ˆsk Id %d wÈg‘ cË¬ed‡á” s’dšg„e¥Ú£Øth­p\n", 
sk_id
);

325 ià(
aùive_sks
 =ğ
NULL
) {

326 
	`SWLOG_INFO
("ERROR:asksable is NULL\n");

331 
TaskCÚ‹xt
 *
cÚ‹xt
 = 
	`g_hash_bË_lookup
(
aùive_sks
, 
	`GUINT_TO_POINTER
(
sk_id
));

332 ià(
cÚ‹xt
 !ğ
NULL
) {

333 
	`SWLOG_INFO
("[Wa™šgask_id iÀ-%d] S’dšg„e¥Ú£Ø­p_id : %s\n",
sk_id
, 
cÚ‹xt
->
´oûss_Çme
);

336 cÚ¡ 
gch¬
 *
v”siÚ
 = 
cÚ‹xt
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_v”siÚ
 ?

337 
cÚ‹xt
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_v”siÚ
 : "";

338 cÚ¡ 
gch¬
 *
avaabË
 = 
cÚ‹xt
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_avaabËV”siÚ
 ?

339 
cÚ‹xt
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_avaabËV”siÚ
 : "";

340 cÚ¡ 
gch¬
 *
d‘as
 = 
cÚ‹xt
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_upd©eD‘as
 ?

341 
cÚ‹xt
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_upd©eD‘as
 : "";

342 cÚ¡ 
gch¬
 *
¡©us_¡r
 = 
cÚ‹xt
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_¡©us
 ?

343 
cÚ‹xt
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_¡©us
 : "";

345 
	`SWLOG_INFO
("[CHECK_UPDATE] Task Completion - Sending Response\n");

346 
	`SWLOG_INFO
("[CHECK_UPDATE] Task ID: %d\n", 
sk_id
);

347 
	`SWLOG_INFO
("[CHECK_UPDATE] Response data:\n");

348 
	`SWLOG_INFO
("[CHECK_UPDATE] - Cu¼’ˆFW V”siÚ: '%s'\n", 
v”siÚ
);

349 
	`SWLOG_INFO
("[CHECK_UPDATE] - AvaabË V”siÚ: '%s'\n", 
avaabË
);

350 
	`SWLOG_INFO
("[CHECK_UPDATE] - Upd©D‘as: '%s'\n", 
d‘as
);

351 
	`SWLOG_INFO
("[CHECK_UPDATE] - Stu SŒšg: '%s'\n", 
¡©us_¡r
);

352 
	`SWLOG_INFO
("[CHECK_UPDATE] - Stu Code: %d ", (
gšt32
)
cÚ‹xt
->
d©a
.
check_upd©e
.
»suÉ_code
);

355 
cÚ‹xt
->
d©a
.
check_upd©e
.
»suÉ_code
) {

356 0: 
	`SWLOG_INFO
("(UPDATE_AVAILABLE)\n"); ;

357 1: 
	`SWLOG_INFO
("(UPDATE_NOT_AVAILABLE)\n"); ;

358 2: 
	`SWLOG_INFO
("(UPDATE_ERROR)\n"); ;

359 : 
	`SWLOG_INFO
("(UNKNOWN_STATUS)\n"); ;

362 
	`SWLOG_INFO
("[CHECK_UPDATE] Sending D-Bus„esponseo client...\n");

363 
	`g_dbus_m‘hod_švoÿtiÚ_»tuº_v®ue
(
cÚ‹xt
->
švoÿtiÚ
,

364 
	`g_v¬ŸÁ_Ãw
("(ssssi)",

365 
v”siÚ
,

366 
avaabË
,

367 
d‘as
,

368 
¡©us_¡r
,

369 (
gšt32
)
cÚ‹xt
->
d©a
.
check_upd©e
.
»suÉ_code
));

371 
	`SWLOG_INFO
("[CHECK_UPDATE] Response sent successfullyo client\n");

374 
	`SWLOG_INFO
("[CHECK_UPDATE] Emitting D-Bus signal for callback...\n");

375 
GE¼Ü
 *
sigÇl_”rÜ
 = 
NULL
;

376 
gboŞ—n
 
sigÇl_»suÉ
 = 
	`g_dbus_cÚÃùiÚ_em™_sigÇl
(
cÚÃùiÚ
,

377 
NULL
,

381 
	`g_v¬ŸÁ_Ãw
("(sissss)",

382 
cÚ‹xt
->
´oûss_Çme
,

383 (
gšt32
)
cÚ‹xt
->
d©a
.
check_upd©e
.
»suÉ_code
,

384 
v”siÚ
,

385 
avaabË
,

386 
d‘as
,

387 
¡©us_¡r


389 &
sigÇl_”rÜ
);

391 ià(
sigÇl_»suÉ
) {

392 
	`SWLOG_INFO
("[CHECK_UPDATE] D-Bu sigÇÈem™‹d sucûssfuÎy fÜ hªdË¸'%s'\n", 
cÚ‹xt
->
´oûss_Çme
);

394 
	`SWLOG_ERROR
("[CHECK_UPDATE] Failedoƒmit D-Bus signal: %s\n",

395 
sigÇl_”rÜ
 ? sigÇl_”rÜ->
mes§ge
 : "Unknownƒrror");

396 ià(
sigÇl_”rÜ
è
	`g_”rÜ_ä“
(signal_error);

399 
	`g_hash_bË_»move
(
aùive_sks
, 
	`GUINT_TO_POINTER
(
sk_id
));

400 
	`SWLOG_INFO
("[CHECK_UPDATE] Task-%d„emoved from‡ùivsks\n", 
sk_id
);

401 
	`SWLOG_INFO
("[CHECK_UPDATE] Task Completion - SUCCESS\n");

403 
	`SWLOG_INFO
("Task-%d‚Ù found iÀaùive_sks\n", 
sk_id
);

405 
cu¼’t
 = cu¼’t->
Ãxt
;

408 
	`g_¦i¡_ä“
(
wa™šg_checkUpd©e_ids
);

409 
wa™šg_checkUpd©e_ids
 = 
NULL
;

411 
IsCheckUpd©eInProg»ss
 = 
FALSE
;

412 
	`SWLOG_INFO
("All CheckUpdate waitingasks completed !!\n");

413 
	}
}

414  
	$com¶‘e_DowÆßd_wa™šg_sks
(cÚ¡ 
gch¬
 *
ImageDowÆßded
, cÚ¡ gch¬ *
DL·th
, 
TaskCÚ‹xt
 *
ùx
) {

415 
	`SWLOG_INFO
("Com¶‘šg %d wa™šg DowÆßdFWasks\n",
	`g_¦i¡_Ëngth
(
wa™šg_dowÆßd_ids
));

417 
GSLi¡
 *
cu¼’t
 = 
wa™šg_dowÆßd_ids
;

418 
cu¼’t
 !ğ
NULL
) {

419 
gušt
 
sk_id
 = 
	`GPOINTER_TO_UINT
(
cu¼’t
->
d©a
);

420 
	`SWLOG_INFO
("cu¼’ˆsk Id iÀwa™šg†i¡: %d wÈg‘ cË¬ed‡á” s’dšg„e¥Ú£Øth­p\n", 
sk_id
);

421 ià(
aùive_sks
 =ğ
NULL
) {

422 
	`SWLOG_INFO
("ERROR:‡ctive_tasksable is NULL\n");

426 
TaskCÚ‹xt
 *
cÚ‹xt
 = 
	`g_hash_bË_lookup
(
aùive_sks
, 
	`GUINT_TO_POINTER
(
sk_id
));

427 ià(
cÚ‹xt
 !ğ
NULL
) {

428 
	`SWLOG_INFO
("[Wa™šgask_id iÀ-%d] S’dšg„e¥Ú£Ø­p_id : %s\n",
sk_id
, 
ùx
->
´oûss_Çme
);

430 
	`g_dbus_m‘hod_švoÿtiÚ_»tuº_v®ue
(
cÚ‹xt
->
švoÿtiÚ
,
	`g_v¬ŸÁ_Ãw
("(ss)", 
ImageDowÆßded
, 
DL·th
));

432 
	`g_hash_bË_»move
(
aùive_sks
, 
	`GUINT_TO_POINTER
(
sk_id
));

434 
	`SWLOG_INFO
("Task-%d‚Ù found iÀaùive_sks\n", 
sk_id
);

436 
cu¼’t
 = cu¼’t->
Ãxt
;

439 
	`g_¦i¡_ä“
(
wa™šg_dowÆßd_ids
);

440 
wa™šg_dowÆßd_ids
 = 
NULL
;

441 
IsCheckUpd©eInProg»ss
 = 
FALSE
;

442 
	`SWLOG_INFO
("All Downaod waitingasks completed !!\n");

443 
	}
}

448 
gboŞ—n
 
	$CheckUpd©e_com¶‘e_ÿÎback
(
gpoš‹r
 
u£r_d©a
) {

449 
TaskCÚ‹xt
 *
ùx
 = (TaskCÚ‹xˆ*)
u£r_d©a
;

450 
	`SWLOG_INFO
("In CheckUpdate_complete_callback\n");

451 
	`com¶‘e_CheckUpd©e_wa™šg_sks
(
ùx
);

452 
	`SWLOG_INFO
(" back from complete_CheckUpdate_waiting_tasks\n");

453  
G_SOURCE_REMOVE
;

454 
	}
}

458 
gboŞ—n
 
	$DowÆßd_com¶‘e_ÿÎback
(
gpoš‹r
 
u£r_d©a
) {

459 
TaskCÚ‹xt
 *
ùx
 = (TaskCÚ‹xˆ*)
u£r_d©a
;

460 
	`SWLOG_INFO
("In Download_complete_callback\n");

461 
	`com¶‘e_DowÆßd_wa™šg_sks
("SKY_DowÆßdedV”siÚ.bš", "YES",
ùx
);

462 
	`SWLOG_INFO
(" back from complete_CheckUpdate_waiting_tasks\n");

463  
G_SOURCE_REMOVE
;

464 
	}
}

467 
	$XCÚfCom
()

469 
i
=1;i < 1000; i++);

471 
	}
}

476 
gboŞ—n
 
	$check_upd©e_sk
(
gpoš‹r
 
u£r_d©a
)

478 
CheckUpd©e_TaskD©a
 *
d©a
 = (CheckUpd©e_TaskD©a*)
u£r_d©a
;

479 
gušt
 
sk_id
 = 
d©a
->
upd©e_sk_id
;

481 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Async Task Execution Started\n");

482 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Task details:\n");

483 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] - Task ID: %d\n", 
sk_id
);

484 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] - HªdË¸ID: %s\n", 
d©a
->
Checkupd©eTask_ùx
->
´oûss_Çme
);

485 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] - D-Bu S’d”: %s\n", 
d©a
->
Checkupd©eTask_ùx
->
£nd”_id
);

486 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] - Cu¼’ˆcheck iÀ´og»ss: %s\n", 
IsCheckUpd©eInProg»ss
 ? "YES" : "NO");

491 ià(
IsCheckUpd©eInProg»ss
 =ğ
TRUE
) {

492 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Another CheckUpdate operation is in…rogress\n");

493 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Addšgask-%dØwa™šg queue...\n", 
sk_id
);

494 
wa™šg_checkUpd©e_ids
 = 
	`g_¦i¡_­³nd
(wa™šg_checkUpd©e_ids, 
	`GUINT_TO_POINTER
(
sk_id
));

495 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Task-%d‡ddedo waiting queue (total waiting: %d)\n",

496 
sk_id
, 
	`g_¦i¡_Ëngth
(
wa™šg_checkUpd©e_ids
));

497 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Will send„esponse once current operation completes\n");

500 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] S¹šg NEW CheckUpd©İ”©iÚ fÜask-%d\n", 
sk_id
);

501 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Setting IsCheckUpdateInProgress = TRUE\n");

502 
IsCheckUpd©eInProg»ss
 = 
TRUE
;

503 
wa™šg_checkUpd©e_ids
 = 
	`g_¦i¡_­³nd
(wa™šg_checkUpd©e_ids, 
	`GUINT_TO_POINTER
(
sk_id
));

505 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Initiating XConf communication‡nd device queries...\n");

508 
TaskCÚ‹xt
 *
ùx
 = 
d©a
->
Checkupd©eTask_ùx
;

511 ià(
ùx
->
ty³
 !ğ
TASK_TYPE_CHECK_UPDATE
) {

512 
	`SWLOG_ERROR
("[CHECK_UPDATE_TASK] ERROR: Wrongaskype %d,ƒxpected %d\n",

513 
ùx
->
ty³
, 
TASK_TYPE_CHECK_UPDATE
);

514 
	`SWLOG_ERROR
("[CHECK_UPDATE_TASK] Task-%d FAILED dutØty³ mism©ch\n", 
sk_id
);

515  
G_SOURCE_REMOVE
;

518 
gch¬
 *
hªdËr_id
 = 
	`g_¡rdup
(
ùx
->
´oûss_Çme
);

519 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Executing firmware check with:\n");

520 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] - HªdË¸ID: '%s'\n", 
hªdËr_id
);

522 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Calling„dkFwupdateMgr_checkForUpdate()...\n");

525 
CheckUpd©eRe¥Ú£
 
»¥Ú£
 = 
	`rdkFwupd©eMgr_checkFÜUpd©e
(
hªdËr_id
);

527 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK]„dkFwupdateMgr_checkForUpdate() completed!\n");

528 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Results:\n");

529 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] - ResuÉ Code: %d", 
»¥Ú£
.
»suÉ_code
);

530 
»¥Ú£
.
»suÉ_code
) {

531 0: 
	`SWLOG_INFO
(" (UPDATE_AVAILABLE)\n"); ;

532 1: 
	`SWLOG_INFO
(" (UPDATE_NOT_AVAILABLE)\n"); ;

533 2: 
	`SWLOG_INFO
(" (UPDATE_ERROR)\n"); ;

534 : 
	`SWLOG_INFO
(" (UNKNOWN_STATUS)\n"); ;

536 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] - Current Image Version: '%s'\n",

537 
»¥Ú£
.
cu¼’t_img_v”siÚ
 ?„esponse.current_img_version : "NULL");

538 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] - Available Version: '%s'\n",

539 
»¥Ú£
.
avaabË_v”siÚ
 ?„esponse.available_version : "NULL");

540 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] - Update Details: '%s'\n",

541 
»¥Ú£
.
upd©e_d‘as
 ?„esponse.update_details : "NULL");

543 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Storing„esults inask context...\n");

545 
ùx
->
d©a
.
check_upd©e
.
»suÉ_code
 = 
»¥Ú£
.result_code;

546 
	`g_ä“
(
ùx
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_v”siÚ
);

547 
	`g_ä“
(
ùx
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_avaabËV”siÚ
);

548 
	`g_ä“
(
ùx
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_upd©eD‘as
);

549 
	`g_ä“
(
ùx
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_¡©us
);

551 
ùx
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_v”siÚ
 = 
	`g_¡rdup
(
»¥Ú£
.
cu¼’t_img_v”siÚ
 ?„esponse.current_img_version : "");

552 
ùx
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_avaabËV”siÚ
 = 
	`g_¡rdup
(
»¥Ú£
.
avaabË_v”siÚ
 ?„esponse.available_version : "");

553 
ùx
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_upd©eD‘as
 = 
	`g_¡rdup
(
»¥Ú£
.
upd©e_d‘as
 ?„esponse.update_details : "");

554 
ùx
->
d©a
.
check_upd©e
.
ş›Á_fwd©a_¡©us
 = 
	`g_¡rdup
(
»¥Ú£
.
¡©us_mes§ge
 ?„esponse.status_message : "");

556 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Results stored successfully inask context\n");

557 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Scheduling completion callback in 10 seconds...\n");

560 
	`g_timeout_add_£cÚds
(10, 
CheckUpd©e_com¶‘e_ÿÎback
, 
d©a
->
Checkupd©eTask_ùx
);

562 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Callback scheduled - cleanup‡ndƒxit\n");

564 
	`g_ä“
(
hªdËr_id
);

565 
	`checkupd©e_»¥Ú£_ä“
(&
»¥Ú£
);

567 
	`SWLOG_INFO
("[CHECK_UPDATE_TASK] Async Task Execution Complete\n");

569  
G_SOURCE_REMOVE
;

570 
	}
}

574 
gboŞ—n
 
	$dowÆßdFW_sk
(
gpoš‹r
 
u£r_d©a
)

576 
DowÆßdFW_TaskD©a
 *
d©a
 = (DowÆßdFW_TaskD©a*)
u£r_d©a
;

577 
gušt
 
sk_id
 = 
d©a
->
dowÆßd_sk_id
;

579 ià(
IsDowÆßdInProg»ss
 =ğ
TRUE
) {

580 
	`SWLOG_INFO
("Download FirmWware is in…rogress. Addingasko waiting queue. Will send„esponse once done\n");

581 
wa™šg_dowÆßd_ids
 = 
	`g_¦i¡_­³nd
(wa™šg_dowÆßd_ids,
	`GUINT_TO_POINTER
(
sk_id
));

584 
	`SWLOG_INFO
("S¹šg‚ew DowÆßdFW o³¿tiÚ fÜask %d\n\n", 
sk_id
);

585 
	`SWLOG_INFO
("[DowÆßdask-%d] S¹šgØdowÆßd Imag: % fÜ…roûss-id: %s...\n", 
sk_id
, 
d©a
->
ImageToDowÆßd
,d©a->
DowÆßdFWTask_ùx
->
´oûss_Çme
);

587 
IsDowÆßdInProg»ss
 = 
TRUE
;

588 
wa™šg_dowÆßd_ids
 = 
	`g_¦i¡_­³nd
(wa™šg_dowÆßd_ids,
	`GUINT_TO_POINTER
(
sk_id
));

591 
	`g_timeout_add_£cÚds
(10, 
DowÆßd_com¶‘e_ÿÎback
,
d©a
->
DowÆßdFWTask_ùx
);

593  
G_SOURCE_REMOVE
;

594 
	}
}

597 
gboŞ—n
 
	$upg¿de_sk
(
gpoš‹r
 
u£r_d©a
)

599 
TaskCÚ‹xt
 *
ùx
 = (TaskCÚ‹xt*)
u£r_d©a
;

600 
gušt
 
sk_id
 = 
	`GPOINTER_TO_UINT
(
	`g_hash_bË_lookup
(
aùive_sks
, 
ùx
));

602 
	`SWLOG_INFO
("[TASK-%d] S¹šg Upg¿dfÜ % (£nd”: %s)\n",
sk_id
, 
ùx
->
´oûss_Çme
, ctx->
£nd”_id
);

607 
	`SWLOG_INFO
("[TASK-%d] FÏshšg fœmw¬fÜ %s...\n", 
sk_id
, 
ùx
->
´oûss_Çme
);

608 
	`¦“p
(3);

609 
	`SWLOG_INFO
("[TASK-%d] Upg¿dcom¶‘ed fÜ % - SYSTEM WILL REBOOT\n",
sk_id
, 
ùx
->
´oûss_Çme
);

611 
	`g_dbus_m‘hod_švoÿtiÚ_»tuº_v®ue
(
ùx
->
švoÿtiÚ
,

612 
	`g_v¬ŸÁ_Ãw
("(bs)", 
TRUE
, "Upgrade completed - system will„eboot"));

615 
	`g_hash_bË_»move
(
aùive_sks
, 
	`GUINT_TO_POINTER
(
sk_id
));

616 
	`ä“_sk_cÚ‹xt
(
ùx
);

617  
G_SOURCE_REMOVE
;

618 
	}
}

621 
	$´oûss_­p_»que¡
(
GDBusCÚÃùiÚ
 *
rdkv_cÚn_dbus
,

622 cÚ¡ 
gch¬
 *
rdkv_»q_ÿÎ”_id
,

623 cÚ¡ 
gch¬
 *
rdkv_»q_obj_·th
,

624 cÚ¡ 
gch¬
 *
rdkv_»q_içû_Çme
,

625 cÚ¡ 
gch¬
 *
rdkv_»q_m‘hod
,

626 
GV¬ŸÁ
 *
rdkv_»q_·ylßd
,

627 
GDBusM‘hodInvoÿtiÚ
 *
»¥_ùx
,

628 
gpoš‹r
 
rdkv_u£r_ùx
)

630 
	`SWLOG_INFO
("\n===ğ[D-BUS] INCOMING REQUEST: % äom % ====\n", 
rdkv_»q_m‘hod
, 
rdkv_»q_ÿÎ”_id
);

635 ià(
	`g_¡rcmp0
(
rdkv_»q_m‘hod
, "CheckForUpdate") == 0) {

636 
gch¬
 *
hªdËr_´oûss_Çme
 = 
NULL
;

637 
	`g_v¬ŸÁ_g‘
(
rdkv_»q_·ylßd
, "(s)", &
hªdËr_´oûss_Çme
);

639 
	`SWLOG_INFO
("[CHECK_UPDATE] NEW D-BUS REQUEST\n");

640 
	`SWLOG_INFO
("[CHECK_UPDATE] Time¡amp: %ld\n", ()
	`time
(
NULL
));

641 
	`SWLOG_INFO
("[CHECK_UPDATE] HªdË¸ID: '%s'\n", 
hªdËr_´oûss_Çme
 ? handler_process_name : "NULL");

642 
	`SWLOG_INFO
("[CHECK_UPDATE] D-Bu S’d”: '%s'\n", 
rdkv_»q_ÿÎ”_id
);

643 
	`SWLOG_INFO
("[CHECK_UPDATE] D-Bus Path: /org/rdkfwupdater/Service\n");

644 
	`SWLOG_INFO
("[CHECK_UPDATE] D-Bus Interface: org.rdkfwupdater.Interface\n");

645 
	`SWLOG_INFO
("[CHECK_UPDATE] D-Bus Method: CheckForUpdate\n");

646 
	`SWLOG_INFO
("[CHECK_UPDATE] Daemon State:\n");

647 
	`SWLOG_INFO
("[CHECK_UPDATE] Regi¡”ed Proûs£s: %d\n", 
	`g_hash_bË_size
(
»gi¡”ed_´oûs£s
));

648 
	`SWLOG_INFO
("[CHECK_UPDATE] XCÚàF‘ch IÀProg»ss: %s\n", 
IsCheckUpd©eInProg»ss
 ? "YES" : "NO");

649 
	`SWLOG_INFO
("[CHECK_UPDATE] AùivTask (hashabË): %d\n", 
	`g_hash_bË_size
(
aùive_sks
));

650 
	`SWLOG_INFO
("[CHECK_UPDATE] Wa™šg QueuÖi¡): %dask(s)\n", 
	`g_¦i¡_Ëngth
(
wa™šg_checkUpd©e_ids
));

653 ià(!
hªdËr_´oûss_Çme
 || 
	`¡¾’
(handler_process_name) == 0) {

654 
	`SWLOG_ERROR
("[CHECK_UPDATE] REJECTED: Invalid handler ID\n");

655 
	`g_dbus_m‘hod_švoÿtiÚ_»tuº_”rÜ
(
»¥_ùx
,

656 
G_DBUS_ERROR
, 
G_DBUS_ERROR_INVALID_ARGS
, "Invalid handler ID");

657 
	`g_ä“
(
hªdËr_´oûss_Çme
);

662 
gušt64
 
hªdËr_id_num”ic
 = 
	`g_ascii_¡¹ouÎ
(
hªdËr_´oûss_Çme
, 
NULL
, 10);

663 
gboŞ—n
 
is_»gi¡”ed
 = 
	`g_hash_bË_cÚšs
(
»gi¡”ed_´oûs£s
, 
	`GINT_TO_POINTER
(
hªdËr_id_num”ic
));

665 
	`SWLOG_INFO
("[CHECK_UPDATE] Regi¡¿tiÚ check: %s\n", 
is_»gi¡”ed
 ? "REGISTERED" : "NOT REGISTERED");

667 ià(!
is_»gi¡”ed
) {

668 
	`SWLOG_ERROR
("[CHECK_UPDATE] REJECTED: Handler‚ot„egistered\n");

669 
	`g_dbus_m‘hod_švoÿtiÚ_»tuº_”rÜ
(
»¥_ùx
,

670 
G_DBUS_ERROR
, 
G_DBUS_ERROR_ACCESS_DENIED
,

672 
	`g_ä“
(
hªdËr_´oûss_Çme
);

677 
	`SWLOG_INFO
("\n[STEP 3] Cache Check\n");

678 
	`SWLOG_INFO
(" Calling: xconf_cache_exists()\n");

679 
gboŞ—n
 
ÿche_exi¡s
 = 
	`xcÚf_ÿche_exi¡s
();

680 
	`SWLOG_INFO
("[CHECK_UPDATE] ResuÉ: %s\n", 
ÿche_exi¡s
 ? "CACHE HIT" : "CACHE MISS");

682 ià(
ÿche_exi¡s
) {

684 
	`SWLOG_INFO
("[CHECK_UPDATE] CACHE HIT PATH - Immediate Response\n");

685 
	`SWLOG_INFO
("[CHECK_UPDATE] Action: Loading firmware data from cache\n");

687 
CheckUpd©eRe¥Ú£
 
»¥Ú£
 = 
	`rdkFwupd©eMgr_checkFÜUpd©e
(
hªdËr_´oûss_Çme
);

689 
	`SWLOG_INFO
("[CHECK_UPDATE] Cache data†oaded successfully\n");

690 
	`SWLOG_INFO
("[CHECK_UPDATE] Cached Firmware Data:\n");

691 
	`SWLOG_INFO
("[CHECK_UPDATE] Stu Code: %d ", 
»¥Ú£
.
»suÉ_code
);

692 
»¥Ú£
.
»suÉ_code
) {

693 0: 
	`SWLOG_INFO
("(UPDATE_AVAILABLE)\n"); ;

694 1: 
	`SWLOG_INFO
("(UPDATE_NOT_AVAILABLE)\n"); ;

695 2: 
	`SWLOG_INFO
("(UPDATE_ERROR)\n"); ;

696 : 
	`SWLOG_INFO
("(UNKNOWN)\n"); ;

698 
	`SWLOG_INFO
("[CHECK_UPDATE] Current Version: '%s'\n",

699 
»¥Ú£
.
cu¼’t_img_v”siÚ
 ?„esponse.current_img_version : "N/A");

700 
	`SWLOG_INFO
("[CHECK_UPDATE] Available Version: '%s'\n",

701 
»¥Ú£
.
avaabË_v”siÚ
 ?„esponse.available_version : "N/A");

702 
	`SWLOG_INFO
("[CHECK_UPDATE] Status Message: '%s'\n",

703 
»¥Ú£
.
¡©us_mes§ge
 ?„esponse.status_message : "N/A");

705 
	`SWLOG_INFO
("[CHECK_UPDATE] Sending immediate D-Bus method„esponse\n");

707 
	`g_dbus_m‘hod_švoÿtiÚ_»tuº_v®ue
(
»¥_ùx
,

708 
	`g_v¬ŸÁ_Ãw
("(ssssi)",

709 
»¥Ú£
.
cu¼’t_img_v”siÚ
 ?„esponse.current_img_version : "",

710 
»¥Ú£
.
avaabË_v”siÚ
 ?„esponse.available_version : "",

711 
»¥Ú£
.
upd©e_d‘as
 ?„esponse.update_details : "",

712 
»¥Ú£
.
¡©us_mes§ge
 ?„esponse.status_message : "",

713 
»¥Ú£
.
»suÉ_code
));

715 
	`SWLOG_INFO
("[CHECK_UPDATE] D-Bus method„esponse sent successfully\n");

718 
	`SWLOG_INFO
("[CHECK_UPDATE] Emitting CheckForUpdateComplete signal for consistency...\n");

719 
GE¼Ü
 *
sigÇl_”rÜ
 = 
NULL
;

720 
gboŞ—n
 
sigÇl_£Á
 = 
	`g_dbus_cÚÃùiÚ_em™_sigÇl
(
cÚÃùiÚ
,

721 
NULL
, "/org/rdkfwupdater/Service",

724 
	`g_v¬ŸÁ_Ãw
("(sissss)",

725 
hªdËr_´oûss_Çme
,

726 (
gšt32
)
»¥Ú£
.
»suÉ_code
,

727 
»¥Ú£
.
cu¼’t_img_v”siÚ
 ?„esponse.current_img_version : "",

728 
»¥Ú£
.
avaabË_v”siÚ
 ?„esponse.available_version : "",

729 
»¥Ú£
.
upd©e_d‘as
 ?„esponse.update_details : "",

730 
»¥Ú£
.
¡©us_mes§ge
 ?„esponse.status_message : ""

732 &
sigÇl_”rÜ
);

734 ià(
sigÇl_£Á
) {

735 
	`SWLOG_INFO
("[CHECK_UPDATE] Signalƒmitted successfully\n");

737 
	`SWLOG_ERROR
("[CHECK_UPDATE] Signalƒmission failed: %s\n",

738 
sigÇl_”rÜ
 ? sigÇl_”rÜ->
mes§ge
 : "Unknown");

739 ià(
sigÇl_”rÜ
è
	`g_”rÜ_ä“
(signal_error);

742 
	`checkupd©e_»¥Ú£_ä“
(&
»¥Ú£
);

743 
	`g_ä“
(
hªdËr_´oûss_Çme
);

745 
	`SWLOG_INFO
("[CHECK_UPDATE] CACHE HIT PATH COMPLETE\n");

746 
	`SWLOG_INFO
("[CHECK_UPDATE] Total…rocessing: Immediate (no‡sync operation)\n");

747 
	`SWLOG_INFO
("[CHECK_UPDATE] Client„eceived: Real firmware data\n");

752 
	`SWLOG_INFO
("CACHE MISS PATH - Async Background Fetch\n");

753 
	`SWLOG_INFO
(" XConf cache‚ot‡vailable\n");

754 
	`SWLOG_INFO
(" Strategy: Async‚on-blocking fetch„equired\n");

755 
	`SWLOG_INFO
(" Client flow:\n");

756 
	`SWLOG_INFO
(" 1. Gets UPDATE_ERROR (status=2) immediately\n");

757 
	`SWLOG_INFO
(" 2. Waits for CheckForUpdateComplete signal\n");

758 
	`SWLOG_INFO
(" 3. Receives„eal„esult when XConf fetch completes\n");

761 
	`SWLOG_INFO
("\n[STEP 4] Immediate Response\n");

762 
	`SWLOG_INFO
(" Sending: D-Bus method„esponse\n");

763 
	`SWLOG_INFO
(" Response: UPDATE_ERROR (status=2)\n");

764 
	`g_dbus_m‘hod_švoÿtiÚ_»tuº_v®ue
(
»¥_ùx
,

765 
	`g_v¬ŸÁ_Ãw
("(ssssi)", "", "", "", "UPDATE_ERROR", 2));

767 
	`SWLOG_INFO
("[CHECK_UPDATE] Response sent successfully\n");

768 
	`SWLOG_INFO
(" Client‚ow knows: Fetch in…rogress, wait for signal\n");

769 
	`SWLOG_INFO
(" Note: D-Bus invocation consumed (cannot„espondwice)\n");

772 
	`SWLOG_INFO
("\n[STEP 5] Task Creation & Tracking\n");

775 
TaskCÚ‹xt
 *
sk_ùx
 = 
	`ü—‹_sk_cÚ‹xt
(
TASK_TYPE_CHECK_UPDATE
,

776 
hªdËr_´oûss_Çme
,

777 
rdkv_»q_ÿÎ”_id
,

778 
NULL
);

779 
gušt
 
sk_id
 = 
Ãxt_sk_id
++;

781 
	`SWLOG_INFO
(" Task Created:\n");

782 
	`SWLOG_INFO
(" Task ID : %d (glob® couÁ”‚ow: %d)\n", 
sk_id
, 
Ãxt_sk_id
);

783 
	`SWLOG_INFO
(" Task Type : TASK_TYPE_CHECK_UPDATE\n");

784 
	`SWLOG_INFO
(" HªdË¸ : '%s'\n", 
hªdËr_´oûss_Çme
);

785 
	`SWLOG_INFO
(" D-Bu S’d” : '%s'\n", 
rdkv_»q_ÿÎ”_id
);

786 
	`SWLOG_INFO
(" Invocation : NULL (consumed for immediate UPDATE_ERROR)\n");

788 
	`SWLOG_INFO
("\n Addingo Tracking Systems:\n");

789 
	`SWLOG_INFO
("[CHECK_UPDATE] [5a] Addingo 'active_tasks' hashable\n");

790 
	`g_hash_bË_š£¹
(
aùive_sks
, 
	`GUINT_TO_POINTER
(
sk_id
), 
sk_ùx
);

791 
	`SWLOG_INFO
("[CHECK_UPDATE] Task-%d stored in‡ctive_tasks (size=%d)\n",

792 
sk_id
, 
	`g_hash_bË_size
(
aùive_sks
));

794 
	`SWLOG_INFO
("[CHECK_UPDATE] [5b] Addingo 'waiting_checkUpdate_ids' queue\n");

795 
wa™šg_checkUpd©e_ids
 = 
	`g_¦i¡_­³nd
(wa™šg_checkUpd©e_ids, 
	`GUINT_TO_POINTER
(
sk_id
));

796 
	`SWLOG_INFO
("[CHECK_UPDATE] Task-%d queued in waiting†ist (size=%d)\n",

797 
sk_id
, 
	`g_¦i¡_Ëngth
(
wa™šg_checkUpd©e_ids
));

799 
	`SWLOG_INFO
("[CHECK_UPDATE] Tracking Summary:\n");

800 
	`SWLOG_INFO
("[CHECK_UPDATE] 'active_tasks' stores full TaskContext (for cleanup)\n");

801 
	`SWLOG_INFO
("[CHECK_UPDATE] 'waiting_checkUpdate_ids' storesask IDs (for batch…rocessing)\n");

802 
	`SWLOG_INFO
("[CHECK_UPDATE] Both cleaned upogether when XConf fetch completes\n");

805 
	`SWLOG_INFO
("\n[STEP 6] Fetch Status Check\n");

806 
	`SWLOG_INFO
(" IsCheckUpdateInProgress = %s\n",

807 
IsCheckUpd©eInProg»ss
 ? "TRUE (fetch„unning)" : "FALSE (idle)");

809 ià(
IsCheckUpd©eInProg»ss
) {

810 
	`SWLOG_INFO
("[CHECK_UPDATE] PIGGYBACK SCENARIO - Reuse Running Fetch\n");

811 
	`SWLOG_INFO
("[CHECK_UPDATE] Another XConf fetch is‡lready„unning\n");

812 
	`SWLOG_INFO
("[CHECK_UPDATE] Task-%d wÈPIGGYBACK oÀthexi¡šg f‘ch\n", 
sk_id
);

813 
	`SWLOG_INFO
("[CHECK_UPDATE] Current waiting queue: %dask(s)\n",

814 
	`g_¦i¡_Ëngth
(
wa™šg_checkUpd©e_ids
));

815 
	`SWLOG_INFO
("[CHECK_UPDATE] What happens‚ext:\n");

816 
	`SWLOG_INFO
("[CHECK_UPDATE] NO‚ew background fetch started (already„unning)\n");

817 
	`SWLOG_INFO
("[CHECK_UPDATE] Task-%d wa™ š queuw™h oth”s\n", 
sk_id
);

818 
	`SWLOG_INFO
("[CHECK_UPDATE] When fetch completes: ALL waitingasks get signal\n");

819 
	`SWLOG_INFO
("[CHECK_UPDATE] Signal broadcast‡t: /org/rdkfwupdater/Service\n");

820 
	`SWLOG_INFO
("[CHECK_UPDATE] Signal‚ame: CheckForUpdateComplete\n");

821 
	`SWLOG_INFO
("[CHECK_UPDATE] PIGGYBACK SETUP COMPLETE\n");

822 
	`g_ä“
(
hªdËr_´oûss_Çme
);

827 
	`SWLOG_INFO
("[CHECK_UPDATE] NEW BACKGROUND FETCH - Launching GTask Worker Thread\n");

828 
	`SWLOG_INFO
("[CHECK_UPDATE] Background Fetch Initialization\n");

829 
	`SWLOG_INFO
("[CHECK_UPDATE] Setting IsCheckUpdateInProgress = TRUE\n");

830 
IsCheckUpd©eInProg»ss
 = 
TRUE
;

831 
	`SWLOG_INFO
("[CHECK_UPDATE] Prevents duplicate concurrent fetches\n");

832 
	`SWLOG_INFO
("[CHECK_UPDATE] Future„equests will…iggyback onhis fetch\n");

834 
	`SWLOG_INFO
("[CHECK_UPDATE] Creating AsyncXconfFetchContext:\n");

835 
AsyncXcÚfF‘chCÚ‹xt
 *
async_ùx
 = 
	`g_Ãw0
(AsyncXconfFetchContext, 1);

836 
async_ùx
->
hªdËr_id
 = 
	`g_¡rdup
(
hªdËr_´oûss_Çme
);

837 
async_ùx
->
cÚÃùiÚ
 = connection;

838 
	`SWLOG_INFO
("[CHECK_UPDATE] HªdË¸ID: '%s'\n", 
hªdËr_´oûss_Çme
);

839 
	`SWLOG_INFO
("[CHECK_UPDATE] CÚÃùiÚ: %p\n", (*)
cÚÃùiÚ
);

841 
	`SWLOG_INFO
("[CHECK_UPDATE] Creating GTask:\n");

842 
	`SWLOG_INFO
("[CHECK_UPDATE] Worker function:‡sync_xconf_fetch_task\n");

843 
	`SWLOG_INFO
("[CHECK_UPDATE] (runs in separatehread - blocking I/O OK)\n");

844 
	`SWLOG_INFO
("[CHECK_UPDATE] Completion CB:‡sync_xconf_fetch_complete\n");

845 
	`SWLOG_INFO
("[CHECK_UPDATE] (runs on main†oop - broadcasts signal)\n");

846 
GTask
 *
sk
 = 
	`g_sk_Ãw
(
NULL
, NULL, 
async_xcÚf_ãtch_com¶‘e
, 
async_ùx
);

848 
	`SWLOG_INFO
("[CHECK_UPDATE] Launching GTask...\n");

849 
	`g_sk_run_š_th»ad
(
sk
, 
async_xcÚf_ãtch_sk
);

850 
	`g_objeù_uÄef
(
sk
);

851 
	`SWLOG_INFO
("[CHECK_UPDATE] Workerhread spawned\n");

853 
	`SWLOG_INFO
("[CHECK_UPDATE] Async Flow Summary:\n");

854 
	`SWLOG_INFO
("[CHECK_UPDATE] [Worker Thread] Fetches from XConf (blocking‚etwork I/O)\n");

855 
	`SWLOG_INFO
("[CHECK_UPDATE] [Main Loop] Continues…rocessing D-Bus (non-blocking)\n");

856 
	`SWLOG_INFO
("[CHECK_UPDATE] [Waiting Queue] Task-%d + %d other(s) = %dotal\n",

857 
sk_id
, 
	`g_¦i¡_Ëngth
(
wa™šg_checkUpd©e_ids
) - 1,

858 
	`g_¦i¡_Ëngth
(
wa™šg_checkUpd©e_ids
));

859 
	`SWLOG_INFO
("[CHECK_UPDATE] [On Completion] Callback„uns on main†oop\n");

860 
	`SWLOG_INFO
("[CHECK_UPDATE] [Signal] Broadcasto /org/rdkfwupdater/Service\n");

861 
	`SWLOG_INFO
("[CHECK_UPDATE] [Cleanup] All %d waitingasks cleaned up\n",

862 
	`g_¦i¡_Ëngth
(
wa™šg_checkUpd©e_ids
));

863 
	`SWLOG_INFO
("[CHECK_UPDATE] [Reset] IsCheckUpdateInProgress = FALSE\n");

865 
	`SWLOG_INFO
("[CHECK_UPDATE] ASYNC FETCH INITIATED\n");

866 
	`SWLOG_INFO
("[CHECK_UPDATE] Client Status:\n");

867 
	`SWLOG_INFO
("[CHECK_UPDATE] Already„eceived: UPDATE_ERROR (immediate„esponse)\n");

868 
	`SWLOG_INFO
("[CHECK_UPDATE] Waiting for: CheckForUpdateComplete signal\n");

869 
	`SWLOG_INFO
("[CHECK_UPDATE] Will„eceive: Real firmware data when fetch completes\n");

871 
	`g_ä“
(
hªdËr_´oûss_Çme
);

875 ià(
	`g_¡rcmp0
(
rdkv_»q_m‘hod
, "DownloadFirmware") == 0) {

876 
gch¬
* 
­p_id
=
NULL
;

877 
gch¬
* 
rg‘Img
=
NULL
;

878 
DowÆßdFW_TaskD©a
 *
u£r_d©a
 = 
	`g_m®loc
((DownloadFW_TaskData));

879 
	`g_v¬ŸÁ_g‘
(
rdkv_»q_·ylßd
, "(ss)", &
­p_id
,&
rg‘Img
);

880 
	`SWLOG_INFO
("[D-BUS] DowÆßdFœmw¬»ques™ from…roûss='%s', s’d”='%s'\n, ImagTØDÚwlßd : %s\n",
­p_id
, 
rdkv_»q_ÿÎ”_id
,
rg‘Img
);

882 
gboŞ—n
 
is_»gi¡”ed
 = 
	`g_hash_bË_cÚšs
(
»gi¡”ed_´oûs£s
, 
	`GINT_TO_POINTER
(
	`g_ascii_¡¹ouÎ
(
­p_id
, 
NULL
, 10)));

884 
	`SWLOG_INFO
("[D-BUS] is_»gi¡”ed:%d‡µ_id s—rched fÜ : %"
G_GUINT64_FORMAT
" \n",
is_»gi¡”ed
,
	`g_ascii_¡¹ouÎ
(
­p_id
,
NULL
,10));

885 ià(!
is_»gi¡”ed
) {

886 
	`SWLOG_INFO
("[D-BUS] REJECTED: CheckUpd©äom uÄegi¡”ed s’d” '%s'\n", 
rdkv_»q_ÿÎ”_id
);

890 
	`SWLOG_INFO
("App is„egistered\n");

893 
TaskCÚ‹xt
 *
DowÆßdFWTask_ùx
 = 
	`ü—‹_sk_cÚ‹xt
(
TASK_TYPE_DOWNLOAD
, 
­p_id
, 
rdkv_»q_ÿÎ”_id
, 
»¥_ùx
);

894 
gušt
 
DowÆßdFWTask_id
 = 
Ãxt_sk_id
++;

895 
	`g_hash_bË_š£¹
(
aùive_sks
, 
	`GUINT_TO_POINTER
(
DowÆßdFWTask_id
), 
DowÆßdFWTask_ùx
);

897 
	`SWLOG_INFO
("[D-BUS] S·wnšg ASYNC DowÆßdask-%d\n", 
DowÆßdFWTask_id
);

900 
u£r_d©a
->
dowÆßd_sk_id
 = 
DowÆßdFWTask_id
;

901 
u£r_d©a
->
DowÆßdFWTask_ùx
 = DownloadFWTask_ctx;

902 
	`g_timeout_add
(2000, 
dowÆßdFW_sk
, 
u£r_d©a
);

904 
	`g_ä“
(
­p_id
);

905 
	`g_ä“
(
rg‘Img
);

909 ià(
	`g_¡rcmp0
(
rdkv_»q_m‘hod
, "UpdateFirmware") == 0) {

910 
gch¬
* 
­p_id
=
NULL
;

911 
	`g_v¬ŸÁ_g‘
(
rdkv_»q_·ylßd
, "(s)", &
­p_id
);

913 
	`SWLOG_INFO
("[D-BUS] UpdateFirmware„equest:…rocess='%s', sender='%s'\n",

914 
­p_id
, 
rdkv_»q_ÿÎ”_id
);

915 
	`SWLOG_INFO
("[D-BUS] WARNING: This will flash firmware‡nd„eboot system!\n");

917 
TaskCÚ‹xt
 *
ùx
 = 
	`ü—‹_sk_cÚ‹xt
(
TASK_TYPE_UPDATE
, 
­p_id
, 
rdkv_»q_ÿÎ”_id
, 
»¥_ùx
);

918 
gušt
 
sk_id
 = 
Ãxt_sk_id
++;

919 
	`g_hash_bË_š£¹
(
aùive_sks
, 
	`GUINT_TO_POINTER
(
sk_id
), 
ùx
);

921 
	`SWLOG_INFO
("[D-BUS] S·wnšg ASYNC Upg¿dsk-%d\n", 
sk_id
);

923 
	`g_timeout_add
(100, 
upg¿de_sk
, 
ùx
);

925 
	`g_ä“
(
­p_id
);

929 ià(
	`g_¡rcmp0
(
rdkv_»q_m‘hod
, "RegisterProcess") == 0) {

930 
gch¬
 *
´oûss_Çme
, *
lib_v”siÚ
;

931 
	`g_v¬ŸÁ_g‘
(
rdkv_»q_·ylßd
, "(ss)", &
´oûss_Çme
, &
lib_v”siÚ
);

933 
	`SWLOG_INFO
("[REGISTER] Starting Registration Process\n");

934 
	`SWLOG_INFO
("[REGISTER] Request details:\n");

935 
	`SWLOG_INFO
("[REGISTER] - Proûs Name: '%s'\n", 
´oûss_Çme
 ?…rocess_name : "NULL");

936 
	`SWLOG_INFO
("[REGISTER] - Lib¿ry V”siÚ: '%s'\n", 
lib_v”siÚ
 ?†ib_version : "NULL");

937 
	`SWLOG_INFO
("[REGISTER] - D-Bu S’d”: '%s'\n", 
rdkv_»q_ÿÎ”_id
);

938 
	`SWLOG_INFO
("[REGISTER] - Cu¼’ˆ»gi¡”ed…roûs£s: %d\n", 
	`g_hash_bË_size
(
»gi¡”ed_´oûs£s
));

941 ià(!
´oûss_Çme
 || 
	`¡¾’
(process_name) == 0) {

942 
	`SWLOG_ERROR
("[REGISTER] ERROR: Invalid…rocess‚ame…rovided\n");

943 
	`g_dbus_m‘hod_švoÿtiÚ_»tuº_”rÜ
(
»¥_ùx
,

944 
G_DBUS_ERROR
, 
G_DBUS_ERROR_INVALID_ARGS
,

946 
	`g_ä“
(
´oûss_Çme
);

947 
	`g_ä“
(
lib_v”siÚ
);

952 
	`SWLOG_INFO
("[REGISTER] Calling‡dd_process_to_tracking...\n");

953 
gušt64
 
hªdËr_id
 = 
	`add_´oûss_to_Œackšg
(
´oûss_Çme
, 
lib_v”siÚ
, 
rdkv_»q_ÿÎ”_id
);

955 ià(
hªdËr_id
 > 0) {

957 
	`SWLOG_INFO
("[REGISTER] SUCCESS: Proûs »gi¡”ed w™h hªdËr_id %"
G_GUINT64_FORMAT
"\n", 
hªdËr_id
);

958 
	`SWLOG_INFO
("[REGISTER] - TÙ®„egi¡”ed…roûs£s: %d\n", 
	`g_hash_bË_size
(
»gi¡”ed_´oûs£s
));

961 
	`g_dbus_m‘hod_švoÿtiÚ_»tuº_v®ue
(
»¥_ùx
,

962 
	`g_v¬ŸÁ_Ãw
("Ñ)", 
hªdËr_id
));

964 
	`SWLOG_INFO
("[REGISTER] Re¥Ú£ s’ˆtØş›Á w™h hªdË¸ID: %"
G_GUINT64_FORMAT
"\n", 
hªdËr_id
);

968 cÚ¡ 
gch¬
 *
»asÚ
 = 
	`g‘_»jeùiÚ_»asÚ
(
´oûss_Çme
, 
rdkv_»q_ÿÎ”_id
);

969 
	`SWLOG_ERROR
("[REGISTER] REGISTRATION REJECTED: %s\n", 
»asÚ
);

971 
	`g_dbus_m‘hod_švoÿtiÚ_»tuº_”rÜ
(
»¥_ùx
,

972 
G_DBUS_ERROR
, 
G_DBUS_ERROR_ACCESS_DENIED
,

973 "Regi¡¿tiÚ„ejeùed: %s", 
»asÚ
);

975 
	`SWLOG_ERROR
("[REGISTER] E¼Ü„e¥Ú£ s’t: %s\n", 
»asÚ
);

977 
	`SWLOG_INFO
("[REGISTER] Registration Complete\n");

979 
	`g_ä“
(
´oûss_Çme
);

980 
	`g_ä“
(
lib_v”siÚ
);

984 ià(
	`g_¡rcmp0
(
rdkv_»q_m‘hod
, "UnregisterProcess") == 0) {

985 
gušt64
 
hªdËr
;

986 
	`g_v¬ŸÁ_g‘
(
rdkv_»q_·ylßd
, "Ñ)", &
hªdËr
);

988 
	`SWLOG_INFO
("[UNREGISTER] Starting Unregistration Process\n");

989 
	`SWLOG_INFO
("[UNREGISTER] Request details:\n");

990 
	`SWLOG_INFO
("[UNREGISTER] - HªdË¸ID: %"
G_GUINT64_FORMAT
"\n", 
hªdËr
);

991 
	`SWLOG_INFO
("[UNREGISTER] - D-Bu S’d”: '%s'\n", 
rdkv_»q_ÿÎ”_id
);

992 
	`SWLOG_INFO
("[UNREGISTER] - Cu¼’ˆ»gi¡”ed…roûs£s: %d\n", 
	`g_hash_bË_size
(
»gi¡”ed_´oûs£s
));

995 ià(
hªdËr
 == 0) {

996 
	`SWLOG_ERROR
("[UNREGISTER] ERROR: Invalid handler ID (0)…rovided\n");

997 
	`g_dbus_m‘hod_švoÿtiÚ_»tuº_”rÜ
(
»¥_ùx
,

998 
G_DBUS_ERROR
, 
G_DBUS_ERROR_INVALID_ARGS
,

1004 
ProûssInfo
 *
´oûss_šfo
 = 
	`g_hash_bË_lookup
(
»gi¡”ed_´oûs£s
, 
	`GINT_TO_POINTER
(
hªdËr
));

1005 cÚ¡ 
gch¬
 *
´oûss_Çme
 = 
´oûss_šfo
 ?…rocess_info->process_name : "UNKNOWN";

1008 
	`SWLOG_INFO
("[UNREGISTER] A‰em±šgØ»mov´oûs '%s' from¿ckšg...\n", 
´oûss_Çme
);

1009 ià(
	`»move_´oûss_äom_Œackšg
(
hªdËr
)) {

1010 
	`SWLOG_INFO
("[UNREGISTER] SUCCESS: Proûs '%s' uÄegi¡”ed sucûssfuÎy!\n", 
´oûss_Çme
);

1011 
	`SWLOG_INFO
("[UNREGISTER] - Removed HªdË¸ID: %"
G_GUINT64_FORMAT
" (´oûss: %s)\n", 
hªdËr
, 
´oûss_Çme
);

1012 
	`SWLOG_INFO
("[UNREGISTER] - Remaššg„egi¡”ed…roûs£s: %d\n", 
	`g_hash_bË_size
(
»gi¡”ed_´oûs£s
));

1014 
	`g_dbus_m‘hod_švoÿtiÚ_»tuº_v®ue
(
»¥_ùx
,

1015 
	`g_v¬ŸÁ_Ãw
("(b)", 
TRUE
));

1016 
	`SWLOG_INFO
("[UNREGISTER] Response sent: SUCCESS (true)\n");

1018 
	`SWLOG_ERROR
("[UNREGISTER] FAILED: Proûs '%s'‚Ù found o¸®»ady uÄegi¡”ed\n", 
´oûss_Çme
);

1019 
	`SWLOG_ERROR
("[UNREGISTER] - HªdË¸ID: %"
G_GUINT64_FORMAT
" (´oûss: %sènÙ found\n", 
hªdËr
, 
´oûss_Çme
);

1020 
	`SWLOG_INFO
("[UNREGISTER] - Cu¼’ˆ»gi¡”ed…roûs£s: %d\n", 
	`g_hash_bË_size
(
»gi¡”ed_´oûs£s
));

1022 
	`g_dbus_m‘hod_švoÿtiÚ_»tuº_v®ue
(
»¥_ùx
,

1023 
	`g_v¬ŸÁ_Ãw
("(b)", 
FALSE
));

1024 
	`SWLOG_INFO
("[UNREGISTER] Response sent: FAILED (false)\n");

1026 
	`SWLOG_INFO
("[UNREGISTER] Unregistration Complete\n");

1031 
	`SWLOG_INFO
("[D-BUS] UnknowÀm‘hod: %s\n", 
rdkv_»q_m‘hod
);

1032 
	`g_dbus_m‘hod_švoÿtiÚ_»tuº_”rÜ
(
»¥_ùx
,

1033 
G_DBUS_ERROR
, 
G_DBUS_ERROR_UNKNOWN_METHOD
,

1034 "UnknowÀm‘hod: %s", 
rdkv_»q_m‘hod
);

1036 
	`SWLOG_INFO
("[D-BUS] Request handling complete - Activeasks: %d\n",

1037 
	`g_hash_bË_size
(
aùive_sks
));

1038 
	}
}

1042 cÚ¡ 
GDBusIÁ”çûVTabË
 
	gš‹rçû_vbË
 = {

1043 
´oûss_­p_»que¡
,

1044 
NULL
,

1045 
NULL


1049 
	$£tup_dbus_£rv”
()

1051 
GE¼Ü
 *
”rÜ
 = 
NULL
;

1052 
GDBusNodeInfo
 *
šŒo¥eùiÚ_d©a
 = 
NULL
;

1054 
	`SWLOG_INFO
("[D-BUS SETUP] Setting up D-Bus server...\n");

1056 
šŒo¥eùiÚ_d©a
 = 
	`g_dbus_node_šfo_Ãw_fÜ_xml
(
šŒo¥eùiÚ_xml
, &
”rÜ
);

1057 ià(!
šŒo¥eùiÚ_d©a
) {

1058 
	`SWLOG_INFO
("[D-BUS SETUP] E¼Ü…¬sšg iÁro¥eùiÚ XML: %s\n", 
”rÜ
->
mes§ge
);

1059 
	`g_”rÜ_ä“
(
”rÜ
);

1064 
cÚÃùiÚ
 = 
	`g_bus_g‘_sync
(
G_BUS_TYPE_SYSTEM
, 
NULL
, &
”rÜ
);

1065 ià(!
cÚÃùiÚ
) {

1066 
	`SWLOG_INFO
("[D-BUS SETUP] E¼Ü cÚÃùšgØD-Bus: %s\n", 
”rÜ
->
mes§ge
);

1067 
	`g_”rÜ_ä“
(
”rÜ
);

1068 
	`g_dbus_node_šfo_uÄef
(
šŒo¥eùiÚ_d©a
);

1073 
»gi¡¿tiÚ_id
 = 
	`g_dbus_cÚÃùiÚ_»gi¡”_objeù
(

1074 
cÚÃùiÚ
,

1075 
OBJECT_PATH
,

1076 
šŒo¥eùiÚ_d©a
->
š‹rçûs
[0],

1077 &
š‹rçû_vbË
,

1078 
NULL
,

1079 
NULL
,

1080 &
”rÜ
);

1082 ià(
»gi¡¿tiÚ_id
 == 0) {

1083 
	`SWLOG_INFO
("[D-BUS SETUP] E¼Ü„egi¡”šg objeù: %s\n", 
”rÜ
->
mes§ge
);

1084 
	`g_”rÜ_ä“
(
”rÜ
);

1085 
	`g_dbus_node_šfo_uÄef
(
šŒo¥eùiÚ_d©a
);

1090 
owÃr_id
 = 
	`g_bus_own_Çme_Ú_cÚÃùiÚ
(

1091 
cÚÃùiÚ
,

1092 
BUS_NAME
,

1093 
G_BUS_NAME_OWNER_FLAGS_NONE
,

1094 
NULL
,

1095 
NULL
,

1096 
NULL
,

1097 
NULL


1100 
	`SWLOG_INFO
("[D-BUS SETUP] S”v” s‘u°com¶‘e. S”viû‚ame: %s\n", 
BUS_NAME
);

1101 
	`SWLOG_INFO
("[D-BUS SETUP] Objeù…©h: %s\n", 
OBJECT_PATH
);

1102 
	`g_dbus_node_šfo_uÄef
(
šŒo¥eùiÚ_d©a
);

1104 
	}
}

1107 
	$ş—nup_dbus
()

1109 
	`SWLOG_INFO
("[CLEANUP] Starting D-Bus cleanup...\n");

1111 ià(
aùive_sks
) {

1112 
	`SWLOG_INFO
("[CLEANUP] CËªšg u°%d‡ùivsks...\n", 
	`g_hash_bË_size
(
aùive_sks
));

1113 
GHashTabËI‹r
 
™”
;

1114 
gpoš‹r
 
key
, 
v®ue
;

1115 
	`g_hash_bË_™”_š™
(&
™”
, 
aùive_sks
);

1116 
	`g_hash_bË_™”_Ãxt
(&
™”
, &
key
, &
v®ue
)) {

1117 
TaskCÚ‹xt
 *
ùx
 = (TaskCÚ‹xt*)
v®ue
;

1118 
	`SWLOG_INFO
("[CLEANUP] F»ešgask fÜ…roûss: %s\n", 
ùx
->
´oûss_Çme
);

1119 
	`ä“_sk_cÚ‹xt
(
ùx
);

1121 
	`g_hash_bË_de¡roy
(
aùive_sks
);

1122 
aùive_sks
 = 
NULL
;

1126 
	`ş—nup_´oûss_Œackšg
();

1129 ià(
»gi¡¿tiÚ_id
 > 0) {

1130 
	`SWLOG_INFO
("[CLEANUP] Unregistering D-Bus object...\n");

1131 
	`g_dbus_cÚÃùiÚ_uÄegi¡”_objeù
(
cÚÃùiÚ
, 
»gi¡¿tiÚ_id
);

1132 
»gi¡¿tiÚ_id
 = 0;

1136 ià(
cÚÃùiÚ
) {

1137 
	`SWLOG_INFO
("[CLEANUP] Releasing D-Bus connection...\n");

1138 
	`g_objeù_uÄef
(
cÚÃùiÚ
);

1139 
cÚÃùiÚ
 = 
NULL
;

1142 ià(
owÃr_id
 != 0) {

1143 
	`SWLOG_INFO
("[DBUS]Failedo own bus‚ame\n");

1144 
	`g_bus_unown_Çme
(
owÃr_id
);

1148 ià(
maš_loİ
) {

1149 
	`SWLOG_INFO
("[CLEANUP] Freeing main†oop...\n");

1150 
	`g_maš_loİ_uÄef
(
maš_loİ
);

1151 
maš_loİ
 = 
NULL
;

1154 
	`SWLOG_INFO
("[CLEANUP] D-Bus cleanup complete\n");

1155 
	}
}

1160 
	$async_xcÚf_ãtch_sk
(
GTask
 *
sk
, 
gpoš‹r
 
sourû_objeù
, gpoš‹¸
sk_d©a
, 
GCªûÎabË
 *
ÿnûÎabË
) {

1161 
AsyncXcÚfF‘chCÚ‹xt
 *
ùx
 = (AsyncXcÚfF‘chCÚ‹xˆ*)
sk_d©a
;

1163 
	`SWLOG_INFO
("\n[ASYNC_FETCH] ========================================\n");

1164 
	`SWLOG_INFO
("[ASYNC_FETCH] *** WORKER THREAD STARTED ***\n");

1165 
	`SWLOG_INFO
("[ASYNC_FETCH] Background XConf fetchƒxecuting in separatehread\n");

1166 
	`SWLOG_INFO
("[ASYNC_FETCH] Th»ad ID: %lu\n", ()
	`±h»ad_£lf
());

1167 
	`SWLOG_INFO
("[ASYNC_FETCH] ========================================\n");

1168 
	`SWLOG_INFO
("[ASYNC_FETCH] IMPORTANT: Main†oop is FREE‡nd…rocessing other„equests!\n");

1169 
	`SWLOG_INFO
("[ASYNC_FETCH] IMPORTANT: This blocking XConf call won't freezehe daemon!\n");

1170 
	`SWLOG_INFO
("[ASYNC_FETCH] ========================================\n");

1172 
	`SWLOG_INFO
("[ASYNC_FETCH] Calling„dkFwupdateMgr_checkForUpdate (BLOCKING CALL)...\n");

1173 
	`SWLOG_INFO
("[ASYNC_FETCH] This will:\n");

1174 
	`SWLOG_INFO
("[ASYNC_FETCH] 1. Connecto XConf server (network I/O)\n");

1175 
	`SWLOG_INFO
("[ASYNC_FETCH] 2. Send device information\n");

1176 
	`SWLOG_INFO
("[ASYNC_FETCH] 3. Parse JSON„esponse\n");

1177 
	`SWLOG_INFO
("[ASYNC_FETCH] 4. Saveo cache file\n");

1178 
	`SWLOG_INFO
("[ASYNC_FETCH] 5. Return„esult structure\n");

1181 
CheckUpd©eRe¥Ú£
 
»¥Ú£
 = 
	`rdkFwupd©eMgr_checkFÜUpd©e
(
ùx
->
hªdËr_id
);

1183 
	`SWLOG_INFO
("[ASYNC_FETCH] ========================================\n");

1184 
	`SWLOG_INFO
("[ASYNC_FETCH] XConf fetch completed in workerhread!\n");

1185 
	`SWLOG_INFO
("[ASYNC_FETCH] Response data:\n");

1186 
	`SWLOG_INFO
("[ASYNC_FETCH] - ResuÉ code: %d ", 
»¥Ú£
.
»suÉ_code
);

1187 
»¥Ú£
.
»suÉ_code
) {

1188 0: 
	`SWLOG_INFO
("(UPDATE_AVAILABLE)\n"); ;

1189 1: 
	`SWLOG_INFO
("(UPDATE_NOT_AVAILABLE)\n"); ;

1190 2: 
	`SWLOG_INFO
("(UPDATE_ERROR)\n"); ;

1191 : 
	`SWLOG_INFO
("(UNKNOWN)\n"); ;

1193 
	`SWLOG_INFO
("[ASYNC_FETCH] - Current version: '%s'\n",

1194 
»¥Ú£
.
cu¼’t_img_v”siÚ
 ?„esponse.current_img_version : "");

1195 
	`SWLOG_INFO
("[ASYNC_FETCH] - Available version: '%s'\n",

1196 
»¥Ú£
.
avaabË_v”siÚ
 ?„esponse.available_version : "");

1197 
	`SWLOG_INFO
("[ASYNC_FETCH] - Update details: '%s'\n",

1198 
»¥Ú£
.
upd©e_d‘as
 ?„esponse.update_details : "");

1199 
	`SWLOG_INFO
("[ASYNC_FETCH] - Status message: '%s'\n",

1200 
»¥Ú£
.
¡©us_mes§ge
 ?„esponse.status_message : "");

1202 
	`SWLOG_INFO
("[ASYNC_FETCH] ========================================\n");

1203 
	`SWLOG_INFO
("[ASYNC_FETCH] Packaging„esult for completion callback...\n");

1206 
GV¬ŸÁ
 *
»suÉ_v¬ŸÁ
 = 
	`g_v¬ŸÁ_Ãw
("(sissss)",

1207 
ùx
->
hªdËr_id
,

1208 (
gšt32
)
»¥Ú£
.
»suÉ_code
,

1209 
»¥Ú£
.
cu¼’t_img_v”siÚ
 ?„esponse.current_img_version : "",

1210 
»¥Ú£
.
avaabË_v”siÚ
 ?„esponse.available_version : "",

1211 
»¥Ú£
.
upd©e_d‘as
 ?„esponse.update_details : "",

1212 
»¥Ú£
.
¡©us_mes§ge
 ?„esponse.status_message : ""

1215 
	`SWLOG_INFO
("[ASYNC_FETCH] GVariant created with signal data\n");

1216 
	`SWLOG_INFO
("[ASYNC_FETCH] Returning„esulto GTask framework...\n");

1217 
	`g_sk_»tuº_poš‹r
(
sk
, 
	`g_v¬ŸÁ_»f
(
»suÉ_v¬ŸÁ
), (
GDe¡royNÙify
)
g_v¬ŸÁ_uÄef
);

1220 
	`checkupd©e_»¥Ú£_ä“
(&
»¥Ú£
);

1222 
	`SWLOG_INFO
("[ASYNC_FETCH] *** WORKER THREAD COMPLETE ***\n");

1223 
	`SWLOG_INFO
("[ASYNC_FETCH] What happens‚ext:\n");

1224 
	`SWLOG_INFO
("[ASYNC_FETCH] - GTask framework schedules completion callback on main†oop\n");

1225 
	`SWLOG_INFO
("[ASYNC_FETCH] -‡sync_xconf_fetch_complete() will„un on mainhread\n");

1226 
	`SWLOG_INFO
("[ASYNC_FETCH] - Completion callback will broadcast signalo‡ll waiting clients\n");

1227 
	`SWLOG_INFO
("[ASYNC_FETCH] - All waitingasks will be cleaned up\n");

1228 
	`SWLOG_INFO
("[ASYNC_FETCH] Workerhreadƒxiting‚ow...\n");

1229 
	`SWLOG_INFO
("[ASYNC_FETCH] ========================================\n\n");

1230 
	}
}

1234 
	$async_xcÚf_ãtch_com¶‘e
(
GObjeù
 *
sourû_objeù
, 
GAsyncResuÉ
 *
»s
, 
gpoš‹r
 
u£r_d©a
) {

1235 
AsyncXcÚfF‘chCÚ‹xt
 *
ùx
 = (AsyncXcÚfF‘chCÚ‹xˆ*)
u£r_d©a
;

1236 
GTask
 *
sk
 = 
	`G_TASK
(
»s
);

1237 
GV¬ŸÁ
 *
»suÉ
 = 
	`g_sk_´İag©e_poš‹r
(
sk
, 
NULL
);

1239 
	`SWLOG_INFO
("\n[COMPLETE] ========================================\n");

1240 
	`SWLOG_INFO
("[COMPLETE] *** COMPLETION CALLBACK TRIGGERED ***\n");

1241 
	`SWLOG_INFO
("[COMPLETE] Running on MAIN LOOPhread (async operation complete)\n");

1242 
	`SWLOG_INFO
("[COMPLETE] Th»ad ID: %lu\n", ()
	`±h»ad_£lf
());

1243 
	`SWLOG_INFO
("[COMPLETE] ========================================\n");

1245 ià(!
»suÉ
) {

1246 
	`SWLOG_ERROR
("[COMPLETE] ERROR: No„esult from backgroundask\n");

1247 
	`SWLOG_ERROR
("[COMPLETE] Workerhread may have failed or„eturned NULL\n");

1248 
	`SWLOG_ERROR
("[COMPLETE] Aborting completion - cannot broadcast signal\n");

1251 
	`SWLOG_INFO
("[COMPLETE] Cleaning up state‡fterƒrror...\n");

1252 
IsCheckUpd©eInProg»ss
 = 
FALSE
;

1253 ià(
wa™šg_checkUpd©e_ids
) {

1254 
	`g_¦i¡_ä“
(
wa™šg_checkUpd©e_ids
);

1255 
wa™šg_checkUpd©e_ids
 = 
NULL
;

1258 
	`g_ä“
(
ùx
->
hªdËr_id
);

1259 
	`g_ä“
(
ùx
);

1260 
	`SWLOG_ERROR
("[COMPLETE] ========================================\n\n");

1264 
	`SWLOG_INFO
("[COMPLETE] Result„eceived from workerhread successfully\n");

1265 
	`SWLOG_INFO
("[COMPLETE] Current system state:\n");

1266 
	`SWLOG_INFO
("[COMPLETE] - IsCheckUpdateInProgress: TRUE (will be„eset)\n");

1267 
	`SWLOG_INFO
("[COMPLETE] - Waitingasks queue size: %d\n",

1268 
	`g_¦i¡_Ëngth
(
wa™šg_checkUpd©e_ids
));

1269 
	`SWLOG_INFO
("[COMPLETE] - Activeasks count: %d\n",

1270 
	`g_hash_bË_size
(
aùive_sks
));

1271 
	`SWLOG_INFO
("[COMPLETE] ========================================\n");

1272 
	`SWLOG_INFO
("[COMPLETE] Now broadcasting signal‡nd cleaning up ALL waitingasks\n");

1273 
	`SWLOG_INFO
("[COMPLETE] ========================================\n");

1276 
	`SWLOG_INFO
("[COMPLETE] Step 1: Broadcasting D-Bus signalo ALL waiting clients...\n");

1277 
	`SWLOG_INFO
("[COMPLETE] Signal‚ame: 'CheckForUpdateComplete'\n");

1278 
	`SWLOG_INFO
("[COMPLETE] Objeù…©h: '%s'\n", 
OBJECT_PATH
);

1279 
	`SWLOG_INFO
("[COMPLETE] Interface: 'org.rdkfwupdater.Interface'\n");

1280 
	`SWLOG_INFO
("[COMPLETE] Destination: NULL (broadcasto‡ll†isteners)\n");

1281 
	`SWLOG_INFO
("[COMPLETE] Waiting clients count: %d\n",

1282 
	`g_¦i¡_Ëngth
(
wa™šg_checkUpd©e_ids
));

1285 
gch¬
 *
hªdËr_id_¡r
;

1286 
gšt32
 
»suÉ_code
;

1287 
gch¬
 *
cu¼’t_v”
, *
avaabË_v”
, *
upd©e_d‘as
, *
¡©us_msg
;

1288 
	`g_v¬ŸÁ_g‘
(
»suÉ
, "(sissss)", &
hªdËr_id_¡r
, &
»suÉ_code
,

1289 &
cu¼’t_v”
, &
avaabË_v”
, &
upd©e_d‘as
, &
¡©us_msg
);

1291 
	`SWLOG_INFO
("[COMPLETE] Signal…ayload:\n");

1292 
	`SWLOG_INFO
("[COMPLETE] - HªdË¸ID: '%s'\n", 
hªdËr_id_¡r
);

1293 
	`SWLOG_INFO
("[COMPLETE] - ResuÉ code: %d ", 
»suÉ_code
);

1294 
»suÉ_code
) {

1295 0: 
	`SWLOG_INFO
("(UPDATE_AVAILABLE)\n"); ;

1296 1: 
	`SWLOG_INFO
("(UPDATE_NOT_AVAILABLE)\n"); ;

1297 2: 
	`SWLOG_INFO
("(UPDATE_ERROR)\n"); ;

1298 : 
	`SWLOG_INFO
("(UNKNOWN)\n"); ;

1300 
	`SWLOG_INFO
("[COMPLETE] - Cu¼’ˆv”siÚ: '%s'\n", 
cu¼’t_v”
);

1301 
	`SWLOG_INFO
("[COMPLETE] - AvaabË v”siÚ: '%s'\n", 
avaabË_v”
);

1302 
	`SWLOG_INFO
("[COMPLETE] - Upd©d‘as: '%s'\n", 
upd©e_d‘as
);

1303 
	`SWLOG_INFO
("[COMPLETE] - Stu mes§ge: '%s'\n", 
¡©us_msg
);

1306 
	`g_ä“
(
hªdËr_id_¡r
);

1307 
	`g_ä“
(
cu¼’t_v”
);

1308 
	`g_ä“
(
avaabË_v”
);

1309 
	`g_ä“
(
upd©e_d‘as
);

1310 
	`g_ä“
(
¡©us_msg
);

1312 
	`SWLOG_INFO
("[COMPLETE] Emitting signal‚ow...\n");

1313 
GE¼Ü
 *
”rÜ
 = 
NULL
;

1314 
gboŞ—n
 
sigÇl_£Á
 = 
	`g_dbus_cÚÃùiÚ_em™_sigÇl
(

1315 
ùx
->
cÚÃùiÚ
,

1316 
NULL
,

1320 
»suÉ
,

1321 &
”rÜ


1324 ià(
sigÇl_£Á
) {

1325 
	`SWLOG_INFO
("[COMPLETE] Signal broadcast SUCCESSFUL\n");

1326 
	`SWLOG_INFO
("[COMPLETE] All %d waiting client(s) will„eceivehis signal\n",

1327 
	`g_¦i¡_Ëngth
(
wa™šg_checkUpd©e_ids
));

1329 
	`SWLOG_ERROR
("[COMPLETE] Signal broadcast FAILED: %s\n",

1330 
”rÜ
 ?ƒ¼Ü->
mes§ge
 : "Unknownƒrror");

1331 ià(
”rÜ
è
	`g_”rÜ_ä“
(error);

1337 
	`SWLOG_INFO
("[COMPLETE] Step 2: Skipping method„esponses (already sent UPDATE_ERROR immediately)\n");

1338 
	`SWLOG_INFO
("[COMPLETE] TÙ® wa™šgask tØş—nup: %d\n", 
	`g_¦i¡_Ëngth
(
wa™šg_checkUpd©e_ids
));

1341 
	`SWLOG_INFO
("[COMPLETE] Step 3: Cleaning up ALL waitingasks from 'active_tasks' hashable...\n");

1342 
	`SWLOG_INFO
("[COMPLETE] Task tØş—nup: %d\n", 
	`g_¦i¡_Ëngth
(
wa™šg_checkUpd©e_ids
));

1343 
	`SWLOG_INFO
("[COMPLETE] Cu¼’ˆaùive_sk size: %d\n", 
	`g_hash_bË_size
(
aùive_sks
));

1345 
GSLi¡
 *
cu¼’t
 = 
wa™šg_checkUpd©e_ids
;

1346 
ş—nup_couÁ
 = 0;

1347 
nÙ_found_couÁ
 = 0;

1349 
cu¼’t
 !ğ
NULL
) {

1350 
gušt
 
sk_id
 = 
	`GPOINTER_TO_UINT
(
cu¼’t
->
d©a
);

1352 
	`SWLOG_INFO
("[COMPLETE] Proûssšg Task ID: %d\n", 
sk_id
);

1353 ià(
	`g_hash_bË_»move
(
aùive_sks
, 
	`GUINT_TO_POINTER
(
sk_id
))) {

1354 
	`SWLOG_INFO
("[COMPLETE] Task %d„emoved from‡ùive_sk (ä“_sk_cÚ‹xˆÿÎed)\n", 
sk_id
);

1355 
ş—nup_couÁ
++;

1357 
	`SWLOG_WARN
("[COMPLETE] Task %d NOT FOUND iÀaùive_sk ÕossibË bug)\n", 
sk_id
);

1358 
nÙ_found_couÁ
++;

1361 
cu¼’t
 = cu¼’t->
Ãxt
;

1364 
	`SWLOG_INFO
("[COMPLETE] Cleanup summary:\n");

1365 
	`SWLOG_INFO
("[COMPLETE] - Task sucûssfuÎy cËªed: %d\n", 
ş—nup_couÁ
);

1366 
	`SWLOG_INFO
("[COMPLETE] - Task nÙ found: %d\n", 
nÙ_found_couÁ
);

1367 
	`SWLOG_INFO
("[COMPLETE] - Remaššg‡ùivsks: %d\n", 
	`g_hash_bË_size
(
aùive_sks
));

1370 
	`SWLOG_INFO
("[COMPLETE] Step 4: Clearing 'waiting_checkUpdate_ids' queue\n");

1371 
	`SWLOG_INFO
("[COMPLETE] QueusizbefÜe: %d\n", 
	`g_¦i¡_Ëngth
(
wa™šg_checkUpd©e_ids
));

1372 
	`g_¦i¡_ä“
(
wa™šg_checkUpd©e_ids
);

1373 
wa™šg_checkUpd©e_ids
 = 
NULL
;

1374 
	`SWLOG_INFO
("[COMPLETE] Queue cleared (all Task IDs freed)\n");

1377 
	`SWLOG_INFO
("[COMPLETE] Step 5: Resetting…rogress flag\n");

1378 
	`SWLOG_INFO
("[COMPLETE] Before: IsCheckUpdateInProgress = TRUE\n");

1379 
IsCheckUpd©eInProg»ss
 = 
FALSE
;

1380 
	`SWLOG_INFO
("[COMPLETE] After: IsCheckUpdateInProgress = FALSE\n");

1381 
	`SWLOG_INFO
("[COMPLETE] New CheckForUpdate„equests can‚ow start background fetch\n");

1384 
	`SWLOG_INFO
("[COMPLETE] Step 6: Freeing AsyncXconfFetchContext\n");

1385 
	`SWLOG_INFO
("[COMPLETE] F»ešg hªdËr_id: '%s'\n", 
ùx
->
hªdËr_id
);

1386 
	`g_ä“
(
ùx
->
hªdËr_id
);

1387 
	`g_ä“
(
ùx
);

1388 
	`SWLOG_INFO
("[COMPLETE] Context freed\n");

1390 
	`SWLOG_INFO
("[COMPLETE] COMPLETION CALLBACK FINISHED\n");

1391 
	`SWLOG_INFO
("[COMPLETE] Summary:\n");

1392 
	`SWLOG_INFO
("[COMPLETE] SigÇÈbrßdÿ¡Ø®È%d wa™šg cl›Á(s)\n", 
ş—nup_couÁ
);

1393 
	`SWLOG_INFO
("[COMPLETE] All waitingasks cleaned from‡ctive_tasks\n");

1394 
	`SWLOG_INFO
("[COMPLETE] Waiting queue cleared\n");

1395 
	`SWLOG_INFO
("[COMPLETE] Progress flag„eset\n");

1396 
	`SWLOG_INFO
("[COMPLETE] Context freed\n");

1397 
	`SWLOG_INFO
("[COMPLETE] System„eady for‚ext CheckForUpdate„equest\n");

1398 
	`SWLOG_INFO
("[COMPLETE] ========================================\n\n");

1399 
	}
}

	@src/dbus/rdkv_dbus_server.h

1 #iâdeà
DBUS_SERVER_H


2 
	#DBUS_SERVER_H


	)

4 
	~<glib.h
>

5 
	~<gio/gio.h
>

6 
	~"rdkFwupd©eMgr_hªdËrs.h
"

10 
gušt64
 
	mhªdËr_id
;

11 
gch¬
 *
	m´oûss_Çme
;

12 
gch¬
 *
	mlib_v”siÚ
;

13 
gch¬
 *
	m£nd”_id
;

14 
gšt64
 
	m»gi¡¿tiÚ_time
;

15 } 
	tProûssInfo
;

20 
	mTASK_TYPE_CHECK_UPDATE
,

21 
	mTASK_TYPE_DOWNLOAD
,

22 
	mTASK_TYPE_UPDATE
,

23 
	mTASK_TYPE_REGISTER
,

24 
	mTASK_TYPE_UNREGISTER


25 } 
	tTaskTy³
;

30 
TaskTy³
 
	mty³
;

31 
gušt32
 
	m·ddšg
;

32 
gch¬
 *
	m´oûss_Çme
;

33 
gch¬
 *
	m£nd”_id
;

34 
GDBusM‘hodInvoÿtiÚ
 *
	mšvoÿtiÚ
;

40 
gch¬
 *
	mş›Á_fwd©a_v”siÚ
;

41 
gch¬
 *
	mş›Á_fwd©a_avaabËV”siÚ
;

42 
gch¬
 *
	mş›Á_fwd©a_upd©eD‘as
;

43 
gch¬
 *
	mş›Á_fwd©a_¡©us
;

44 
CheckFÜUpd©eResuÉ
 
	m»suÉ_code
;

45 } 
	mcheck_upd©e
;

49 
gch¬
 *
	mimage_to_dowÆßd
;

50 
gch¬
 *
	mdowÆßd_u¾
;

51 
gušt64
 
	mfe_size
;

52 
gušt32
 
	m´og»ss_³rûÁ
;

53 } 
	mdowÆßd
;

57 
gch¬
 *
	mfœmw¬e_·th
;

58 
gboŞ—n
 
	mimmedŸ‹_»boÙ
;

59 
gušt32
 
	mæash_´og»ss
;

60 
gušt32
 
	m»£rved
;

61 } 
	mupd©e
;

62 } 
	md©a
;

63 } 
	tTaskCÚ‹xt
;

67 
gušt
 
	mupd©e_sk_id
;

68 
TaskCÚ‹xt
 *
	mCheckupd©eTask_ùx
;

69 } 
	tCheckUpd©e_TaskD©a
;

72 
gušt
 
	mdowÆßd_sk_id
;

73 
TaskCÚ‹xt
 *
	mDowÆßdFWTask_ùx
;

74 
gch¬
* 
	mImageToDowÆßd
;

75 } 
	tDowÆßdFW_TaskD©a
;

78 
	#BUS_NAME
 "Üg.rdkfwupd©”.S”viû"

	)

79 
	#OBJECT_PATH
 "/Üg/rdkfwupd©”/S”viû"

	)

80 
	#INTERFACE_NAME
 "Üg.rdkfwupd©”.IÁ”çû"

	)

81 
GMašLoİ
 *
maš_loİ
;

82 
GHashTabË
 *
aùive_sks
;

84 
ş—nup_´oûss_Œackšg
();

85 
š™_sk_sy¡em
();

86 
£tup_dbus_£rv”
();

87 
ş—nup_dbus
();

	@src/device_status_helper.c

19 
	~"deviû_¡©us_h–³r.h
"

20 
	~"rdkv_cdl.h
"

21 
	~"rdkv_cdl_log_w¿µ”.h
"

22 #iâdeà
GTEST_ENABLE


23 
	~"rdk_fwdl_uts.h
"

24 
	~"jsÚ_·r£.h
"

26 
	~"ŸrmIÁ”çû.h
"

27 
	~"rfcš‹rçû.h
"

28 
	~"dowÆßd_¡©us_h–³r.h
"

29 
	~"jsÚ_´oûss.h
"

30 
	~"deviû_­i.h
"

31 #iâdeà
GTEST_ENABLE


32 
	~"commÚ_deviû_­i.h
"

35 * 
¡rÿ£¡r
(cÚ¡ * 
s1
, cÚ¡ * 
s2
);

36 
Rfc_t
 
rfc_li¡
;

43 
boŞ
 
	$Cu¼’tRuÂšgIn¡
(cÚ¡ *
fe
)

45 
boŞ
 
¡©us
 = 
çl£
;

46 
FILE
 *
å
 = 
NULL
;

47 
buf
[64] = {0};

48 *
tmp
 = 
NULL
;

49 
´ocfe
[78];

50 *
¬g
 = 
NULL
;

51 
size_t
 
size
 = 0;

53 ià(
fe
 !ğ
NULL
) {

54 
å
 = 
	`fİ’
(
fe
, "r");

55 ià(
å
 !ğ
NULL
) {

56 
	`fg‘s
(
buf
, (buf), 
å
);

57 
tmp
 = 
	`¡rchr
(
buf
, '\n');

58 ià(
tmp
 !ğ
NULL
) {

59 *
tmp
 = '\0';

61 
	`fşo£
(
å
);

62 
å
 = 
NULL
;

63 #iâdeà
GTEST_ENABLE


64 
	`¢´štf
(
´ocfe
, Õrocfe), "/´oc/%s/cmdlše", 
buf
);

66 
	`¢´štf
(
´ocfe
, Õrocfe), "/tmp/cmdlše.txt", 
buf
);

68 
	`SWLOG_INFO
("´ocfe=%s\n", 
´ocfe
);

70 
å
 = 
	`fİ’
(
´ocfe
, "r");

71 ià(
å
 !ğ
NULL
) {

73 
	`g‘d–im
(&
¬g
, &
size
, 0,
å
) != -1){

74 ià(
¬g
 !ğ
NULL
) {

75 
	`SWLOG_INFO
("´oø’Œy…roûs Çme:%s\n",
¬g
);

77 ià(
	`¡r¡r
(
¬g
, "rdkFwupdateMgr") || (strstr(arg, "rdkFwupdateMgr")) || (strstr(arg,"deviceInitiatedFWDnld"))) {

78 
	`SWLOG_INFO
("procƒntry cmdline‡nd…rocess‚ame matched.\nDevice initiated CDL is in…rogress..\n");

79 
	`SWLOG_INFO
("Exiting withoutriggering device initiated firmware download.\n");

80 
	`t2CouÁNÙify
("SYST_INFO_FWUpgrade_Exit", 1);

81 
¡©us
 = 
Œue
;

87 ià(
¬g
 !ğ
NULL
) {

88 
	`ä“
(
¬g
);

90 
	`fşo£
(
å
);

92 
	`SWLOG_ERROR
("Cu¼’tRuÂšgIn¡():UÇbËØİ’hfe:%s\n", 
´ocfe
);

95 
	`SWLOG_ERROR
("Cu¼’tRuÂšgIn¡():UÇbËØİ’hfe:%s\n", 
fe
);

98 
	`SWLOG_ERROR
("CurrentRunningInst(): Function…arameter is NULL\n");

100  
¡©us
;

101 
	}
}

106 
	$wa™FÜN
()

108 
mod–
[16] = {0};

109 
»t
 = -1;

110 
»t
 = 
	`g‘DeviûPrİ”tyD©a
("MODEL_NUM", 
mod–
, (model));

111 ià(
»t
 =ğ
UTILS_SUCCESS
) {

112 
	`SWLOG_INFO
("mod– = %s\n", 
mod–
);

114 ià(0 !ğ(
	`¡ºcmp
(
mod–
, "RPI", 3))) {

115 0 !ğ
	`feP»£ÁCheck
("/tmp/stt_received")) {

116 
	`SWLOG_INFO
("Waiting for STT\n");

117 
	`¦“p
(2);

119 
	`SWLOG_INFO
("Received STT flag\n");

122 
	`SWLOG_ERROR
("%s: g‘DeviûPrİ”tyD©a(èfÜ MODEL fa\n", 
__FUNCTION__
);

124 
	}
}

129 
boŞ
 
	$isDnsResŞve
(cÚ¡ *
dns_fe_Çme
)

131 
boŞ
 
dns_¡©us
 = 
çl£
;

132 
boŞ
 
¡ršg_check
 = 
çl£
;

133 
FILE
 *
å
 = 
NULL
;

134 
tbuff
[80] = {0};

135 *
tmp
;

136 ià(
dns_fe_Çme
 =ğ
NULL
) {

137 
	`SWLOG_ERROR
("isDnsResolve():…arameter is NULL\n");

138  
dns_¡©us
;

140 
å
 = 
	`fİ’
(
dns_fe_Çme
 , "r");

141 ià(
å
 !ğ
NULL
) {

142 
NULL
 !ğ(
	`fg‘s
(
tbuff
, Ñbuff), 
å
))) {

143 ià(
NULL
 !ğ(
	`¡r¡r
(
tbuff
, "nameserver"))) {

144 
¡ršg_check
 = 
Œue
;

148 ià(
¡ršg_check
 =ğ
Œue
) {

149 
tmp
 = 
	`¡r¡r
(
tbuff
, "nameserver");

150 
	`SWLOG_INFO
("dn »sŞvd©a=%s\n", 
tbuff
);

151 ià(
tmp
 !ğ
NULL
) {

152 
tmp
 =mp + 10;

153 ià(*
tmp
 != '\0' && *tmp != '\n') {

154 
	`SWLOG_INFO
("dns‚ameserver…resent.\n");

155 
dns_¡©us
 = 
Œue
;

159 
	`fşo£
(
å
);

161 
	`SWLOG_INFO
("dn »sŞvfe:% nÙ…»£Á\n", 
dns_fe_Çme
);

163  
dns_¡©us
;

164 
	}
}

171 
boŞ
 
	$CheckIProu‹CÚÃùiv™y
(cÚ¡ *
fe_Çme
)

173 
boŞ
 
_¡©us
 = 
çl£
;

174 
boŞ
 
¡ršg_check
 = 
çl£
;

175 
FILE
 *
å
 = 
NULL
;

176 
tbuff
[80] = {0};

177 *
tmp
;

178 
IpRou‹CÁ
 = 5;

179 ià(
fe_Çme
 =ğ
NULL
) {

180 
	`SWLOG_ERROR
("parameter is NULL\n");

181  
_¡©us
;

183 
	`SWLOG_INFO
("CheckIPRou‹ Wa™šg fÜ Rou‹ CÚfig % fe\n", 
IP_ROUTE_FLAG
);

184 
IpRou‹CÁ
--) {

185 ià(0 =ğ(
	`feP»£ÁCheck
(
IP_ROUTE_FLAG
))) {

188 
	`¦“p
(15);

190 ià(
IpRou‹CÁ
 =ğ0 && (0 =ğ(
	`feP»£ÁCheck
(
IP_ROUTE_FLAG
)))) {

191 
	`SWLOG_INFO
("%s:„ou‹ fÏg=% nÙ…»£Á\n", 
__FUNCTION__
, 
IP_ROUTE_FLAG
);

192  
_¡©us
;

194 
	`SWLOG_INFO
("CheckIPRoute Received Route Config file\n");

195 
å
 = 
	`fİ’
(
fe_Çme
 , "r");

196 ià(
å
 !ğ
NULL
) {

197 
NULL
 !ğ(
	`fg‘s
(
tbuff
, Ñbuff), 
å
))) {

198 ià(
NULL
 !ğ(
	`¡r¡r
(
tbuff
, "IPV"))) {

199 
¡ršg_check
 = 
Œue
;

203 ià(
¡ršg_check
 =ğ
Œue
) {

204 
tmp
 = 
	`¡r¡r
(
tbuff
, "IPV");

205 
	`SWLOG_INFO
("‡dd»ss=%s\n", 
tbuff
);

206 ià(
tmp
 !ğ
NULL
 && (NULL !ğ
	`¡r¡r
(tmp, "IPV4"))) {

213 
	`SWLOG_INFO
("deçuÉ„ou‹¸Lšk LoÿÈIPV4‡dd»s ´e£Á=%s\n", 
tmp
);

214 }ià(
tmp
 !ğ
NULL
 && (NULL !ğ
	`¡r¡r
(tmp, "IPV6"))) {

215 
	`SWLOG_INFO
("deçuÉ„ou‹¸Lšk LoÿÈIPV6‡dd»s ´e£Á=%s\n", 
tmp
);

217 
	`SWLOG_ERROR
("IP‡ddressype does‚ot found\n");

220 
	`SWLOG_ERROR
("F% dÛ nÙ havIP‡dd»s š…rİ” fÜm©\n", 
fe_Çme
);

222 
	`fşo£
(
å
);

224 
	`SWLOG_INFO
("„ou‹ fe:% nÙ…»£Á\n", 
fe_Çme
);

226 iàĞ
Œue
 =ğ
	`isCÚÃùedToIÁ”Ãt
()) {

227 
	`SWLOG_INFO
("Device is online\n");

228 
_¡©us
 = 
Œue
;

230 
	`SWLOG_INFO
("Device is‚ot online\n");

231 
_¡©us
 = 
çl£
;

233  
_¡©us
;

234 
	}
}

239 
boŞ
 
	$upd©eOPTOUTFe
(cÚ¡ *
İtout_fe_Çme
)

241 
boŞ
 
İt_¡©us
 = 
çl£
;

242 
boŞ
 
’fÜû_İtout_£t
 = 
çl£
;

243 
FILE
 *
å
 = 
NULL
;

244 
FILE
 *
å_wr™e
 = 
NULL
;

245 
tbuff
[80] = {0};

246 *
upd©e_d©a
 = "softwareoptout=ENFORCE_OPTOUT\n";

247 
»t
 = -1;

248 ià(
İtout_fe_Çme
 =ğ
NULL
) {

249 
	`SWLOG_ERROR
("%s:…¬am‘” i NULL\n", 
__FUNCTION__
);

250  
İt_¡©us
;

252 
å_wr™e
 = 
	`fİ’
(
MAINTENANCE_MGR_RECORD_UPDATE_FILE
, "w");

253 ià(
å_wr™e
 =ğ
NULL
) {

254 
	`SWLOG_ERROR
("%s: UÇbËØü—‹ fe:%s\n", 
__FUNCTION__
, 
MAINTENANCE_MGR_RECORD_UPDATE_FILE
);

255  
İt_¡©us
;

257 
å
 = 
	`fİ’
(
İtout_fe_Çme
 , "r");

258 ià(
å
 !ğ
NULL
) {

259 
NULL
 !ğ(
	`fg‘s
(
tbuff
, Ñbuff), 
å
))) {

260 ià((
NULL
 !ğ(
	`¡r¡r
(
tbuff
, "softwareoptout"))) && (NULL != (strstr(tbuff, "BYPASS_OPTOUT")))) {

261 
	`SWLOG_INFO
("İtouˆ£ˆto:%s\n", 
upd©e_d©a
);

262 
	`åuts
(
upd©e_d©a
, 
å_wr™e
);

263 
’fÜû_İtout_£t
 = 
Œue
;

265 
	`åuts
(
tbuff
, 
å_wr™e
);

268 
	`fşo£
(
å
);

269 
	`fşo£
(
å_wr™e
);

270 ià(
’fÜû_İtout_£t
 =ğ
Œue
) {

272 
»t
 = 
	`»Çme
(
MAINTENANCE_MGR_RECORD_UPDATE_FILE
, 
İtout_fe_Çme
);

273 ià(
»t
 == 0) {

274 
	`SWLOG_INFO
("»ÇmİtouˆftØ%s\n", 
İtout_fe_Çme
);

275 
İt_¡©us
 = 
Œue
;

277 
	`SWLOG_ERROR
("çØ»ÇmİtouˆftØ%s:ƒ¼Ü=%d\n", 
İtout_fe_Çme
, 
»t
);

281 
	`SWLOG_ERROR
("İtouˆfe:% nÙ…»£Á\n", 
İtout_fe_Çme
);

282 
	`fşo£
(
å_wr™e
);

284 
	`uÆšk
(
MAINTENANCE_MGR_RECORD_UPDATE_FILE
);

285  
İt_¡©us
;

286 
	}
}

291 
boŞ
 
	$checkCodebigAcûss
()

293 
»t
 = -1;

294 
boŞ
 
codebigEÇbË
 = 
çl£
;

295 
»t
 = 
	`v_£cu»_sy¡em
("GetServiceUrl 2emp");

296 
	`SWLOG_INFO
("Ex™ codfÜ codebigcheck:%d\n", 
»t
);

297 ià(
»t
 == 0) {

298 
	`SWLOG_INFO
("CodebigAcûs P»£Á:%d\n", 
»t
);

299 
codebigEÇbË
 = 
Œue
;

301 
	`SWLOG_INFO
("CodebigAcûs NÙ P»£Á:%d\n", 
»t
);

303  
codebigEÇbË
;

304 
	}
}

308 
	$isS‹RedSuµÜ‹d
() {

309 
»t
 = -1;

310 
»t
 = 
	`feP»£ÁCheck
(
STATE_RED_SPRT_FILE
);

311 if(
»t
 == 0) {

312 
	`SWLOG_INFO
("isS‹RedSuµÜ‹d(): Ye f´e£Á:%s\n", 
STATE_RED_SPRT_FILE
);

315 
	`SWLOG_INFO
("isS‹RedSuµÜ‹d(): No:%s\n", 
STATE_RED_SPRT_FILE
);

317 
	}
}

323 
	$isInS‹Red
() {

324 
»t
 = -1;

325 
¡©eRed
 = 0;

326 
»t
 = 
	`isS‹RedSuµÜ‹d
();

327 if(
»t
 == 0) {

328 
	`SWLOG_INFO
("isInS‹Red(): NØ»t:%d\n", 
¡©eRed
);

329  
¡©eRed
;

331 
»t
 = 
	`feP»£ÁCheck
(
STATEREDFLAG
);

332 if(
»t
 == 0) {

333 
	`SWLOG_INFO
("isInS‹Red(): Ye FÏg…r£Á:%s. Deviû i š s‹»d\n", 
STATEREDFLAG
);

334 
¡©eRed
 = 1;

336 
	`SWLOG_INFO
("isInS‹Red(): NØFÏg NÙ…r£Á:%s. Deviû i nÙ iÀ¡©”ed\n", 
STATEREDFLAG
);

338  
¡©eRed
;

339 
	}
}

341 
	$un£tS‹Red
()

343 
»t
 = -1;

344 
»t
 = 
	`feP»£ÁCheck
(
STATEREDFLAG
);

345 ià(
»t
 == 0) {

346 
	`SWLOG_INFO
("RED:unsetStateRed: Exiting State Red\n");

347 
	`uÆšk
(
STATEREDFLAG
);

349 
	`SWLOG_INFO
("RED:unsetStateRed: Not in State Red\n");

351 
	}
}

357 
	$checkAndEÁ”S‹Red
(
cu¾»t
, cÚ¡ *
di§bËStsUpd©e
) {

358 
»t
 = -1;

359 
FILE
 *
å
 = 
NULL
;

360 
FWDowÆßdStus
 
fwdls
;

361 
»t
 = 
	`isS‹RedSuµÜ‹d
();

362 if(
»t
 == 0) {

365 
»t
 = 
	`isInS‹Red
();

366 if(
»t
 == 1) {

367 
	`SWLOG_INFO
("RED checkAndEnterStateRed: device state„ed„ecovery flag‡lready set\n");

368 
	`t2CouÁNÙify
("SYST_INFO_RedstateSet", 1);

371 if((
cu¾»t
 == 35) || (curlret == 51) || (curlret == 53) || (curlret == 54) || (curlret == 58) || (curlret == 59) || (curlret == 60)

372 || (
cu¾»t
 == 64) || (curlret == 66) || (curlret == 77) || (curlret == 80) || (curlret == 82) || (curlret == 83) || (curlret == 90)

373 || (
cu¾»t
 == 91)|| (curlret == 495)) {

374 
	`SWLOG_INFO
("RED checkAndEÁ”S‹Red: Cu¾ SSL/TLSƒ¼Ü %d. S‘ S‹ Red Recov”y FÏg‡nd Ex™!!!", 
cu¾»t
);

375 
	`t2CouÁNÙify
("CDLrdkpÜl_¥l™", 
cu¾»t
);

377 if(
	`»move
(
DIRECT_BLOCK_FILENAME
) != 0){

378 
	`³¼Ü
("Error deleting DIRECT_BLOCK_FAILURE");

380 if(
	`»move
(
CB_BLOCK_FILENAME
) != 0){

381 
	`³¼Ü
("Error deleting CB_BLOCK_FILENAME");

383 if(
	`»move
(
HTTP_CDL_FLAG
) != 0){

384 
	`³¼Ü
("Error deleting HTTP_CDL_FLAG");

388 
	`¢´štf
(
fwdls
.
m‘hod
, (fwdls.method), "Method|xconf\n");

389 
	`¢´štf
(
fwdls
.
´Ùo
, (fwdls.proto), "Proto|\n");

390 
	`¢´štf
(
fwdls
.
¡©us
, (fwdls.status), "Status|Failure\n");

391 
	`¢´štf
(
fwdls
.
»boÙ
, (fwdls.reboot), "Reboot|\n");

392 
	`¢´štf
(
fwdls
.
çu»R—sÚ
, (fwdls.failureReason), "FailureReason|TLS/SSL Error\n");

393 
	`¢´štf
(
fwdls
.
dÆdV”¢
, (fwdls.dnldVersn), "DnldVersn|\n");

394 
	`¢´štf
(
fwdls
.
dÆdfe
, (fwdls.dnldfile), "DnldFile|\n");

395 
	`¢´štf
(
fwdls
.
dÆdu¾
, (fwdls.dnldurl), "DnldURL|\n");

396 
fwdls
.
Ï¡run
[0] = 0;

398 
	`¢´štf
(
fwdls
.
FwUpd©eS‹
, (fwdls.FwUpdateState), "FwUpdateState|Failed\n");

399 
fwdls
.
D–ayDowÆßd
[0] = 0;

401 
	`upd©eFWDowÆßdStus
(&
fwdls
, 
di§bËStsUpd©e
);

403 
	`unš™Ÿlize
(
INITIAL_VALIDATION_SUCCESS
);

404 
å
 = 
	`fİ’
(
STATEREDFLAG
, "w");

405 if(
å
 !ğ
NULL
) {

406 
	`fşo£
(
å
);

408 
	`ex™
(1);

411 ifĞ(
	`feP»£ÁCheck
Ğ
RED_STATE_REBOOT
 ) =ğ
RDK_API_SUCCESS
) ) {

412 
	`SWLOG_INFO
("% : RED Recov”y com¶‘ed\n", 
__FUNCTION__
);

413 
	`ev’tMªag”
(
RED_STATE_EVENT
, 
RED_RECOVERY_COMPLETED
);

414 
	`uÆšk
(
RED_STATE_REBOOT
);

417 
	}
}

425 
	$checkVideoStus
(cÚ¡ *
deviû_Çme
) {

426 
»t
 = -1;

427 
FILE
 *
å
 = 
NULL
;

428 
fe_Çme
[64] = { 0 };

429 
¡r_g»p
[16] = { 0 };

430 
tbuff
[80] = { 0 };

431 *
tmp
 = 
NULL
;

433 if(
deviû_Çme
 =ğ
NULL
) {

434 
	`SWLOG_ERROR
("checkVideoStatus()…arameter is NULL\n");

435  
»t
;

439 if((0 =ğ(
	`¡ºcmp
(
deviû_Çme
, "LLAMA", 5))) || ((0 == (strncmp(device_name, "PLATCO", 6))))) {

440 
	`¡ºıy
(
fe_Çme
, "/sys/class/vdec/vdec_status", (file_name) - 1);

441 
fe_Çme
[(file_name) - 1] = '\0';

442 
	`¡ºıy
(
¡r_g»p
, "frame width", (str_grep) - 1);

443 
¡r_g»p
[(str_grep) - 1] = '\0';

445 
	`¡ºıy
(
fe_Çme
, "/proc/brcm/video_decoder", (file_name) - 1);

446 
fe_Çme
[(file_name) - 1] = '\0';

447 
	`¡ºıy
(
¡r_g»p
, "pts", (str_grep) - 1);

448 
¡r_g»p
[(str_grep) - 1] = '\0';

450 
	`SWLOG_INFO
("checkVideoStus(èdeviû‚ame=% ªd checkšg fe=%s\n", 
deviû_Çme
, 
fe_Çme
);

451 
å
 = 
	`fİ’
(
fe_Çme
, "r");

452 if(
å
 =ğ
NULL
) {

453 
	`SWLOG_ERROR
("checkVideoStus(èuÇbËØİ’ fe=%s\n", 
fe_Çme
);

454  
»t
;

456 (
	`fg‘s
(
tbuff
, Ñbuffè- 1, 
å
)è!ğ
NULL
) {

457 
tmp
 = 
	`¡r¡r
(
tbuff
, 
¡r_g»p
);

458 if(
tmp
 !ğ
NULL
) {

459 
	`SWLOG_INFO
("checkVideoStus(èvideØäamd©a=%s\n", 
tmp
);

460 
»t
 = 1;

466 
	`fşo£
(
å
);

467  
»t
;

468 
	}
}

477 
	$isThrÙeEÇbËd
(cÚ¡ *
deviû_Çme
, cÚ¡ *
»boÙ_immedŸ‹_æag
, 
­p_mode
) {

478 
»t
 = -1;

479 
video_¶y_¡©us
 = -1;

480 ià((
deviû_Çme
 =ğ
NULL
è|| (
»boÙ_immedŸ‹_æag
 == NULL)) {

481 
	`SWLOG_ERROR
("%s: P¬am‘” i NULL\n", 
__FUNCTION__
);

482  
»t
;

484 
	`SWLOG_INFO
("isThrÙeEÇbËd(): DeviûTy³=% ReboÙImmedŸ‹FÏg=%s\n", 
deviû_Çme
, 
»boÙ_immedŸ‹_æag
);

485 if((
	`¡rcmp
(
rfc_li¡
.
rfc_thrÙe
, "true")) == 0) {

486 
video_¶y_¡©us
 = 
	`checkVideoStus
(
deviû_Çme
);

487 if(
video_¶y_¡©us
 =ğ1 || 
­p_mode
 =ğ
APP_BACKGROUND
) {

488 if(
	`¡ºcmp
(
»boÙ_immedŸ‹_æag
, "false", 5) == 0) {

489 
»t
 = 1;

490 
	`SWLOG_INFO
("VideØi SŒ—mšg. H’û, CÚtšušg w™hhThrÙMode. VideØPÏy Stus=%d\n", 
video_¶y_¡©us
);

492 
	`SWLOG_INFO
("VideØi SŒ—mšg, buˆşoudImmedŸ‹ReboÙFÏg i %s. CÚtšušg w™h UÁhrÙMode. VideØPÏy Stus=%d\n", 
»boÙ_immedŸ‹_æag
, 
video_¶y_¡©us
);

495 
	`SWLOG_INFO
("Video is‚ot…laying. Throttle mode is‚otƒnable\n");

498 
	`SWLOG_INFO
("ThrÙ’abË„føi %s\n", 
rfc_li¡
.
rfc_thrÙe
);

500  
»t
;

501 
	}
}

507 
	$isOCSPEÇbË
()

509 
æag_oc¥¡­lšg
 = 0;

510 
æag_oc¥
 = 0;

511 
»t
 = -1;

512 
»t
 = 
	`feP»£ÁCheck
(
EÇbËOCSPS¶šg
);

513 if(
»t
 == 0) {

514 
æag_oc¥¡­lšg
 = 1;

516 
»t
 = 
	`feP»£ÁCheck
(
EÇbËOCSP
);

517 if(
»t
 == 0) {

518 
æag_oc¥
 = 1;

520 
	`SWLOG_INFO
("isOCSPEÇbË(è: oc¥ stus=%d\n", (
æag_oc¥¡­lšg
 && 
æag_oc¥
));

521  (
æag_oc¥¡­lšg
 && 
æag_oc¥
);

522 
	}
}

529 
boŞ
 
	$isUpg¿deInProg»ss
()

531 
boŞ
 
¡©us
 = 
çl£
;

532 ià((
RDK_API_SUCCESS
 =ğ
	`feP»£ÁCheck
(
HTTP_CDL_FLAG
)è|| (RDK_API_SUCCESS =ğfeP»£ÁCheck(
SNMP_CDL_FLAG
)è|| (RDK_API_SUCCESS =ğfeP»£ÁCheck(
ECM_CDL_FLAG
))) {

533 
¡©us
 = 
Œue
;

535  
¡©us
;

536 
	}
}

548 
	$g‘FeLa¡ModifyTime
(*
fe_Çme
)

550 
¡©
 
©Œ
;

551 
»t
 = 0;

552 ià(
fe_Çme
 =ğ
NULL
) {

553 
	`SWLOG_ERROR
("% : P¬am‘” i NULL\n", 
__FUNCTION__
);

554  
»t
;

556 
	`mem£t
(&
©Œ
, '\0', (attr));

557 
»t
 = 
	`¡©
(
fe_Çme
, &
©Œ
);

558 ià(
»t
 != 0) {

559 
	`SWLOG_ERROR
("%s: Fe: % nÙ…»£Á: %d\n", 
__FUNCTION__
, 
fe_Çme
, 
»t
);

562 
	`SWLOG_INFO
("% : La¡ modime: %lu\n", 
__FUNCTION__
, 
©Œ
.
¡_mtime
);

563  
©Œ
.
¡_mtime
;

564 
	}
}

570 
time_t
 
	$g‘Cu¼’tSysTimeSec
()

572 
time_t
 
cu¹ime
 = 
	`time
(0);

573 ià(
cu¹ime
 =ğ((
time_t
) -1)) {

574 
	`SWLOG_INFO
("% :im»tuºƒ¼Ü\n", 
__FUNCTION__
);

577 
	`SWLOG_INFO
("% : cu¼’ˆsy¡emime=%lu\n", 
__FUNCTION__
, 
cu¹ime
);

579  
cu¹ime
;

580 
	}
}

586 
	$isDwÆBlock
(
ty³
)

588 
»t
 = -1;

589 
block_time
 = 0;

590 
fe_Çme
[128] = {0};

591 
cu¼’t_time
 = 0;

592 
Ï¡_mod_time
 = 0;

593 
modifiÿtiÚ_time
 = 0;

594 
»mtime
 = 0;

595 
block
 = 0;

596 ià(
ty³
 =ğ
HTTP_SSR_DIRECT
 ||y³ =ğ
HTTP_XCONF_DIRECT
) {

597 
	`¢´štf
(
fe_Çme
, (fe_Çme), "%s", 
DIRECT_BLOCK_FILENAME
);

598 
block_time
 = 86400;

599 } ià(
ty³
 =ğ
HTTP_SSR_CODEBIG
 ||y³ =ğ
HTTP_XCONF_CODEBIG
) {

600 
	`¢´štf
(
fe_Çme
, (fe_Çme), "%s", 
CB_BLOCK_FILENAME
);

601 
block_time
 = 1800;

603  
»t
;

605 *
»q_ty³
 = ((
ty³
 =ğ
HTTP_SSR_DIRECT
 ||y³ =ğ
HTTP_XCONF_DIRECT
) ? "direct" : "codebig");

606 
	`SWLOG_INFO
(" % : Checkšg fÜ %s\n", 
__FUNCTION__
, 
»q_ty³
);

607 
Ï¡_mod_time
 = 
	`g‘FeLa¡ModifyTime
(
fe_Çme
);

608 ià(
Ï¡_mod_time
 != 0) {

609 
cu¼’t_time
 = 
	`g‘Cu¼’tSysTimeSec
();

610 
modifiÿtiÚ_time
 = 
cu¼’t_time
 - 
Ï¡_mod_time
;

611 
	`SWLOG_INFO
("% modtime=%u\n",
»q_ty³
, 
modifiÿtiÚ_time
);

612 
»mtime
 = (
block_time
/60è- (
modifiÿtiÚ_time
/60);

613 
	`SWLOG_INFO
("% »mtime=%u\n",
»q_ty³
, 
»mtime
);

614 ià(
modifiÿtiÚ_time
 <ğ
block_time
) {

615 
	`SWLOG_INFO
("ImageUpg¿de: La¡ % çed blockšg i ¡Èv®id fÜ %d mšs,…»v’tšg dœeù\n", 
»q_ty³
, 
»mtime
);

616 
block
 = 1;

618 
	`SWLOG_INFO
("ImageUpg¿de: La¡ % çed blockšg ha expœed,„emovšg %s,‡Îowšg dœeù\n", 
»q_ty³
, 
fe_Çme
);

619 
	`uÆšk
(
fe_Çme
);

622  
block
;

623 
	}
}

630 
boŞ
 
	$isD–ayFWDowÆßdAùive
(
D–ayDowÆßdXcÚf
, cÚ¡ *
mašt
, 
Œigg”_ty³
)

632 
d–ay_£c
;

634 
d–ay_£c
 = 
D–ayDowÆßdXcÚf
 * 60;

635 
	`SWLOG_INFO
("%s: Deviû cÚfigu»d w™h dowÆßd d–ay oà%d mšu‹s.\n", 
__FUNCTION__
, 
D–ayDowÆßdXcÚf
);

636 if(
d–ay_£c
 > 0 && 
Œigg”_ty³
 != 5) {

637 ià((
mašt
 !ğ
NULL
è&& (!
	`¡ºcmp
(maint, "true", 4))) {

638 
	`SWLOG_INFO
("%s: S’dšgƒv’ˆtØMaš‹Çnû Plugš w™h E¼Ü befÜex™\n", 
__FUNCTION__
);

640 
	`ev’tMªag”
("Maš‹ÇnûMGR" ,
MAINT_FWDOWNLOAD_ERROR
);

642 
	`¦“p
(
d–ay_£c
);

644  
Œue
;

645 
	}
}

651 
boŞ
 
	$isPDRIEÇbË
()

653 
boŞ
 
¡©us
 = 
çl£
;

654 *
dev_´İ_Çme
 = "PDRI_ENABLED";

655 
»t
 = -1;

656 
pdri_¡©us
[64] = {0};

657 
»t
 = 
	`g‘DeviûPrİ”tyD©a
(
dev_´İ_Çme
, 
pdri_¡©us
, (pdri_status));

658 ià(
»t
 =ğ
UTILS_SUCCESS
) {

659 
	`SWLOG_INFO
("%s:…dr˜¡©u äom deviû.´İ”ty fe=%s\n", 
__FUNCTION__
, 
pdri_¡©us
);

660 
¡©us
 = 
Œue
;

662 
	`SWLOG_INFO
("%s: P-DRI Upg¿dUnsuµÜ‹d !!\n", 
__FUNCTION__
);

664  
¡©us
;

665 
	}
}

667 
boŞ
 
	$G‘PDRIV”siÚ
Ğ*
pPdriV”siÚ
, 
size_t
 
szBufSize
 )

669 *
tmp
 = 
NULL
;

670 
boŞ
 
bR‘
 = 
çl£
;

672 ifĞ
pPdriV”siÚ
 !ğ
NULL
 )

674 *
pPdriV”siÚ
 = 0;

675 ifĞ
	`isPDRIEÇbË
(è=ğ
Œue
 )

677 
	`G‘PDRIFeName
Ğ
pPdriV”siÚ
, 
szBufSize
 );

679 
	`SWLOG_INFO
Ğ"cu¼’ˆpdr˜imagğ%s\n", 
pPdriV”siÚ
 );

680 
tmp
 = 
	`¡r¡r
Ğ
pPdriV”siÚ
, ".bin" );

681 ifĞ
tmp
 !ğ
NULL
 )

683 *
tmp
 = 0;

684 
	`SWLOG_INFO
Ğ"Aá” Removšg .bš = %s\n", 
pPdriV”siÚ
 );

686 
bR‘
 = 
Œue
;

689  
bR‘
;

690 
	}
}

698 
boŞ
 
	$checkPDRIUpg¿de
(cÚ¡ *
dwÆ_pdri_img
)

700 
boŞ
 
¡©us
 = 
çl£
;

701 
cur_pdri_v”siÚ
[64];

703 ià(
dwÆ_pdri_img
 =ğ
NULL
)

705 
	`SWLOG_ERROR
("%s:…¬am‘” i NULL\n", 
__FUNCTION__
);

709 
¡©us
 = 
	`G‘PDRIV”siÚ
Ğ
cur_pdri_v”siÚ
, (cur_pdri_version) );

710 ifĞ
¡©us
 =ğ
Œue
 )

712 
	`SWLOG_INFO
("cu¼’ˆpdr˜imagğ% ªd„eque¡ed imagğ%s\n",
cur_pdri_v”siÚ
, 
dwÆ_pdri_img
);

713 ià(
	`¡rÿ£¡r
(
dwÆ_pdri_img
, 
cur_pdri_v”siÚ
))

715 
	`SWLOG_INFO
("cu¼’ˆpdr˜imagğ% ªd„eque¡ed dwÆ…dr˜imagğ%s\n", 
cur_pdri_v”siÚ
, 
dwÆ_pdri_img
);

716 
	`SWLOG_INFO
("PDRI version ofhe‡ctive image‡ndhe imageo be upgraded‡rehe same. No upgrade„equired.\n");

717 
¡©us
 = 
çl£
;

721 
¡©us
 = 
Œue
;

726 
	`SWLOG_INFO
("PDRI‚ot supported\n");

729  
¡©us
;

730 
	}
}

732 
boŞ
 
	$Ï¡DwÆImg
(*
img_Çme
, 
size_t
 
img_Çme_size
)

734 
Ï¡_dwÆ_img_Çme
[64] = {0};

735 
boŞ
 
¡©us
 = 
çl£
;

736 
tbuff
[64];

737 
šdex
 = 0;

738 
FILE
 *
å
 = 
NULL
;

739 
tbuff
[0] = 0;

741 ià(
img_Çme_size
 > (
Ï¡_dwÆ_img_Çme
)) {

742 
	`SWLOG_INFO
("%s: IÅuˆbufã¸sizi g»©”hª %d\n", 
__FUNCTION__
, (
Ï¡_dwÆ_img_Çme
));

743  
¡©us
;

745 ià(
Ï¡_dwÆ_img_Çme
[0] == 0) {

746 
å
 = 
	`fİ’
("/opt/cdl_flashed_file_name", "r");

747 ià(
å
 !ğ
NULL
) {

748 
	`fg‘s
(
tbuff
, Ñbuff), 
å
);

749 
	`SWLOG_INFO
("Ï¡DÆdFtbuff: %s\n", 
tbuff
);

750 
šdex
 = 
	`¡rc¥n
(
tbuff
, "\n");

751 ià(
šdex
 > 0 && (šdex < (
tbuff
))) {

752 
tbuff
[
šdex
] = '\0';

754 
	`¢´štf
(
Ï¡_dwÆ_img_Çme
, Öa¡_dwÆ_img_Çme), "%s", 
tbuff
);

755 
	`¢´štf
(
img_Çme
, 
img_Çme_size
, "%s", 
Ï¡_dwÆ_img_Çme
);

756 
	`SWLOG_INFO
("Ï¡DÆdFe: %s\n", 
Ï¡_dwÆ_img_Çme
);

757 
	`SWLOG_INFO
("ImagÇm»tuºØÿÎ” funùiÚ: %s\n", 
img_Çme
);

758 
	`fşo£
(
å
);

759 
¡©us
 = 
Œue
;

762 
	`¢´štf
(
img_Çme
, 
img_Çme_size
, "%s", 
Ï¡_dwÆ_img_Çme
);

763 
	`SWLOG_INFO
("O±imizÏ¡DÆdFe: %s\n", 
img_Çme
);

764 
¡©us
 = 
Œue
;

766  
¡©us
;

767 
	}
}

769 
boŞ
 
	$cu¼’tImg
(*
img_Çme
, 
size_t
 
img_Çme_size
)

771 
cur_img_Çme
[64] = {0};

772 
boŞ
 
¡©us
 = 
çl£
;

773 
tbuff
[64];

774 
šdex
 = 0;

775 
FILE
 *
å
 = 
NULL
;

776 
tbuff
[0] = 0;

778 ià(
img_Çme_size
 > (
cur_img_Çme
)) {

779 
	`SWLOG_INFO
("%s: IÅuˆbufã¸sizi g»©”hª %d\n", 
__FUNCTION__
, (
cur_img_Çme
));

780  
¡©us
;

782 ià(
cur_img_Çme
[0] == 0) {

783 
å
 = 
	`fİ’
("/tmp/currently_running_image_name", "r");

784 ià(
å
 !ğ
NULL
) {

785 
	`fg‘s
(
tbuff
, Ñbuff), 
å
);

786 
	`SWLOG_INFO
("cu¼’tImgbuff: %s\n", 
tbuff
);

787 
šdex
 = 
	`¡rc¥n
(
tbuff
, "\n");

788 ià(
šdex
 > 0 && (šdex < (
tbuff
))) {

789 
tbuff
[
šdex
] = '\0';

791 
	`¢´štf
(
cur_img_Çme
, (cur_img_Çme), "%s", 
tbuff
);

792 
	`¢´štf
(
img_Çme
, 
img_Çme_size
, "%s", 
cur_img_Çme
);

793 
	`SWLOG_INFO
("cu¼’tImg: %s\n", 
cur_img_Çme
);

794 
	`SWLOG_INFO
("cu¼’tImg: %s\n", 
img_Çme
);

795 
	`fşo£
(
å
);

796 
¡©us
 = 
Œue
;

799 
	`¢´štf
(
img_Çme
, 
img_Çme_size
, "%s", 
cur_img_Çme
);

800 
	`SWLOG_INFO
("O±imizcu¼’tImg: %s\n", 
img_Çme
);

801 
¡©us
 = 
Œue
;

803  
¡©us
;

804 
	}
}

806 
boŞ
 
	$´evFÏshedFe
(*
img_Çme
, 
size_t
 
img_Çme_size
)

808 
´ev_img_Çme
[64] = {0};

809 
boŞ
 
¡©us
 = 
çl£
;

810 
tbuff
[64];

811 
šdex
 = 0;

812 
tbuff
[0] = 0;

814 ià(
img_Çme_size
 > (
´ev_img_Çme
)) {

815 
	`SWLOG_INFO
("%s: IÅuˆbufã¸sizi g»©”hª %d\n", 
__FUNCTION__
, (
´ev_img_Çme
));

816  
¡©us
;

818 ià(
´ev_img_Çme
[0] == 0) {

819 
FILE
 *
å
;

820 
å
 = 
	`fİ’
(
PREVIOUS_FLASHED_IMAGE
, "r");

821 ià(
å
 !ğ
NULL
) {

822 
	`fg‘s
(
tbuff
, Ñbuff), 
å
);

823 
	`SWLOG_INFO
("´evImgbuff: %s\n", 
tbuff
);

824 
šdex
 = 
	`¡rc¥n
(
tbuff
, "\n");

825 ià(
šdex
 > 0 && (šdex < (
tbuff
))) {

826 
tbuff
[
šdex
] = '\0';

828 
	`¢´štf
(
´ev_img_Çme
, Õ»v_img_Çme), "%s", 
tbuff
);

829 
	`¢´štf
(
img_Çme
, 
img_Çme_size
, "%s", 
´ev_img_Çme
);

830 
	`SWLOG_INFO
("´evImg: %s\n", 
img_Çme
);

831 
	`fşo£
(
å
);

832 
¡©us
 = 
Œue
;

835 
	`¢´štf
(
img_Çme
, 
img_Çme_size
, "%s", 
´ev_img_Çme
);

836 
	`SWLOG_INFO
("O±imiz´evImg: %s\n", 
img_Çme
);

837 
¡©us
 = 
Œue
;

839  
¡©us
;

840 
	}
}

849 
boŞ
 
	$checkFÜV®idPCIUpg¿de
(
Œigg”_ty³
, cÚ¡ *
myfwv”siÚ
, cÚ¡ *
şoudFWV”siÚ
, cÚ¡ *
şoudFWFe
)

851 
boŞ
 
pci_v®id_¡©us
 = 
çl£
;

852 
boŞ
 
Ï¡_dwÆ_¡©us
 = 
çl£
;

853 
boŞ
 
cu¼’t_img_¡©us
 = 
çl£
;

854 
Ï¡_dwÆ_img
[64] = {0};

855 
cu¼’t_img
[64] = {0};

856 
FWDowÆßdStus
 
fwdls
;

858 ià(
myfwv”siÚ
 =ğ
NULL
 || 
şoudFWV”siÚ
 =ğNULL || 
şoudFWFe
 == NULL) {

859 
	`SWLOG_INFO
("%s: P¬am‘” i NULL\n", 
__FUNCTION__
);

860  
çl£
;

862 
	`SWLOG_INFO
("Xconf image/PDRI configuration Check\n");

863 ià((
	`¡r¡r
(
şoudFWFe
, "_PDRI_")è!ğ
NULL
) {

864 
	`SWLOG_INFO
("PDRI image is wrongly configured‡s Cloud Firmware Value\n");

865  
pci_v®id_¡©us
;

867 
	`SWLOG_INFO
("Trigg” Ty³=%d\n", 
Œigg”_ty³
);

868 
Ï¡_dwÆ_¡©us
 = 
	`Ï¡DwÆImg
(
Ï¡_dwÆ_img
, (last_dwnl_img));

869 
cu¼’t_img_¡©us
 = 
	`cu¼’tImg
(
cu¼’t_img
, (current_img));

870 
	`SWLOG_INFO
("Ï¡_dwÆ_¡©us=%˜ªd cu¼’t_img_¡©us=%i\n", 
Ï¡_dwÆ_¡©us
, 
cu¼’t_img_¡©us
);

871 
	`SWLOG_INFO
("myfwv”siÚ:%s\n", 
myfwv”siÚ
);

872 
	`SWLOG_INFO
("şoudFWV”siÚ:%s\n", 
şoudFWV”siÚ
);

873 
	`SWLOG_INFO
("şoudFWFe:%s\n",
şoudFWFe
);

874 
	`t2V®NÙify
("şoudFWFe_¥l™", (*)
şoudFWFe
);

875 
	`SWLOG_INFO
("Ï¡dwÆfe:%s\n", 
Ï¡_dwÆ_img
);

876 
	`SWLOG_INFO
("cu¼’tImg:%s\n", 
cu¼’t_img
);

877 ià(
Œigg”_ty³
 == 1 ||rigger_type == 3 ||rigger_type == 4) {

878 ià((
çl£
 =ğ
cu¼’t_img_¡©us
è|| (çl£ =ğ
Ï¡_dwÆ_¡©us
)) {

879 
	`SWLOG_INFO
("Unableo fetch current„unning image file‚ame or†ast download file\n");

880 
	`SWLOG_INFO
("Error identified with image file comparison !!! Proceeding with firmware version check.\n");

881 ià(
	`¡rÿ£cmp
(
myfwv”siÚ
, 
şoudFWV”siÚ
)) {

882 
	`SWLOG_INFO
("Fœmw¬v”siÚ ¬difã»Á myFWV”siÚ : % ªd cloudFWV”siÚ : %s\n", 
myfwv”siÚ
, 
şoudFWV”siÚ
);

883 
pci_v®id_¡©us
 = 
Œue
;

886 ià(
Œue
 =ğ
cu¼’t_img_¡©us
) {

887 ià(
	`¡rÿ£cmp
(
cu¼’t_img
, 
şoudFWFe
)) {

888 
	`SWLOG_INFO
("pci file checkrue\n");

889 
pci_v®id_¡©us
 = 
Œue
;

890  
pci_v®id_¡©us
;

894 ià(
çl£
 =ğ
pci_v®id_¡©us
) {

895 ià((
Œue
 =ğ
cu¼’t_img_¡©us
è&& (
	`¡rÿ£cmp
(
cu¼’t_img
, 
şoudFWFe
))) {

896 ià((
Œue
 =ğ
Ï¡_dwÆ_¡©us
è&& (
	`¡rÿ£cmp
(
Ï¡_dwÆ_img
, 
şoudFWFe
))) {

897 
	`SWLOG_INFO
("pci File Check isrue\n");

898 
pci_v®id_¡©us
 = 
Œue
;

900 
	`SWLOG_INFO
("FW version ofhe standby image‡ndhe imageo be upgraded‡rehe same. No upgrade„equired.\n");

901 
	`t2CouÁNÙify
("SYST_INFO_SwdlSameImg_Stndby", 1);

903 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_NO_UPGRADE_REQUIRED
);

904 
	`upd©eUpg¿deFÏg
(2);

907 
	`SWLOG_INFO
("FW version ofhe‡ctive image‡ndhe imageo be upgraded‡rehe same. No upgrade„equired.\n");

908 
	`t2CouÁNÙify
("SYST_INFO_swdlSameImg", 1);

910 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_NO_UPGRADE_REQUIRED
);

911 
	`upd©eUpg¿deFÏg
(2);

914 ià(
çl£
 =ğ
pci_v®id_¡©us
) {

915 
	`¢´štf
(
fwdls
.
m‘hod
, (fwdls.method), "Method|xconf\n");

916 
	`¢´štf
(
fwdls
.
´Ùo
, (fwdls.proto), "Proto|http\n");

917 
	`¢´štf
(
fwdls
.
¡©us
, (fwdls.status), "Status|No upgrade‚eeded\n");

918 
	`¢´štf
(
fwdls
.
»boÙ
, (fwdls.reboot), "Reboot|\n");

919 
	`¢´štf
(
fwdls
.
çu»R—sÚ
, (fwdls.failureReason), "Failure|Versions Match\n");

920 
	`¢´štf
(
fwdls
.
dÆdV”¢
, (fwdls.dÆdV”¢), "DÆdV”¢|%s\n",
şoudFWV”siÚ
);

921 
	`¢´štf
(
fwdls
.
dÆdfe
, (fwdls.dÆdfe), "DÆdFe|%s\n", 
şoudFWFe
);

922 
	`¢´štf
(
fwdls
.
dÆdu¾
, (fwdls.dnldurl), "DnldURL|\n");

923 
	`¢´štf
(
fwdls
.
Ï¡run
, (fwdls.lastrun), "LastRun|\n");

924 
	`¢´štf
(
fwdls
.
FwUpd©eS‹
, (fwdls.FwUpdateState), "FwUpdateState|No upgrade‚eeded\n");

925 
	`¢´štf
(
fwdls
.
D–ayDowÆßd
, (fwdls.DelayDownload), "DelayDownload|\n");

926 
	`upd©eFWDowÆßdStus
(&
fwdls
, "no");

928  
pci_v®id_¡©us
;

929 
	}
}

	@src/deviceutils/device_api.c

19 
	~<¡dio.h
>

20 
	~<¡dlib.h
>

21 
	~<¡ršg.h
>

22 
	~<ùy³.h
>

23 
	~<¡dboŞ.h
>

24 
	~<time.h
>

26 #iâdeà
GTEST_ENABLE


27 
	~"u¾H–³r.h
"

28 
	~"rdk_fwdl_uts.h
"

29 
	~"sy¡em_uts.h
"

32 
	~"rdkv_cdl.h
"

33 
	~"jsÚ_·r£.h
"

34 
	~"deviû_­i.h
"

35 
	~"deviûuts.h
"

36 
	~"deviû_¡©us_h–³r.h
"

37 
	~"rfcš‹rçû.h
"

38 
	~"msUts.h
"

39 
	~"rdkv_cdl_log_w¿µ”.h
"

41 
	#MAC_ADDRESS_LEN
 17

	)

54 
size_t
 
	$G‘S”v”U¾Fe
Ğ*
pS”vU¾
, 
size_t
 
szBufSize
, *
pFeName
 )

56 
FILE
 *
å
;

57 *
pH‰p
, *
pLb
;

58 
size_t
 
i
 = 0;

59 
buf
[256];

61 ifĞ
pS”vU¾
 !ğ
NULL
 && 
pFeName
 != NULL )

63 *
pS”vU¾
 = 0;

64 ifĞ(
å
 = 
	`fİ’
Ğ
pFeName
, "r" )è!ğ
NULL
 )

66 
pH‰p
 = 
NULL
;

67  (
pH‰p
 =ğ
NULL
è&& (
	`fg‘s
Ğ
buf
, (buf), 
å
 ) != NULL) )

69 ifĞ(
pH‰p
 = 
	`¡r¡r
Ğ
buf
, "h‰ps://" )è!ğ
NULL
 )

71 ifĞ(
pLb
 = 
	`¡rchr
Ğ
buf
, ()'#' )è!ğ
NULL
 )

73 ifĞ
pLb
 <ğ
pH‰p
 )

75 
pH‰p
 = 
NULL
;

80 *
pLb
 = 0;

83 
pLb
 = 
pH‰p
 + 8;

84  *
pLb
 )

86 ifĞ(!
	`i§Êum
Ğ*
pLb
 ) && *pLb !ğ'.' && *pLb !ğ'/' && *pLb !ğ'-' && *pLb !ğ'_' && *pLb !ğ':'è|| 
	`is¥aû
( *pLb ) )

88 *
pLb
 = 0;

91 ++
pLb
;

95 
	`fşo£
Ğ
å
 );

96 ifĞ
pH‰p
 !ğ
NULL
 )

98 
i
 = 
	`¢´štf
Ğ
pS”vU¾
, 
szBufSize
, "%s", 
pH‰p
 );

103 
	`SWLOG_INFO
Ğ"G‘S”v”U¾: % ÿn'ˆbİ’ed\n", 
pFeName
 );

108 
	`SWLOG_ERROR
( "GetServerUrlFile: Error, input‡rgument NULL\n" );

110  
i
;

111 
	}
}

122 
size_t
 
	$G‘Add™iÚ®FwV”Info
Ğ*
pAdd™iÚ®FwV”Info
, 
size_t
 
szBufSize
 )

124 
size_t
 
Ën
 = 0;

126 ifĞ
pAdd™iÚ®FwV”Info
 !ğ
NULL
 )

128 
Ën
 = 
	`G‘PDRIFeName
Ğ
pAdd™iÚ®FwV”Info
, 
szBufSize
 );

129 
Ën
 = 
	`¡ršv®idch¬
(
pAdd™iÚ®FwV”Info
,†en);

130 ifĞ
Ën
 < 
szBufSize
 )

132 
Ën
 +ğ
	`G‘RemÙeInfo
Ğ(
pAdd™iÚ®FwV”Info
 +†’), (
szBufSize
 -†en) );

137 
	`SWLOG_ERROR
( "GetAdditionalFwVerInfo: Error, input‡rgument NULL\n" );

140  
Ën
;

141 
	}
}

152 
size_t
 
	$G‘PDRIFeName
Ğ*
pPDRIF’ame
, 
size_t
 
szBufSize
 )

154 *
pTmp
;

155 
size_t
 
Ën
 = 0;

157 ifĞ
pPDRIF’ame
 !ğ
NULL
 )

159 
Ën
 = 
	`RunCommªd
Ğ
eMäUt
, "--PDRIV”siÚ", 
pPDRIF’ame
, 
szBufSize
 );

160 ifĞ
Ën
 && ((
pTmp
 = 
	`¡rÿ£¡r
Ğ
pPDRIF’ame
, "çed" )è=ğ
NULL
) )

162 
	`SWLOG_INFO
Ğ"G‘PDRIFeName: PDRI V”siÚ = %s\n", 
pPDRIF’ame
 );

163 
	`t2V®NÙify
("PDRI_V”siÚ_¥l™", 
pPDRIF’ame
);

167 *
pPDRIF’ame
 = 0;

168 
Ën
 = 0;

169 
	`SWLOG_ERROR
( "GetPDRIFileName: PDRI filename„etrieving Failed ...\n" );

174 
	`SWLOG_ERROR
( "GetPDRIFileName: Error, input‡rgument NULL\n" );

176  
Ën
;

177 
	}
}

190 
size_t
 
	$G‘In¡®ËdBundËs
(*
pBundËs
, 
size_t
 
szBufSize
)

192 
JSON
 *
pJsÚTİ
;

193 
JSON
 *
pJsÚ
;

194 *
pJsÚSŒ
;

195 
size_t
 
Ën
;

196 
size_t
 
szRuÂšgL’
 = 0;

197 
m‘aD©aFeLi¡_¡
 *
š¡®ËdBundËLi¡Node
 = 
NULL
, *
tmpNode
 = NULL;

199 ià(
pBundËs
 !ğ
NULL
)

201 *
pBundËs
 = 0;

202 
š¡®ËdBundËLi¡Node
 = 
	`g‘In¡®ËdBundËFeLi¡
();

204 
š¡®ËdBundËLi¡Node
 !ğ
NULL
)

206 
	`SWLOG_INFO
("G‘In¡®ËdBundËs: c®lšg G‘JsÚ w™h‡rg = %s\n", 
š¡®ËdBundËLi¡Node
->
feName
);

207 
pJsÚSŒ
 = 
	`G‘JsÚ
(
š¡®ËdBundËLi¡Node
->
feName
);

208 ià(
pJsÚSŒ
 !ğ
NULL
)

210 
	`SWLOG_INFO
("G‘In¡®ËdBundËs:…JsÚSŒ = %s\n", 
pJsÚSŒ
);

211 
pJsÚTİ
 = 
	`P¬£JsÚSŒ
(
pJsÚSŒ
);

212 
	`SWLOG_INFO
("G‘In¡®ËdBundËs: P¬£JsÚSŒ„‘uºed =%s\n", 
pJsÚSŒ
);

213 
pJsÚ
 = 
pJsÚTİ
;

214 ià(
pJsÚTİ
 !ğ
NULL
)

216 
pJsÚ
 !ğ
NULL
)

218 
Ën
 = 
	`G‘JsÚV®
(
pJsÚ
, "Çme", 
š¡®ËdBundËLi¡Node
->
feName
, (installedBundleListNode->fileName));

219 ià(
Ën
)

221 ià(
szRuÂšgL’
)

223 *(
pBundËs
 + 
szRuÂšgL’
) = ',';

224 ++
szRuÂšgL’
;

226 
Ën
 = 
	`¢´štf
(
pBundËs
 + 
szRuÂšgL’
, 
szBufSize
 - szRuÂšgL’, "%s:", 
š¡®ËdBundËLi¡Node
->
feName
);

227 
szRuÂšgL’
 +ğ
Ën
;

228 
Ën
 = 
	`G‘JsÚV®
(
pJsÚ
, "v”siÚ", 
š¡®ËdBundËLi¡Node
->
feName
, (installedBundleListNode->fileName));

229 
Ën
 = 
	`¢´štf
(
pBundËs
 + 
szRuÂšgL’
, 
szBufSize
 - szRuÂšgL’, "%s", 
š¡®ËdBundËLi¡Node
->
feName
);

230 
	`SWLOG_INFO
("Upd©ed BundË ğ%s\n", 
pBundËs
);

231 
szRuÂšgL’
 +ğ
Ën
;

233 
pJsÚ
 =…JsÚ->
Ãxt
;

235 
	`F»eJsÚ
(
pJsÚTİ
);

237 
	`ä“
(
pJsÚSŒ
);

239 
tmpNode
 = 
š¡®ËdBundËLi¡Node
;

240 
š¡®ËdBundËLi¡Node
 = in¡®ËdBundËLi¡Node->
Ãxt
;

241 
	`ä“
(
tmpNode
);

243 
	`SWLOG_INFO
("G‘In¡®ËdBundËs:…BundË ğ%s\n", 
pBundËs
);

244 
	`SWLOG_INFO
("G‘In¡®ËdBundËs: szRuÂšgL’ = %zu\n", 
szRuÂšgL’
);

247  
szRuÂšgL’
;

248 
	}
}

259 
size_t
 
	$G‘P¬Š”Id
Ğ*
pP¬Š”Id
, 
size_t
 
szBufSize
 )

261 
	`SWLOG_ERROR
("% ÿÎšg from†ibrdksw_fwuts.so\n", 
__FUNCTION__
);

262 *
pTmp
;

263 
FILE
 *
å
;

264 
size_t
 
i
 = 0;

265 
buf
[150];

266 
whßmi
[8];

267 
»t
 = -1;

269 ifĞ
pP¬Š”Id
 !ğ
NULL
 )

271 *
pP¬Š”Id
 = 0;

272 
whßmi
[0] = 0;

273 
»t
 = 
	`g‘DeviûPrİ”tyD©a
("WHOAMI_SUPPORT", 
whßmi
, (whoami));

274 ià(
»t
 =ğ
UTILS_SUCCESS
)

276 
	`SWLOG_INFO
("whßm˜i ğ%s\n", 
whßmi
);

280 
	`SWLOG_ERROR
("%s: g‘DeviûPrİ”tyD©a(èfÜ whßm˜ç\n", 
__FUNCTION__
);

282 ià(((0 =ğ(
	`¡ºcmp
(
whßmi
, "Œue", 4))è&& (
å
 = 
	`fİ’
Ğ
BOOTSTRAP_FILE
, "r" )è!ğ
NULL
))

284  
	`fg‘s
Ğ
buf
, (buf), 
å
 ) !ğ
NULL
 )

286 ifĞ(
pTmp
 = 
	`¡r¡r
Ğ
buf
, "X_RDKCENTRAL-COM_RFC.BoÙ¡¿p.P¬Š”Name" )è!ğ
NULL
 )

288  *
pTmp
 && *pTmp++ != '=' )

292 
	`¢´štf
Ğ
pP¬Š”Id
, 
szBufSize
, "%s", 
pTmp
 );

296 
	`fşo£
(
å
);

298 ifĞ(
å
 = 
	`fİ’
Ğ
PARTNER_ID_FILE
, "r" )è!ğ
NULL
 )

300 
	`fg‘s
Ğ
pP¬Š”Id
, 
szBufSize
, 
å
 );

301 
	`fşo£
Ğ
å
 );

303 ifĞ(
å
 = 
	`fİ’
Ğ
BOOTSTRAP_FILE
, "r" )è!ğ
NULL
 )

305  
	`fg‘s
Ğ
buf
, (buf), 
å
 ) !ğ
NULL
 )

307 ifĞ(
pTmp
 = 
	`¡r¡r
Ğ
buf
, "X_RDKCENTRAL-COM_SyndiÿtiÚ.P¬Š”Id" )è!ğ
NULL
 )

309  *
pTmp
 && *pTmp++ != '=' )

313 
	`¢´štf
Ğ
pP¬Š”Id
, 
szBufSize
, "%s", 
pTmp
 );

317 
	`fşo£
Ğ
å
 );

327 
	`¢´štf
Ğ
pP¬Š”Id
, 
szBufSize
, "comcast" );

329 
i
 = 
	`¡ršv®idch¬
Ğ
pP¬Š”Id
, 
szBufSize
 );

333 
	`SWLOG_ERROR
( "GetPartnerId: Error, input‡rgument NULL\n" );

335  
i
;

336 
	}
}

348 
size_t
 
	$G‘OsCÏss
Ğ*
pOsCÏss
, 
size_t
 
szBufSize
 )

350 
size_t
 
i
 = 0;

351 
whßmi
[8];

352 
»t
 = -1;

353 ifĞ
pOsCÏss
 !ğ
NULL
 )

355 
whßmi
[0] = 0;

356 
»t
 = 
	`g‘DeviûPrİ”tyD©a
("WHOAMI_SUPPORT", 
whßmi
, (whoami));

357 ià(
»t
 =ğ
UTILS_SUCCESS
)

359 
	`SWLOG_INFO
("whßm˜i ğ%s\n", 
whßmi
);

363 
	`SWLOG_ERROR
("%s: g‘DeviûPrİ”tyD©a(èfÜ whßm˜ç\n", 
__FUNCTION__
);

365 *
pOsCÏss
 = 0;

366 ià(0 =ğ(
	`¡ºcmp
(
whßmi
, "true", 4)))

368 
i
 = 
	`»ad_RFCPrİ”ty
Ğ"OsCÏss", 
RFC_OS_CLASS
, 
pOsCÏss
, 
szBufSize
 );

369 ifĞ
i
 =ğ
READ_RFC_FAILURE
 )

371 
	`SWLOG_ERROR
Ğ"G‘OsCÏss:„—d_RFCPrİ”ty(èçed Stu %zu\n", 
i
 );

372 
i
 = 
	`¢´štf
Ğ
pOsCÏss
, 
szBufSize
, "Not Available" );

376 
i
 = 
	`¡ºËn
Ğ
pOsCÏss
, 
szBufSize
 );

381 
	`SWLOG_INFO
( "GetOsClass: whoami is‚otƒnable Status\n");

382 
i
 = 
	`¢´štf
Ğ
pOsCÏss
, 
szBufSize
, "Not Available" );

387 
	`SWLOG_ERROR
( "GetOsClass: Error, input‡rgument NULL\n" );

389  
i
;

390 
	}
}

402 
size_t
 
	$G‘S”ŸlNum
Ğ*
pS”ŸlNum
, 
size_t
 
szBufSize
 )

404 
size_t
 
i
 = 0;

406 ifĞ
pS”ŸlNum
 !ğ
NULL
 )

408 *
pS”ŸlNum
 = 0;

409 
i
 = 
	`»ad_RFCPrİ”ty
Ğ"S”ŸlNumb”", 
RFC_SERIALNUM
, 
pS”ŸlNum
, 
szBufSize
 );

410 ifĞ
i
 =ğ
READ_RFC_FAILURE
 )

412 
	`SWLOG_ERROR
Ğ"G‘S”ŸlNum:„—d_RFCPrİ”ty(èçed Stu %zu\n", 
i
 );

413 
i
 = 
	`¢´štf
Ğ
pS”ŸlNum
, 
szBufSize
, "Not Available" );

417 
i
 = 
	`¡ºËn
Ğ
pS”ŸlNum
, 
szBufSize
 );

422 
	`SWLOG_ERROR
( "GetSerialNum: Error, input‡rgument NULL\n" );

424  
i
;

425 
	}
}

433 
size_t
 
	$G‘Mig¿tiÚR—dy
Ğ*
pMRCompÚ’ts
, 
size_t
 
szBufSize
 )

435 
size_t
 
i
 = 0;

437 ifĞ
pMRCompÚ’ts
 !ğ
NULL
 )

439 
i
 = 
	`»ad_RFCPrİ”ty
Ğ"Mig¿tiÚR—dy", 
MR_ID
, 
pMRCompÚ’ts
, 
szBufSize
 );

440 ifĞ
i
 =ğ
READ_RFC_FAILURE
 )

442 
i
 = 0;

443 
	`SWLOG_ERROR
Ğ"G‘Mig¿tiÚR—dy:„—d_RFCPrİ”ty(èçed Stu %zu\n", 
i
 );

447 
i
 = 
	`¡ºËn
Ğ
pMRCompÚ’ts
, 
szBufSize
 );

452 
	`SWLOG_ERROR
( "GetMigrationReady: Error, input‡rgument NULL\n" );

454  
i
;

455 
	}
}

467 
size_t
 
	$G‘Ex³r›nû
Ğ*
pEx³r›nû
, 
size_t
 
szBufSize
 )

469 
DowÆßdD©a
 
DwnLoc
;

470 
JSON
 *
pJsÚ
;

471 
JSON
 *
pI‹m
;

472 
size_t
 
i
 = 0;

473 
po¡_d©a
[] = "{\"jsonrpc\":\"2.0\",\"id\":\"3\",\"method\":\"org.rdk.AuthService.getExperience\", \"params\":{}}";

475 ifĞ
pEx³r›nû
 !ğ
NULL
 )

477 *
pEx³r›nû
 = 0;

479 ifĞ
	`®locDowndLßdD©aMem
Ğ&
DwnLoc
, 
DEFAULT_DL_ALLOC
 ) == 0 )

481 
	`g‘JsÚRpc
Ğ
po¡_d©a
, &
DwnLoc
 );

486 
pJsÚ
 = 
	`P¬£JsÚSŒ
Ğ(*)
DwnLoc
.
pvOut
 );

488 ifĞ
pJsÚ
 !ğ
NULL
 )

490 
pI‹m
 = 
	`G‘JsÚI‹m
Ğ
pJsÚ
, "result" );

491 ifĞ
pI‹m
 !ğ
NULL
 )

493 
i
 = 
	`G‘JsÚV®
Ğ
pI‹m
, "ex³r›nû", 
pEx³r›nû
, 
szBufSize
 );

494 ifĞ!*
pEx³r›nû
 )

496 *
pEx³r›nû
 = 'X';

497 *(
pEx³r›nû
 + 1) = '1';

498 *(
pEx³r›nû
 + 2) = 0;

501 
	`F»eJsÚ
Ğ
pJsÚ
 );

504 ifĞ
DwnLoc
.
pvOut
 !ğ
NULL
 )

506 
	`ä“
Ğ
DwnLoc
.
pvOut
 );

512 
	`SWLOG_ERROR
( "GetExperience: Error, input‡rgument NULL\n" );

514  
i
;

515 
	}
}

527 
size_t
 
	$G‘AccouÁID
Ğ*
pAccouÁID
, 
size_t
 
szBufSize
 )

529 
size_t
 
i
 = 0;

531 ifĞ
pAccouÁID
 !ğ
NULL
 )

533 
i
 = 
	`»ad_RFCPrİ”ty
Ğ"AccouÁID", 
RFC_ACCOUNTID
, 
pAccouÁID
, 
szBufSize
 );

534 ifĞ
i
 =ğ
READ_RFC_FAILURE
 )

536 
i
 = 
	`¢´štf
Ğ
pAccouÁID
, 
szBufSize
, "Unknown" );

537 
	`SWLOG_ERROR
Ğ"G‘AccouÁID:„—d_RFCPrİ”ty(èçed Stu %zu\n", 
i
 );

541 
i
 = 
	`¡ºËn
Ğ
pAccouÁID
, 
szBufSize
 );

547 
	`SWLOG_ERROR
( "GetAccountID: Error, input‡rgument NULL\n" );

549  
i
;

550 
	}
}

561 
size_t
 
	$G‘E¡bMac
Ğ*
pE¡bMac
, 
size_t
 
szBufSize
 )

563 
	`SWLOG_ERROR
("% ÿÎšg from†ibrdksw_fwuts.so\n", 
__FUNCTION__
);

564 
FILE
 *
å
;

565 
size_t
 
i
 = 0;

566 
e¡b_š‹rçû
[8] = {0};

567 
»t
 = -1;

568 
boŞ
 
»ad_äom_hwš‹rçû
 = 
çl£
;

570 ifĞ
pE¡bMac
 !ğ
NULL
 )

572 *
pE¡bMac
 = 0;

573 ifĞ(
å
 = 
	`fİ’
Ğ
ESTB_MAC_FILE
, "r" )è!ğ
NULL
 )

575 
	`fg‘s
Ğ
pE¡bMac
, 
szBufSize
, 
å
 );

576 
	`fşo£
Ğ
å
 );

577 
i
 = 
	`¡ršv®idch¬
Ğ
pE¡bMac
, 
szBufSize
 );

578 
	`SWLOG_INFO
("G‘E¡bMac: Aá”„—dšg ESTB_MAC_FILE v®ue=%s\n", 
pE¡bMac
);

581 ià(
pE¡bMac
[0] =ğ'\0' ||…E¡bMac[0] =ğ'\n' || 
i
 !ğ
MAC_ADDRESS_LEN
)

583 
	`SWLOG_INFO
("GetEstbMac: ESTB_MAC_FILE file isƒmpty„ead_from_hwinterface is setorue\n");

584 
»ad_äom_hwš‹rçû
 = 
Œue
;

589 
»ad_äom_hwš‹rçû
 = 
Œue
;

590 
	`SWLOG_INFO
("GetEstbMac:„ead_from_hwinterface is setorue\n");

592 ià(
»ad_äom_hwš‹rçû
 =ğ
Œue
)

594 
	`SWLOG_INFO
("GetEstbMac: Reading from hw interface\n");

595 
»t
 = 
	`g‘DeviûPrİ”tyD©a
("ESTB_INTERFACE", 
e¡b_š‹rçû
, (estb_interface));

596 ià(
»t
 =ğ
UTILS_SUCCESS
)

598 
i
 = 
	`G‘HwMacAdd»ss
(
e¡b_š‹rçû
, 
pE¡bMac
, 
szBufSize
);

599 if(
i
)

601 
	`SWLOG_INFO
("G‘E¡bMac: H¬dw¬add»ss=%s=\n", 
pE¡bMac
);

606 *
pE¡bMac
 = 0;

607 
	`SWLOG_ERROR
("GetEstbMac: GetHwMacAddress„eturn fail\n");

612 *
pE¡bMac
 = 0;

613 
i
 = 0;

614 
	`SWLOG_ERROR
("GetEstbMac: Interface is‚ot…art of /etc/device.properties missing\n");

620 
	`SWLOG_ERROR
( "GetEstbMac: Error, input‡rgument NULL\n" );

622  
i
;

623 
	}
}

635 
size_t
 
	$G‘RemÙeInfo
Ğ*
pRemÙeInfo
, 
size_t
 
szBufSize
 )

637 
size_t
 
Ën
, 
sztÙËn
 = 0;

638 
JSON
 *
pJsÚ
, *
pI‹m
;

639 *
pJsÚSŒ
;

640 
size_t
 
szBufRemaššg
;

641 
šdex
, 
num
;

643 ifĞ
pRemÙeInfo
 !ğ
NULL
 )

645 *
pRemÙeInfo
 = 0;

646 
pJsÚSŒ
 = 
	`G‘JsÚ
Ğ
PERIPHERAL_JSON_FILE
 );

647 ifĞ
pJsÚSŒ
 !ğ
NULL
 )

649 
szBufRemaššg
 = 
szBufSize
;

650 
pJsÚ
 = 
	`P¬£JsÚSŒ
Ğ
pJsÚSŒ
 );

651 ifĞ
pJsÚ
 !ğ
NULL
 )

653 ifĞ
	`IsJsÚA¼ay
Ğ
pJsÚ
 ) )

655 
num
 = 
	`G‘JsÚA¼aySize
Ğ
pJsÚ
 );

656  
šdex
 = 0; index < 
num
; index++ )

658 
pI‹m
 = 
	`G‘JsÚA¼ayI‹m
Ğ
pJsÚ
, 
šdex
 );

659 ifĞ
pI‹m
 !ğ
NULL
 )

661 
Ën
 = 
	`BudRemÙeInfo
Ğ
pI‹m
, 
pRemÙeInfo
 + 
sztÙËn
, 
szBufRemaššg
, 
Œue
 );

662 
sztÙËn
 +ğ
Ën
;

663 ifĞ
Ën
 <ğ
szBufRemaššg
 )

665 
szBufRemaššg
 -ğ
Ën
;

667 ifĞ
szBufRemaššg
 <= 1 )

669 
	`SWLOG_INFO
Ğ"%s: WARNING, bufã¸i fuÎ‡nd wÈbŒunÿ‹d, sztÙËn=%zu\n", 
__FUNCTION__
, 
sztÙËn
 );

677 
sztÙËn
 = 
	`BudRemÙeInfo
Ğ
pJsÚ
, 
pRemÙeInfo
, 
szBufSize
, 
Œue
 );

679 
	`F»eJsÚ
Ğ
pJsÚ
 );

681 
	`ä“
Ğ
pJsÚSŒ
 );

686 
	`SWLOG_ERROR
( "GetRemoteInfo: Error, input‡rgument NULL\n" );

688 
	`SWLOG_INFO
Ğ"%s:„‘uºšg sztÙËn=%zu\n", 
__FUNCTION__
, 
sztÙËn
 );

689  
sztÙËn
;

690 
	}
}

703 
size_t
 
	$G‘RemÙeV”s
Ğ*
pRemÙeV”s
 , 
size_t
 
szBufSize
 )

705 
size_t
 
Ën
 = 0;

706 
JSON
 *
pJsÚ
, *
pI‹m
;

707 *
pJsÚSŒ
;

708 
šdex
, 
num
;

710 ifĞ
pRemÙeV”s
 !ğ
NULL
 )

712 *
pRemÙeV”s
 = 0;

713 
pJsÚSŒ
 = 
	`G‘JsÚ
Ğ
PERIPHERAL_JSON_FILE
 );

714 ifĞ
pJsÚSŒ
 !ğ
NULL
 )

716 
pJsÚ
 = 
	`P¬£JsÚSŒ
Ğ
pJsÚSŒ
 );

717 ifĞ
pJsÚ
 !ğ
NULL
 )

719 ifĞ
	`IsJsÚA¼ay
Ğ
pJsÚ
 ) )

721 
num
 = 
	`G‘JsÚA¼aySize
Ğ
pJsÚ
 );

722  
šdex
 = 0; index < 
num
; index++ )

724 
pI‹m
 = 
	`G‘JsÚA¼ayI‹m
Ğ
pJsÚ
, 
šdex
 );

725 ifĞ
pI‹m
 !ğ
NULL
 )

727 
Ën
 +ğ
	`BudRemÙeInfo
Ğ
pI‹m
, 
pRemÙeV”s
 +†’, 
szBufSize
 -†’, 
çl£
 );

733 
Ën
 = 
	`BudRemÙeInfo
Ğ
pJsÚ
, 
pRemÙeV”s
 , 
szBufSize
, 
çl£
 );

735 
	`F»eJsÚ
Ğ
pJsÚ
 );

737 
	`ä“
Ğ
pJsÚSŒ
 );

742 
	`SWLOG_INFO
( "GetRemoteVers: Error, input‡rgument NULL\n" );

745  
Ën
;

746 
	}
}

758 
size_t
 
	$G‘RdmMªiã¡V”siÚ
Ğ*
pRdmMªiã¡V”siÚ
, 
size_t
 
szBufSize
 )

760 
size_t
 
Ën
 = 0;

762 #ifdeà
GETRDMMANIFESTVERSION_IN_SCRIPT


763 ifĞ
pRdmMªiã¡V”siÚ
 !ğ
NULL
 )

765 *
pRdmMªiã¡V”siÚ
 = 0;

766 
Ën
 = 
	`RunCommªd
Ğ
eG‘In¡®ËdRdmMªiã¡V”siÚ
, 
NULL
, 
pRdmMªiã¡V”siÚ
, 
szBufSize
 );

770 
	`SWLOG_INFO
( "GetRdmManifestVersion: Error, input‡rgument NULL\n" );

775  
Ën
;

776 
	}
}

790 
size_t
 
	$G‘TR181U¾
Ğ
TR181URL
 
eURL
, *
pU¾Out
, 
size_t
 
szBufSize
 )

792 *
pDeçuÉURL
 = 
NULL
;

793 *
pURLName
 = 
NULL
;

794 *
pURLTy³
 = 
NULL
;

795 
size_t
 
Ën
 = 0;

796 
¡©us
;

798 ifĞ
pU¾Out
 !ğ
NULL
 )

800  
eURL
 )

802 
eRecov”y
 :

803 
pDeçuÉURL
 = 
RECOVERYDEFAULT
;

804 
pURLName
 = 
RFC_RECOVERYURL
;

805 
pURLTy³
 = 
RECOVERYURL
;

808 
eAutoExşude
 :

809 
pDeçuÉURL
 = 
AUTOEXCLUDEDEFAULT
;

810 
pURLName
 = 
RFC_AUTOEXCLUDEURL
;

811 
pURLTy³
 = 
AUTOEXCLUDEURL
;

814 
eBoÙ¡¿p
 :

815 
pDeçuÉURL
 = 
BOOTSTRAPDEFAULT
;

816 
pURLName
 = 
RFC_BOOTSTRAPURL
;

817 
pURLTy³
 = 
BOOTSTRAPURL
;

820 
eDevXcÚf
 :

821 
pDeçuÉURL
 = 
DEVXCONFDEFAULT
;

822 
pURLName
 = 
RFC_DEVXCONFURL
;

823 
pURLTy³
 = 
DEVXCONFURL
;

826 
eCIXcÚf
 :

827 
pDeçuÉURL
 = 
CIXCONFDEFAULT
;

828 
pURLName
 = 
RFC_CIXCONFURL
;

829 
pURLTy³
 = 
CIXCONFURL
;

832 
eXcÚf
 :

833 
pDeçuÉURL
 = 
XCONFDEFAULT
;

834 
pURLName
 = 
RFC_XCONFURL
;

835 
pURLTy³
 = 
XCONFURL
;

838 
eDac15
 :

839 
pDeçuÉURL
 = 
DAC15DEFAULT
;

840 
pURLName
 = 
RFC_DAC15URL
;

841 
pURLTy³
 = 
DAC15URL
;

845 
	`SWLOG_ERROR
Ğ"G‘TR181U¾: UnknowÀURLy³ %d\n", 
eURL
 );

850 
¡©us
 = 
	`»ad_RFCPrİ”ty
Ğ
pURLTy³
, 
pURLName
, 
pU¾Out
, 
szBufSize
 );

851 ifĞ
¡©us
 =ğ
READ_RFC_FAILURE
 )

853 ifĞ
pDeçuÉURL
 !ğ
NULL
 )

855 
Ën
 = 
	`¢´štf
Ğ
pU¾Out
, 
szBufSize
, "%s", 
pDeçuÉURL
 );

856 
	`SWLOG_INFO
Ğ"G‘TR181U¾: RFCPrİ”ty‚Ù found, deçuÉšgØ%s\n", 
pU¾Out
 );

860 
	`SWLOG_INFO
( "GetTR181Url: RFCProperty‚ot found‡nd‚o default URL…rovided\n" );

865 
Ën
 = 
	`¡ºËn
Ğ
pU¾Out
, 
szBufSize
 );

867 
	`SWLOG_INFO
Ğ"G‘TR181U¾:…U¾Ouˆğ%s\n", 
pU¾Out
 );

871 
	`SWLOG_ERROR
( "GetTR181Url: Error, input‡rgument NULL\n" );

874  
Ën
;

875 
	}
}

887 
size_t
 
	$G‘S”vURL
Ğ*
pS”vURL
, 
size_t
 
szBufSize
 )

889 
size_t
 
Ën
 = 0;

890 
BUILDTYPE
 
eBudTy³
;

891 
buf
[
URL_MAX_LEN
];

892 
boŞ
 
sk
 = 
çl£
;

893 
boŞ
 
dbgS”viûs
 = 
	`isDebugS”viûsEÇbËd
();

895 ifĞ
pS”vURL
 !ğ
NULL
 )

897 *
pS”vURL
 = 0;

898 
	`G‘BudTy³
Ğ
buf
, (buf), &
eBudTy³
 );

899 ifĞ
	`isInS‹Red
() )

901 if(Ğ
eBudTy³
 !ğ
ePROD
 ) || ( 
dbgS”viûs
 =ğ
Œue
 ))

903 
Ën
 = 
	`G‘S”v”U¾Fe
Ğ
pS”vURL
, 
szBufSize
, 
STATE_RED_CONF
 );

905 ifĞ
Ën
 =ğ0 || *
pS”vURL
 == 0 )

907 
Ën
 = 
	`G‘TR181U¾
Ğ
eRecov”y
, 
pS”vURL
, 
szBufSize
 );

912 if(Ğ
eBudTy³
 !ğ
ePROD
 ) || ( 
dbgS”viûs
 =ğ
Œue
 ))

914 ifĞ(
	`feP»£ÁCheck
Ğ
SWUPDATE_CONF
 ) =ğ
RDK_API_SUCCESS
) )

916 
Ën
 = 
	`G‘S”v”U¾Fe
Ğ
pS”vURL
, 
szBufSize
, 
SWUPDATE_CONF
 );

917 ifĞ!
Ën
 )

919 
	`SWLOG_INFO
( "Device configured with‡n invalid overriden URL!!! Exiting from Image Upgrade…rocess..!\n" );

920 
	`t2V®NÙify
("SYST_WARN_UPGD_SKIP", 
pS”vURL
);

921 
sk
 = 
Œue
;

925 ifĞ
Ën
 =ğ0 && 
sk
 =ğ
çl£
 )

927 ifĞ
eBudTy³
 !ğ
ePROD
 )

929 
Ën
 = 
	`G‘TR181U¾
Ğ
eAutoExşude
, 
pS”vURL
, 
szBufSize
 );

931 ifĞ*
pS”vURL
 == 0 )

933 *
buf
 = 0;

934 
	`G‘TR181U¾
Ğ
eBoÙ¡¿p
, 
buf
, (buf) );

935 ifĞ*
buf
 != 0 )

937 
Ën
 = 
	`¢´štf
Ğ
pS”vURL
, 
szBufSize
, "%s/xcÚf/swu/¡b", 
buf
 );

941 ifĞ
eBudTy³
 =ğ
eQA
 )

943 
Ën
 = 
	`G‘TR181U¾
Ğ
eDevXcÚf
, 
pS”vURL
, 
szBufSize
 );

947 
	`G‘TR181U¾
Ğ
eXcÚf
, 
buf
, (buf) );

948 
Ën
 = 
	`¢´štf
Ğ
pS”vURL
, 
szBufSize
, "h‰ps://%s/xcÚf/swu/¡b/", 
buf
 );

957 
	`SWLOG_ERROR
( "GetServURL: Error, input‡rgument NULL\n" );

959  
Ën
;

960 
	}
}

	@src/deviceutils/device_api.h

19 #iâdeà
__DEVICE_API_H__


20 
	#__DEVICE_API_H__


	)

22 #iâdeà
GETRDMMANIFESTVERSION_IN_SCRIPT


23 
	#GETRDMMANIFESTVERSION_IN_SCRIPT


	)

26 #iâdeà
GTEST_ENABLE


27 
	~"rdk_fwdl_uts.h
"

28 
	~"commÚ_deviû_­i.h
"

30 * 
¡rÿ£¡r
(cÚ¡ * 
s1
, cÚ¡ * 
s2
);

33 
	#URL_MAX_LEN
 512

	)

36 
	meRecov”y
,

37 
	meAutoExşude
,

38 
	meBoÙ¡¿p
,

39 
	meDevXcÚf
,

40 
	meCIXcÚf
,

41 
	meXcÚf
,

42 
	meDac15


43 } 
	tTR181URL
 ;

45 
	#DEVICE_CAPABILITIES
 "»boÙDecou¶ed&ÿ·b™›s=RCDL&ÿ·b™›s=suµÜtsFuÎH‰pU¾"

	)

46 #iâdeà
GTEST_ENABLE


47 
	#BOOTSTRAP_FILE
 "/İt/£cu»/RFC/boÙ¡¿p.ši"

	)

48 
	#PARTNER_ID_FILE
 "/İt/www/authS”viû/·¹ÃrId3.d©"

	)

49 
	#VERSION_FILE
 "/v”siÚ.txt"

	)

50 
	#ESTB_MAC_FILE
 "/tmp/.e¡b_mac"

	)

52 
	#BOOTSTRAP_FILE
 "/tmp/boÙ¡¿p.ši"

	)

53 
	#PARTNER_ID_FILE
 "/tmp/·¹ÃrId3.d©"

	)

54 
	#VERSION_FILE
 "/tmp/v”siÚ_‹¡.txt"

	)

55 
	#ESTB_MAC_FILE
 "/tmp/.e¡b_mac_g‹¡.txt"

	)

57 
	#OUTPUT_JSON_FILE
 "/İt/ouut.jsÚ"

	)

58 
	#OUTPUT_JSON_FILE_X86
 "/tmp/ouut.jsÚ"

	)

59 #iâdeà
GTEST_ENABLE


60 
	#TIMEZONE_DST_FILE
 "/İt/³rsi¡’t/timeZÚeDST"

	)

61 
	#TIMEZONE_OFFSET_MAP
 "/‘c/timeZÚe_off£t_m­"

	)

62 
	#STATE_RED_CONF
 "/İt/¡©”ed»covry.cÚf"

	)

63 
	#SWUPDATE_CONF
 "/İt/swupd©e.cÚf"

	)

65 
	#TIMEZONE_DST_FILE
 "/tmp/timeZÚeDST"

	)

66 
	#TIMEZONE_OFFSET_MAP
 "/tmp/timeZÚe_off£t_m­"

	)

67 
	#STATE_RED_CONF
 "/tmp/¡©”ed»covry.cÚf"

	)

68 
	#SWUPDATE_CONF
 "/tmp/swupd©e.cÚf"

	)

70 
	#PERIPHERAL_JSON_FILE
 "/tmp/rc-´oxy-·¿ms.jsÚ"

	)

72 
	#RFC_ACCOUNTID
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.F—tu».AccouÁInfo.AccouÁID"

	)

73 
	#RFC_SERIALNUM
 "Deviû.DeviûInfo.S”ŸlNumb”"

	)

74 
	#RFC_OS_CLASS
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.BoÙ¡¿p.OsCÏss"

	)

75 
	#MR_ID
 "Deviû.DeviûInfo.Mig¿tiÚP»·»r.Mig¿tiÚR—dy"

	)

77 
	#NO_URL
 
NULL


	)

79 
	#RFC_DAC15URL
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.Sysšt.DAC15CDLU¾"

	)

80 
	#DAC15URL
 "DAC15CDLU¾"

	)

82 
	#RFC_XCONFURL
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.Sysšt.XcÚfU¾"

	)

83 
	#XCONFURL
 "XcÚfU¾"

	)

85 
	#RFC_CIXCONFURL
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.Sysšt.CIXcÚfU¾"

	)

86 
	#CIXCONFURL
 "CIXcÚfU¾"

	)

88 
	#RFC_DEVXCONFURL
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.Sysšt.XcÚfDEVU¾"

	)

89 
	#DEVXCONFURL
 "XcÚfDEVU¾"

	)

91 
	#RFC_RECOVERYURL
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.BoÙ¡¿p.XcÚfRecov”yU¾"

	)

92 
	#RECOVERYURL
 "XcÚfRecov”yU¾"

	)

93 
	#RECOVERYDEFAULT
 
NO_URL


	)

95 
	#RFC_AUTOEXCLUDEURL
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.F—tu».FWUpd©e.AutoExşuded.XcÚfU¾"

	)

96 
	#AUTOEXCLUDEURL
 "AxXcÚfU¾"

	)

97 
	#AUTOEXCLUDEDEFAULT
 
NO_URL


	)

99 
	#RFC_BOOTSTRAPURL
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.BoÙ¡¿p.XcÚfU¾"

	)

100 
	#BOOTSTRAPURL
 "BsXcÚfU¾"

	)

101 
	#BOOTSTRAPDEFAULT
 
NO_URL


	)

114 
size_t
 
G‘S”v”U¾Fe
(*
pS”vU¾
, size_ˆ
szBufSize
, *
pFeName
);

125 
size_t
 
G‘Add™iÚ®FwV”Info
(*
pAdd™iÚ®FwV”Info
, size_ˆ
szBufSize
);

136 
size_t
 
G‘PDRIFeName
(*
pPDRIF’ame
, size_ˆ
szBufSize
);

148 
size_t
 
G‘In¡®ËdBundËs
(*
pBundËs
, size_ˆ
szBufSize
);

159 
size_t
 
G‘P¬Š”Id
(*
pP¬Š”Id
, size_ˆ
szBufSize
);

171 
size_t
 
G‘OsCÏss
Ğ*
pOsCÏss
, size_ˆ
szBufSize
 );

183 
size_t
 
G‘S”ŸlNum
Ğ*
pS”ŸlNum
, size_ˆ
szBufSize
);

197 
size_t
 
G‘Ex³r›nû
(*
pEx³r›nû
, size_ˆ
szBufSize
);

210 
size_t
 
G‘Mig¿tiÚR—dy
(*
pMRCompÚ’ts
, size_ˆ
szBufSize
);

223 
size_t
 
G‘AccouÁID
(*
pAccouÁID
, size_ˆ
szBufSize
);

234 
size_t
 
G‘E¡bMac
(*
pE¡bMac
, size_ˆ
szBufSize
);

247 
size_t
 
G‘RemÙeInfo
(*
pRemÙeInfo
, size_ˆ
szBufSize
);

260 
size_t
 
G‘RemÙeV”s
(*
pRemÙeV”s
 , size_ˆ
szBufSize
);

272 
size_t
 
G‘RdmMªiã¡V”siÚ
(*
pRdmMªiã¡V”siÚ
, size_ˆ
szBufSize
);

287 
size_t
 
G‘TR181U¾
(
TR181URL
 
eURL
, *
pU¾Out
, size_ˆ
szBufSize
);

300 
size_t
 
G‘S”vURL
(*
pS”vURL
, size_ˆ
szBufSize
);

	@src/deviceutils/deviceutils.c

19 
	~<¡dlib.h
>

20 
	~<¡dio.h
>

21 
	~<¡ršg.h
>

22 
	~<ùy³.h
>

23 
	~<¡dboŞ.h
>

25 #iâdeà
GTEST_ENABLE


26 
	~<£cu»_w¿µ”.h
>

27 
	~"dowÆßdUt.h
"

28 
	~"u¾H–³r.h
"

29 
	~"msUts.h
"

33 
	~"msUts.h
"

35 
FILE
* 
v_£cu»_pİ’
(cÚ¡ *
mode
, ...);

36 
v_£cu»_pşo£
(
FILE
 *
å
);

40 
	~"deviûuts.h
"

41 
	~"jsÚ_·r£.h
"

42 
	~<dœ’t.h
>

44 #iâdeà
GTEST_ENABLE


45 
	#BUNDLE_METADATA_NVM_PATH
 "/medŸ/­ps/‘c/û¹s"

	)

46 
	#BUNDLE_METADATA_RFS_PATH
 "/‘c/û¹s"

	)

48 
	#BUNDLE_METADATA_NVM_PATH
 "/tmp/û¹s"

	)

49 
	#BUNDLE_METADATA_RFS_PATH
 "/tmp/rfc/û¹s"

	)

52 
	#WPEFRAMEWORKSECURITYUTILITY
 "/u¤/bš/WPEF¿mewÜkSecur™yUt™y"

	)

53 
	#MFRUTIL
 "/usr/bin/mfr_util %s"

54 
	#MD5SUM
 "/u¤/bš/md5sum %s"

	)

56 #ifdeà
GETRDMMANIFESTVERSION_IN_SCRIPT


57 
	#GETINSTALLEDRDMMANIFESTVERSIONSCRIPT
 "/lib/rdk/cdlSuµÜt.sh g‘In¡®ËdRdmMªiã¡V”siÚ"

	)

60 
	#MAX_PERIPHERAL_ITEMS
 4

	)

62 *
	gpRemCŒlSŒšgs
[
MAX_PERIPHERAL_ITEMS
] = {

69 *
	gpNuÎSŒšgs
[
MAX_PERIPHERAL_ITEMS
] = {

76 *
	gpEqu®SŒšgs
[
MAX_PERIPHERAL_ITEMS
] = {

83 *
	gpTy³SŒšgs
[
MAX_PERIPHERAL_ITEMS
] = {

90 *
	gpExtSŒšgs
[] = {

94 *
	gpP”h”®Name
[
MAX_PERIPHERAL_ITEMS
] = {

127 
size_t
 
	$RunCommªd
Ğ
SYSCMD
 
eSysCmd
, cÚ¡ *
pArgs
, *
pResuÉ
, 
size_t
 
szResuÉSize
 )

129 
FILE
 *
å
;

130 
size_t
 
nby‹s_»ad
 = 0;

132 ifĞ
pResuÉ
 !ğ
NULL
 && 
szResuÉSize
 >= 1 )

134 *
pResuÉ
 = 0;

135  
eSysCmd
 )

137 
eMD5Sum
 :

138 ifĞ
pArgs
 !ğ
NULL
 )

140 
å
 = 
	`v_£cu»_pİ’
Ğ"r", 
MD5SUM
, 
pArgs
 );

144 
å
 = 
NULL
;

145 
	`SWLOG_ERROR
Ğ"RunCommªd: E¼Ü, % »quœe ª iÅuˆ¬gum’t\n", 
MD5SUM
 );

149 
eRdkS§Cli
 :

150 ifĞ
pArgs
 !ğ
NULL
 )

152 
å
 = 
	`v_£cu»_pİ’
Ğ"r", 
RDKSSACLI
, 
pArgs
 );

156 
å
 = 
NULL
;

157 
	`SWLOG_ERROR
Ğ"RunCommªd: E¼Ü, % »quœe ª iÅuˆ¬gum’t\n", 
RDKSSACLI
 );

161 
eMäUt
 :

162 ifĞ
pArgs
 !ğ
NULL
 )

164 
å
 = 
	`v_£cu»_pİ’
Ğ"r", 
MFRUTIL
, 
pArgs
 );

168 
å
 = 
NULL
;

169 
	`SWLOG_ERROR
Ğ"RunCommªd: E¼Ü, % »quœe ª iÅuˆ¬gum’t\n", 
MFRUTIL
 );

173 
eW³F¿mewÜkSecur™yUt™y
 :

174 
å
 = 
	`v_£cu»_pİ’
Ğ"r", 
WPEFRAMEWORKSECURITYUTILITY
 );

178 #ifdeà
GETRDMMANIFESTVERSION_IN_SCRIPT


179 
eG‘In¡®ËdRdmMªiã¡V”siÚ
 :

180 
å
 = 
	`v_£cu»_pİ’
Ğ"r", 
GETINSTALLEDRDMMANIFESTVERSIONSCRIPT
 );

185 
å
 = 
NULL
;

186 
	`SWLOG_ERROR
Ğ"RunCommªd: E¼Ü, unknowÀ»que¡y³ %d\n", ()
eSysCmd
 );

190 ifĞ
å
 !ğ
NULL
 )

192 
nby‹s_»ad
 = 
	`ä—d
Ğ
pResuÉ
, 1, 
szResuÉSize
 - 1, 
å
 );

193 
	`v_£cu»_pşo£
Ğ
å
 );

194 ifĞ
nby‹s_»ad
 != 0 )

196 
	`SWLOG_INFO
Ğ"%s: SucûssfuÈ»ad %zu by‹s\n", 
__FUNCTION__
, 
nby‹s_»ad
 );

197 
pResuÉ
[
nby‹s_»ad
] = '\0';

198 
nby‹s_»ad
 = 
	`¡ºËn
Ğ
pResuÉ
, 
szResuÉSize
 );

202 
	`SWLOG_ERROR
Ğ"% ä—d fas:%zu\n", 
__FUNCTION__
, 
nby‹s_»ad
 );

208 
	`SWLOG_ERROR
( "RunCommand: Failedo open…ipe commandƒxecution\n" );

213 
	`SWLOG_ERROR
( "RunCommand: Error, input‡rgument invalid\n" );

215  
nby‹s_»ad
;

216 
	}
}

233 
size_t
 
	$BudRemÙeInfo
Ğ
JSON
 *
pI‹m
, *
pRemÙeInfo
, 
size_t
 
szMaxBuf
, 
boŞ
 
bAdd»mCŒl
 )

235 **
pP»fix
;

236 **
pMid
;

237 *
pSuffix
;

238 
size_t
 
szBufRemaššg
, 
szRuÂšgL’
 = 0;

239 
iL’
 = 0;

240 
i
 = 0;

241 
x
;

242 
´oduùBuf
[100];

243 
v”siÚBuf
[50];

245 ifĞ
pI‹m
 !ğ
NULL
 && 
pRemÙeInfo
 != NULL )

247 
szBufRemaššg
 = 
szMaxBuf
;

248 
	`SWLOG_INFO
( "BuildRemoteInfo: Start\n" );

250 
i
 = 
	`G‘JsÚV®
Ğ
pI‹m
, "Produù", 
´oduùBuf
, (productBuf) );

251 ifĞ
i
 )

253 ifĞ
bAdd»mCŒl
 =ğ
Œue
 )

255 
pP»fix
 = 
pRemCŒlSŒšgs
;

256 
pMid
 = 
pEqu®SŒšgs
;

257 
pSuffix
 = *
pNuÎSŒšgs
;

261 
pP»fix
 = 
pNuÎSŒšgs
;

262 
pMid
 = 
pTy³SŒšgs
;

263 
pSuffix
 = *
pExtSŒšgs
;

275  
x
=0; x < 
MAX_PERIPHERAL_ITEMS
; x++ )

277 
i
 = 
	`G‘JsÚV®
Ğ
pI‹m
, 
pP”h”®Name
[
x
], 
v”siÚBuf
, (versionBuf) );

278 ifĞ
i
 )

280 
iL’
 = 
	`¢´štf
Ğ
pRemÙeInfo
 + 
szRuÂšgL’
, 
szBufRemaššg
, "%s%s%s%s%s", *
pP»fix
, 
´oduùBuf
, *
pMid
, 
v”siÚBuf
, 
pSuffix
 );

281 ià(
iL’
 >ğ
szBufRemaššg
) {

282 
	`SWLOG_INFO
( "Buffer is Full\n" );

283 
iL’
 = 
szBufRemaššg
;

286 ++
pP»fix
;

287 ++
pMid
;

288 
szBufRemaššg
 -ğ
iL’
;

289 
szRuÂšgL’
 +ğ
iL’
;

293 
	`SWLOG_INFO
( "BuildRemoteInfo: End\n" );

297 
	`SWLOG_ERROR
( "BuildRemoteInfo: Error, input‡rgument(s) invalid\n" );

299  (
size_t
)
iL’
;

300 
	}
}

307 
	$g‘JsÚRpc
(*
po¡_d©a
, 
DowÆßdD©a
* 
pJsÚRpc
 )

309 *
Cu¾_»q
 = 
NULL
;

310 
tok’
[256];

311 
jsÚd©a
[256];

312 
h‰pCode
 = 0;

313 
FeDwÆ_t
 
»q_d©a
;

314 
cu¾_»t_code
 = -1;

315 
h—d”
[] = "Content-Type:‡pplication/json";

316 
tok’_h—d”
[300];

318 *
tok’
 = 0;

319 *
jsÚd©a
 = 0;

320 
	`RunCommªd
Ğ
eW³F¿mewÜkSecur™yUt™y
, 
NULL
, 
jsÚd©a
, (jsondata) );

322 
	`g‘JRPCTok’D©a
(
tok’
, 
jsÚd©a
, (token));

323 ià(
pJsÚRpc
->
pvOut
 !ğ
NULL
) {

324 
»q_d©a
.
pH—d”D©a
 = 
h—d”
;

325 
»q_d©a
.
pDlH—d”D©a
 = 
NULL
;

326 
	`¢´štf
(
tok’_h—d”
, Ñok’_h—d”), "AuthÜiz©iÚ: B—»¸%s", 
tok’
);

327 
»q_d©a
.
pPo¡F›lds
 = 
po¡_d©a
;

328 
»q_d©a
.
pDlD©a
 = 
pJsÚRpc
;

329 
	`¢´štf
(
»q_d©a
.
u¾
, (req_data.url), "%s", "http://127.0.0.1:9998/jsonrpc");

330 
Cu¾_»q
 = 
	`doCu¾In™
();

331 ià(
Cu¾_»q
 !ğ
NULL
) {

332 
cu¾_»t_code
 = 
	`g‘JsÚRpcD©a
(
Cu¾_»q
, &
»q_d©a
, 
tok’_h—d”
, &
h‰pCode
 );

334 
	`doStİDowÆßd
(
Cu¾_»q
);

336 
	`SWLOG_ERROR
("%s: doCu¾In™ fa\n", 
__FUNCTION__
);

339 
	`SWLOG_ERROR
("%s: FaedØ®loÿ‹ memÜy usšg m®loc\n", 
__FUNCTION__
);

341  
cu¾_»t_code
;

342 
	}
}

350 
	$g‘JRPCTok’D©a
Ğ*
tok’
, *
pJsÚSŒ
, 
tok’_size
 )

352 
JSON
 *
pJsÚ
 = 
NULL
;

353 
¡©us
[8];

354 
»t
 = -1;

356 ià(
tok’
 =ğ
NULL
 || 
pJsÚSŒ
 == NULL) {

357 
	`SWLOG_INFO
Ğ"%s: P¬am‘” i NULL\n", 
__FUNCTION__
);

358  
»t
;

360 *
¡©us
 = 0;

361 
pJsÚ
 = 
	`P¬£JsÚSŒ
Ğ
pJsÚSŒ
 );

362 ifĞ
pJsÚ
 !ğ
NULL
 )

364 
	`G‘JsÚV®
(
pJsÚ
, "tok’", 
tok’
, 
tok’_size
);

365 
	`G‘JsÚV®
(
pJsÚ
, "sucûss", 
¡©us
, (status));

366 
	`SWLOG_INFO
Ğ"%s: stus:%s\n", 
__FUNCTION__
, 
¡©us
);

367 
	`F»eJsÚ
Ğ
pJsÚ
 );

368 
»t
 = 0;

370  
»t
;

371 
	}
}

378 
m‘aD©aFeLi¡_¡
 *
	$g‘In¡®ËdBundËFeLi¡
()

380 
m‘aD©aFeLi¡_¡
 *
m‘ad©aNVMls
 = 
NULL
, *
m‘ad©aRFSls
 = NULL, *
m‘aD©aLi¡
 = NULL;

382 
m‘ad©aNVMls
 = 
	`g‘M‘aD©aFe
(
BUNDLE_METADATA_NVM_PATH
);

383 ià(
m‘ad©aNVMls
 =ğ
NULL
)

385 
	`SWLOG_INFO
("Certificate does‚otƒxist in NVM Path\n");

388 
m‘ad©aRFSls
 = 
	`g‘M‘aD©aFe
(
BUNDLE_METADATA_RFS_PATH
);

389 ià(
m‘ad©aRFSls
 =ğ
NULL
)

391 
	`SWLOG_INFO
("Certificate does‚otƒxist in RFS Path\n");

394 ià((
m‘ad©aNVMls
 =ğ
NULL
è&& (
m‘ad©aRFSls
 == NULL))

396 
	`SWLOG_INFO
("No metadata found only in CPE");

398 ià((
m‘ad©aNVMls
è&& (
m‘ad©aRFSls
 =ğ
NULL
))

400 
m‘aD©aLi¡
 = 
m‘ad©aNVMls
;

401 
	`SWLOG_INFO
("NØm‘ad©¨found oÆy iÀ%s\n", 
BUNDLE_METADATA_NVM_PATH
);

403 ià((
m‘ad©aNVMls
 =ğ
NULL
è&& (
m‘ad©aRFSls
))

405 
m‘aD©aLi¡
 = 
m‘ad©aRFSls
;

406 
	`SWLOG_INFO
("NØm‘ad©¨found oÆy iÀ%s\n", 
BUNDLE_METADATA_RFS_PATH
);

408 ià((
m‘ad©aNVMls
è&& (
m‘ad©aRFSls
))

410 
m‘aD©aLi¡
 = 
	`m”geLi¡s
(
m‘ad©aNVMls
, 
m‘ad©aRFSls
);

413  
m‘aD©aLi¡
;

414 
	}
}

421 
m‘aD©aFeLi¡_¡
 *
	$g‘M‘aD©aFe
(*
dœ
)

423 
m‘aD©aFeLi¡_¡
 *
Ãwnode
 = 
NULL
, *
´evnode
 = NULL, *
h—dNode
 = NULL;

424 
dœ’t
 *
pDœ’t
 = 
NULL
;

426 
DIR
 *
dœeùÜy
 = 
	`İ’dœ
(
dœ
);

427 ià(
dœeùÜy
)

429 (
pDœ’t
 = 
	`»addœ
(
dœeùÜy
)è!ğ
NULL
)

431 ià(
pDœ’t
->
d_ty³
 =ğ
DT_REG
 && 
	`¡r¡r
ÕDœ’t->
d_Çme
, "_·ckage.jsÚ"è!ğ
NULL
)

433 
Ãwnode
 = (
m‘aD©aFeLi¡_¡
 *)
	`m®loc
((metaDataFileList_st));

434 
	`SWLOG_INFO
("G‘In¡®ËdBundËs: found %s\n", 
pDœ’t
->
d_Çme
);

435 
	`¢´štf
(
Ãwnode
->
feName
, Òewnode->feName), "%s/%s", 
dœ
, 
pDœ’t
->
d_Çme
);

436 
Ãwnode
->
Ãxt
 = 
NULL
;

437 ià(
h—dNode
 =ğ
NULL
)

439 
h—dNode
 = 
Ãwnode
;

440 
´evnode
 = 
h—dNode
;

444 
´evnode
->
Ãxt
 = 
Ãwnode
;

445 
´evnode
 = 
Ãwnode
;

449 
	`şo£dœ
(
dœeùÜy
);

453 
	`SWLOG_INFO
("% dÛ nÙƒxi¡\n", 
dœ
);

455  
h—dNode
;

456 
	}
}

464 
m‘aD©aFeLi¡_¡
 * 
	$m”geLi¡s
(
m‘aD©aFeLi¡_¡
 *
nvmLi¡
, m‘aD©aFeLi¡_¡ *
rfsLi¡
)

466 
m‘aD©aFeLi¡_¡
 
tmp
;

467 
m‘aD©aFeLi¡_¡
 *
cu¼’tNVMNode
 = 
nvmLi¡
;

468 
m‘aD©aFeLi¡_¡
 *
cu¼’tRFSNode
 = 
rfsLi¡
;

469 
m‘aD©aFeLi¡_¡
 *
m‘aD©aLi¡
 = &
tmp
;

470 
m‘aD©aFeLi¡_¡
 *
Ãxt
 = 
NULL
, *
»moveDup
 = NULL;

471 
cmpv®
 = 0;

473 
tmp
.
Ãxt
 = 
NULL
;

474 
cu¼’tRFSNode
 && 
cu¼’tNVMNode
)

476 
cmpv®
 = 
	`¡ºcmp
(
cu¼’tRFSNode
->
feName
,
cu¼’tNVMNode
->fileName, (currentRFSNode->fileName));

477 
Ãxt
 = (
cmpv®
 < 0è? 
cu¼’tRFSNode
 : 
cu¼’tNVMNode
;

479 
m‘aD©aLi¡
->
Ãxt
 =‚ext;

480 
m‘aD©aLi¡
 = 
Ãxt
;

482 ià(
cmpv®
 < 0)

484 
cu¼’tRFSNode
 = cu¼’tRFSNode->
Ãxt
;

488 
cu¼’tNVMNode
 = cu¼’tNVMNode->
Ãxt
;

492 
m‘aD©aLi¡
->
Ãxt
 = 
cu¼’tRFSNode
 ? cu¼’tRFSNod: 
cu¼’tNVMNode
;

494 
»moveDup
 = 
tmp
.
Ãxt
;

496 
»moveDup
)

498 if(
»moveDup
->
Ãxt
 && 
	`¡ºcmp
ÔemoveDup->
feName
,„emoveDup->next->fileName, (removeDup->fileName)) == 0)

500 
»moveDup
->
Ãxt
 =„emoveDup->next->next;

502 
»moveDup
 =„emoveDup->
Ãxt
;

505  
tmp
.
Ãxt
;

507 
	}
}

	@src/deviceutils/deviceutils.h

19 #iâdeà
__DEVICEUTILS_H__


20 
	#__DEVICEUTILS_H__


	)

22 #iâdeà
GTEST_ENABLE


23 
	~"u¾H–³r.h
"

24 
	~"commÚ_deviû_­i.h
"

25 
	~"u¾H–³r.h
"

28 
	~"rdkv_cdl_log_w¿µ”.h
"

30 
	~"jsÚ_·r£.h
"

31 #iâdeà
GETRDMMANIFESTVERSION_IN_SCRIPT


32 
	#GETRDMMANIFESTVERSION_IN_SCRIPT


	)

36 
	meMD5Sum
,

37 
	meRdkS§Cli
,

38 
	meMäUt
,

39 
	meW³F¿mewÜkSecur™yUt™y


40 #ifdeà
GETRDMMANIFESTVERSION_IN_SCRIPT


41 ,
	meG‘In¡®ËdRdmMªiã¡V”siÚ


43 } 
	tSYSCMD
;

45 
	#DEFAULT_DL_ALLOC
 1024

	)

47 
	sm‘aD©aFeLi¡


49 
	mfeName
[512];

50 
m‘aD©aFeLi¡
 *
	mÃxt
;

51 }
	tm‘aD©aFeLi¡_¡
;

80 
size_t
 
RunCommªd
(
SYSCMD
 
eSysCmd
, cÚ¡ *
pArgs
, *
pResuÉ
, size_ˆ
szResuÉSize
);

96 
size_t
 
BudRemÙeInfo
(
JSON
 *
pI‹m
, *
pRemÙeInfo
, size_ˆ
szMaxBuf
, 
boŞ
 
bAdd»mCŒl
);

103 
g‘JsÚRpc
(*
po¡_d©a
, 
DowÆßdD©a
* 
pJsÚRpc
);

111 
g‘JRPCTok’D©a
(*
tok’
, *
pJsÚSŒ
, 
tok’_size
);

113 
m‘aD©aFeLi¡_¡
 *
g‘In¡®ËdBundËFeLi¡
();

114 
m‘aD©aFeLi¡_¡
 *
g‘M‘aD©aFe
(*
dœ
);

115 
m‘aD©aFeLi¡_¡
 * 
m”geLi¡s
(m‘aD©aFeLi¡_¡ *
nvmLi¡
, m‘aD©aFeLi¡_¡ *
rfsLi¡
);

	@src/download_status_helper.c

19 
	~"dowÆßd_¡©us_h–³r.h
"

20 
	~"rfcš‹rçû.h
"

25 
	$upd©eFWDowÆßdStus
(
FWDowÆßdStus
 *
fwdls
, cÚ¡ *
di§bËStsUpd©e
) {

26 
FILE
 *
å
;

29 ià(
fwdls
 =ğ
NULL
 || 
di§bËStsUpd©e
 == NULL) {

30 
	`SWLOG_ERROR
("updateFWDownloadStatus(): Parameter is NULL\n");

31  
FAILURE
;

33 if((
	`¡rcmp
(
di§bËStsUpd©e
, "yes")) == 0) {

34 
	`SWLOG_INFO
("upd©eFWDowÆßdStus(): Stu Upd©Di§bË:%s\n", 
di§bËStsUpd©e
);

35  
SUCCESS
;

37 
å
 = 
	`fİ’
(
STATUS_FILE
, "w");

38 if(
å
 =ğ
NULL
) {

39 
	`SWLOG_ERROR
("upd©eFWDowÆßdStus(): fİ’ faed:%s\n", 
STATUS_FILE
);

40  
FAILURE
;

42 
	`SWLOG_INFO
("upd©eFWDowÆßdStus(): GošgØwr™e:%s\n", 
STATUS_FILE
);

44 
	`årštf
Ğ
å
, "%s", 
fwdls
->
m‘hod
 );

45 
	`årštf
Ğ
å
, "%s", 
fwdls
->
´Ùo
 );

46 
	`årštf
Ğ
å
, "%s", 
fwdls
->
¡©us
 );

47 
	`årštf
Ğ
å
, "%s", 
fwdls
->
»boÙ
 );

48 
	`årštf
Ğ
å
, "%s", 
fwdls
->
çu»R—sÚ
 );

49 
	`årštf
Ğ
å
, "%s", 
fwdls
->
dÆdV”¢
 );

50 
	`årštf
Ğ
å
, "%s", 
fwdls
->
dÆdfe
 );

51 
	`årštf
Ğ
å
, "%s", 
fwdls
->
dÆdu¾
 );

52 
	`årštf
Ğ
å
, "%s", 
fwdls
->
Ï¡run
 );

53 
	`årštf
Ğ
å
, "%s", 
fwdls
->
FwUpd©eS‹
 );

54 
	`årštf
Ğ
å
, "%s", 
fwdls
->
D–ayDowÆßd
 );

55 
	`fşo£
(
å
);

56  
SUCCESS
;

57 
	}
}

63 
	$nÙifyDwÆStus
(cÚ¡ *
key
, cÚ¡ *
v®ue
, 
RFCVALDATATYPE
 
d©©y³
) {

64 
»t
 = 
WRITE_RFC_FAILURE
;

65 ià(
key
 =ğ
NULL
 || 
v®ue
 == NULL) {

66 
	`SWLOG_ERROR
("%s: P¬am‘” i NULL\n", 
__FUNCTION__
);

68 
»t
 = 
	`wr™e_RFCPrİ”ty
("NÙifyDwÆSt", 
key
, 
v®ue
, 
d©©y³
);

70  
»t
;

71 
	}
}

	@src/flash.c

19 
	~<sys/¡©.h
>

20 
	~<cu¾/cu¾.h
>

21 
	~"rdkv_cdl.h
"

22 
	~"rdkv_cdl_log_w¿µ”.h
"

23 
	~"dowÆßd_¡©us_h–³r.h
"

24 
	~"deviû_¡©us_h–³r.h
"

25 
	~"ŸrmIÁ”çû.h
"

26 
	~"rfcš‹rçû.h
"

27 #iâdeà
GTEST_ENABLE


28 
	~"u¾H–³r.h
"

29 
	~"jsÚ_·r£.h
"

30 
	~"rdk_fwdl_uts.h
"

31 
	~"sy¡em_uts.h
"

32 
	~"rbusIÁ”çû/rbusIÁ”çû.h
"

34 
	~"rbus_mock.h
"

36 
	~<sys/wa™.h
>

37 
	~"deviûuts.h
"

54 
	$æashT2CouÁNÙify
(*
m¬k”
, 
v®
) {

55 #ifdeà
T2_EVENT_ENABLED


56 
	`t2_ev’t_d
(
m¬k”
, 
v®
);

58 
	}
}

69 
	$æashImage
(cÚ¡ *
£rv”_u¾
, cÚ¡ *
upg¿de_fe
, cÚ¡ *
»boÙ_æag
, cÚ¡ *
´Ùo
, 
upg¿de_ty³
, cÚ¡ *
mašt
,
Œigg”_ty³
)

71 
»t
 = -1;

72 
boŞ
 
medŸş›Á
 = 
çl£
;

73 *
çu»R—sÚ
 = 
NULL
;

74 
ıu_¬ch
[8] = {0};

75 
h—d”šfofe
[128] = {0};

76 
difw_·th
[16] = {0};

77 *
ræag
 = "0";

78 *
u±y³
 = "pci";

79 *
fe
 = 
NULL
;

80 
æash_¡©us
 = -1;

81 
FWDowÆßdStus
 
fwdls
;

82 
	`mem£t
(&
fwdls
, '\0', (fwdls));

84 ià(
£rv”_u¾
 =ğ
NULL
 || 
upg¿de_fe
 =ğNULL || 
»boÙ_æag
 =ğNULL || 
´Ùo
 =ğNULL || 
mašt
 == NULL) {

85 
	`SWLOG_ERROR
("% : P¬am‘¸i NULL\n", 
__FUNCTION__
);

86  
»t
;

88 ià(0 =ğ((
	`¡ºcmp
(
»boÙ_æag
, "true", 4)))) {

89 
ræag
 = "1";

90 
	`SWLOG_INFO
("»boÙ fÏg = %s\n", 
ræag
);

92 
fe
 = 
	`¡¼chr
(
upg¿de_fe
, '/');

93 ià(
fe
 !ğ
NULL
) {

94 
	`SWLOG_INFO
("upg¿dfğ%s\n", 
fe
);

95 
	`SWLOG_INFO
("upg¿dfğ%s\n", 
fe
+1);

97 
	`¢´štf
(
h—d”šfofe
, (h—d”šfofe), "%s.h—d”", 
upg¿de_fe
);

98 
	`SWLOG_INFO
("Starting Image Flashing ...\n");

99 
	`SWLOG_INFO
("Upg¿dS”v” = %s\nUpg¿dFğ%s\nReboÙ FÏg = %s\nUpg¿d´ÙocŞ = %s\nPDRI Upg¿dğ%d\nImagÇmğ%s\nh—d”fe=%s\n", 
£rv”_u¾
, 
upg¿de_fe
, 
»boÙ_æag
, 
´Ùo
, 
upg¿de_ty³
, 
fe
, 
h—d”šfofe
);

100 ià(
upg¿de_ty³
 =ğ
PDRI_UPGRADE
) {

101 
	`SWLOG_INFO
("Upd©šg PDRI imagw™h %s\n", 
upg¿de_fe
);

103 
medŸş›Á
 = 
	`isMedŸCl›ÁDeviû
();

104 ià(
Œue
 =ğ
medŸş›Á
) {

105 
	`ev’tMªag”
(
IMG_DWL_EVENT
, 
IMAGE_FWDNLD_FLASH_INPROGRESS
);

107 
»t
 = 
	`g‘DeviûPrİ”tyD©a
("CPU_ARCH", 
ıu_¬ch
, (cpu_arch));

108 ià(
»t
 =ğ
UTILS_SUCCESS
) {

109 
	`SWLOG_INFO
("ıu_¬ch = %s\n", 
ıu_¬ch
);

111 
	`SWLOG_ERROR
("%s: g‘DeviûPrİ”tyD©a(èfÜ cpu‡rch fa\n", 
__FUNCTION__
);

113 
»t
 = 
	`g‘DeviûPrİ”tyD©a
("DIFW_PATH", 
difw_·th
, (difw_path));

114 ià(
»t
 =ğ
UTILS_SUCCESS
) {

115 
	`SWLOG_INFO
("difw…©h = %s\n", 
difw_·th
);

119 
	`SWLOG_ERROR
("%s: g‘DeviûPrİ”tyD©a(èfÜ DIFW_PATH fa\n", 
__FUNCTION__
);

121 ià(0 =ğ(
	`feP»£ÁCheck
("/lib/rdk/imageFlasher.sh"))) {

125 ià(
upg¿de_ty³
 =ğ
PDRI_UPGRADE
) {

126 
u±y³
 = "pdri";

127 
	`SWLOG_INFO
("upg¿dty³ = %s\n", 
u±y³
);

129 
»t
 = 
	`v_£cu»_sy¡em
("/lib/rdk/imageFÏsh”.sh '%s' '%s' '%s' '%s' '%s' '%s'", 
´Ùo
, 
£rv”_u¾
, 
difw_·th
, 
fe
+1, 
ræag
, 
u±y³
);

130 
æash_¡©us
 = 
»t
;

131 
	`SWLOG_INFO
("æash_¡©u ğ%d‡nd„‘ = %d\n",
æash_¡©us
, 
»t
);

133 
	`SWLOG_ERROR
("imageFlasher.sh„equired for flash image. This is device specific implementation\n");

135 ià(
æash_¡©us
 =ğ0 && (
upg¿de_ty³
 !ğ
PDRI_UPGRADE
)) {

136 
	`SWLOG_INFO
("doCDL success.\n");

137 
	`æashT2CouÁNÙify
("SYST_INFO_CDLSuccess", 1);

139 ià(
æash_¡©us
 != 0) {

140 
	`SWLOG_INFO
("Image Flashing failed\n");

141 
	`æashT2CouÁNÙify
("SYST_ERR_imageflsfail", 1);

142 ià(
çl£
 =ğ
medŸş›Á
) {

143 
çu»R—sÚ
 = "RCDL Upgrade Failed";

144 ià((
	`¡ºcmp
(
ıu_¬ch
, "x86", 3)) == 0) {

145 
çu»R—sÚ
 = "ECMrigger failed";

148 
çu»R—sÚ
 = "Failed in flash write";

149 
	`ev’tMªag”
(
IMG_DWL_EVENT
, 
IMAGE_FWDNLD_FLASH_FAILED
);

150 ià((
	`¡ºcmp
(
mašt
, "true", 4)) == 0) {

151 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ERROR
);

152 
	`SWLOG_INFO
("Image Flash Failed‡nd send statuso MaintenanceMGR\n");

156 
	`¢´štf
(
fwdls
.
¡©us
, (fwdls.status), "Status|Failure\n");

157 
	`¢´štf
(
fwdls
.
FwUpd©eS‹
, (fwdls.FwUpdateState), "FwUpdateState|Failed\n");

158 
	`¢´štf
(
fwdls
.
çu»R—sÚ
, (fwdls.failureReason), "FailureReason|%s\n", failureReason);

159 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_FAILED
);

160 
	`upd©eUpg¿deFÏg
(2);

161 } ià(
Œue
 =ğ
medŸş›Á
) {

162 
	`SWLOG_INFO
("Image Flashing is success\n");

163 
	`æashT2CouÁNÙify
("SYST_INFO_ImgFlashOK", 1);

165 
	`¢´štf
(
fwdls
.
¡©us
, (fwdls.status), "Status|Success\n");

166 
	`¢´štf
(
fwdls
.
FwUpd©eS‹
, (fwdls.FwUpdateState), "FwUpdateState|Validation complete\n");

167 
	`¢´štf
(
fwdls
.
çu»R—sÚ
, (fwdls.failureReason), "FailureReason|");

168 *
pXcÚfCheckNow
 = 
	`ÿÎoc
(10, ());

169 
FILE
 *
ÿnFe
 = 
	`fİ’
("/tmp/xconfchecknow_val", "r");

170 ià(
ÿnFe
 !ğ
NULL
) {

171 
ä‘
 = 
	`fsÿnf
(
ÿnFe
, "%9s", 
pXcÚfCheckNow
);

172 ià(
ä‘
 <= 0) {

173 
	`SWLOG_ERROR
("Device_X_COMCAST_COM_Xcalibur_Client_xconfCheckNow: Error„eading from file\n");

175 
	`fşo£
(
ÿnFe
);

178 
	`SWLOG_INFO
("Device_X_COMCAST_COM_Xcalibur_Client_xconfCheckNow: File does‚otƒxist\n");

180 ià(((
	`¡ºcmp
(
mašt
, "Œue", 4)è=ğ0è&& (0 =ğ(¡ºcmp(
»boÙ_æag
, "Œue", 4))è&& ((0 !ğ
	`¡rÿ£cmp
("CANARY", 
pXcÚfCheckNow
)è|| (
Œigg”_ty³
 != 3))) {

181 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_CRITICAL_UPDATE
);

182 
	`SWLOG_INFO
("Posting Critical update");

184 ifĞ
pXcÚfCheckNow
 !ğ
NULL
 ) {

185 
	`ä“
(
pXcÚfCheckNow
);

187 ià(0 =ğ
	`feP»£ÁCheck
(
upg¿de_fe
)) {

188 
	`SWLOG_INFO
("æashImage: FÏshšg com¶‘ed. D–‘šg Fe:%s\n", 
upg¿de_fe
);

189 
	`uÆšk
(
upg¿de_fe
);

191 
	`po¡FÏsh
(
mašt
, 
fe
+1, 
upg¿de_ty³
, 
»boÙ_æag
,
Œigg”_ty³
);

192 
	`upd©eUpg¿deFÏg
(2);

194 ià(
Œue
 =ğ
medŸş›Á
 && (0 =ğ
	`feP»£ÁCheck
(
upg¿de_fe
))) {

195 
	`uÆšk
(
upg¿de_fe
);

197 ià(0 =ğ
	`feP»£ÁCheck
(
h—d”šfofe
)) {

198 
	`SWLOG_INFO
("æashImage: FÏshšg com¶‘ed. D–‘šg h—d”fFe:%s\n", 
h—d”šfofe
);

199 
	`uÆšk
(
h—d”šfofe
);

201 
	`¢´štf
(
fwdls
.
m‘hod
, (fwdls.method), "Method|xconf\n");

202 
	`¢´štf
(
fwdls
.
´Ùo
, (fwdls.proto), "Proto|http\n");

203 
	`¢´štf
(
fwdls
.
»boÙ
, (fwdls.»boÙ), "ReboÙ|%s\n", 
»boÙ_æag
);

205 
	`¢´štf
(
fwdls
.
dÆdV”¢
, (fwdls.dnldVersn), "DnldVersn|\n");

206 
	`¢´štf
(
fwdls
.
dÆdfe
, (fwdls.dÆdfe), "DÆdFe|%s\n", 
upg¿de_fe
);

207 
	`¢´štf
(
fwdls
.
dÆdu¾
, (fwdls.dÆdu¾), "DÆdURL|%s\n", 
£rv”_u¾
);

208 
	`¢´štf
(
fwdls
.
Ï¡run
, (fwdls.lastrun), "LastRun|\n");

209 
	`¢´štf
(
fwdls
.
D–ayDowÆßd
, (fwdls.DelayDownload), "DelayDownload|\n");

210 ià(
upg¿de_ty³
 =ğ
PDRI_UPGRADE
) {

211 
	`upd©eFWDowÆßdStus
(&
fwdls
, "yes");

213 
	`upd©eFWDowÆßdStus
(&
fwdls
, "no");

216  
æash_¡©us
;

217 
	}
}

227 
	$po¡FÏsh
(cÚ¡ *
mašt
, cÚ¡ *
upg¿de_fe
, 
upg¿de_ty³
, cÚ¡ *
»boÙ_æag
,
Œigg”_ty³
)

229 
DowÆßdD©a
 
DwnLoc
;

230 
»t
 = -1;

231 
deviû_ty³
[32];

232 
deviû_Çme
[32];

233 
¡age2lock
[32] = {0};

234 
FILE
 *
å
 = 
NULL
;

235 *
¡age2fe
 = 
NULL
;

236 *
tmp_¡age2lock
 = 
NULL
;

237 
boŞ
 
¡_nÙify_æag
 = 
çl£
;

238 
po¡_d©a
[] = "{\"jsonrpc\":\"2.0\",\"id\":\"3\",\"method\":\"org.rdk.FactoryProtect.1.setManufacturerData\",\"params\":{\"key\":\"deviceStage\",\"value\":\"stage2\"}}";

240 ià(
mašt
 =ğ
NULL
 || 
»boÙ_æag
 =ğNULL || 
upg¿de_fe
 == NULL) {

241 
	`SWLOG_ERROR
("%s: P¬am‘” i NULL\n", 
__FUNCTION__
);

242  
»t
;

245 
å
 = 
	`fİ’
("/tmp/rdkvfw_sec_stage", "w");

246 ià(
å
 !ğ
NULL
) {

247 
	`fşo£
(
å
);

249 
»t
 = 
	`g‘DeviûPrİ”tyD©a
("DEVICE_TYPE", 
deviû_ty³
, (device_type));

250 ià(
»t
 =ğ
UTILS_SUCCESS
) {

251 
	`SWLOG_INFO
("%s: deviû_ty³ = %s\n", 
__FUNCTION__
, 
deviû_ty³
);

253 
	`SWLOG_ERROR
("%s: g‘DeviûPrİ”tyD©a(èfÜ deviû_ty³ fa\n", 
__FUNCTION__
);

254  
»t
;

256 
»t
 = 
	`g‘DeviûPrİ”tyD©a
("DEVICE_NAME", 
deviû_Çme
, (device_name));

257 ià(
»t
 =ğ
UTILS_SUCCESS
) {

258 
	`SWLOG_INFO
("%s: deviû_Çmğ%s\n", 
__FUNCTION__
, 
deviû_Çme
);

260 
	`SWLOG_ERROR
("%s: g‘DeviûPrİ”tyD©a(èfÜ deviû_Çmç\n", 
__FUNCTION__
);

261  
»t
;

263 ià(0 =ğ(
	`¡ºcmp
(
deviû_Çme
, "PLATCO", 6))) {

264 
»t
 = 
	`g‘DeviûPrİ”tyD©a
("STAGE2LOCKFILE", 
¡age2lock
, (stage2lock));

265 ià(
»t
 =ğ
UTILS_SUCCESS
) {

266 
	`SWLOG_INFO
("%s: secur™y sge2fÇmğ%s\n", 
__FUNCTION__
, 
¡age2lock
);

268 ià(
¡age2lock
[0] == '"') {

269 
tmp_¡age2lock
 = 
	`¡rchr
(
¡age2lock
+1, '"');

270 ià(
tmp_¡age2lock
 !ğ
NULL
) {

271 *
tmp_¡age2lock
 = '\0';

273 
	`SWLOG_INFO
("Secur™y sgfÇme=%s\n", 
¡age2lock
+1);

274 
¡age2fe
 = 
¡age2lock
+1;

275 ià(
¡age2fe
 !ğ
NULL
) {

276 
	`SWLOG_INFO
("Secur™y sgfÇmaá”„emov¥ecŸÈch¬aù”=%s\n", 
¡age2fe
);

279 
¡age2fe
 = 
¡age2lock
;

281 ià(0 !ğ(
	`feP»£ÁCheck
(
¡age2fe
))) {

282 
	`¡¬tFaùÜyPrÙeùS”viû
();

283 
	`¦“p
(2);

285 ifĞ
	`®locDowndLßdD©aMem
Ğ&
DwnLoc
, 
DEFAULT_DL_ALLOC
 ) == 0 )

287 
	`g‘JsÚRpc
(
po¡_d©a
, &
DwnLoc
);

288 
å
 = 
	`fİ’
(
¡age2fe
, "w");

289 ià(
å
 !ğ
NULL
) {

290 
	`SWLOG_INFO
("Security stage file created\n");

291 
	`fşo£
(
å
);

293 
	`SWLOG_ERROR
("Unableo create Security stage file\n");

295 ifĞ
DwnLoc
.
pvOut
 !ğ
NULL
 )

297 
	`ä“
Ğ
DwnLoc
.
pvOut
 );

302 
	`SWLOG_ERROR
("%s: g‘DeviûPrİ”tyD©a(èfÜ deviû_Çmç\n", 
__FUNCTION__
);

305 
¡_nÙify_æag
 = 
	`isMmgbËNÙifyEÇbËd
();

306 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_VALIDATION_COMPLETE
);

307 
	`ev’tMªag”
(
IMG_DWL_EVENT
, 
IMAGE_FWDNLD_FLASH_COMPLETE
);

308 ifĞ
	`isInS‹Red
() ) {

309 
	`ev’tMªag”
(
RED_STATE_EVENT
, 
RED_RECOVERY_PROGRAMMED
);

310 
	`SWLOG_INFO
("Creating„ed_state_reboot file\n");

311 
å
 = 
	`fİ’
(
RED_STATE_REBOOT
, "w");

312 ià(
å
 !ğ
NULL
) {

313 
	`fşo£
(
å
);

316 ià((
	`¡ºcmp
(
deviû_ty³
, "brßdbªd", 9)è&& (0 =ğ(¡ºcmp(
mašt
, "true", 4)))) {

317 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_COMPLETE
);

319 
	`¦“p
(5);

320 
	`sync
();

321 * 
pXcÚfCheckNow
 = 
	`ÿÎoc
(10, ());

322 ià(
pXcÚfCheckNow
 =ğ
NULL
) {

323 
	`SWLOG_ERROR
("Device_X_COMCAST_COM_Xcalibur_Client_xconfCheckNow: CALLOC failure\n");

324  
»t
;

326 
FILE
 *
fe
 = 
	`fİ’
("/tmp/xconfchecknow_val", "r");

327 ià(
fe
 !ğ
NULL
) {

328 ià(
	`fsÿnf
(
fe
, "%9s", 
pXcÚfCheckNow
è=ğ
EOF
) {

329 
	`SWLOG_ERROR
("Device_X_COMCAST_COM_Xcalibur_Client_xconfCheckNow: Error„eading file\n");

331 
	`fşo£
(
fe
);

334 
	`SWLOG_INFO
("Device_X_COMCAST_COM_Xcalibur_Client_xconfCheckNow: Error opening file for„ead\n");

336 ià(0 !ğ(
	`feP»£ÁCheck
("/tmp/fw_preparing_to_reboot"))) {

337 
å
 = 
	`fİ’
("/tmp/fw_preparing_to_reboot", "w");

338 ià(
å
 =ğ
NULL
) {

339 
	`SWLOG_ERROR
("Error creating file /tmp/fw_preparing_to_reboot\n");

341 
	`SWLOG_INFO
("Creating flag for…reparingo„ebootƒvent sento AS/EPG\n");

342 
	`fşo£
(
å
);

344 ià((0 !ğ
	`¡rÿ£cmp
("CANARY", 
pXcÚfCheckNow
)è|| (
Œigg”_ty³
 != 3)) {

345 
	`ev’tMªag”
(
FW_STATE_EVENT
,
FW_STATE_PREPARING_TO_REBOOT
);

348 ià(
upg¿de_ty³
 =ğ
PDRI_UPGRADE
) {

349 
	`SWLOG_INFO
("Reboot Not Needed‡fter PDRI Upgrade..!\n");

351 
	`SWLOG_INFO
("% : Upg¿ded fğ%s\n", 
__FUNCTION__
, 
upg¿de_fe
);

352 
å
 = 
	`fİ’
("/opt/cdl_flashed_file_name", "w");

353 ià(
å
 !ğ
NULL
) {

354 
	`årštf
(
å
, "%s\n", 
upg¿de_fe
);

355 
	`fşo£
(
å
);

357 ià((0 =ğ
	`¡rÿ£cmp
("CANARY", 
pXcÚfCheckNow
)è&& (
Œigg”_ty³
 == 3)) {

359 
po¡_d©a
[] = "{\"jsonrpc\":\"2.0\",\"id\":\"42\",\"method\": \"org.rdk.System.getPowerState\"}";

360 
DowÆßdD©a
 
DwnLoc
 = {
NULL
, 0, 0};

361 
JSON
 *
pJsÚ
 = 
NULL
;

362 
JSON
 *
pI‹m
 = 
NULL
;

363 
JSON
 *
»s_v®
 = 
NULL
;

365 ifĞ
	`®locDowndLßdD©aMem
Ğ&
DwnLoc
, 
DEFAULT_DL_ALLOC
 ) == 0 ) {

366 ià(0 !ğ
	`g‘JsÚRpc
(
po¡_d©a
, &
DwnLoc
)) {

367 
	`SWLOG_INFO
("% :: iscÚÃùed JsÚRpøÿÎ faed\n",
__FUNCTION__
);

368 
	`ä“
(
pXcÚfCheckNow
);

369 ià(
DwnLoc
.
pvOut
 !ğ
NULL
) {

370 
	`ä“
(
DwnLoc
.
pvOut
);

372  
»t
;

374 
pJsÚ
 = 
	`P¬£JsÚSŒ
Ğ(*)
DwnLoc
.
pvOut
 );

375 ifĞ
pJsÚ
 !ğ
NULL
 ) {

376 
pI‹m
 = 
	`G‘JsÚI‹m
Ğ
pJsÚ
, "result" );

377 
»s_v®
 = 
	`G‘JsÚI‹m
Ğ
pI‹m
, "powerState" );

380 
	`SWLOG_INFO
("% :: iscÚÃùed JsÚRpø»¥Ú£ i em±y\n",
__FUNCTION__
);

381 
	`ä“
(
pXcÚfCheckNow
);

382 ià(
DwnLoc
.
pvOut
 !ğ
NULL
) {

383 
	`ä“
(
DwnLoc
.
pvOut
);

385  
»t
;

389 if(
»s_v®
 !ğ
NULL
) {

390 if(0 =ğ
	`¡rÿ£cmp
("ON", 
»s_v®
->
v®ue¡ršg
)) {

391 
	`SWLOG_INFO
("Defer Reboot for Canary Firmware Upgrade since…ower state is ON\n");

392 
	`æashT2CouÁNÙify
("SYS_INFO_DEFER_CANARY_REBOOT", 1);

394 #iâdeà
GTEST_ENABLE


396 
	`æashT2CouÁNÙify
("SYS_INFO_CANARY_Update", 1);

398 ifĞ
RBUS_ERROR_SUCCESS
 !ğ
	`švokeRbusDCMR•Üt
()) {

399 
	`SWLOG_ERROR
("Error in uploadingelemetry„eport\n");

400 ifĞ
DwnLoc
.
pvOut
 !ğ
NULL
 ) {

401 
	`ä“
Ğ
DwnLoc
.
pvOut
 );

403 ifĞ
pJsÚ
 !ğ
NULL
 ) {

404 
	`F»eJsÚ
Ğ
pJsÚ
 );

406 iàĞ
pXcÚfCheckNow
 !ğ
NULL
 ) {

407 
	`ä“
(
pXcÚfCheckNow
);

409  
»t
;

411 ià(0 =ğ(
	`¡ºcmp
(
»boÙ_æag
, "true", 4))) {

412 
	`SWLOG_INFO
("Rebooting from RDK for Canary Firmware Upgrade\n");

413 
	`v_£cu»_sy¡em
("sh /rebootNow.sh -s '%s' -o '%s'","CANARY_Update", "Rebootinghe box from RDK for Pending Canary Firmware Upgrade...");

418 ifĞ
DwnLoc
.
pvOut
 !ğ
NULL
 ) {

419 
	`ä“
Ğ
DwnLoc
.
pvOut
 );

421 ifĞ
pJsÚ
 !ğ
NULL
 ) {

422 
	`F»eJsÚ
Ğ
pJsÚ
 );

425 ià(0 =ğ(
	`¡ºcmp
(
mašt
, "true", 4))) {

426 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_REBOOT_REQUIRED
);

427 ià(0 =ğ(
	`¡ºcmp
(
deviû_Çme
, "PLATCO", 6)è&& (0 =ğ(¡ºcmp(
»boÙ_æag
, "true", 4)))) {

428 
	`SWLOG_INFO
("Send‚otificationo„eboot in 10mins dueo critical upgrade\n");

429 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_CRITICAL_REBOOT
);

430 
	`SWLOG_INFO
("Sleeping for 600 sec before„ebootinghe STB\n");

431 
	`¦“p
(600);

432 
	`SWLOG_INFO
("Application Reboot Timer of 600ƒxpired, Rebooting from RDK\n");

434 
	`v_£cu»_sy¡em
("sh /rebootNow.sh -s '%s' -o '%s'","UpgradeReboot_rdkvfwupgrader", "Rebootinghe box from RDK for Pending Critical Firmware Upgrade...");

436 
	`upd©eOPTOUTFe
(
MAINTENANCE_MGR_RECORD_FILE
);

438 ià(0 =ğ(
	`¡ºcmp
(
»boÙ_æag
, "true", 4))) {

439 
	`SWLOG_INFO
("Download is complete. Rebootinghe box‚ow...\n");

440 
	`SWLOG_INFO
("Trigger RebootPendingNotification in background\n");

441 ià(
Œue
 =ğ
¡_nÙify_æag
) {

442 
	`SWLOG_INFO
("RDKV_REBOOT : Setting RebootPendingNotification before„eboot\n");

443 
	`nÙifyDwÆStus
(
RFC_FW_REBOOT_NOTIFY
, 
REBOOT_PENDING_DELAY
, 
RFC_UINT
);

444 
	`SWLOG_INFO
("RDKV_REBOOT : RebootPendingNotification SET succeeded\n");

446 
	`un£tS‹Red
();

447 
	`SWLOG_INFO
("sleep for 2 seco send„eboot…ending‚otification\n");

448 
	`¦“p
(2);

450 
	`v_£cu»_sy¡em
("sh /rebootNow.sh -s '%s' -o '%s'", "UpgradeReboot_rdkvfwupgrader", "Rebootinghe box‡fter Firmware Image Upgrade...");

454 ifĞ
pXcÚfCheckNow
 !ğ
NULL
 ) {

455 
	`ä“
(
pXcÚfCheckNow
);

458 
	}
}

	@src/iarmInterface/iarmInterface.c

19 
	~<¡dboŞ.h
>

20 
	~<±h»ad.h
>

21 
	~"rdkv_cdl_log_w¿µ”.h
"

22 #ià
defšed
(
IARM_ENABLED
)

24 
	~"ŸrmIÁ”çû.h
"

26 #ifdeà
CTRLM_ENABLED


27 
	~"ù¾m_c_deviû_upd©e.h
"

30 
	~"rdkv_cdl_log_w¿µ”.h
"

31 
	~<cu¾/cu¾.h
>

32 
	~"jsÚ_´oûss.h
"

33 #iâdeà
GTEST_ENABLE


34 
	~"u¾H–³r.h
"

35 
	~"jsÚ_·r£.h
"

37 
	~"deviûuts.h
"

39 
g‘AµMode
();

40 
	#IARM_RDKVFWUPGRADER_EVENT
 "RDKVFWEv’t"

	)

48 
	$ev’tMªag”
(cÚ¡ *
cur_ev’t_Çme
, cÚ¡ *
ev’t_¡©us
) {

49 
	sev’tLi¡
 {

50 
gch¬
* 
ev’t_Çme
;

51 
sys_¡©e_ev’t
;

52 } 
ev’t_li¡
[] = {

53 { "ImageDwldEv’t", 
IARM_BUS_SYSMGR_SYSSTATE_FIRMWARE_DWNLD
 },

54 { "Fœmw¬eS‹Ev’t", 
IARM_BUS_SYSMGR_SYSSTATE_FIRMWARE_UPDATE_STATE
 },

55 { "RedS‹Ev’t", 
IARM_BUS_SYSMGR_SYSSTATE_RED_RECOV_UPDATE_STATE
 }

57 
IARM_Bus_SYSMgr_Ev’tD©a_t
 
ev’t_d©a
;

58 
i
;

59 
Ën
 = (
ev’t_li¡
è/ (
ev’tLi¡
);

60 
IARM_ResuÉ_t
 
»t_code
 = 
IARM_RESULT_SUCCESS
;

61 
boŞ
 
ev’t_m©ch
 = 
çl£
;

64 if(
cur_ev’t_Çme
 =ğ
NULL
 || 
ev’t_¡©us
 == NULL) {

65 
	`SWLOG_ERROR
("eventManager() failed dueo NULL…arameter\n");

69 
	`SWLOG_INFO
("%s: G’”©IARM_BUS_NAME cu¼’ˆev’t=%s\n", 
__FUNCTION__
, 
cur_ev’t_Çme
);

70 #ifdeà
EN_MAINTENANCE_MANAGER


71 iàĞ!(
	`¡ºcmp
(
cur_ev’t_Çme
,"MaintenanceMGR", 14)) ) {

72 
IARM_Bus_MaštMGR_Ev’tD©a_t
 
šfoStus
;

73 
maš_mgr_ev’t
;

75 
	`mem£t
Ğ&
šfoStus
, 0, (
IARM_Bus_MaštMGR_Ev’tD©a_t
) );

76 
maš_mgr_ev’t
 = 
	`©oi
(
ev’t_¡©us
);

77 
	`SWLOG_INFO
(">>>>> Id’tif›d Maš‹ÇnûMGR w™hƒv’ˆv®ue=%u\n", 
maš_mgr_ev’t
);

78 
šfoStus
.
d©a
.
maš‹Çnû_moduË_¡©us
.
¡©us
 = (
IARM_Mašt_moduË_¡©us_t
)
maš_mgr_ev’t
;

79 
»t_code
=
	`IARM_Bus_Brßdÿ¡Ev’t
(
IARM_BUS_MAINTENANCE_MGR_NAME
,(
IARM_Ev’tId_t
)
IARM_BUS_MAINTENANCEMGR_EVENT_UPDATE
, (*)&
šfoStus
, (infoStatus));

80 
	`SWLOG_INFO
(">>>>> IARM %  Ev’ˆ = %d\n",(
»t_code
 =ğ
IARM_RESULT_SUCCESS
) ? "SUCCESS" : "FAILURE",\

81 
šfoStus
.
d©a
.
maš‹Çnû_moduË_¡©us
.
¡©us
);

85 ifĞ!(
	`¡ºcmp
Ğ
cur_ev’t_Çme
,"PeripheralUpgradeEvent", 22 )) )

87 #ifdeà
CTRLM_ENABLED


88 
ù¾m_deviû_upd©e_Ÿrm_ÿÎ_upd©e_avaabË_t
 
fœmw¬eInfo
;

89 
IARM_ResuÉ_t
 
»suÉ
;

90 *
pSaved
;

91 * 
ev’t_¡©us_cİy
 = 
	`¡rdup
(
ev’t_¡©us
);

92 if(
ev’t_¡©us_cİy
 =ğ
NULL
) {

93 
	`SWLOG_ERROR
("eventManager() failed dueo strdup„eturned NULL\n");

97 
	`SWLOG_INFO
Ğ"%s:ƒv’t_¡©u ğ%s\n", 
__FUNCTION__
, 
ev’t_¡©us
 );

98 
fœmw¬eInfo
.
­i_»visiÚ
 = 
CTRLM_DEVICE_UPDATE_IARM_BUS_API_REVISION
;

99 
	`¢´štf
Ğ
fœmw¬eInfo
.
fœmw¬eLoÿtiÚ
, (firmwareInfo.firmwareLocation), "%s",

100 
	`¡¹ok_r
Ğ
ev’t_¡©us_cİy
, ":", &
pSaved
 ) );

101 
	`¢´štf
Ğ
fœmw¬eInfo
.
fœmw¬eNames
, (fœmw¬eInfo.
fœmw¬eLoÿtiÚ
), "%s",

102 
	`¡¹ok_r
Ğ
NULL
, ":", &
pSaved
 ) );

103 
	`SWLOG_INFO
( "%s: firmwareInfo.firmwareLocation = %s\nfirmwareInfo.firmwareNames = %s\n",

104 
__FUNCTION__
, 
fœmw¬eInfo
.
fœmw¬eLoÿtiÚ
, fœmw¬eInfo.
fœmw¬eNames
 );

106 
»suÉ
 = 
	`IARM_Bus_C®l
Ğ
CTRLM_MAIN_IARM_BUS_NAME
,

107 
CTRLM_DEVICE_UPDATE_IARM_CALL_UPDATE_AVAILABLE
,

108 (*)&
fœmw¬eInfo
,

109 (
fœmw¬eInfo
) );

111 
	`SWLOG_INFO
("% : IARM_Bus_C®È»suÉ = %d\n", 
__FUNCTION__
, ()
»suÉ
 );

112 
	`ä“
(
ev’t_¡©us_cİy
);

114 
	`SWLOG_INFO
( "%s:ƒvent_status = %s -‚o control manager‡vailable,‚ot…rocessing IARMƒvent\n",

115 
__FUNCTION__
, 
ev’t_¡©us
 );

120 
	`SWLOG_INFO
Ğ"%s:ƒv’t_¡©u ğ%u\n", 
__FUNCTION__
, 
	`©oi
(
ev’t_¡©us
) );

121  
i
 = 0; i < 
Ën
; i++ ) {

122 if(!(
	`¡rcmp
(
cur_ev’t_Çme
, 
ev’t_li¡
[
i
].
ev’t_Çme
))) {

123 
ev’t_d©a
.
d©a
.
sy¡emS‹s
.
¡©eId
 = 
ev’t_li¡
[
i
].
sys_¡©e_ev’t
;

124 
ev’t_d©a
.
d©a
.
sy¡emS‹s
.
¡©e
 = 
	`©oi
(
ev’t_¡©us
);

125 
ev’t_m©ch
 = 
Œue
;

129 if(
ev’t_m©ch
 =ğ
Œue
) {

130 
ev’t_d©a
.
d©a
.
sy¡emS‹s
.
”rÜ
 = 0;

131 
»t_code
 = 
	`IARM_Bus_Brßdÿ¡Ev’t
(
IARM_BUS_SYSMGR_NAME
, (
IARM_Ev’tId_t
è
IARM_BUS_SYSMGR_EVENT_SYSTEMSTATE
, (*è&
ev’t_d©a
,

132 (
ev’t_d©a
));

133 if(
»t_code
 =ğ
IARM_RESULT_SUCCESS
) {

134 
	`SWLOG_INFO
("% : >> IARM SUCCESS Ev’t=%s,sysS‹Ev’t=%d\n", 
__FUNCTION__
, 
ev’t_li¡
[
i
].
ev’t_Çme
,ƒv’t_li¡[i].
sys_¡©e_ev’t
);

136 
	`SWLOG_ERROR
("% : >> IARM FAILURE Ev’t=%s,sysS‹Ev’t=%d\n", 
__FUNCTION__
, 
ev’t_li¡
[
i
].
ev’t_Çme
,ƒv’t_li¡[i].
sys_¡©e_ev’t
);

139 
	`SWLOG_ERROR
("%s: Th”¬nØm©chšg IARM sy ev’t fÜ %s\n", 
__FUNCTION__
, 
cur_ev’t_Çme
);

142 
	`SWLOG_INFO
("% : IARM_ev’t_£nd” closšg\n", 
__FUNCTION__
);

143 
	}
}

151 
	$DwÆStİEv’tHªdËr
(cÚ¡ *
owÃr
, 
IARM_Ev’tId_t
 
ev’tId
, *
d©a
, 
size_t
 
Ën
)

153 
­p_mode
 = -1;

154 
»cv_­p_mode
 = -1;

155 ià(
d©a
 =ğ
NULL
) {

156 
	`SWLOG_ERROR
("%s: D©¨i NULL\n", 
__FUNCTION__
);

159 
	`SWLOG_ERROR
("%s: IÀev’ˆD©¨»cv\n", 
__FUNCTION__
);

160 
»cv_­p_mode
 = *((*)
d©a
);

161 
	`SWLOG_INFO
("%s: D©¨»cv:%d\n", 
__FUNCTION__
, *((*)
d©a
));

162 
ev’tId
)

164 
IARM_BUS_RDKVFWUPGRADER_MODECHANGED
:

166 
­p_mode
 = 
	`g‘AµMode
();

167 ià(
»cv_­p_mode
 !ğ
­p_mode
) {

168 
	`š‹ru±DwÆ
(
»cv_­p_mode
);

170 
	`SWLOG_INFO
("Cu¼’ˆ­°mod%d‡nd„ec›ved‡µ mod%d i §me\n", 
­p_mode
, 
»cv_­p_mode
);

179 
	}
}

187 
boŞ
 
	$isCÚÃùed
()

189 
IARM_ResuÉ_t
 
»s
;

190 
isRegi¡”ed
 = 0;

191 
»s
 = 
	`IARM_Bus_IsCÚÃùed
(
IARM_RDKVFWUPGRADER_EVENT
, &
isRegi¡”ed
);

192 
	`SWLOG_INFO
("IARM_Bus_IsCÚÃùed: %d (%d)", 
»s
, 
isRegi¡”ed
);

194 ià(
isRegi¡”ed
 == 1) {

195  
Œue
;

197  
çl£
;

199 
	}
}

206 
	$š™_ev’t_hªdËr
()

208 
IARM_ResuÉ_t
 
»s
;

209 ià(
	`isCÚÃùed
()) {

210 
	`SWLOG_INFO
("IARM‡lready connected\n");

212 
»s
 = 
	`IARM_Bus_In™
(
IARM_RDKVFWUPGRADER_EVENT
);

213 
	`SWLOG_INFO
("IARM_Bus_In™: %d\n", 
»s
);

214 ià(
»s
 =ğ
IARM_RESULT_SUCCESS
 ||„e =ğ
IARM_RESULT_INVALID_STATE
) {

215 
	`SWLOG_INFO
("SUCCESS: IARM_Bus_Init done!\n");

217 
»s
 = 
	`IARM_Bus_CÚÃù
();

218 
	`SWLOG_INFO
("IARM_Bus_CÚÃù: %d\n", 
»s
);

219 ià(
»s
 =ğ
IARM_RESULT_SUCCESS
 ||„e =ğ
IARM_RESULT_INVALID_STATE
) {

220 ià(
	`isCÚÃùed
()) {

221 
	`SWLOG_INFO
("SUCCESS: IARM_Bus_Connect done!\n");

224 
	`SWLOG_ERROR
("IARM_Bus_CÚÃù fau»: %d\n", 
»s
);

227 
	`SWLOG_ERROR
("IARM_Bus_In™ fau»: %d\n", 
»s
);

230 
»s
 = 
	`IARM_Bus_Regi¡”Ev’tHªdËr
(
IARM_BUS_RDKVFWUPGRADER_MGR_NAME
, 
IARM_BUS_RDKVFWUPGRADER_MODECHANGED
, 
DwÆStİEv’tHªdËr
);

231 
	`SWLOG_INFO
("%s: IARM_Bus_Regi¡”Ev’tHªdË¸»t=%d\n", 
__FUNCTION__
, 
»s
);

235 
	}
}

243 
	$‹rm_ev’t_hªdËr
()

245 
IARM_ResuÉ_t
 
»s
 = 0;

246 
»s
 = 
	`IARM_Bus_UnRegi¡”Ev’tHªdËr
(
IARM_BUS_RDKVFWUPGRADER_MGR_NAME
, 
IARM_BUS_RDKVFWUPGRADER_MODECHANGED
);

247 
	`SWLOG_INFO
("SucûssfuÎy”mš©ed‡Îƒv’ˆhªdËrs:%d\n",
»s
);

248 
	`IARM_Bus_DiscÚÃù
();

249 
	`IARM_Bus_T”m
();

251 
	}
}

253 
boŞ
 
	$isCÚÃùedToIÁ”Ãt
 ()

255 
boŞ
 
iscÚÃùed
 = 
çl£
;

257 
DowÆßdD©a
 
DwnLoc
;

258 
JSON
 *
pJsÚ
 = 
NULL
;

259 
JSON
 *
pI‹m
 = 
NULL
;

260 
JSON
 *
»s_v®
 = 
NULL
;

262 
po¡_d©a4
[] = "{\"jsonrpc\":\"2.0\",\"id\":\"42\",\"method\": \"org.rdk.NetworkManager.IsConnectedToInternet\", \"params\" : { \"ipversion\" : \"IPv4\"}}";

263 
po¡_d©a6
[] = "{\"jsonrpc\":\"2.0\",\"id\":\"42\",\"method\": \"org.rdk.NetworkManager.IsConnectedToInternet\", \"params\" : { \"ipversion\" : \"IPv6\"}}";

264 
¡©us
[20];

265 ifĞ
	`®locDowndLßdD©aMem
Ğ&
DwnLoc
, 
DEFAULT_DL_ALLOC
 ) == 0 )

267 ià(0 !ğ
	`g‘JsÚRpc
(
po¡_d©a4
, &
DwnLoc
))

269 
	`SWLOG_INFO
("% :: iscÚÃùed JsÚRpøÿÎ faed\n",
__FUNCTION__
);

270  
iscÚÃùed
;

272 
pJsÚ
 = 
	`P¬£JsÚSŒ
Ğ(*)
DwnLoc
.
pvOut
 );

274 ifĞ
pJsÚ
 !ğ
NULL
 )

276 
pI‹m
 = 
	`G‘JsÚI‹m
Ğ
pJsÚ
, "result" );

277 
»s_v®
 = 
	`G‘JsÚI‹m
Ğ
pI‹m
, "status" );

278 ifĞ
pI‹m
 !ğ
NULL
 )

280 
	`¡ºıy
(
¡©us
, 
»s_v®
->
v®ue¡ršg
, (status));

281 
	`SWLOG_INFO
("% :: stu ğ%s\n",
__FUNCTION__
, 
¡©us
);

282 ià(
	`¡rcmp
(
¡©us
, "NO_INTERNET") != 0) {

283 
	`SWLOG_INFO
("% :: ipv4 check oÆy„‘uº\n",
__FUNCTION__
);

284 
iscÚÃùed
 = 
Œue
;

288 ià(0 !ğ
	`g‘JsÚRpc
(
po¡_d©a6
, &
DwnLoc
))

290 
	`SWLOG_INFO
("% :: iscÚÃùed JsÚRpøÿÎ faed\n",
__FUNCTION__
);

291  
iscÚÃùed
;

293 
pJsÚ
 = 
	`P¬£JsÚSŒ
Ğ(*)
DwnLoc
.
pvOut
 );

294 ifĞ
pJsÚ
 !ğ
NULL
 )

296 
pI‹m
 = 
	`G‘JsÚI‹m
Ğ
pJsÚ
, "result" );

297 
»s_v®
 = 
	`G‘JsÚI‹m
Ğ
pI‹m
, "status" );

298 ifĞ
pI‹m
 !ğ
NULL
 )

300 
	`¡ºıy
(
¡©us
, 
»s_v®
->
v®ue¡ršg
, (status));

301 
	`SWLOG_INFO
("% :: stu ğ%s\n",
__FUNCTION__
, 
¡©us
);

302 ià(
	`¡rcmp
(
¡©us
, "NO_INTERNET") != 0) {

303 
iscÚÃùed
 = 
Œue
;

304 
	`SWLOG_INFO
("% :: R—ched ipv6 check\n",
__FUNCTION__
);

309 
	`SWLOG_INFO
("% :: iscÚÃùed stu ğ%d\n",
__FUNCTION__
,
iscÚÃùed
);

311 
	`F»eJsÚ
Ğ
pJsÚ
 );

313 ifĞ
DwnLoc
.
pvOut
 !ğ
NULL
 )

315 
	`ä“
Ğ
DwnLoc
.
pvOut
 );

318  
iscÚÃùed
;

319 
	}
}

325 
	$ev’tMªag”
(cÚ¡ *
cur_ev’t_Çme
, cÚ¡ *
ev’t_¡©us
) {

327 
	}
}

329 
	$‹rm_ev’t_hªdËr
()

332 
	}
}

333 
	$š™_ev’t_hªdËr
()

336 
	}
}

337 
boŞ
 
	$isCÚÃùedToIÁ”Ãt
 ()

339  
Œue
;

340 
	}
}

	@src/include/device_status_helper.h

19 #iâdeà
VIDEO_DEVICE_STATUS_HELPER_H_


20 
	#VIDEO_DEVICE_STATUS_HELPER_H_


	)

22 
	~<¡dboŞ.h
>

23 
	~<time.h
>

25 #iâdeà
GTEST_ENABLE


26 
	~"sy¡em_uts.h
"

28 
	#DNS_RESOLV_FILE
 "/‘c/»sŞv.dnsmasq"

	)

29 
	#IP_ROUTE_FLAG
 "/tmp/rou‹_avaabË"

	)

30 
	#GATEWAYIP_FILE
 "/tmp/.G©ewayIP_dæŒou‹"

	)

31 
	#ROUTE_FLAG_MAX_CHECK
 5

	)

32 
	#MAINTENANCE_MGR_RECORD_FILE
 "/İt/maš‹Çnû_mgr_»cÜd.cÚf"

	)

34 
	#MAINTENANCE_MGR_RECORD_UPDATE_FILE
 "/İt/.mm_»cÜd_upd©e.cÚf"

	)

35 
	#FLAG_MAX_CHECK
 5

	)

37 #ifdeà
GTEST_ENABLE


38 
	#RDK_API_SUCCESS
 0

	)

39 
	~<fú.h
>

40 
	~<sys/¡©.h
>

42 
	~"rdkv_cdl_log_w¿µ”.h
"

44 
boŞ
 
isDeviûR—dyFÜDowÆßd
();

45 
isS‹RedSuµÜ‹d
();

46 
isInS‹Red
();

47 
checkAndEÁ”S‹Red
(
cu¾»t
, const *);

48 
checkVideoStus
(cÚ¡ *
deviû_Çme
);

49 
isThrÙeEÇbËd
(cÚ¡ *
deviû_Çme
, cÚ¡ *
»boÙ_immedŸ‹_æag
, 
­p_mode
);

50 
isOCSPEÇbË
();

51 
isCodeBigF®lBackEÇbËd
();

52 
isDwÆBlock
(
ty³
);

53 
boŞ
 
isUpg¿deInProg»ss
();

54 
time_t
 
g‘Cu¼’tSysTimeSec
();

55 
boŞ
 
isD–ayFWDowÆßdAùive
(
D–ayDowÆßdXcÚf
, cÚ¡ *
mašt
, 
Œigg”_ty³
);

56 
boŞ
 
isPDRIEÇbË
();

57 
boŞ
 
checkPDRIUpg¿de
(cÚ¡ *
dwÆ_pdri_img
);

58 
boŞ
 
checkFÜV®idPCIUpg¿de
(
Œigg”_ty³
, cÚ¡ *
myfwv”siÚ
, cÚ¡ *
şoudFWV”siÚ
, cÚ¡ *
şoudFWFe
);

59 
boŞ
 
Ï¡DwÆImg
(*
img_Çme
, 
size_t
 
img_Çme_size
);

60 
boŞ
 
cu¼’tImg
(*
img_Çme
, 
size_t
 
img_Çme_size
);

61 
un£tS‹Red
();

62 
boŞ
 
G‘PDRIV”siÚ
(*
pPdriV”siÚ
, 
size_t
 
szBufSize
);

63 
boŞ
 
upd©eOPTOUTFe
(cÚ¡ *
İtout_fe_Çme
);

64 
boŞ
 
CheckIProu‹CÚÃùiv™y
(cÚ¡ *
fe_Çme
);

65 
boŞ
 
isDnsResŞve
(cÚ¡ *
dns_fe_Çme
);

66 
boŞ
 
checkCodebigAcûss
();

67 
boŞ
 
Cu¼’tRuÂšgIn¡
(cÚ¡ *
fe
);

68 
wa™FÜN
();

69 
boŞ
 
´evFÏshedFe
(*
img_Çme
, 
size_t
 
img_Çme_size
);

70 
g‘FeLa¡ModifyTime
(*
fe_Çme
);

	@src/include/download_status_helper.h

19 #iâdeà
VIDEO_DOWNLOAD_STATUS_HELPER_H_


20 
	#VIDEO_DOWNLOAD_STATUS_HELPER_H_


	)

22 
	~"rdkv_cdl.h
"

23 
	~"rfcš‹rçû.h
"

24 
	~"rdkv_cdl_log_w¿µ”.h
"

25 
	#MIN_BUFF_SIZE2
 
MIN_BUFF_SIZE1
 + 40

	)

26 
	#MIN_BUFF_SIZE3
 
MIN_BUFF_SIZE
 + 64

	)

28 
	sFWDowÆßdStus
 {

29 
	mm‘hod
[
MIN_BUFF_SIZE1
];

30 
	m´Ùo
[
MIN_BUFF_SIZE1
];

31 
	m¡©us
[
MIN_BUFF_SIZE2
];

32 
	m»boÙ
[
MIN_BUFF_SIZE1
];

33 
	mçu»R—sÚ
[
MIN_BUFF_SIZE3
];

34 
	mdÆdV”¢
[
MAX_BUFF_SIZE1
];

35 
	mdÆdfe
[
MAX_BUFF_SIZE1
];

36 
	mdÆdu¾
[
MAX_BUFF_SIZE
];

37 
	mÏ¡run
[
MAX_BUFF_SIZE1
];

38 
	mFwUpd©eS‹
[
MIN_BUFF_SIZE
];

39 
	mD–ayDowÆßd
[
MIN_BUFF_SIZE1
];

43 
upd©eFWDowÆßdStus
(
FWDowÆßdStus
 *
fwdls
, cÚ¡ *
di§bËStsUpd©e
) ;

44 
nÙifyDwÆStus
(cÚ¡ *
key
, cÚ¡ *
v®ue
, 
RFCVALDATATYPE
 
d©©y³
);

	@src/include/flash.h

1 #iâdeà
RDKV_FLASH_H_


2 
	#RDKV_FLASH_H_


	)

4 #ifdeà
__ılu¥lus


8 
	~"rdkv_cdl.h
"

10 #ifdeà
__ılu¥lus


13 
æashImage
(cÚ¡ *
£rv”_u¾
, cÚ¡ *
upg¿de_fe
, cÚ¡ *
»boÙ_æag
, cÚ¡ *
´Ùo
, 
upg¿de_ty³
, cÚ¡ *
mašt
,
Œigg”_ty³
);

14 
po¡FÏsh
(cÚ¡ *
mašt
, cÚ¡ *
upg¿de_fe
, 
upg¿de_ty³
, cÚ¡ *
»boÙ_æag
,
Œigg”_ty³
);

	@src/include/iarmInterface.h

19 #iâdeà
VIDEO_IARMINTERFACE_IARMINTERFACE_H_


20 
	#VIDEO_IARMINTERFACE_IARMINTERFACE_H_


	)

22 #ià
defšed
(
IARM_ENABLED
)

23 #iâdeà
GTEST_ENABLE


24 
	~"sysMgr.h
"

25 
	~"libIARMCÜe.h
"

26 
	~"libIBus.h
"

27 
	~"libIBusD«mÚ.h
"

28 
	~<glib.h
>

30 #ifdeà
EN_MAINTENANCE_MANAGER


31 
	~"maš‹ÇnûMGR.h
"

34 #ifdeà
GTEST_ENABLE


36 
	tIARM_Ev’tId_t
;

37 
	#IARM_BUS_SYSMGR_NAME
 "SYSMGR"

	)

38 
	e_IARM_ResuÉ_t


40 
	mIARM_RESULT_SUCCESS
,

41 
	mIARM_RESULT_INVALID_PARAM
,

42 
	mIARM_RESULT_INVALID_STATE
,

43 } 
	tIARM_ResuÉ_t
;

45 
	e_SYSMgr_Ev’tId_t
 {

46 
	mIARM_BUS_SYSMGR_EVENT_SYSTEMSTATE
,

47 
	mIARM_BUS_SYSMGR_EVENT_IMAGE_DNLD
,

48 
	mIARM_BUS_SYSMGR_EVENT_USB_MOUNT_CHANGED
,

49 
	mIARM_BUS_SYSMGR_EVENT_MAX


50 } 
	tIARM_Bus_SYSMgr_Ev’tId_t
;

52 
	s_IARM_BUS_SYSMgr_Ev’tD©a_t
{

54 
	s_CARD_FWDNLD_DATA
 {

55 
	mev’tTy³
;

56 
	m¡©us
;

57 } 
	mÿrdFWDNLD
;

58 
	s_IMAGE_FWDNLD_DATA
 {

59 
	m¡©us
;

60 } 
	mimageFWDNLD
;

61 
	s_Sy¡emS‹s
 {

62 
	m¡©eId
;

63 
	m¡©e
;

64 
	m”rÜ
;

65 
	m·ylßd
[128];

66 } 
	msy¡emS‹s
;

68 } 
	md©a
;

69 }
	tIARM_Bus_SYSMgr_Ev’tD©a_t
;

71 
	#IARM_BUS_SYSMGR_SYSSTATE_FIRMWARE_UPDATE_STATE
 1

	)

72 
	#IARM_BUS_SYSMGR_SYSSTATE_FIRMWARE_DWNLD
 2

	)

73 
	#IARM_BUS_SYSMGR_SYSSTATE_RED_RECOV_UPDATE_STATE
 3

	)

75 
	tgch¬
;

80 
	#IARM_BUS_RDKVFWUPGRADER_MGR_NAME
 "RdkvFWupg¿d”"

	)

81 
	#IARM_BUS_RDKVFWUPGRADER_MODECHANGED
 0

	)

82 
	#IARM_BUS_NETSRVMGR_API_isCÚÃùedToIÁ”Ãt
 "isCÚÃùedToIÁ”Ãt"

	)

83 
	#IARM_BUS_NM_SRV_MGR_NAME
 "NET_SRV_MGR"

	)

86 
	#IMAGE_FWDNLD_UNINITIALIZED
 "0"

	)

87 
	#IMAGE_FWDNLD_DOWNLOAD_INPROGRESS
 "1"

	)

88 
	#IMAGE_FWDNLD_DOWNLOAD_COMPLETE
 "2"

	)

89 
	#IMAGE_FWDNLD_DOWNLOAD_FAILED
 "3"

	)

90 
	#IMAGE_FWDNLD_FLASH_INPROGRESS
 "4"

	)

91 
	#IMAGE_FWDNLD_FLASH_COMPLETE
 "5"

	)

92 
	#IMAGE_FWDNLD_FLASH_FAILED
 "6"

	)

95 
	#MAINT_FWDOWNLOAD_COMPLETE
 "8"

	)

96 
	#MAINT_FWDOWNLOAD_ERROR
 "9"

	)

97 
	#MAINT_FWDOWNLOAD_ABORTED
 "10"

	)

98 
	#MAINT_CRITICAL_UPDATE
 "11"

	)

99 
	#MAINT_REBOOT_REQUIRED
 "12"

	)

100 
	#MAINT_FWDOWNLOAD_INPROGRESS
 "15"

	)

101 
	#MAINT_FWDOWNLOAD_FG
 "17"

	)

102 
	#MAINT_FWDOWNLOAD_BG
 "18"

	)

105 
	#FW_STATE_UNINITIALIZED
 "0"

	)

106 
	#FW_STATE_REQUESTING
 "1"

	)

107 
	#FW_STATE_DOWNLOADING
 "2"

	)

108 
	#FW_STATE_FAILED
 "3"

	)

109 
	#FW_STATE_DOWNLOAD_COMPLETE
 "4"

	)

110 
	#FW_STATE_VALIDATION_COMPLETE
 "5"

	)

111 
	#FW_STATE_PREPARING_TO_REBOOT
 "6"

	)

112 
	#FW_STATE_ONHOLD_FOR_OPTOUT
 "7"

	)

113 
	#FW_STATE_CRITICAL_REBOOT
 "8"

	)

114 
	#FW_STATE_NO_UPGRADE_REQUIRED
 "9"

	)

117 
	#RED_RECOVERY_COMPLETED
 "0"

	)

118 
	#RED_RECOVERY_STARTED
 "1"

	)

119 
	#RED_RECOVERY_DOWNLOADED
 "2"

	)

120 
	#RED_RECOVERY_PROGRAMMED
 "3"

	)

128 
ev’tMªag”
(cÚ¡ *
cur_ev’t_Çme
, cÚ¡ *
ev’t_¡©us
) ;

129 
‹rm_ev’t_hªdËr
();

130 
š™_ev’t_hªdËr
();

131 
š‹ru±DwÆ
(
­p_mode
);

132 
boŞ
 
isCÚÃùedToIÁ”Ãt
 ();

	@src/include/json_process.h

19 #iâdeà
_JSON_PROCESS_H_


20 
	#_JSON_PROCESS_H_


	)

22 
	~<¡ddef.h
>

23 #iâdeà
GTEST_ENABLE


24 
	~"commÚ_deviû_­i.h
"

26 
	#CLD_URL_MAX_LEN
 512

	)

28 
	sxcÚf_»¥Ú£
 {

29 
	mşoudFWFe
[128];

30 
	mşoudFWLoÿtiÚ
[
CLD_URL_MAX_LEN
];

31 
	mv6şoudFWLoÿtiÚ
[
CLD_URL_MAX_LEN
];

32 
	mşoudFWV”siÚ
[64];

33 
	mşoudD–ayDowÆßd
[8];

34 
	mşoudPrÙo
[6];

35 
	mşoudImmedŸ‹ReboÙFÏg
[12];

36 
	m³rh”®Fœmw¬es
[256];

37 
	mdlC”tBundË
[64];

38 
	mşoudPDRIV”siÚ
[64];

39 
	mrdmC©®ogueV”siÚ
[512];

40 } 
	tXCONFRES
;

42 
´oûssJsÚRe¥Ú£
(
XCONFRES
 *
»¥Ú£
, cÚ¡ *
myfwv”siÚ
, cÚ¡ *
mod–
, cÚ¡ *
mašt
);

43 
g‘XcÚfRe¥D©a
(
XCONFRES
 *
pRe¥Ú£
, *
pJsÚSŒ
);

44 
size_t
 
ü—‹JsÚSŒšg
(*
pPo¡F›ldOut
, size_ˆ
szPo¡F›ldOut
);

	@src/include/rdkv_cdl.h

19 #iâdeà 
_RDKV_CDL_H_


20 
	#_RDKV_CDL_H_


	)

22 
	~<¡dio.h
>

23 
	~<¡ršg.h
>

24 
	~<¡dlib.h
>

25 
	~<uni¡d.h
>

28 
fedwÆ
 
	tFeDwÆ_t
;

29 
üed’tŸl
 
	tMsAuth_t
;

30 
	~<š‰y³s.h
>

31 
	~<ùy³.h
>

33 
	~<¡dboŞ.h
>

35 #iâdeà
GTEST_ENABLE


36 #ifdeà
T2_EVENT_ENABLED


37 
	~<‹Ëm‘ry_busmes§ge_£nd”.h
>

38 
	~"u¾H–³r.h
"

40 
	~<£cu»_w¿µ”.h
>

42 
	~"jsÚ_´oûss.h
"

44 
	#SUCCESS
 1

	)

45 
	#FAILURE
 -1

	)

47 
	#RDKV_FW_UPGRADER
 "RdkvFwUpg¿d”"

	)

49 
	#CURL_PID_FILE
 "/tmp/.cu¾.pid"

	)

50 
	#FWDNLD_PID_FILE
 "/tmp/.fwdÆd.pid"

	)

52 #iâdeà
GTEST_ENABLE


53 
	#STATE_RED_SPRT_FILE
 "/lib/rdk/¡©eRedRecov”y.sh"

	)

54 
	#STATEREDFLAG
 "/tmp/¡©eRedEÇbËd"

	)

56 
	#STATE_RED_SPRT_FILE
 "/tmp/¡©eSuµÜt"

	)

57 
	#STATEREDFLAG
 "/tmp/¡©eRedEÇbËd"

	)

59 
	#DIRECT_BLOCK_FILENAME
 "/tmp/.Ï¡dœeùç_cdl"

	)

60 
	#CB_BLOCK_FILENAME
 "/tmp/.Ï¡codebigç_cdl"

	)

61 
	#HTTP_CDL_FLAG
 "/tmp/deviû_š™Ÿ‹d_rcdl_š_´og»ss"

	)

62 
	#SNMP_CDL_FLAG
 "/tmp/deviû_š™Ÿ‹d_¢mp_cdl_š_´og»ss"

	)

63 
	#ECM_CDL_FLAG
 "/tmp/ecm_š™Ÿ‹d_cdl_š_´og»ss"

	)

64 
	#EÇbËOCSPS¶šg
 "/tmp/.EÇbËOCSPS¶šg"

	)

65 
	#EÇbËOCSP
 "/tmp/.EÇbËOCSPCA"

	)

66 
	#PREVIOUS_FLASHED_IMAGE
 "/İt/´evious_æashed_fe_Çme"

	)

67 
	#CURRENTLY_RUNNING_IMAGE
 "/tmp/cu¼’y_ruÂšg_image_Çme"

	)

68 
	#CDL_FLASHED_IMAGE
 "/İt/cdl_æashed_fe_Çme"

	)

69 
	#CB_RETRY_COUNT
 1

	)

70 
	#RETRY_COUNT
 2

	)

71 
	#HTTP_SSR_DIRECT
 0

	)

72 
	#HTTP_SSR_CODEBIG
 1

	)

73 
	#HTTP_XCONF_DIRECT
 2

	)

74 
	#HTTP_XCONF_CODEBIG
 3

	)

75 
	#HTTP_UNKNOWN
 5

	)

76 
	#PCI_UPGRADE
 0

	)

77 
	#PDRI_UPGRADE
 1

	)

78 
	#XCONF_UPGRADE
 2

	)

79 
	#PERIPHERAL_UPGRADE
 3

	)

81 
	#INITIAL_VALIDATION_SUCCESS
 0

	)

82 
	#INITIAL_VALIDATION_FAIL
 1

	)

83 
	#INITIAL_VALIDATION_DWNL_INPROGRESS
 2

	)

84 
	#INITIAL_VALIDATION_DWNL_COMPLETED
 3

	)

87 
	#STATUS_FILE
 "/İt/fwdÆd¡©us.txt"

	)

89 
	#MAX_BUFF_SIZE
 512

	)

90 
	#MAX_BUFF_SIZE1
 256

	)

91 
	#MIN_BUFF_SIZE
 64

	)

92 
	#MIN_BUFF_SIZE1
 32

	)

93 
	#SMALL_SIZE_BUFF
 8

	)

94 
	#DWNL_PATH_FILE_LEN
 128

	)

98 
	#TLS
 "--sv1.2"

	)

100 
	#FILE_CONTENT_LEN
 "/tmp/.chunk_dowÆßd_cu¾_h—d”s"

	)

101 
	#DIFDPID
 "/tmp/DIFD.pid"

	)

103 
	#HTTP_CODE_FILE
 "/İt/xcÚf_cu¾_h‰pcode"

	)

104 
	#CURL_PROGRESS_FILE
 "/İt/cu¾_´og»ss"

	)

105 
	#DWNL_URL_VALUE
 "/İt/.dÆdURL"

	)

106 
	#RED_STATE_REBOOT
 "/İt/»d_¡©e_»boÙ"

	)

108 
	#IARM_EVENT_BINARY_LOCATION
 "/u¤/bš/IARM_ev’t_£nd”"

	)

109 
	#IMG_DWL_EVENT
 "ImageDwldEv’t"

	)

110 
	#FW_STATE_EVENT
 "Fœmw¬eS‹Ev’t"

	)

111 
	#RED_STATE_EVENT
 "RedS‹Ev’t"

	)

113 
	#HTTP_SUCCESS
 200

	)

114 
	#HTTP_CHUNK_SUCCESS
 206

	)

115 
	#HTTP_PAGE_NOT_FOUND
 404

	)

116 
	#CURL_SUCCESS
 0

	)

117 
	#CURL_COULDNT_RESOLVE_HOST
 6

	)

118 
	#CURL_CONNECTIVITY_ISSUE
 7

	)

119 
	#CURLTIMEOUT
 28

	)

120 
	#CURL_LOW_BANDWIDTH
 18

	)

121 
	#CURL_RECV_ERROR
 56

	)

122 
	#CHUNK_DWNL_ENABLE
 1

	)

123 
	#DWNL_BLOCK
 -2

	)

124 
	#REBOOT_PENDING_DELAY
 "2"

	)

125 
	#CODEBIG_SIGNING_FAILED
 -7

	)

127 
	#RDKV_FWDNLD_UNINITIALIZED
 0

	)

128 
	#RDKV_FWDNLD_DOWNLOAD_INIT
 1

	)

129 
	#RDKV_FWDNLD_DOWNLOAD_INPROGRESS
 2

	)

130 
	#RDKV_FWDNLD_DOWNLOAD_EXIT
 3

	)

131 
	#RDKV_FWDNLD_DOWNLOAD_COMPLETE
 4

	)

132 
	#RDKV_FWDNLD_DOWNLOAD_FAILED
 5

	)

133 
	#RDKV_FWDNLD_FLASH_INPROGRESS
 6

	)

134 
	#RDKV_FWDNLD_FLASH_COMPLETE
 7

	)

135 
	#RDKV_FWDNLD_FLASH_FAILED
 8

	)

136 
	#RDKV_XCONF_FWDNLD_DOWNLOAD_INIT
 9

	)

137 
	#RDKV_XCONF_FWDNLD_DOWNLOAD_INPROGRESS
 10

	)

138 
	#RDKV_XCONF_FWDNLD_DOWNLOAD_EXIT
 12

	)

139 
	#RDKV_XCONF_FWDNLD_DOWNLOAD_COMPLETE
 13

	)

140 
	#RDKV_XCONF_FWDNLD_DOWNLOAD_FAILED
 14

	)

142 
	#APP_BACKGROUND
 0

	)

143 
	#APP_FOREGROUND
 1

	)

145 
chunkDowÆßd
(
FeDwÆ_t
 *
pfe_dwÆ
, 
MsAuth_t
 *
£c
, 
¥“d_lim™
, *
h‰pcode
);

146 
unš™Ÿlize
();

147 
š™Ÿlize
();

148 
logFeD©a
(cÚ¡ *
fe_·th
);

149 
checkTrigg”Upg¿de
(
XCONFRES
 *
pRe¥Ú£
, cÚ¡ *
mod–
);

150 
æashImage
(cÚ¡ *
£rv”_u¾
, cÚ¡ *
upg¿de_fe
, cÚ¡ *
»boÙ_æag
, cÚ¡ *
´Ùo
, 
upg¿de_ty³
, cÚ¡ *
mašt
,
Œigg”_ty³
);

151 
po¡FÏsh
(cÚ¡ *
mašt
, cÚ¡ *
upg¿de_fe
, 
upg¿de_ty³
, cÚ¡ *
»boÙ_æag
,
Œigg”_ty³
);

152 
upd©eUpg¿deFÏg
(
aùiÚ
);

153 
t2CouÁNÙify
(*
m¬k”
, 
v®
);

154 
t2V®NÙify
(*
m¬k”
, *
v®
);

155 
£tAµMode
(
mode
);

156 
g‘AµMode
();

157 
£tDwÆS‹
(
¡©e
);

158 
g‘DwÆS‹
();

159 
¡¬tFaùÜyPrÙeùS”viû
();

160 
š™ŸlV®id©iÚ
();

	@src/include/rdkv_upgrade.h

1 #iâdeà
RDKV_UPGRADE_H_


2 
	#RDKV_UPGRADE_H_


	)

4 #ifdeà
__ılu¥lus


8 
	~"rdkv_cdl.h
"

9 
	~"rfcš‹rçû.h
"

10 
	~"deviûuts.h
"

11 
	~"deviû_­i.h
"

13 #ifdeà
GTEST_ENABLE


14 
	~"misûÎªeous.h
"

21 
upg¿de_ty³
;

22 
£rv”_ty³
;

23 cÚ¡ * 
¬tiçùLoÿtiÚU¾
;

24 cÚ¡ * 
dwÎoc
;

25 * 
pPo¡F›lds
;

26 cÚ¡ * 
immed_»boÙ_æag
;

27 
d–ay_dwÆ
;

28 cÚ¡ * 
Ï¡run
;

29 * 
di§bËStsUpd©e
;

30 cÚ¡ 
DeviûPrİ”ty_t
* 
deviû_šfo
;

31 * 
fÜû_ex™
;

32 
Œigg”_ty³
;

33 cÚ¡ 
Rfc_t
* 
rfc_li¡
;

34 } 
	tRdkUpg¿deCÚ‹xt_t
;

43 
rdkv_upg¿de_»que¡
(cÚ¡ 
RdkUpg¿deCÚ‹xt_t
* 
cÚ‹xt
, ** 
cu¾
, * 
pH‰p_code
);

45 
dowÆßdFe
Ğ
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, * 
pPo¡F›lds
, *
h‰pCode
, **
cu¾
, *
fÜû_ex™
, cÚ¡ *
immed_»boÙ_æag
, cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
,cÚ¡ *
Ï¡run
,cÚ¡ 
Rfc_t
 *
rfc_li¡
,*
di§bËStsUpd©e
);

47 
codebigdowÆßdFe
Ğ
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, *
pPo¡F›lds
, *
h‰pCode
, **
cu¾
, *
fÜû_ex™
, cÚ¡ *
immed_»boÙ_æag
, cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
,cÚ¡ *
Ï¡run
,cÚ¡ 
Rfc_t
 *
rfc_li¡
,*
di§bËStsUpd©e
);

49 
»ŒyDowÆßd
(
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, *
pPo¡F›lds
, 
»Œy_út
, 
d–ay
, *
h‰pCode
, **
cu¾
, *
fÜû_ex™
, cÚ¡ *
immed_»boÙ_æag
, cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
,cÚ¡ *
Ï¡run
,cÚ¡ 
Rfc_t
 *
rfc_li¡
, *
di§bËStsUpd©e
);

51 
çÎBack
(
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, *
pPo¡F›lds
, *
h‰pCode
, **
cu¾
, *
fÜû_ex™
,cÚ¡ *
immed_»boÙ_æag
, cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
,cÚ¡ *
Ï¡run
,cÚ¡ 
Rfc_t
 *
rfc_li¡
, *
di§bËStsUpd©e
);

54 
dwÆE¼Ü
(
cu¾_code
, 
h‰p_code
, 
£rv”_ty³
,cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
,cÚ¡ *
Ï¡run
, *
di§bËStsUpd©e
);

56 
§veHTTPCode
(
h‰p_code
, cÚ¡ *
Ï¡run
);

57 
Upg¿d‘2CouÁNÙify
(*
m¬k”
, 
v®
);

58 
Upg¿d‘2V®NÙify
Ğ*
m¬k”
, *
v®
 );

59 #ifdeà
__ılu¥lus


	@src/include/rfcinterface.h

19 #iâdeà
VIDEO_RFCINTERFACE_RFCINTERFACE_H_


20 
	#VIDEO_RFCINTERFACE_RFCINTERFACE_H_


	)

23 
	~<¡dboŞ.h
>

26 #ià
defšed
(
RFC_API_ENABLED
)

27 #iâdeà
GTEST_ENABLE


28 
	~"rfÿpi.h
"

32 
	~<¡dio.h
>

33 
	~<¡dlib.h
>

34 
	~<¡ršg.h
>

36 
	#RFC_VALUE_BUF_SIZE
 512

	)

37 
	#READ_RFC_SUCCESS
 1

	)

38 
	#READ_RFC_FAILURE
 -1

	)

39 
	#READ_RFC_NOTAPPLICABLE
 0

	)

40 
	#WRITE_RFC_SUCCESS
 1

	)

41 
	#WRITE_RFC_FAILURE
 -1

	)

42 
	#WRITE_RFC_NOTAPPLICABLE
 0

	)

44 #ifdeà
GTEST_ENABLE


47 
	sg‹¡_rfc
 {

48 
	mv®ue
[32];

49 
	mÇme
[32];

50 
	mty³
;

51 
	m¡©us
;

52 }
	tRFC_P¬amD©a_t
;

54 
	mWDMP_FAILURE
 = 0,

55 
	mWDMP_SUCCESS
,

56 
	mWDMP_ERR_DEFAULT_VALUE


57 }
	tWDMP_STATUS
;

59 
	#WDMP_STRING
 1

	)

60 
	#WDMP_UINT
 3

	)

61 
	#WDMP_BOOLEAN
 2

	)

66 
	mRFC_STRING
=1,

67 
	mRFC_BOOL
,

68 
	mRFC_UINT


69 }
	tRFCVALDATATYPE
;

71 
	srfcd‘as
 {

72 
	mrfc_thrÙe
[
RFC_VALUE_BUF_SIZE
];

73 
	mrfc_tİ¥“d
[
RFC_VALUE_BUF_SIZE
];

74 
	mrfc_šü_cdl
[
RFC_VALUE_BUF_SIZE
];

75 
	mrfc_ms
[
RFC_VALUE_BUF_SIZE
];

76 }
	tRfc_t
;

78 
	#RFC_THROTTLE
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.F—tu».SWDLSpLim™.EÇbË"

	)

79 
	#RFC_TOPSPEED
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.F—tu».SWDLSpLim™.TİS³ed"

	)

80 
	#RFC_INCR_CDL
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.F—tu».Inüem’lCDL.EÇbË"

	)

81 
	#RFC_MTLS
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.F—tu».MTLS.mTlsXCÚfDowÆßd.EÇbË"

	)

82 
	#RFC_MNG_NOTIFY
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.F—tu».Mªag—bËNÙifiÿtiÚ.EÇbË"

	)

84 
	#RFC_FW_DWNL_START
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_xOpsDeviûMgmt.RPC.Fœmw¬eDowÆßdS¹edNÙifiÿtiÚ"

	)

85 
	#RFC_FW_DWNL_END
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_xOpsDeviûMgmt.RPC.Fœmw¬eDowÆßdCom¶‘edNÙifiÿtiÚ"

	)

86 
	#RFC_FW_REBOOT_NOTIFY
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_xOpsDeviûMgmt.RPC.ReboÙP’dšgNÙifiÿtiÚ"

	)

87 
	#RFC_FW_AUTO_EXCLUDE
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.F—tu».FWUpd©e.AutoExşuded.EÇbË"

	)

88 
	#RFC_DEBUGSRV
 "Deviû.DeviûInfo.X_RDKCENTRAL-COM_RFC.Id’t™y.DbgS”viûs.EÇbË"

	)

90 
	#RFC_XCONF_CHECK_NOW
 "Deviû.X_COMCAST-COM_Xÿlibur.Cl›Á.xcÚfCheckNow"

	)

92 
g‘RFCS‘tšgs
(
Rfc_t
 *
rfc_li¡
);

94 
»ad_RFCPrİ”ty
(* 
ty³
, cÚ¡ * 
key
, *
d©a
, 
size_t
 
d©asize
);

95 
wr™e_RFCPrİ”ty
(* 
ty³
, cÚ¡ * 
key
, cÚ¡ *
d©a
, 
RFCVALDATATYPE
 
d©©y³
);

97 
isMsEÇbËd
(const *);

98 
isInüem‘®CDLEÇbË
(cÚ¡ *
fe_Çme
);

99 
boŞ
 
isMmgbËNÙifyEÇbËd
();

100 
boŞ
 
isDebugS”viûsEÇbËd
();

	@src/json_process.c

19 
	~"jsÚ_´oûss.h
"

20 
	~"rdkv_cdl.h
"

21 
	~"rdkv_cdl_log_w¿µ”.h
"

22 
	~"dowÆßd_¡©us_h–³r.h
"

23 
	~"deviû_¡©us_h–³r.h
"

24 
	~"ŸrmIÁ”çû.h
"

25 #iâdeà
GTEST_ENABLE


26 
	~"rdk_fwdl_uts.h
"

27 
	~"sy¡em_uts.h
"

28 
	~"commÚ_deviû_­i.h
"

30 
	~"jsÚ_·r£.h
"

31 
	~"deviûuts.h
"

32 
	~"deviû_­i.h
"

35 
size_t
 
	$ü—‹JsÚSŒšg
Ğ*
pPo¡F›ldOut
, 
size_t
 
szPo¡F›ldOut
 )

37 *
pTmpPo¡
 = 
pPo¡F›ldOut
;

38 
size_t
 
Ën
, 
tÙËn
 = 0, 
»mašËn
;

39 
»t
 = -1;

40 
tmpbuf
[400];

41 
ıu¬ch
[16];

42 
deviûÇme
[32];

44 
ıu¬ch
[0] = 0;

45 
deviûÇme
[0] = 0;

46 
»t
 = 
	`g‘DeviûPrİ”tyD©a
("CPU_ARCH", 
ıu¬ch
, (cpuarch));

47 ià(
»t
 =ğ
UTILS_SUCCESS
) {

48 
	`SWLOG_INFO
("ıu_¬ch = %s\n", 
ıu¬ch
);

50 
	`SWLOG_ERROR
("%s: g‘DeviûPrİ”tyD©a(èfÜ cpu‡rch fa\n", 
__FUNCTION__
);

52 
»t
 = 
	`g‘DeviûPrİ”tyD©a
("DEVICE_NAME", 
deviûÇme
, (devicename));

53 ià(
»t
 =ğ
UTILS_SUCCESS
) {

54 
	`SWLOG_INFO
("DEVICE_NAME = %s\n", 
deviûÇme
);

56 
	`SWLOG_ERROR
("%s: g‘DeviûPrİ”tyD©a(èdeviû‚amç\n", 
__FUNCTION__
);

59 
Ën
 = 
	`G‘E¡bMac
Ğ
tmpbuf
, (tmpbuf) );

60 ifĞ
Ën
 )

62 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

63 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "eStbMac=%s", 
tmpbuf
 );

65 
Ën
 = 
	`G‘Fœmw¬eV”siÚ
Ğ
tmpbuf
, (tmpbuf) );

66 ifĞ
Ën
 )

68 ifĞ
tÙËn
 )

70 *(
pTmpPo¡
 + 
tÙËn
) = '&';

71 ++
tÙËn
;

73 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

74 
tÙËn
 +ğ
	`¢´štf
Ğ
pTmpPo¡
 +ÙËn, 
»mašËn
, "fœmw¬eV”siÚ=%s", 
tmpbuf
 );

76 
Ën
 = 
	`G‘Add™iÚ®FwV”Info
Ğ
tmpbuf
, (tmpbuf) );

77 ifĞ
Ën
 )

79 ifĞ
tÙËn
 )

81 *(
pTmpPo¡
 + 
tÙËn
) = '&';

82 ++
tÙËn
;

84 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

85 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "add™iÚ®FwV”Info=%s", 
tmpbuf
 );

87 
Ën
 = 
	`G‘BudTy³
Ğ
tmpbuf
, Ñmpbuf), 
NULL
 );

88 ifĞ
Ën
 )

90 ifĞ
tÙËn
 )

92 *(
pTmpPo¡
 + 
tÙËn
) = '&';

93 ++
tÙËn
;

95 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

96 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "’v=%s", 
tmpbuf
 );

98 
	`SWLOG_INFO
("Calling GetModelNum function\n");

99 
Ën
 = 
	`G‘Mod–Num
Ğ
tmpbuf
, (tmpbuf) );

100 ifĞ
Ën
 )

102 ifĞ
tÙËn
 )

104 *(
pTmpPo¡
 + 
tÙËn
) = '&';

105 ++
tÙËn
;

107 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

108 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "mod–=%s", 
tmpbuf
 );

110 
Ën
 = 
	`G‘MFRName
Ğ
tmpbuf
, (tmpbuf) );

111 ifĞ
Ën
 )

113 ifĞ
tÙËn
 )

115 *(
pTmpPo¡
 + 
tÙËn
) = '&';

116 ++
tÙËn
;

118 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

119 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "mªuçùu»r=%s", 
tmpbuf
 );

121 
Ën
 = 
	`G‘P¬Š”Id
Ğ
tmpbuf
, (tmpbuf) );

122 ifĞ
Ën
 )

124 ifĞ
tÙËn
 )

126 *(
pTmpPo¡
 + 
tÙËn
) = '&';

127 ++
tÙËn
;

129 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

130 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "·¹ÃrId=%s", 
tmpbuf
 );

131 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

132 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "&activationInProgress=false" );

136 ifĞ
tÙËn
 )

138 *(
pTmpPo¡
 + 
tÙËn
) = '&';

139 ++
tÙËn
;

141 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

142 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "activationInProgress=true" );

144 
Ën
 = 
	`G‘OsCÏss
Ğ
tmpbuf
, (tmpbuf) );

145 ifĞ
Ën
 )

147 ifĞ
tÙËn
 )

149 *(
pTmpPo¡
 + 
tÙËn
) = '&';

150 ++
tÙËn
;

152 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

153 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "osCÏss=%s", 
tmpbuf
 );

155 
Ën
 = 
	`G‘AccouÁID
Ğ
tmpbuf
, (tmpbuf) );

156 ifĞ
Ën
 )

158 ifĞ
tÙËn
 )

160 *(
pTmpPo¡
 + 
tÙËn
) = '&';

161 ++
tÙËn
;

163 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

164 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "accouÁId=%s", 
tmpbuf
 );

166 
Ën
 = 
	`G‘Ex³r›nû
Ğ
tmpbuf
, (tmpbuf) );

167 ifĞ
Ën
 )

169 ifĞ
tÙËn
 )

171 *(
pTmpPo¡
 + 
tÙËn
) = '&';

172 ++
tÙËn
;

174 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

175 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "ex³r›nû=%s", 
tmpbuf
 );

177 
Ën
 = 
	`G‘Mig¿tiÚR—dy
Ğ
tmpbuf
, (tmpbuf) );

178 ifĞ
Ën
 )

180 ifĞ
tÙËn
 )

182 *(
pTmpPo¡
 + 
tÙËn
) = '&';

183 ++
tÙËn
;

185 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

186 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "mig¿tiÚR—dy=%s", 
tmpbuf
 );

188 
Ën
 = 
	`G‘S”ŸlNum
Ğ
tmpbuf
, (tmpbuf) );

189 ifĞ
Ën
 )

191 ifĞ
tÙËn
 )

193 *(
pTmpPo¡
 + 
tÙËn
) = '&';

194 ++
tÙËn
;

196 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

197 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "£rŸl=%s", 
tmpbuf
 );

199 
Ën
 = 
	`G‘UTCTime
Ğ
tmpbuf
, (tmpbuf) );

200 ifĞ
Ën
 )

202 ifĞ
tÙËn
 )

204 *(
pTmpPo¡
 + 
tÙËn
) = '&';

205 ++
tÙËn
;

207 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

208 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "loÿÉime=%s", 
tmpbuf
 );

210 
Ën
 = 
	`G‘In¡®ËdBundËs
Ğ
tmpbuf
, (tmpbuf) );

211 ifĞ
tÙËn
 )

213 *(
pTmpPo¡
 + 
tÙËn
) = '&';

214 ++
tÙËn
;

216 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

217 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "dlC”tBundË=%s", 
tmpbuf
 );

218 
Ën
 = 
	`G‘RdmMªiã¡V”siÚ
Ğ
tmpbuf
, (tmpbuf) );

219 ifĞ
tÙËn
 )

221 *(
pTmpPo¡
 + 
tÙËn
) = '&';

222 ++
tÙËn
;

224 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

225 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "rdmC©®ogueV”siÚ=%s", 
tmpbuf
 );

227 
Ën
 = 
	`G‘TimezÚe
Ğ
tmpbuf
, 
ıu¬ch
, (tmpbuf) );

228 ifĞ
Ën
 )

230 ifĞ
tÙËn
 )

232 *(
pTmpPo¡
 + 
tÙËn
) = '&';

233 ++
tÙËn
;

235 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

236 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "timezÚe=%s", 
tmpbuf
 );

238 
	`wa™FÜN
();

239 
Ën
 = 
	`G‘C­ab™›s
Ğ
tmpbuf
, (tmpbuf) );

240 ifĞ
Ën
 )

242 ifĞ
tÙËn
 )

244 *(
pTmpPo¡
 + 
tÙËn
) = '&';

245 ++
tÙËn
;

247 
»mašËn
 = 
szPo¡F›ldOut
 - 
tÙËn
;

248 
tÙËn
 +ğ
	`¢´štf
Ğ(
pTmpPo¡
 +ÙËn), 
»mašËn
, "ÿ·b™›s=%s", 
tmpbuf
 );

250 
	`SWLOG_INFO
Ğ"ü—‹JsÚSŒšg:ÙËÀğ%zu\n%s\n", 
tÙËn
, 
pPo¡F›ldOut
 );

251  
tÙËn
;

252 
	}
}

255 
	$g‘XcÚfRe¥D©a
Ğ
XCONFRES
 *
pRe¥Ú£
, *
pJsÚSŒ
 )

257 
JSON
 *
pJsÚ
 = 
NULL
;

258 
»t
 = -1;

260 ifĞ
pRe¥Ú£
 !ğ
NULL
 )

262 
pJsÚ
 = 
	`P¬£JsÚSŒ
Ğ
pJsÚSŒ
 );

263 ifĞ
pJsÚ
 !ğ
NULL
 )

265 
	`G‘JsÚV®
Ğ
pJsÚ
, "fœmw¬eDowÆßdPrÙocŞ", 
pRe¥Ú£
->
şoudPrÙo
, (pResponse->cloudProto) );

266 
	`G‘JsÚV®
Ğ
pJsÚ
, "fœmw¬eF’ame", 
pRe¥Ú£
->
şoudFWFe
, (pResponse->cloudFWFile) );

267 
	`G‘JsÚV®
Ğ
pJsÚ
, "fœmw¬eLoÿtiÚ", 
pRe¥Ú£
->
şoudFWLoÿtiÚ
, (pResponse->cloudFWLocation) );

268 
	`G‘JsÚV®
Ğ
pJsÚ
, "fœmw¬eV”siÚ", 
pRe¥Ú£
->
şoudFWV”siÚ
, (pResponse->cloudFWVersion) );

269 
	`G‘JsÚV®
Ğ
pJsÚ
, "»boÙImmedŸ‹ly", 
pRe¥Ú£
->
şoudImmedŸ‹ReboÙFÏg
, (pResponse->cloudImmediateRebootFlag) );

270 
	`G‘JsÚV®
Ğ
pJsÚ
, "add™iÚ®FwV”Info", 
pRe¥Ú£
->
şoudPDRIV”siÚ
, (pResponse->cloudPDRIVersion) );

271 
	`G‘JsÚV®
Ğ
pJsÚ
, "d–ayDowÆßd", 
pRe¥Ú£
->
şoudD–ayDowÆßd
, (pResponse->cloudDelayDownload) );

272 
	`G‘JsÚV®CÚššg
Ğ
pJsÚ
, "»mCŒl", 
pRe¥Ú£
->
³rh”®Fœmw¬es
, (pResponse->peripheralFirmwares) );

273 
	`t2V®NÙify
("SYST_INFO_PRXR_V”_¥l™", 
pRe¥Ú£
->
³rh”®Fœmw¬es
);

274 
	`G‘JsÚV®
Ğ
pJsÚ
, "dlC”tBundË", 
pRe¥Ú£
->
dlC”tBundË
, (pResponse->dlCertBundle) );

275 
	`¡ºcmp
(
pRe¥Ú£
->
dlC”tBundË
, "lxyupd©e-bundË:", 17)?1:
	`t2V®NÙify
("lxybundleversion_split",…Response->dlCertBundle + 17);

276 
	`G‘JsÚV®
Ğ
pJsÚ
, "rdmC©®ogueV”siÚ", 
pRe¥Ú£
->
rdmC©®ogueV”siÚ
, (pResponse->rdmCatalogueVersion) );

277 
	`G‘JsÚV®
Ğ
pJsÚ
, "v6Fœmw¬eLoÿtiÚ", 
pRe¥Ú£
->
v6şoudFWLoÿtiÚ
, (pResponse->ipv6cloudFWLocation) );

279 
	`F»eJsÚ
Ğ
pJsÚ
 );

280 
»t
 = 0;

285 
	`SWLOG_INFO
("getXconfRespData: input…arameter is NULL\n");

288  
»t
;

289 
	}
}

291 
boŞ
 
	$v®id©eImage
(cÚ¡ *
image_Çme
, cÚ¡ *
mod–
)

293 
boŞ
 
¡©us
 = 
çl£
;

294 ià(
image_Çme
 =ğ
NULL
 || 
mod–
 == NULL) {

295 
	`SWLOG_INFO
("%s:…¬am‘” i NULL\n", 
__FUNCTION__
);

296  
¡©us
;

298 ià((
	`¡r¡r
(
image_Çme
, 
mod–
)è!ğ
NULL
) {

299 
¡©us
 = 
Œue
;

301  
¡©us
;

302 
	}
}

311 
	$´oûssJsÚRe¥Ú£
(
XCONFRES
 *
»¥Ú£
, cÚ¡ *
myfwv”siÚ
, cÚ¡ *
mod–
, cÚ¡ *
mašt
)

313 
boŞ
 
v®id_img
 = 
çl£
;

314 
boŞ
 
v®id_pdri_img
 = 
Œue
;

315 
boŞ
 
»t_¡©us
 = 
çl£
;

316 
Ï¡_dwÆ_img
[64];

317 
cu¼’t_img
[64];

318 
FILE
 *
å
 = 
NULL
;

319 
»t
 = -1;

321 
Ï¡_dwÆ_img
[0] = 0;

322 
cu¼’t_img
[0] = 0;

324 ifĞ
»¥Ú£
 !ğ
NULL
 && 
myfwv”siÚ
 !ğNULL && 
mod–
 != NULL )

326 
	`makeH‰pH‰ps
Ğ
»¥Ú£
->
şoudFWLoÿtiÚ
, (response->cloudFWLocation) );

327 
	`makeH‰pH‰ps
Ğ
»¥Ú£
->
v6şoudFWLoÿtiÚ
, (response->ipv6cloudFWLocation) );

329 
	`SWLOG_INFO
("şoudFWFe: %s\n", 
»¥Ú£
->
şoudFWFe
);

330 
	`SWLOG_INFO
("şoudFWLoÿtiÚ: %s\n", 
»¥Ú£
->
şoudFWLoÿtiÚ
);

331 
	`SWLOG_INFO
("v6şoudFWLoÿtiÚ: %s\n", 
»¥Ú£
->
v6şoudFWLoÿtiÚ
);

332 
	`SWLOG_INFO
("şoudFWV”siÚ: %s\n", 
»¥Ú£
->
şoudFWV”siÚ
);

333 
	`SWLOG_INFO
("şoudD–ayDowÆßd: %s\n", 
»¥Ú£
->
şoudD–ayDowÆßd
);

334 
	`SWLOG_INFO
("şoudPrÙo: %s\n", 
»¥Ú£
->
şoudPrÙo
);

335 
	`SWLOG_INFO
("şoudImmedŸ‹ReboÙFÏg: %s\n", 
»¥Ú£
->
şoudImmedŸ‹ReboÙFÏg
);

336 
	`SWLOG_INFO
("³rh”®Fœmw¬es: %s\n", 
»¥Ú£
->
³rh”®Fœmw¬es
);

337 
	`SWLOG_INFO
("dlC”tBundË: %s\n", 
»¥Ú£
->
dlC”tBundË
);

338 
	`SWLOG_INFO
("şoudPDRIV”siÚ: %s\n", 
»¥Ú£
->
şoudPDRIV”siÚ
);

339 
	`SWLOG_INFO
("rdmC©®ogueV”siÚ: %s\n", 
»¥Ú£
->
rdmC©®ogueV”siÚ
);

341 
å
 = 
	`fİ’
("/tmp/.xconfssrdownloadurl", "w");

342 ià(
å
 !ğ
NULL
) {

343 
	`årštf
(
å
, "%s\n", 
»¥Ú£
->
şoudFWLoÿtiÚ
);

344 
	`fşo£
(
å
);

347 ifĞ*
»¥Ú£
->
rdmC©®ogueV”siÚ
 &&

348 (
å
=
	`fİ’
Ğ"/tmp/.xcÚfRdmC©®ogueV”siÚ", "w" )è!ğ
NULL
 )

350 
	`SWLOG_INFO
Ğ"Upd©šg RDM C©®oguv”siÚ % äom XCONF iÀ/tmp/.xcÚfRdmC©®ogueV”siÚ fe\n", 
»¥Ú£
->
rdmC©®ogueV”siÚ
 );

351 
	`årštf
Ğ
å
, "%s\n", 
»¥Ú£
->
rdmC©®ogueV”siÚ
 );

352 
	`fşo£
Ğ
å
 );

354 ià(
»¥Ú£
->
dlC”tBundË
[0] != 0) {

355 
	`SWLOG_INFO
("Calling„dm Versioned_app downloado…rocess bundle update\n");

356 ià(
	`acûss
("/u¤/bš/rdm", 
F_OK
) == 0) {

358 
	`SWLOG_INFO
("RDM binary is…resent\n");

359 
	`v_£cu»_sy¡em
("rdm -v \"%s\" >> /İt/logs/rdm_¡©us.log 2>&1", 
»¥Ú£
->
dlC”tBundË
);

360 
	`SWLOG_INFO
("RDM Versioned‡pp Download started‡nd completed\n");

361 } ià(
	`acûss
("/‘c/rdm/rdmBundËMgr.sh", 
F_OK
) == 0) {

363 
	`SWLOG_INFO
("RDM binary is‚ot…resent, using scripts\n");

364 
	`v_£cu»_sy¡em
("sh /‘c/rdm/rdmBundËMgr.sh '%s' '%s' >> /İt/logs/rdm_¡©us.log 2>&1", 
»¥Ú£
->
dlC”tBundË
,„e¥Ú£->
şoudFWLoÿtiÚ
);

365 
	`SWLOG_INFO
("RDM Versioned‡pp Download started‡nd completed\n");

368 
	`SWLOG_INFO
(" File Not Present .. Download Failed \n");

371 
v®id_img
 = 
	`v®id©eImage
(
»¥Ú£
->
şoudFWFe
, 
mod–
);

372 ià((*(
»¥Ú£
->
şoudPDRIV”siÚ
)) != 0) {

373 
	`SWLOG_INFO
("Validate PDRI image with device model‚umber\n");

374 
v®id_pdri_img
 = 
	`v®id©eImage
(
»¥Ú£
->
şoudPDRIV”siÚ
, 
mod–
);

376 ià((
çl£
 =ğ
v®id_img
è|| (çl£ =ğ
v®id_pdri_img
)) {

377 
	`SWLOG_INFO
("ImagcÚfigu»d i nÙ oàmod– %s.. Skpšghupg¿de\nEx™šg from ImagUpg¿d´oûss..!\n", 
mod–
);

378 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_FAILED
);

379 ià(0 =ğ(
	`¡ºcmp
(
mašt
, "true", 4))) {

380 
	`ev’tMªag”
 ("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ERROR
);

382 
	`uÆšk
(
HTTP_CODE_FILE
);

383 
»t
 = 1;

385 
»t
 = 0;

387 
»t_¡©us
 = 
	`Ï¡DwÆImg
(
Ï¡_dwÆ_img
, (last_dwnl_img));

388 
	`SWLOG_INFO
("Ï¡_dwÆ_¡©us=%i\n", 
»t_¡©us
);

389 
»t_¡©us
 = 
	`cu¼’tImg
(
cu¼’t_img
, (current_img));

390 
	`SWLOG_INFO
("cu¼’t_img_¡©us=%i\n", 
»t_¡©us
);

391 
	`SWLOG_INFO
("myFWV”siÚ = %s\n", 
myfwv”siÚ
);

392 
	`SWLOG_INFO
("myFWFğ%s\n", 
cu¼’t_img
);

393 
	`SWLOG_INFO
("Ï¡DÆdFğ%s\n", 
Ï¡_dwÆ_img
);

394 
	`SWLOG_INFO
("şoudFWV”siÚ = %s\n", 
»¥Ú£
->
şoudFWV”siÚ
);

395 
	`SWLOG_INFO
("şoudFWFğ%s\n", 
»¥Ú£
->
şoudFWFe
);

399 
	`SWLOG_ERROR
("% ERROR: OÃ o¸mÜšpuˆ·¿m‘” ¬NULL\n", 
__FUNCTION__
);

401  
»t
;

402 
	}
}

	@src/rbusInterface/rbusInterface.c

19 #iâdeà
GTEST_ENABLE


20 
	~<uni¡d.h
>

21 
	~"rbusIÁ”çû.h
"

23 
	~"rbus_mock.h
"

24 
	~<¡ddef.h
>

33 
	$t2Ev’tHªdËr
(
rbusHªdË_t
 
hªdË
, cÚ¡* 
m‘hodName
, 
rbusE¼Ü_t
 
”rÜ
, 
rbusObjeù_t
 
·¿m
)

35 
	`SWLOG_INFO
("GÙ % rbu ÿÎback\n", 
m‘hodName
);

36 ià(
RBUS_ERROR_SUCCESS
 =ğ
”rÜ
)

38 
rbusV®ue_t
 
u¶ßdStus
 = 
	`rbusObjeù_G‘V®ue
(
·¿m
, "UPLOAD_STATUS");

39 if(
u¶ßdStus
)

41 
	`SWLOG_INFO
("Deviû.X_RDKCENTRAL-COM_T2.U¶ßdDCMR•ÜˆU¶ßd Stu ğ%s\n", 
	`rbusV®ue_G‘SŒšg
(
u¶ßdStus
, 
NULL
));

44 
	}
}

49 
rbusE¼Ü_t
 
	$švokeRbusDCMR•Üt
()

51 
rbusHªdË_t
 
rdkfwRbusHªdË
;

52 ià(
RBUS_ERROR_SUCCESS
 =ğ
	`rbus_İ’
(&
rdkfwRbusHªdË
, 
RDKFWUPGRADER_RBUS_HANDLE_NAME
)) {

53 ià(
RBUS_ERROR_SUCCESS
 =ğ
	`rbusM‘hod_InvokeAsync
(
rdkfwRbusHªdË
, 
T2_UPLOAD
, 
NULL
, 
t2Ev’tHªdËr
, 0)) {

54 
	`SWLOG_INFO
("Waiting 60 seco complete upload from Device.X_RDKCENTRAL-COM_T2.UploadDCMReport\n");

55 
	`¦“p
(60);

58 
	`SWLOG_ERROR
("Error in calling Device.X_RDKCENTRAL-COM_T2.UploadDCMReport\n");

59  
RBUS_ERROR_BUS_ERROR
;

63 
	`SWLOG_ERROR
("Error in opening„bus handle\n");

64  
RBUS_ERROR_BUS_ERROR
;

66 ià(
RBUS_ERROR_SUCCESS
 !ğ
	`rbus_şo£
(
rdkfwRbusHªdË
)) {

67 
	`SWLOG_ERROR
("Rbusermination failed\n");

68  
RBUS_ERROR_BUS_ERROR
;

70  
RBUS_ERROR_SUCCESS
;

71 
	}
}

	@src/rbusInterface/rbusInterface.h

19 #iâdeà
GTEST_ENABLE


20 
	~"rbus/rbus.h
"

21 
	~"rdkv_cdl_log_w¿µ”.h
"

23 
	#RDKFWUPGRADER_RBUS_HANDLE_NAME
 "rdkfwRbus"

	)

24 
	#T2_UPLOAD
 "Deviû.X_RDKCENTRAL-COM_T2.U¶ßdDCMR•Üt"

	)

26 
rbusE¼Ü_t
 
švokeRbusDCMR•Üt
();

	@src/rdkFwupdateMgr.c

19 
	~<¡dlib.h
>

20 
	~<¡dio.h
>

21 
	~<¡ršg.h
>

22 
	~<¡ršgs.h
>

23 
	~<sys/¡©.h
>

24 
	~<±h»ad.h
>

25 
	~<sigÇl.h
>

27 
	~"rdkv_cdl.h
"

28 
	~"rdkv_upg¿de.h
"

29 #iâdeà
GTEST_ENABLE


30 
	~"dowÆßdUt.h
"

32 
	~"dowÆßd_¡©us_h–³r.h
"

33 
	~"deviû_¡©us_h–³r.h
"

34 
	~"ŸrmIÁ”çû.h
"

35 
	~"rfcš‹rçû.h
"

36 #iâdeà
GTEST_ENABLE


37 
	~"commÚ_deviû_­i.h
"

38 
	~"u¾H–³r.h
"

39 
	~"rdk_fwdl_uts.h
"

40 
	~"sy¡em_uts.h
"

41 
	~"rdk_logg”_me¡Úe.h
"

43 
	~"rdkv_cdl_log_w¿µ”.h
"

44 
	~"misûÎªeous.h
"

46 
	~"jsÚ_´oûss.h
"

47 
	~"deviû_­i.h
"

48 
	~"deviûuts.h
"

49 
	~"ŸrmIÁ”çû.h
"

51 
	~<¡dlib.h
>

52 
	~<¡dio.h
>

53 
	~<¡ršg.h
>

54 
	~<¡ršgs.h
>

56 
	~<sys/fe.h
>

58 
	~<glib.h
>

59 
	~<gio/gio.h
>

60 
	~"dbus/rdkv_dbus_£rv”.h
"

63 
	#JSON_STR_LEN
 1000

	)

65 
	#DOWNLOADED_PERIPHERAL_VERSION
 "/tmp/dowÆßded_³rh”®_v”siÚs.txt"

	)

66 
	#MAX_VER_LEN
 10

	)

67 
	#TWO_FIFTY_SIX
 256

	)

68 
	#DOWNLOADED_VERS_SIZE
 
TWO_FIFTY_SIX


	)

69 
	#URL_MAX_LEN1
 
URL_MAX_LEN
 + 128

	)

70 
	#DWNL_PATH_FILE_LEN1
 
DWNL_PATH_FILE_LEN
 + 32

	)

75 
DeviûPrİ”ty_t
 
	gdeviû_šfo
;

76 
ImageD‘as_t
 
	gcur_img_d‘a
;

77 
Rfc_t
 
	grfc_li¡
;

79 
boŞ
 
	gisCr™iÿlUpd©e
 = 
çl£
;

81 
	gdi§bËStsUpd©e
[4] = { 0 };

82 
	glÚg_‹rm_û¹
 = 0;

84 
	gÏ¡run
[64] = { 0 };

85 
	gimmed_»boÙ_æag
[12] = { 0 };

86 
	gd–ay_dwÆ
 = 0;

88 
	g´Ùo
 = 1;

89 
	gŒigg”_ty³
 = 0;

90 
	gDwÆS‹
 = 
RDKV_FWDNLD_UNINITIALIZED
;

91 *
	gcu¾
 = 
NULL
;

92 
±h»ad_mu‹x_t
 
	gmutuex_dwÆ_¡©e
 = 
PTHREAD_MUTEX_INITIALIZER
;

93 
±h»ad_mu‹x_t
 
	g­p_mode_¡©us
 = 
PTHREAD_MUTEX_INITIALIZER
;

94 
	g­p_mode
 = 1;

95 
	gfÜû_ex™
 = 0;

100 
	mSTATE_INIT_VALIDATION
,

101 
	mSTATE_INIT
,

102 
	mSTATE_IDLE
,

103 
	mSTATE_CHECK_UPDATE
,

104 
	mSTATE_DOWNLOAD_UPDATE
,

105 
	mSTATE_UPGRADE


106 } 
	tFwUpg¿d”S‹
;

107 
FwUpg¿d”S‹
 
	gcu¼’tS‹
;

110 
	$t2CouÁNÙify
(*
m¬k”
, 
v®
) {

111 #ifdeà
T2_EVENT_ENABLED


112 
	`t2_ev’t_d
(
m¬k”
, 
v®
);

114 
	}
}

116 
	$t2V®NÙify
Ğ*
m¬k”
, *
v®
 )

118 #ifdeà
T2_EVENT_ENABLED


119 
	`t2_ev’t_s
(
m¬k”
, 
v®
);

121 
	}
}

127 
	$g‘Trigg”Ty³
()

129  
Œigg”_ty³
;

130 
	}
}

136 
	$£tAµMode
(
mode
)

138 
	`±h»ad_mu‹x_lock
(&
­p_mode_¡©us
);

139 
­p_mode
 = 
mode
;

140 
	`SWLOG_INFO
("%s:‡µ modğ%d\n", 
__FUNCTION__
, 
­p_mode
);

141 
	`±h»ad_mu‹x_uÆock
(&
­p_mode_¡©us
);

142 
	}
}

147 
	$g‘AµMode
()

149 
mode
 = 1;

150 
	`±h»ad_mu‹x_lock
(&
­p_mode_¡©us
);

151 
mode
 = 
­p_mode
;

152 
	`±h»ad_mu‹x_uÆock
(&
­p_mode_¡©us
);

153 
	`SWLOG_INFO
("%s:‡µ modğ%d\n", 
__FUNCTION__
, 
mode
);

154  
mode
;

155 
	}
}

160 
	$£tDwÆS‹
(
¡©e
)

162 
	`±h»ad_mu‹x_lock
(&
mutuex_dwÆ_¡©e
);

163 
DwÆS‹
 = 
¡©e
;

164 
	`±h»ad_mu‹x_uÆock
(&
mutuex_dwÆ_¡©e
);

165 
	`SWLOG_INFO
("%s: stu ğ%d\n", 
__FUNCTION__
, 
¡©e
);

166 
	}
}

171 
	$g‘DwÆS‹
()

173 
curdwÆ_¡©e
 = 0;

174 
	`±h»ad_mu‹x_lock
(&
mutuex_dwÆ_¡©e
);

175 
curdwÆ_¡©e
 = 
DwÆS‹
;

176 
	`±h»ad_mu‹x_uÆock
(&
mutuex_dwÆ_¡©e
);

177 
	`SWLOG_INFO
("%s: stu ğ%d\n", 
__FUNCTION__
, 
curdwÆ_¡©e
);

178  
curdwÆ_¡©e
;

179 
	}
}

185 
	$š‹ru±DwÆ
(
­p_mode
)

187 
dwÆ_¡©e
 = 0;

188 
cu¾_»t
 = 99;

189 
¥“d
 = 0;

190 
by‹s_dwÆed
 = 0;

191 
	`SWLOG_INFO
("Checking Interupt download\n");

192 
	`£tAµMode
(
­p_mode
);

193 
dwÆ_¡©e
 = 
	`g‘DwÆS‹
();

194 ià((0 =ğ(
	`¡ºcmp
(
rfc_li¡
.
rfc_thrÙe
, "Œue", 4))è&& (
dwÆ_¡©e
 =ğ
RDKV_FWDNLD_DOWNLOAD_INPROGRESS
)) {

195 
by‹s_dwÆed
 = 
	`doG‘DwÆBy‹s
(
cu¾
);

196 
	`SWLOG_INFO
("By‹ DowÆßded = %u\n", 
by‹s_dwÆed
);

197 ià(
­p_mode
 == 0) {

198 
¥“d
 = 
	`©oi
(
rfc_li¡
.
rfc_tİ¥“d
);

200 ià(
¥“d
 == 0) {

201 
fÜû_ex™
 = 1;

202 
	`SWLOG_INFO
("­°modi background‡nd dowÆßd s³ed i £ˆto:%d\n", 
¥“d
);

204 
	`£tFÜûStİ
(1);

205 ià(!(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

206 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ERROR
);

208 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_FAILED
);

209 
	`SWLOG_INFO
("Download is goingo stop\n");

212 ià(
cu¾
 !ğ
NULL
 && 
by‹s_dwÆed
 > 0) {

213 
	`SWLOG_INFO
("Pau£ dowÆßd‡nd uÅau£ w™h s³ed %s=>%u\n", 
rfc_li¡
.
rfc_tİ¥“d
, 
¥“d
);

214 
cu¾_»t
 = 
	`doIÁ”u±DwÆ
(
cu¾
, 
¥“d
);

216 } ià(
­p_mode
 == 1){

217 
¥“d
 = 0;

218 ià(
cu¾
 !ğ
NULL
 && 
by‹s_dwÆed
 > 0) {

219 
	`SWLOG_INFO
("Pau£ dowÆßd‡nd uÅau£ w™h UnThrÙmod%u\n", 
¥“d
);

220 
cu¾_»t
 = 
	`doIÁ”u±DwÆ
(
cu¾
, 
¥“d
);

224 
	`SWLOG_INFO
("ThrÙrfc=%s\nFDowÆßd‡Ìeday com¶‘ed o¸nÙ s¹ed\n", 
rfc_li¡
.
rfc_thrÙe
);

227 ià(
cu¾_»t
 =ğ
DWNL_UNPAUSE_FAIL
) {

228 
	`SWLOG_ERROR
("Cu¾ UÅau£ fa:%d\n", 
cu¾_»t
);

229 
	`doStİDowÆßd
(
cu¾
);

230 
cu¾
 = 
NULL
;

232 
	}
}

234 
	$hªdË_sigÇl
(
no
, 
sigšfo_t
* 
šfo
, * 
uc
)

237 
	`SWLOG_INFO
("Raise SIGUSR1 signal\n");

238 
fÜû_ex™
 = 1;

239 
	`£tFÜûStİ
(1);

240 ià(!(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

241 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ERROR
);

243 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_FAILED
);

244 
	`SWLOG_INFO
("Download is goingo stop‡nd‡borted\n");

245 
	`upd©eUpg¿deFÏg
(2);

246 
	}
}

252 
	$š™Ÿlize
() {

253 
DowÆßdD©a
 
DwnLoc
;

254 
»t
 = -1;

255 
po¡_d©a
[] = "{\"jsonrpc\":\"2.0\",\"id\":\"3\",\"method\":\"org.rdk.MaintenanceManager.1.getMaintenanceMode\",\"params\":{}}";

257 #ifdeà
T2_EVENT_ENABLED


258 
	`t2_š™
("rdkfwupgrader");

261 *
cur_img_d‘a
.
cur_img_Çme
 = 0;

262 *
rfc_li¡
.
rfc_šü_cdl
 = 0;

263 *
rfc_li¡
.
rfc_ms
 = 0;

264 *
rfc_li¡
.
rfc_thrÙe
 = 0;

265 *
rfc_li¡
.
rfc_tİ¥“d
 = 0;

267 
»t
 = 
	`g‘DeviûPrİ”t›s
(&
deviû_šfo
);

268 if(-1 =ğ
»t
) {

269 
	`SWLOG_INFO
("getDeviceProperties()„eturn fail\n");

270  
»t
 ;

272 
»t
 = 
	`g‘ImageD‘as
(&
cur_img_d‘a
);

273 if(-1 =ğ
»t
) {

274 
	`SWLOG_INFO
("getImageDetails()„eturn fail\n");

275  
»t
 ;

277 
	`g‘RFCS‘tšgs
(&
rfc_li¡
);

278 
»t
 = 
	`ü—‹Dœ
(
deviû_šfo
.
difw_·th
);

279 ià(-1 =ğ
»t
) {

280 
	`SWLOG_INFO
("ü—‹Dœ(è»tuº fa. Dœ‚ame:%s\n", 
deviû_šfo
.
difw_·th
);

281  
»t
;

283 
	`š™_ev’t_hªdËr
();

284 ià(0 =ğ(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

285 
DwnLoc
.
pvOut
 = 
NULL
;

286 
DwnLoc
.
d©asize
 = 0;

287 
DwnLoc
.
memsize
 = 0;

288 ifĞ
	`®locDowndLßdD©aMem
Ğ&
DwnLoc
, 
DEFAULT_DL_ALLOC
 ) == 0 )

290 
	`g‘JsÚRpc
(
po¡_d©a
, &
DwnLoc
);

291 ifĞ(
	`¡r¡r
((*)
DwnLoc
.
pvOut
, "BACKGROUND")è!ğ
NULL
 ) {

292 
	`SWLOG_INFO
("%s: S‘tšg modtØBACKGROUND\n", 
__FUNCTION__
);

293 
	`£tAµMode
(0);

295 
	`ä“
Ğ
DwnLoc
.
pvOut
 );

299 
	}
}

305 
	$unš™Ÿlize
(
fwDwÆStus
) {

306 #ifdeà
T2_EVENT_ENABLED


307 
	`t2_unš™
();

309 
	`±h»ad_mu‹x_de¡roy
(&
mutuex_dwÆ_¡©e
);

310 
	`±h»ad_mu‹x_de¡roy
(&
­p_mode_¡©us
);

311 
	`‹rm_ev’t_hªdËr
();

312 
	`upd©eUpg¿deFÏg
(2);

313 if((
fwDwÆStus
 !ğ
INITIAL_VALIDATION_DWNL_INPROGRESS
è&& ((
	`feP»£ÁCheck
(
DIFDPID
)) == 0)) {

314 
	`SWLOG_INFO
("Deleting DIFD.pid file\n");

315 
	`uÆšk
(
DIFDPID
);

317 
	`log_ex™
();

318 
	}
}

322 
	$upd©eUpg¿deFÏg
(
aùiÚ
)

324 *
æag_fe
 = 
NULL
;

325 ià(0 =ğ(
	`¡ºcmp
(
deviû_šfo
.
dev_ty³
, "mediaclient", 11))) {

326 
æag_fe
 = "/tmp/.imageDnldInProgress";

327 } ià(
´Ùo
 == 1) {

328 
æag_fe
 = 
HTTP_CDL_FLAG
;

330 
æag_fe
 = 
SNMP_CDL_FLAG
;

332 ià(
aùiÚ
 == 1) {

333 
	`ü—‹Fe
(
æag_fe
);

334 } ià(
aùiÚ
 =ğ2 && (0 =ğ(
	`feP»£ÁCheck
(
æag_fe
)))) {

335 
	`uÆšk
(
æag_fe
);

337 
	}
}

339 
	$g‘OPTOUTV®ue
(cÚ¡ *
fe_Çme
)

341 
¡©us
 = -1;

342 
FILE
 *
å
 = 
NULL
;

343 
tbuff
[80] = {0};

345 ià(
fe_Çme
 =ğ
NULL
) {

346  
¡©us
;

349 
å
 = 
	`fİ’
(
fe_Çme
, "r");

350 ià(
å
 !ğ
NULL
) {

351 
NULL
 !ğ
	`fg‘s
(
tbuff
, Ñbuff), 
å
)) {

352 ià(
	`¡r¡r
(
tbuff
,"softwareoptout")) {

353 
	`SWLOG_INFO
("soáw¬eİtouˆv®u=%s.\n", 
tbuff
);

358 
	`SWLOG_ERROR
("UÇbËØİ’ fe=%s\n", 
fe_Çme
);

359  
¡©us
;

362 ià(
	`¡r¡r
(
tbuff
, "IGNORE_UPDATE")) {

363 
¡©us
 = 1;

364 }if(
	`¡r¡r
(
tbuff
, "ENFORCE_OPTOUT")) {

365 
¡©us
 = 0;

367 
	`fşo£
(
å
);

368  
¡©us
;

369 
	}
}

371 
	$³rh”®_fœmw¬e_dndl
Ğ*
pCloudFWLoÿtiÚ
, *
pP”h”®Fœmw¬es
 )

373 
FILE
 *
å
;

374 *
pP”hFW
;

375 *
pSavedFW
;

376 *
pSavedD‘as
;

377 *
pFW
;

378 *
pDeviûName
;

379 *
pDeviûTy³
;

380 *
pDeviûV”
;

381 *
pP»vDlV”s
 = 
NULL
;

382 *
pDowÆßdedV”s
;

383 *
pTmp
;

384 
size_t
 
szL’
;

385 
size_t
 
szRuÂšgL’
 = 0;

386 
iV”Cmp
;

387 
iR‘
 = 0;

388 
h‰p_code
;

389 
iCu¾Code
;

390 *
pCurV”
;

391 *
pCurFW
;

392 
cDLStÜeLoc
[
DWNL_PATH_FILE_LEN
];

393 
cSourûURL
[
URL_MAX_LEN
];

394 
cTmpCloudFW
[100];

395 
cCurV”Buf
[200];

396 
cTmpCurV”Buf
[(
cCurV”Buf
)];

397 
cTmpP»vV”Buf
[(
cCurV”Buf
)];

398 
boŞ
 
bTrigg”DL
;

401 
	`SWLOG_INFO
Ğ"%s:…P”h”®Fœmw¬e ğ%s\n", 
__FUNCTION__
, 
pP”h”®Fœmw¬es
 );

403 
	`G‘FeCÚ‹Ás
Ğ&
pP»vDlV”s
, 
DOWNLOADED_PERIPHERAL_VERSION
 );

404 ifĞ
pP»vDlV”s
 !ğ
NULL
)

406 
	`SWLOG_INFO
Ğ"%s: P»vDowÆßd V”siÚ ğ%s\n", 
__FUNCTION__
, 
pP»vDlV”s
 );

409 
szL’
 = 
	`¡ºËn
Ğ
pP”h”®Fœmw¬es
, 959 ) + 1;

410 
pP”hFW
 = 
	`m®loc
Ğ
szL’
 );

411 ifĞ
pP”hFW
 !ğ
NULL
 )

413 
pDowÆßdedV”s
 = 
	`m®loc
Ğ
DOWNLOADED_VERS_SIZE
 );

414 ifĞ
pDowÆßdedV”s
 !ğ
NULL
 )

416 *
pDowÆßdedV”s
 = 0;

418 
	`G‘RemÙeV”s
Ğ
cCurV”Buf
, (cCurVerBuf) );

419 
	`SWLOG_INFO
Ğ"%s: G‘RemÙeV” found cCurV”Buàğ%s\n", 
__FUNCTION__
, 
cCurV”Buf
 );

420 
	`¢´štf
Ğ
pP”hFW
, 
szL’
, "%s", 
pP”h”®Fœmw¬es
 );

421 
pFW
 = 
	`¡¹ok_r
Ğ
pP”hFW
, ",", &
pSavedFW
 );

423  
pFW
 !ğ
NULL
 )

425 
bTrigg”DL
 = 
Œue
;

427 
	`SWLOG_INFO
Ğ"%s:…FW = %s\n", 
__FUNCTION__
, 
pFW
 );

428 
	`¢´štf
Ğ
cTmpCloudFW
, (cTmpCloudFW), "%s", 
pFW
 );

430 
pDeviûName
 = 
	`¡¹ok_r
Ğ
cTmpCloudFW
, "_", &
pSavedD‘as
 );

431 
pDeviûTy³
 = 
	`¡¹ok_r
Ğ
NULL
, "_", &
pSavedD‘as
 );

432 
pDeviûV”
 = 
	`¡¹ok_r
Ğ
NULL
, "_", &
pSavedD‘as
 );

434 
	`SWLOG_INFO
Ğ"%s:…DeviûNamğ%s\n", 
__FUNCTION__
, 
pDeviûName
 );

435 
	`SWLOG_INFO
Ğ"%s:…DeviûTy³ = %s\n", 
__FUNCTION__
, 
pDeviûTy³
 );

436 
	`SWLOG_INFO
Ğ"%s:…DeviûV” = %s\n", 
__FUNCTION__
, 
pDeviûV”
 );

439 ifĞ
bTrigg”DL
 =ğ
Œue
 && 
pP»vDlV”s
 !ğ
NULL
 && *pPrevDlVers )

441 
	`¢´štf
Ğ
cTmpP»vV”Buf
, (cTmpP»vV”Buf), "%s", 
pP»vDlV”s
 );

442 
pTmp
 = 
	`¡¹ok_r
Ğ
cTmpP»vV”Buf
, ",", &
pSavedD‘as
 );

444  
pTmp
 !ğ
NULL
 )

446 
	`SWLOG_INFO
Ğ"%s: Fšdšg…DeviûTy³ = % ªd…DeviûV”ğ% š…Tm°ğ%s\n", 
__FUNCTION__
, 
pDeviûTy³
, 
pDeviûV”
, 
pTmp
 );

447 ifĞ
	`¡r¡r
Ğ
pTmp
, 
pDeviûName
 ) && sŒ¡rĞpTmp, 
pDeviûTy³
 ) && sŒ¡rĞpTmp, 
pDeviûV”
 ) )

449 
bTrigg”DL
 = 
çl£
;

450 
	`SWLOG_INFO
Ğ"%s: P»v dowÆßded FW‡nd„eque¡ed cloud FW dowÆßd v”siÚ ¬th§m(%s)\n", 
__FUNCTION__
, 
pDeviûV”
 );

454 
pTmp
 = 
	`¡¹ok_r
Ğ
NULL
, ",", &
pSavedD‘as
 );

458 ifĞ
bTrigg”DL
 =ğ
Œue
 )

460 
	`¢´štf
Ğ
cTmpCurV”Buf
, (cTmpCurV”Buf), "%s", 
cCurV”Buf
 );

461 
pCurFW
 = 
	`¡¹ok_r
Ğ
cTmpCurV”Buf
, ",", &
pSavedD‘as
 );

462  
pCurFW
 !ğ
NULL
 )

470 ifĞ(
pDeviûName
 !ğ
NULL
è&& 
	`¡r¡r
Ğ
pCurFW
,…DeviûNamè&& sŒ¡rĞpCurFW, 
pDeviûTy³
) )

472 ifĞ(
pCurV”
=
	`¡¼chr
Ğ
pCurFW
, '_' )è!ğ
NULL
 )

474 ++
pCurV”
;

475 
iV”Cmp
 = 
	`¡ºcmp
Ğ
pDeviûV”
, 
pCurV”
, 
MAX_VER_LEN
 );

476 
	`SWLOG_INFO
Ğ"%s: Com·»d…DeviûV” = % ªd…CurV” = %s, ouuˆğ%d\n", 
__FUNCTION__
, 
pDeviûV”
, 
pCurV”
, 
iV”Cmp
 );

477 ifĞ
iV”Cmp
 <= 0 )

479 
	`SWLOG_INFO
Ğ"%s: Thv”siÚ iÀthdeviû i Ãw” o¸§me,‚Øupg¿dÃeded\n", 
__FUNCTION__
 );

480 
bTrigg”DL
 = 
çl£
;

484 
pCurFW
 = 
	`¡¹ok_r
Ğ
NULL
, ",", &
pSavedD‘as
 );

487 ifĞ
bTrigg”DL
 =ğ
Œue
 )

489 
	`¢´štf
Ğ
cSourûURL
, (cSourûURL), "%s/%s.tgz", 
pCloudFWLoÿtiÚ
, 
pFW
 );

490 
	`¢´štf
Ğ
cDLStÜeLoc
, (cDLStÜeLoc), "%s/%s.tgz", 
deviû_šfo
.
difw_·th
, 
pFW
 );

492 
	`SWLOG_INFO
Ğ"%s: fœmw¬f’amw™h…©h = %s\n", 
__FUNCTION__
, 
cDLStÜeLoc
 );

493 ifĞ
	`feP»£ÁCheck
Ğ
cDLStÜeLoc
 ) != 0 )

495 
	`¢´štf
Ğ
cTmpCurV”Buf
, (cTmpCurV”Buf), "%s_%s_", 
pDeviûName
, 
pDeviûTy³
 );

496 
	`”a£TGZI‹msM©chšg
Ğ
deviû_šfo
.
difw_·th
, 
cTmpCurV”Buf
 );

499 
	`SWLOG_INFO
Ğ"%s: Reque¡šg upg¿dtØ% äom %s\n", 
__FUNCTION__
, 
cDLStÜeLoc
, 
cSourûURL
 );

502 
RdkUpg¿deCÚ‹xt_t
 
³rh”®_cÚ‹xt
 = {0};

503 
³rh”®_cÚ‹xt
.
upg¿de_ty³
 = 
PERIPHERAL_UPGRADE
;

504 
³rh”®_cÚ‹xt
.
£rv”_ty³
 = 
HTTP_SSR_DIRECT
;

505 
³rh”®_cÚ‹xt
.
¬tiçùLoÿtiÚU¾
 = 
cSourûURL
;

506 
³rh”®_cÚ‹xt
.
dwÎoc
 = 
cDLStÜeLoc
;

507 
³rh”®_cÚ‹xt
.
pPo¡F›lds
 = 
NULL
;

508 
³rh”®_cÚ‹xt
.
immed_»boÙ_æag
 = immed_reboot_flag;

509 
³rh”®_cÚ‹xt
.
d–ay_dwÆ
 = delay_dwnl;

510 
³rh”®_cÚ‹xt
.
Ï¡run
 =†astrun;

511 
³rh”®_cÚ‹xt
.
di§bËStsUpd©e
 = disableStatsUpdate;

512 
³rh”®_cÚ‹xt
.
deviû_šfo
 = &device_info;

513 
³rh”®_cÚ‹xt
.
fÜû_ex™
 = &force_exit;

514 
³rh”®_cÚ‹xt
.
Œigg”_ty³
 =rigger_type;

515 
³rh”®_cÚ‹xt
.
rfc_li¡
 = &rfc_list;

517 
iCu¾Code
 = 
	`rdkv_upg¿de_»que¡
(&
³rh”®_cÚ‹xt
, &
cu¾
, &
h‰p_code
);

518 ifĞ
iCu¾Code
 =ğ0 && 
h‰p_code
 == 200 )

520 ifĞ
szRuÂšgL’
 )

522 
	`¢´štf
Ğ
pDowÆßdedV”s
 + 
szRuÂšgL’
, 
DOWNLOADED_VERS_SIZE
 - szRunningLen, "," );

523 ++
szRuÂšgL’
;

525 
szRuÂšgL’
 +ğ
	`¢´štf
Ğ
pDowÆßdedV”s
 + szRunningLen,

526 
DOWNLOADED_VERS_SIZE
 - 
szRuÂšgL’
, "%s.tgz", 
pFW
 );

528 
	`¢´štf
Ğ
cTmpP»vV”Buf
, (cTmpP»vV”Buf), "%s.tgz i sucûssful", 
pFW
 );

529 
	`t2V®NÙify
Ğ"xr_fwdÆd_¥l™", 
cTmpP»vV”Buf
 );

533 
iR‘
 = -1;

534 
	`SWLOG_ERROR
( "%s: Peripheral download failed with curl„eturn = %d, http_code = %d\n",

535 
__FUNCTION__
, 
iCu¾Code
, 
h‰p_code
 );

539 
pFW
 = 
	`¡¹ok_r
Ğ
NULL
, ",", &
pSavedFW
 );

542 ifĞ*
pDowÆßdedV”s
 )

544 ifĞ(
å
=
	`fİ’
Ğ
DOWNLOADED_PERIPHERAL_VERSION
, "a")è!ğ
NULL
 )

546 
	`årštf
Ğ
å
, "%s", 
pDowÆßdedV”s
 );

547 
	`fşo£
Ğ
å
 );

551 
	`SWLOG_ERROR
Ğ"%s: UÇbËØİ’ % fÜ‡µ’dšg\n", 
__FUNCTION__
, 
DOWNLOADED_PERIPHERAL_VERSION
 );

553 
	`¢´štf
Ğ
cSourûURL
, (cSourûURL), "%s:%s", 
deviû_šfo
.
difw_·th
, 
pDowÆßdedV”s
 );

554 
	`ev’tMªag”
Ğ"P”h”®Upg¿deEv’t", 
cSourûURL
 );

556 
	`ä“
Ğ
pDowÆßdedV”s
 );

558 
	`ä“
Ğ
pP”hFW
 );

561 ifĞ
pP»vDlV”s
 !ğ
NULL
)

563 
	`ä“
Ğ
pP»vDlV”s
 );

566  
iR‘
;

567 
	}
}

570 
	$checkTrigg”Upg¿de
(
XCONFRES
 *
pRe¥Ú£
, cÚ¡ *
mod–
)

572 
h‰p_code
;

573 
upg¿de_¡©us
 = -1;

574 
boŞ
 
v®id_pci_¡©us
 = 
çl£
;

575 
pci_cu¾_code
 = -1;

576 
pdri_cu¾_code
 = -1;

577 
³rh”®_cu¾_code
 = -1;

578 
imageHTTPURL
[
URL_MAX_LEN1
];

579 
dwÍ©h_f’ame
[
DWNL_PATH_FILE_LEN1
];

580 
FILE
 *
å
 = 
NULL
;

581 
İtout
 = -1;

583 
imageHTTPURL
[0] = 0;

584 
dwÍ©h_f’ame
[0] = 0;

585 ià(
mod–
 =ğ
NULL
) {

586 
	`SWLOG_ERROR
("% : P¬am‘” i NULL\n", 
__FUNCTION__
);

587  
upg¿de_¡©us
;

589 ià(
Œue
 =ğ
	`isUpg¿deInProg»ss
()) {

590 
	`SWLOG_ERROR
("Exiting from DEVICE INITIATED HTTP CDL\nAnother upgrade is in…rogress\n");

591 ià(!(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

592 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ERROR
);

594 
	`unš™Ÿlize
(
INITIAL_VALIDATION_SUCCESS
);

595 
	`ex™
(1);

597 ià((
	`¡r¡r
(
pRe¥Ú£
->
şoudFWV”siÚ
, 
mod–
)è=ğ
NULL
) {

598 
	`SWLOG_INFO
("cloudFWVersion isƒmpty. Do Nothing\n");

599 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_FAILED
);

601 
	`¢´štf
(
immed_»boÙ_æag
, (immed_»boÙ_æag), "%s", 
pRe¥Ú£
->
şoudImmedŸ‹ReboÙFÏg
);

602 
d–ay_dwÆ
 = 
	`©oi
(
pRe¥Ú£
->
şoudD–ayDowÆßd
);

603 
	`SWLOG_INFO
("%s:„eboÙ_æag =% ªd d–ay_dwÆ=%d\n", 
__FUNCTION__
, 
immed_»boÙ_æag
, 
d–ay_dwÆ
);

604 
v®id_pci_¡©us
 = 
	`checkFÜV®idPCIUpg¿de
(
Œigg”_ty³
, 
cur_img_d‘a
.
cur_img_Çme
, 
pRe¥Ú£
->
şoudFWV”siÚ
,…Re¥Ú£->
şoudFWFe
);

605 ià(
v®id_pci_¡©us
 =ğ
Œue
) {

606 
	`SWLOG_INFO
("checkForValidPCIUpgrade„eturnrue\n");

607 ià(0 =ğ
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4)) {

608 ià((
	`¡ºcmp
(
pRe¥Ú£
->
şoudImmedŸ‹ReboÙFÏg
, "true", 4)) == 0) {

609 
isCr™iÿlUpd©e
 = 
Œue
;

611 ià(0 =ğ
	`¡ºcmp
(
deviû_šfo
.
sw_İtout
, "true", 4)) {

612 
İtout
 = 
	`g‘OPTOUTV®ue
("/opt/maintenance_mgr_record.conf");

613 ià(
İtout
 =ğ1 && 
isCr™iÿlUpd©e
 !ğ
Œue
) {

614 
	`SWLOG_INFO
("OptOut: IGNORE UPDATE is set.Exiting !!\n");

615 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ABORTED
);

616 
	`unš™Ÿlize
(
INITIAL_VALIDATION_SUCCESS
);

617 
	`ex™
(1);

618 }if((0 =ğ
İtout
è&& (
Œigg”_ty³
 != 4)) {

619 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_ONHOLD_FOR_OPTOUT
);

620 
	`SWLOG_INFO
("OptOut: Event sent for on hold for OptOut\n");

621 
	`ev’tMªag”
("Maš‹ÇnûMGR" ,
MAINT_FWDOWNLOAD_COMPLETE
);

622 
	`SWLOG_INFO
("OptOut: Consent Required from User\n");

623 
	`t2CouÁNÙify
("SYST_INFO_NoConsentFlash", 1);

624 
	`unš™Ÿlize
(
INITIAL_VALIDATION_SUCCESS
);

625 
	`ex™
(1);

629 
	`¢´štf
(
imageHTTPURL
, (imageHTTPURL), "%s/%s", 
pRe¥Ú£
->
şoudFWLoÿtiÚ
,…Re¥Ú£->
şoudFWFe
);

630 
	`SWLOG_INFO
("imageHTTPURL=%s\n", 
imageHTTPURL
);

631 
å
 = 
	`fİ’
(
DWNL_URL_VALUE
, "w");

632 ià(
å
 !ğ
NULL
) {

633 
	`årštf
(
å
, "%s\n", 
imageHTTPURL
);

634 
	`fşo£
(
å
);

636 
	`¢´štf
(
dwÍ©h_f’ame
, (dwÍ©h_f’ame), "%s/%s", 
deviû_šfo
.
difw_·th
, 
pRe¥Ú£
->
şoudFWFe
);

637 
	`SWLOG_INFO
("DWNL…©h w™h img‚ame=%s\n", 
dwÍ©h_f’ame
);

638 
	`”a£FŞd”ExûP¿maFe
(
deviû_šfo
.
difw_·th
, 
pRe¥Ú£
->
şoudFWFe
, deviû_šfo.
mod–
);

641 
RdkUpg¿deCÚ‹xt_t
 
pci_cÚ‹xt
 = {0};

642 
pci_cÚ‹xt
.
upg¿de_ty³
 = 
PCI_UPGRADE
;

643 
pci_cÚ‹xt
.
£rv”_ty³
 = 
HTTP_SSR_DIRECT
;

644 
pci_cÚ‹xt
.
¬tiçùLoÿtiÚU¾
 = 
imageHTTPURL
;

645 
pci_cÚ‹xt
.
dwÎoc
 = 
dwÍ©h_f’ame
;

646 
pci_cÚ‹xt
.
pPo¡F›lds
 = 
NULL
;

647 
pci_cÚ‹xt
.
immed_»boÙ_æag
 = immed_reboot_flag;

648 
pci_cÚ‹xt
.
d–ay_dwÆ
 = delay_dwnl;

649 
pci_cÚ‹xt
.
Ï¡run
 =†astrun;

650 
pci_cÚ‹xt
.
di§bËStsUpd©e
 = disableStatsUpdate;

651 
pci_cÚ‹xt
.
deviû_šfo
 = &device_info;

652 
pci_cÚ‹xt
.
fÜû_ex™
 = &force_exit;

653 
pci_cÚ‹xt
.
Œigg”_ty³
 =rigger_type;

654 
pci_cÚ‹xt
.
rfc_li¡
 = &rfc_list;

656 
pci_cu¾_code
 = 
	`rdkv_upg¿de_»que¡
(&
pci_cÚ‹xt
, &
cu¾
, &
h‰p_code
);

658 
	`SWLOG_INFO
("checkForValidPCIUpgrade„eturn false\n");

659 
pci_cu¾_code
 = 0;

661 ià((
	`¡r¡r
(
pRe¥Ú£
->
şoudPDRIV”siÚ
, 
mod–
)è&& 
Œue
 =ğ(
	`isPDRIEÇbË
())) {

662 ià((0 =ğ
	`¡ºcmp
(
pRe¥Ú£
->
şoudImmedŸ‹ReboÙFÏg
, "Œue", 4)è&& (
Œue
 =ğ
v®id_pci_¡©us
)) {

663 
	`SWLOG_INFO
("cloudImmediateRebootFlag isrue, PCI Upgrade is„equired. Skipping PDRI upgrade check ... \n");

666 
	`SWLOG_INFO
("şoudImmedŸ‹ReboÙFÏg i %s. S¹šg PDRI upg¿dcheck ... \n", 
pRe¥Ú£
->
şoudImmedŸ‹ReboÙFÏg
);

667 ià((
	`¡r¡r
(
pRe¥Ú£
->
şoudPDRIV”siÚ
, ".bš")è=ğ
NULL
) {

668 
İtout
 = 
	`¡ºËn
Ğ
pRe¥Ú£
->
şoudPDRIV”siÚ
, (pResponse->cloudPDRIVersion) );

669 
	`¢´štf
Ğ
pRe¥Ú£
->
şoudPDRIV”siÚ
 + 
İtout
, (pResponse->cloudPDRIVersion) - optout, ".bin" );

670 
	`SWLOG_INFO
("Added .bš iÀpdr˜image=%s\n", 
pRe¥Ú£
->
şoudPDRIV”siÚ
);

672 
	`¢´štf
(
imageHTTPURL
, (imageHTTPURL), "%s/%s", 
pRe¥Ú£
->
şoudFWLoÿtiÚ
,…Re¥Ú£->
şoudPDRIV”siÚ
);

673 
	`SWLOG_INFO
("pdr˜imageHTTPURL=%s\n", 
imageHTTPURL
);

674 
	`¢´štf
(
dwÍ©h_f’ame
, (dwÍ©h_f’ame), "%s/%s", 
deviû_šfo
.
difw_·th
, 
pRe¥Ú£
->
şoudPDRIV”siÚ
);

675 
	`SWLOG_INFO
("pdr˜DWNL…©h w™h img‚ame=%s\n", 
dwÍ©h_f’ame
);

676 ià(
Œue
 =ğ
v®id_pci_¡©us
 && 
pci_cu¾_code
 == 0) {

677 
	`SWLOG_INFO
("Adding‡ sleep of 30secso‡voidhe PCI PDRI„ace condition during flashing\n");

678 
	`¦“p
(30);

680 
	`¢´štf
(
di§bËStsUpd©e
, (disableStatsUpdate), "%s","yes");

683 
RdkUpg¿deCÚ‹xt_t
 
pdri_cÚ‹xt
 = {0};

684 
pdri_cÚ‹xt
.
upg¿de_ty³
 = 
PDRI_UPGRADE
;

685 
pdri_cÚ‹xt
.
£rv”_ty³
 = 
HTTP_SSR_DIRECT
;

686 
pdri_cÚ‹xt
.
¬tiçùLoÿtiÚU¾
 = 
imageHTTPURL
;

687 
pdri_cÚ‹xt
.
dwÎoc
 = 
dwÍ©h_f’ame
;

688 
pdri_cÚ‹xt
.
pPo¡F›lds
 = 
NULL
;

689 
pdri_cÚ‹xt
.
immed_»boÙ_æag
 = immed_reboot_flag;

690 
pdri_cÚ‹xt
.
d–ay_dwÆ
 = delay_dwnl;

691 
pdri_cÚ‹xt
.
Ï¡run
 =†astrun;

692 
pdri_cÚ‹xt
.
di§bËStsUpd©e
 = disableStatsUpdate;

693 
pdri_cÚ‹xt
.
deviû_šfo
 = &device_info;

694 
pdri_cÚ‹xt
.
fÜû_ex™
 = &force_exit;

695 
pdri_cÚ‹xt
.
Œigg”_ty³
 =rigger_type;

696 
pdri_cÚ‹xt
.
rfc_li¡
 = &rfc_list;

698 
pdri_cu¾_code
 = 
	`rdkv_upg¿de_»que¡
(&
pdri_cÚ‹xt
, &
cu¾
, &
h‰p_code
);

699 
	`¢´štf
(
di§bËStsUpd©e
, (disableStatsUpdate), "%s","no");

700 ià(
pdri_cu¾_code
 == 100) {

701 
pdri_cu¾_code
 = 0;

705 
	`SWLOG_INFO
("cloudPDRIfile isƒmpty. Do Nothing\n");

706 
pdri_cu¾_code
 = 0;

708 ià((0 =ğ(
	`feP»£ÁCheck
("/‘c/os-»Ëa£"))è&& (*
pRe¥Ú£
->
³rh”®Fœmw¬es
 != 0)) {

709 
	`¡ºÿt
(
pRe¥Ú£
->
³rh”®Fœmw¬es
, ",", (pResponse->peripheralFirmwares) - 1);

710 
pRe¥Ú£
->
³rh”®Fœmw¬es
[(pResponse->peripheralFirmwares) - 1] = '\0';

711 
	`SWLOG_INFO
("Trigg”šg P”h”® DowÆßd cloudFWLoÿtiÚ: %s\Å”h”®Fœmw¬es: %s\n", 
pRe¥Ú£
->
şoudFWLoÿtiÚ
,…Re¥Ú£->
³rh”®Fœmw¬es
);

712 
³rh”®_cu¾_code
 = 
	`³rh”®_fœmw¬e_dndl
Ğ
pRe¥Ú£
->
şoudFWLoÿtiÚ
,…Re¥Ú£->
³rh”®Fœmw¬es
 );

713 
	`SWLOG_INFO
("Aá” Trigg” P”h”® DowÆßd stus=%d\n", 
³rh”®_cu¾_code
);

715 
	`SWLOG_INFO
("Skipping Peripheral Download\n");

717 ià((
pci_cu¾_code
 =ğ0è&& (
pdri_cu¾_code
 == 0)) {

718 
upg¿de_¡©us
 = 0;

720  
upg¿de_¡©us
;

721 
	}
}

727 
	$¡¬tFaùÜyPrÙeùS”viû
()

729 *
Cu¾_»q
 = 
NULL
;

730 
tok’
[256];

731 
jsÚd©a
[256];

732 
h‰pCode
 = 0;

733 
FeDwÆ_t
 
»q_d©a
;

734 
cu¾_»t_code
 = -1;

735 
h—d”
[64] = "Content-Type:‡pplication/json";

736 
tok’_h—d”
[300];

737 
u¾
[128] = "http://127.0.0.1:9998/Service/Controller/Activate/org.rdk.FactoryProtect.1";

739 *
tok’
 = 0;

740 *
jsÚd©a
 = 0;

741 
	`RunCommªd
Ğ
eW³F¿mewÜkSecur™yUt™y
, 
NULL
, 
jsÚd©a
, (jsondata) );

743 
	`SWLOG_INFO
("tok’ jsÚd©a=%s\n", 
jsÚd©a
);

744 
	`g‘JRPCTok’D©a
(
tok’
, 
jsÚd©a
, (token));

745 
	`SWLOG_INFO
("tok’‡á”…¬£=%s\n", 
tok’
);

746 
»q_d©a
.
pH—d”D©a
 = 
h—d”
;

747 
»q_d©a
.
pDlH—d”D©a
 = 
NULL
;

748 
	`¢´štf
(
tok’_h—d”
, Ñok’_h—d”), "AuthÜiz©iÚ: B—»¸%s", 
tok’
);

749 
»q_d©a
.
pPo¡F›lds
 = 
NULL
;

750 
»q_d©a
.
pDlD©a
 = 
NULL
;

751 
	`¢´štf
(
»q_d©a
.
u¾
, (req_data.url), "%s", url);

752 
	`SWLOG_INFO
("%s: u¾=%s\n", 
__FUNCTION__
, 
»q_d©a
.
u¾
);

753 
	`SWLOG_INFO
("%s: h—d”=%s\n", 
__FUNCTION__
, 
»q_d©a
.
pH—d”D©a
);

754 
	`SWLOG_INFO
("%s:ok’_h—d”=%s\n", 
__FUNCTION__
, 
tok’_h—d”
);

755 
Cu¾_»q
 = 
	`doCu¾In™
();

756 ià(
Cu¾_»q
 !ğ
NULL
) {

757 
cu¾_»t_code
 = 
	`doCu¾PutReque¡
(
Cu¾_»q
, &
»q_d©a
, 
tok’_h—d”
, &
h‰pCode
 );

758 
	`SWLOG_INFO
("%s: cu¾„‘ code=%d‡nd h‰°codğ%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, 
h‰pCode
);

759 
	`doStİDowÆßd
(
Cu¾_»q
);

761 
	`SWLOG_ERROR
("%s: doCu¾In™ fa\n", 
__FUNCTION__
);

763  
cu¾_»t_code
;

764 
	}
}

861 
	$cİyFe
(cÚ¡ *
¤c
, cÚ¡ *
rg‘
)

863 
»t
 = -1;

864 
FILE
 *
¤c_å
 = 
NULL
;

865 
FILE
 *
rg‘_å
 = 
NULL
;

866 
tbuff
[68] = {0};

867 ià(
¤c
 !ğ
NULL
 && 
rg‘
 != NULL) {

868 
¤c_å
 = 
	`fİ’
(
¤c
, "r");

869 ià(
¤c_å
 !ğ
NULL
) {

870 
rg‘_å
 = 
	`fİ’
(
rg‘
, "w");

871 ià(
rg‘_å
 !ğ
NULL
) {

872 
	`fg‘s
(
tbuff
, Ñbuff), 
¤c_å
è!ğ
NULL
) {

873 
	`åuts
(
tbuff
,
rg‘_å
);

875 
»t
 = 0;

876 
	`fşo£
(
rg‘_å
);

878 
	`SWLOG_ERROR
("T¬g‘ Fİ’ faed %s\n",
rg‘
);

880 
	`fşo£
(
¤c_å
);

882 
	`SWLOG_ERROR
("Sourû Fİ’ faed %s\n",
¤c
);

885 
	`SWLOG_ERROR
("Received Function…arameter NULL\n");

887  
»t
;

888 
	}
}

893 
	$´evCurUpd©eInfo
()

895 
myFWV”siÚ
[64];

896 
cdlFÏshedFeName
[64];

897 
´evCdlFÏshedFeName
[64];

898 
cu¼’tImage
[80];

899 
»t
 = -1;

900 
FILE
 *
å
;

902 
	`G‘Fœmw¬eV”siÚ
Ğ
myFWV”siÚ
, (myFWVersion));

903 ià((
	`feP»£ÁCheck
(
CDL_FLASHED_IMAGE
)) == 0) {

904 
	`Ï¡DwÆImg
(
cdlFÏshedFeName
, (cdlFlashedFileName));

905 ià(!(
	`¡r¡r
(
cdlFÏshedFeName
, 
myFWV”siÚ
))) {

906 
	`SWLOG_INFO
("Looks†ike…revious upgrade failed but flashed image status is showing success\n");

907 ià((
	`feP»£ÁCheck
(
PREVIOUS_FLASHED_IMAGE
)) == 0) {

908 
	`´evFÏshedFe
(
´evCdlFÏshedFeName
, (prevCdlFlashedFileName));

909 ià(
	`¡r¡r
(
´evCdlFÏshedFeName
, 
myFWV”siÚ
)) {

910 
	`SWLOG_INFO
("Updating /tmp/currently_running_image_name with…revious successful flashed imagename\n");

911 
	`cİyFe
(
PREVIOUS_FLASHED_IMAGE
, 
CURRENTLY_RUNNING_IMAGE
);

914 
	`SWLOG_INFO
("Previous flashed file‚ame‚ot found !!! \n");

915 
	`SWLOG_INFO
("Updating currently_running_image_name with cdl_flashed_file_name ... \n");

916 
	`cİyFe
(
CDL_FLASHED_IMAGE
, 
CURRENTLY_RUNNING_IMAGE
);

920 
	`cİyFe
(
CDL_FLASHED_IMAGE
, 
PREVIOUS_FLASHED_IMAGE
);

921 
	`cİyFe
(
CDL_FLASHED_IMAGE
, 
CURRENTLY_RUNNING_IMAGE
);

924 
	`SWLOG_INFO
("cdl_flashed_file_name file‚ot found !!!\n");

925 
	`¢´štf
(
cu¼’tImage
, (cu¼’tImage), "%s-sigÃd.bš\n", 
myFWV”siÚ
);

926 
	`SWLOG_INFO
("Upd©šg cu¼’y_ruÂšg_image_Çme:%s:w™h v”siÚ.txˆ...\n", 
cu¼’tImage
);

927 
å
 = 
	`fİ’
(
PREVIOUS_FLASHED_IMAGE
, "w");

928 ià(
å
 !ğ
NULL
) {

929 
	`åuts
(
cu¼’tImage
, 
å
);

930 
	`fşo£
(
å
);

932 
å
 = 
	`fİ’
(
CURRENTLY_RUNNING_IMAGE
, "w");

933 ià(
å
 !ğ
NULL
) {

934 
	`åuts
(
cu¼’tImage
, 
å
);

935 
	`fşo£
(
å
);

938 
»t
 = 0;

939  
»t
;

940 
	}
}

949 
	$š™ŸlV®id©iÚ
()

951 
¡©us
 = 
INITIAL_VALIDATION_FAIL
;

952 
boŞ
 
®»ady_ruÂšg
 = 
çl£
;

953 
d©a
[
RFC_VALUE_BUF_SIZE
];

954 
buf
[64];

955 
BUILDTYPE
 
eBudTy³
;

956 
cu½id
[16];

957 
pid
;

958 
»t
 = -1;

959 
FILE
 *
å
 = 
NULL
;

961 
	`G‘BudTy³
Ğ
buf
, (buf), &
eBudTy³
 );

962 
»t
 = 
	`»ad_RFCPrİ”ty
("AutoExşuded", 
RFC_FW_AUTO_EXCLUDE
, 
d©a
, (data));

963 if(
»t
 == -1) {

964 
	`SWLOG_ERROR
("»ad_RFCPrİ”ty(è»tuº faed Stu %d\n", 
»t
);

965 
¡©us
 = 
INITIAL_VALIDATION_SUCCESS
;

967 
	`SWLOG_INFO
("g‘RFCS‘tšgs(èrføAutoExşudedğ%s\n", 
d©a
);

968 ià((0 =ğ(
	`¡ºcmp
(
d©a
, "Œue", 4))è&& (
eBudTy³
 !ğ
ePROD
)) {

969 
	`SWLOG_ERROR
("Deviceƒxcluded from firmware update. Exiting !!\n");

971 
¡©us
 = 
INITIAL_VALIDATION_SUCCESS
;

974 ià(
¡©us
 =ğ
INITIAL_VALIDATION_SUCCESS
) {

975 
®»ady_ruÂšg
 = 
	`Cu¼’tRuÂšgIn¡
(
DIFDPID
);

976 ià(
®»ady_ruÂšg
 =ğ
Œue
) {

977 
	`SWLOG_INFO
("initialValidation(): Alreday one Instance is„unning\n");

978 
¡©us
 = 
INITIAL_VALIDATION_DWNL_INPROGRESS
;

979 }if((
	`feP»£ÁCheck
("/tmp/fw_preparing_to_reboot")) == 0) {

980 ià(0 =ğ(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

981 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_COMPLETE
);

983 
	`uÆšk
("/tmp/fw_preparing_to_reboot");

984 
¡©us
 = 
INITIAL_VALIDATION_DWNL_COMPLETED
;

986 
å
 = 
	`fİ’
(
DIFDPID
, "w");

987 ià(
å
 !ğ
NULL
) {

988 
pid
 = 
	`g‘pid
();

989 
	`¢´štf
(
cu½id
, (cu½id),"%d\n", 
pid
);

990 
	`SWLOG_INFO
("cu¼’ˆpid=%s:%u\n", 
cu½id
, 
pid
);

991 
	`åuts
(
cu½id
, 
å
);

992 
	`fşo£
(
å
);

994 
	`SWLOG_ERROR
("unableo create file:/tmp/DIFD.pid\n");

996 
	`´evCurUpd©eInfo
();

997 
¡©us
 = 
INITIAL_VALIDATION_SUCCESS
;

1000  
¡©us
;

1001 
	}
}

1003 #iâdeà
GTEST_ENABLE


1005 
	$maš
(
¬gc
, *
¬gv
[]) {

1006 
XCONFRES
 
»¥Ú£
;

1007 
»t
 = -1;

1008 
»t_sig
 = -1;

1009 
i
;

1010 
»t_cu¾_code
 = 1;

1014 
sigaùiÚ
 
rdkv_ÃwaùiÚ
;

1015 
	`mem£t
(&
rdkv_ÃwaùiÚ
, '\0', (
sigaùiÚ
));

1016 
š™_v®id©e_¡©us
 = 
INITIAL_VALIDATION_FAIL
;

1018 
rdkv_ÃwaùiÚ
.
§_sigaùiÚ
 = 
hªdË_sigÇl
;

1019 
rdkv_ÃwaùiÚ
.
§_æags
 = 
SA_ONSTACK
 | 
SA_SIGINFO
;

1020 
	`log_š™
();

1021 
»t_sig
 = 
	`sigaùiÚ
(
SIGUSR1
, &
rdkv_ÃwaùiÚ
, 
NULL
);

1022 ià(
»t_sig
 == -1) {

1023 
	`SWLOG_ERROR
( "SIGUSR1 handler install fail\n");

1025 
	`SWLOG_INFO
( "SIGUSR1 handler install success\n");

1027 *
»¥Ú£
.
şoudFWFe
 = 0;

1028 *
»¥Ú£
.
şoudFWLoÿtiÚ
 = 0;

1029 *
»¥Ú£
.
v6şoudFWLoÿtiÚ
 = 0;

1030 *
»¥Ú£
.
şoudFWV”siÚ
 = 0;

1031 *
»¥Ú£
.
şoudD–ayDowÆßd
 = 0;

1032 *
»¥Ú£
.
şoudPrÙo
 = 0;

1033 *
»¥Ú£
.
şoudImmedŸ‹ReboÙFÏg
 = 0;

1034 *
»¥Ú£
.
³rh”®Fœmw¬es
 = 0;

1035 *
»¥Ú£
.
dlC”tBundË
 = 0;

1036 *
»¥Ú£
.
şoudPDRIV”siÚ
 = 0;

1037 
	`SWLOG_INFO
("Starting c method„dkvfwupgrader\n");

1038 
	`t2CouÁNÙify
("SYST_INFO_C_CDL", 1);

1040 
	`¢´štf
(
di§bËStsUpd©e
, (disableStatsUpdate), "%s","no");

1042 
cu¼’tS‹
 = 
STATE_INIT
;

1044 
cu¼’tS‹
) {

1045 
STATE_INIT
:

1047 
	`SWLOG_INFO
("In STATE_INIT\n");

1050 
	`š™_sk_sy¡em
();

1052 ià(!
	`£tup_dbus_£rv”
()) {

1053 
	`SWLOG_INFO
("Failedo setup D-Bus server\n");

1054 
	`ş—nup_dbus
();

1057 
	`SWLOG_INFO
("Creating g_main_loop for dbus\n");

1058 
maš_loİ
 = 
	`g_maš_loİ_Ãw
(
NULL
, 
FALSE
);

1060 
»t
 = 
	`š™Ÿlize
();

1061 ià(1 !ğ
»t
) {

1062 
	`SWLOG_ERROR
Ğ"š™Ÿlize(): Fa:%d\n", 
»t
);

1063 
	`log_ex™
();

1064 
	`ex™
(
»t_cu¾_code
);

1066 if(
¬gc
 < 3) {

1067 
	`SWLOG_ERROR
( "Provide 2‡rguments. Lesshan 2‡rguments„eceived\n");

1068 
	`SWLOG_ERROR
("Retry Count (1)‡rgument will‚ot be…arsed‡s we will use hardcoded fallback mechanism‡dded \
=2 # Sethe Image Upgraderigger Type \
:„dkvfwupgrader <failure„etry count> <Imagerigger Type> \
„etry count: This value from DCM settings file, if‚ot \
rigger Type : Bootup(1)/scheduled(2)/tr69 or SNMPriggered upgrade(3)/Appriggered upgrade(4)/(5) Delayed Download\n");

1073 ià(0 =ğ(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

1074 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ERROR
);

1076 
	`log_ex™
();

1077 
	`ex™
(
»t_cu¾_code
);

1079  
i
 = 0; i < 
¬gc
; i++ ) {

1080 
	`SWLOG_INFO
("[%d] = %s\n", 
i
, 
¬gv
[i]);

1084 
Œigg”_ty³
 = 
	`©oi
(
¬gv
[2]);

1085 ià(
Œigg”_ty³
 == 1) {

1086 
	`SWLOG_INFO
("Image Upgrade During Bootup ..!\n");

1087 }ià(
Œigg”_ty³
 == 2) {

1088 
	`SWLOG_INFO
("Scheduled Image Upgrade using cron ..!\n");

1089 
	`t2CouÁNÙify
("SYST_INFO_SWUpgrdChck", 1);

1090 }if(
Œigg”_ty³
 == 3){

1091 
	`SWLOG_INFO
("TR-69/SNMPriggered Image Upgrade ..!\n");

1092 }if(
Œigg”_ty³
 == 4){

1093 
	`SWLOG_INFO
("Appriggered Image Upgrade ..!\n");

1094 }if(
Œigg”_ty³
 == 5){

1095 
	`SWLOG_INFO
("Delayed Trigger Image Upgrade ..!\n");

1096 }if(
Œigg”_ty³
 == 6){

1097 
	`SWLOG_INFO
("State Red Image Upgrade ..!\n");

1099 
	`SWLOG_INFO
("Invalidriggerype Image Upgrade ..!\n");

1100 ià(0 =ğ(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

1101 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ERROR
);

1103 
	`log_ex™
();

1104 
	`ex™
(
»t_cu¾_code
);

1106 
	`SWLOG_ERROR
Ğ"š™Ÿlize(): Sucûss:%d ; EÁ”šg iÁØSTATE_INTI_VALIDATION\n", 
»t
);

1107 
cu¼’tS‹
 = 
STATE_INIT_VALIDATION
;

1109 
STATE_INIT_VALIDATION
:

1110 
š™_v®id©e_¡©us
 = 
	`š™ŸlV®id©iÚ
();

1111 
	`SWLOG_INFO
("š™_v®id©e_¡©u ğ%d\n", 
š™_v®id©e_¡©us
);

1112 ifĞ
š™_v®id©e_¡©us
 =ğ
INITIAL_VALIDATION_SUCCESS
)

1114 
	`SWLOG_INFO
("Initial validation success.transiting into STATE_IDLE\n");

1115 
cu¼’tS‹
 = 
STATE_IDLE
;

1155 
	`SWLOG_ERROR
("Initial validation failed\n");

1156 
ş—nup_ªd_ex™
;

1180 
STATE_IDLE
:

1183 
	`SWLOG_INFO
("\n [STATE_IDLE]„dkvfwupgrader Waiting for D-Bus„equests...\n\n");

1184 
	`SWLOG_INFO
("=======================================================\n");

1185 
	`SWLOG_INFO
("D-Bu S”viû: %s\n", 
BUS_NAME
);

1186 
	`SWLOG_INFO
("Objeù P©h: %s\n", 
OBJECT_PATH
);

1187 ià(
aùive_sks
 !ğ
NULL
) {

1188 
	`SWLOG_INFO
("AùivTasks: %d\n", 
	`g_hash_bË_size
(
aùive_sks
));

1191 
	`SWLOG_INFO
("Active Tasks:0\n");

1193 
	`SWLOG_INFO
("=======================================================\n");

1197 
	`g_maš_loİ_run
(
maš_loİ
);

1200 
	`SWLOG_INFO
("Main†oopƒxited -„dkvfwupgrader shutting down\n");

1201 
ş—nup_ªd_ex™
;

1208 
	`SWLOG_INFO
("UnknowÀ¡©e: %d\n",
cu¼’tS‹
);

1209 
cu¼’tS‹
 = 
STATE_IDLE
;

1210 
ş—nup_ªd_ex™
;

1213 
ş—nup_ªd_ex™
:

1216 
	`ş—nup_dbus
();

1218 
	`unš™Ÿlize
(
š™_v®id©e_¡©us
);

1219 
	`log_ex™
();

1220 
	`ex™
(
»t_cu¾_code
);

1222 
	}
}

	@src/rdkv_main.c

19 
	~<¡dlib.h
>

20 
	~<¡dio.h
>

21 
	~<¡ršg.h
>

22 
	~<¡ršgs.h
>

23 
	~<sys/¡©.h
>

24 
	~<±h»ad.h
>

25 
	~<sigÇl.h
>

27 
	~"rdkv_cdl.h
"

28 
	~"rdkv_upg¿de.h
"

29 #iâdeà
GTEST_ENABLE


30 
	~"dowÆßdUt.h
"

32 
	~"dowÆßd_¡©us_h–³r.h
"

33 
	~"deviû_¡©us_h–³r.h
"

34 
	~"ŸrmIÁ”çû.h
"

35 
	~"rfcš‹rçû.h
"

36 #iâdeà
GTEST_ENABLE


37 
	~"commÚ_deviû_­i.h
"

38 
	~"u¾H–³r.h
"

39 
	~"rdk_fwdl_uts.h
"

40 
	~"sy¡em_uts.h
"

41 
	~"rdk_logg”_me¡Úe.h
"

43 
	~"rdkv_cdl_log_w¿µ”.h
"

44 
	~"misûÎªeous.h
"

46 
	~"jsÚ_´oûss.h
"

47 
	~"deviû_­i.h
"

48 
	~"deviûuts.h
"

49 
	~"ŸrmIÁ”çû.h
"

51 
	~<¡dlib.h
>

52 
	~<¡dio.h
>

53 
	~<¡ršg.h
>

54 
	~<¡ršgs.h
>

56 
	#JSON_STR_LEN
 1000

	)

58 
	#DOWNLOADED_PERIPHERAL_VERSION
 "/tmp/dowÆßded_³rh”®_v”siÚs.txt"

	)

59 
	#MAX_VER_LEN
 10

	)

60 
	#TWO_FIFTY_SIX
 256

	)

61 
	#DOWNLOADED_VERS_SIZE
 
TWO_FIFTY_SIX


	)

62 
	#URL_MAX_LEN1
 
URL_MAX_LEN
 + 128

	)

63 
	#DWNL_PATH_FILE_LEN1
 
DWNL_PATH_FILE_LEN
 + 32

	)

68 
DeviûPrİ”ty_t
 
	gdeviû_šfo
;

69 
ImageD‘as_t
 
	gcur_img_d‘a
;

70 
Rfc_t
 
	grfc_li¡
;

72 
boŞ
 
	gisCr™iÿlUpd©e
 = 
çl£
;

74 
	gdi§bËStsUpd©e
[4] = { 0 };

75 
	glÚg_‹rm_û¹
 = 0;

77 
	gÏ¡run
[64] = { 0 };

78 
	gimmed_»boÙ_æag
[12] = { 0 };

79 
	gd–ay_dwÆ
 = 0;

81 
	g´Ùo
 = 1;

82 
	gŒigg”_ty³
 = 0;

83 
	gDwÆS‹
 = 
RDKV_FWDNLD_UNINITIALIZED
;

84 *
	gcu¾
 = 
NULL
;

85 
±h»ad_mu‹x_t
 
	gmutuex_dwÆ_¡©e
 = 
PTHREAD_MUTEX_INITIALIZER
;

86 
±h»ad_mu‹x_t
 
	g­p_mode_¡©us
 = 
PTHREAD_MUTEX_INITIALIZER
;

87 
	g­p_mode
 = 1;

88 
	gfÜû_ex™
 = 0;

90 
	$t2CouÁNÙify
(*
m¬k”
, 
v®
) {

91 #ifdeà
T2_EVENT_ENABLED


92 
	`t2_ev’t_d
(
m¬k”
, 
v®
);

94 
	}
}

96 
	$t2V®NÙify
Ğ*
m¬k”
, *
v®
 )

98 #ifdeà
T2_EVENT_ENABLED


99 
	`t2_ev’t_s
(
m¬k”
, 
v®
);

101 
	}
}

107 
	$g‘Trigg”Ty³
()

109  
Œigg”_ty³
;

110 
	}
}

116 
	$£tAµMode
(
mode
)

118 
	`±h»ad_mu‹x_lock
(&
­p_mode_¡©us
);

119 
­p_mode
 = 
mode
;

120 
	`SWLOG_INFO
("%s:‡µ modğ%d\n", 
__FUNCTION__
, 
­p_mode
);

121 
	`±h»ad_mu‹x_uÆock
(&
­p_mode_¡©us
);

122 
	}
}

127 
	$g‘AµMode
()

129 
mode
 = 1;

130 
	`±h»ad_mu‹x_lock
(&
­p_mode_¡©us
);

131 
mode
 = 
­p_mode
;

132 
	`±h»ad_mu‹x_uÆock
(&
­p_mode_¡©us
);

133 
	`SWLOG_INFO
("%s:‡µ modğ%d\n", 
__FUNCTION__
, 
mode
);

134  
mode
;

135 
	}
}

140 
	$£tDwÆS‹
(
¡©e
)

142 
	`±h»ad_mu‹x_lock
(&
mutuex_dwÆ_¡©e
);

143 
DwÆS‹
 = 
¡©e
;

144 
	`±h»ad_mu‹x_uÆock
(&
mutuex_dwÆ_¡©e
);

145 
	`SWLOG_INFO
("%s: stu ğ%d\n", 
__FUNCTION__
, 
¡©e
);

146 
	}
}

151 
	$g‘DwÆS‹
()

153 
curdwÆ_¡©e
 = 0;

154 
	`±h»ad_mu‹x_lock
(&
mutuex_dwÆ_¡©e
);

155 
curdwÆ_¡©e
 = 
DwÆS‹
;

156 
	`±h»ad_mu‹x_uÆock
(&
mutuex_dwÆ_¡©e
);

157 
	`SWLOG_INFO
("%s: stu ğ%d\n", 
__FUNCTION__
, 
curdwÆ_¡©e
);

158  
curdwÆ_¡©e
;

159 
	}
}

165 
	$š‹ru±DwÆ
(
­p_mode
)

167 
dwÆ_¡©e
 = 0;

168 
cu¾_»t
 = 99;

169 
¥“d
 = 0;

170 
by‹s_dwÆed
 = 0;

171 
	`SWLOG_INFO
("Checking Interupt download\n");

172 
	`£tAµMode
(
­p_mode
);

173 
dwÆ_¡©e
 = 
	`g‘DwÆS‹
();

174 ià((0 =ğ(
	`¡ºcmp
(
rfc_li¡
.
rfc_thrÙe
, "Œue", 4))è&& (
dwÆ_¡©e
 =ğ
RDKV_FWDNLD_DOWNLOAD_INPROGRESS
)) {

175 
by‹s_dwÆed
 = 
	`doG‘DwÆBy‹s
(
cu¾
);

176 
	`SWLOG_INFO
("By‹ DowÆßded = %u\n", 
by‹s_dwÆed
);

177 ià(
­p_mode
 == 0) {

178 
¥“d
 = 
	`©oi
(
rfc_li¡
.
rfc_tİ¥“d
);

180 ià(
¥“d
 == 0) {

181 
fÜû_ex™
 = 1;

182 
	`SWLOG_INFO
("­°modi background‡nd dowÆßd s³ed i £ˆto:%d\n", 
¥“d
);

184 
	`£tFÜûStİ
(1);

185 ià(!(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

186 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ERROR
);

188 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_FAILED
);

189 
	`SWLOG_INFO
("Download is goingo stop\n");

192 ià(
cu¾
 !ğ
NULL
 && 
by‹s_dwÆed
 > 0) {

193 
	`SWLOG_INFO
("Pau£ dowÆßd‡nd uÅau£ w™h s³ed %s=>%u\n", 
rfc_li¡
.
rfc_tİ¥“d
, 
¥“d
);

194 
cu¾_»t
 = 
	`doIÁ”u±DwÆ
(
cu¾
, 
¥“d
);

196 } ià(
­p_mode
 == 1){

197 
¥“d
 = 0;

198 ià(
cu¾
 !ğ
NULL
 && 
by‹s_dwÆed
 > 0) {

199 
	`SWLOG_INFO
("Pau£ dowÆßd‡nd uÅau£ w™h UnThrÙmod%u\n", 
¥“d
);

200 
cu¾_»t
 = 
	`doIÁ”u±DwÆ
(
cu¾
, 
¥“d
);

204 
	`SWLOG_INFO
("ThrÙrfc=%s\nFDowÆßd‡Ìeday com¶‘ed o¸nÙ s¹ed\n", 
rfc_li¡
.
rfc_thrÙe
);

207 ià(
cu¾_»t
 =ğ
DWNL_UNPAUSE_FAIL
) {

208 
	`SWLOG_ERROR
("Cu¾ UÅau£ fa:%d\n", 
cu¾_»t
);

209 
	`doStİDowÆßd
(
cu¾
);

210 
cu¾
 = 
NULL
;

212 
	}
}

214 
	$hªdË_sigÇl
(
no
, 
sigšfo_t
* 
šfo
, * 
uc
)

217 
	`SWLOG_INFO
("Raise SIGUSR1 signal\n");

218 
fÜû_ex™
 = 1;

219 
	`£tFÜûStİ
(1);

220 ià(!(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

221 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ERROR
);

223 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_FAILED
);

224 
	`SWLOG_INFO
("Download is goingo stop‡nd‡borted\n");

225 
	`upd©eUpg¿deFÏg
(2);

226 
	}
}

232 
	$š™Ÿlize
() {

233 
DowÆßdD©a
 
DwnLoc
;

234 
»t
 = -1;

235 
po¡_d©a
[] = "{\"jsonrpc\":\"2.0\",\"id\":\"3\",\"method\":\"org.rdk.MaintenanceManager.1.getMaintenanceMode\",\"params\":{}}";

237 #ifdeà
T2_EVENT_ENABLED


238 
	`t2_š™
("rdkfwupgrader");

241 *
cur_img_d‘a
.
cur_img_Çme
 = 0;

242 *
rfc_li¡
.
rfc_šü_cdl
 = 0;

243 *
rfc_li¡
.
rfc_ms
 = 0;

244 *
rfc_li¡
.
rfc_thrÙe
 = 0;

245 *
rfc_li¡
.
rfc_tİ¥“d
 = 0;

247 
»t
 = 
	`g‘DeviûPrİ”t›s
(&
deviû_šfo
);

248 if(-1 =ğ
»t
) {

249 
	`SWLOG_INFO
("getDeviceProperties()„eturn fail\n");

250  
»t
 ;

252 
»t
 = 
	`g‘ImageD‘as
(&
cur_img_d‘a
);

253 if(-1 =ğ
»t
) {

254 
	`SWLOG_INFO
("getImageDetails()„eturn fail\n");

255  
»t
 ;

257 
	`g‘RFCS‘tšgs
(&
rfc_li¡
);

258 
»t
 = 
	`ü—‹Dœ
(
deviû_šfo
.
difw_·th
);

259 ià(-1 =ğ
»t
) {

260 
	`SWLOG_INFO
("ü—‹Dœ(è»tuº fa. Dœ‚ame:%s\n", 
deviû_šfo
.
difw_·th
);

261  
»t
;

263 
	`š™_ev’t_hªdËr
();

264 ià(0 =ğ(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

265 
DwnLoc
.
pvOut
 = 
NULL
;

266 
DwnLoc
.
d©asize
 = 0;

267 
DwnLoc
.
memsize
 = 0;

268 ifĞ
	`®locDowndLßdD©aMem
Ğ&
DwnLoc
, 
DEFAULT_DL_ALLOC
 ) == 0 )

270 
	`g‘JsÚRpc
(
po¡_d©a
, &
DwnLoc
);

271 ifĞ(
	`¡r¡r
((*)
DwnLoc
.
pvOut
, "BACKGROUND")è!ğ
NULL
 ) {

272 
	`SWLOG_INFO
("%s: S‘tšg modtØBACKGROUND\n", 
__FUNCTION__
);

273 
	`£tAµMode
(0);

275 
	`ä“
Ğ
DwnLoc
.
pvOut
 );

279 
	}
}

285 
	$unš™Ÿlize
(
fwDwÆStus
) {

286 #ifdeà
T2_EVENT_ENABLED


287 
	`t2_unš™
();

289 
	`±h»ad_mu‹x_de¡roy
(&
mutuex_dwÆ_¡©e
);

290 
	`±h»ad_mu‹x_de¡roy
(&
­p_mode_¡©us
);

291 
	`‹rm_ev’t_hªdËr
();

292 
	`upd©eUpg¿deFÏg
(2);

293 if((
fwDwÆStus
 !ğ
INITIAL_VALIDATION_DWNL_INPROGRESS
è&& ((
	`feP»£ÁCheck
(
DIFDPID
)) == 0)) {

294 
	`SWLOG_INFO
("Deleting DIFD.pid file\n");

295 
	`uÆšk
(
DIFDPID
);

297 
	`log_ex™
();

298 
	}
}

302 
	$upd©eUpg¿deFÏg
(
aùiÚ
)

304 *
æag_fe
 = 
NULL
;

305 ià(0 =ğ(
	`¡ºcmp
(
deviû_šfo
.
dev_ty³
, "mediaclient", 11))) {

306 
æag_fe
 = "/tmp/.imageDnldInProgress";

307 } ià(
´Ùo
 == 1) {

308 
æag_fe
 = 
HTTP_CDL_FLAG
;

310 
æag_fe
 = 
SNMP_CDL_FLAG
;

312 ià(
aùiÚ
 == 1) {

313 
	`ü—‹Fe
(
æag_fe
);

314 } ià(
aùiÚ
 =ğ2 && (0 =ğ(
	`feP»£ÁCheck
(
æag_fe
)))) {

315 
	`uÆšk
(
æag_fe
);

317 
	}
}

319 
	$g‘OPTOUTV®ue
(cÚ¡ *
fe_Çme
)

321 
¡©us
 = -1;

322 
FILE
 *
å
 = 
NULL
;

323 
tbuff
[80] = {0};

325 ià(
fe_Çme
 =ğ
NULL
) {

326  
¡©us
;

329 
å
 = 
	`fİ’
(
fe_Çme
, "r");

330 ià(
å
 !ğ
NULL
) {

331 
NULL
 !ğ
	`fg‘s
(
tbuff
, Ñbuff), 
å
)) {

332 ià(
	`¡r¡r
(
tbuff
,"softwareoptout")) {

333 
	`SWLOG_INFO
("soáw¬eİtouˆv®u=%s.\n", 
tbuff
);

338 
	`SWLOG_ERROR
("UÇbËØİ’ fe=%s\n", 
fe_Çme
);

339  
¡©us
;

342 ià(
	`¡r¡r
(
tbuff
, "IGNORE_UPDATE")) {

343 
¡©us
 = 1;

344 }if(
	`¡r¡r
(
tbuff
, "ENFORCE_OPTOUT")) {

345 
¡©us
 = 0;

347 
	`fşo£
(
å
);

348  
¡©us
;

349 
	}
}

351 
	$³rh”®_fœmw¬e_dndl
Ğ*
pCloudFWLoÿtiÚ
, *
pP”h”®Fœmw¬es
 )

353 
FILE
 *
å
;

354 *
pP”hFW
;

355 *
pSavedFW
;

356 *
pSavedD‘as
;

357 *
pFW
;

358 *
pDeviûName
;

359 *
pDeviûTy³
;

360 *
pDeviûV”
;

361 *
pP»vDlV”s
 = 
NULL
;

362 *
pDowÆßdedV”s
;

363 *
pTmp
;

364 
size_t
 
szL’
;

365 
size_t
 
szRuÂšgL’
 = 0;

366 
iV”Cmp
;

367 
iR‘
 = 0;

368 
h‰p_code
;

369 
iCu¾Code
;

370 *
pCurV”
;

371 *
pCurFW
;

372 
cDLStÜeLoc
[
DWNL_PATH_FILE_LEN
];

373 
cSourûURL
[
URL_MAX_LEN
];

374 
cTmpCloudFW
[100];

375 
cCurV”Buf
[200];

376 
cTmpCurV”Buf
[(
cCurV”Buf
)];

377 
cTmpP»vV”Buf
[(
cCurV”Buf
)];

378 
boŞ
 
bTrigg”DL
;

381 
	`SWLOG_INFO
Ğ"%s:…P”h”®Fœmw¬e ğ%s\n", 
__FUNCTION__
, 
pP”h”®Fœmw¬es
 );

383 
	`G‘FeCÚ‹Ás
Ğ&
pP»vDlV”s
, 
DOWNLOADED_PERIPHERAL_VERSION
 );

384 ifĞ
pP»vDlV”s
 !ğ
NULL
)

386 
	`SWLOG_INFO
Ğ"%s: P»vDowÆßd V”siÚ ğ%s\n", 
__FUNCTION__
, 
pP»vDlV”s
 );

389 
szL’
 = 
	`¡ºËn
Ğ
pP”h”®Fœmw¬es
, 959 ) + 1;

390 
pP”hFW
 = 
	`m®loc
Ğ
szL’
 );

391 ifĞ
pP”hFW
 !ğ
NULL
 )

393 
pDowÆßdedV”s
 = 
	`m®loc
Ğ
DOWNLOADED_VERS_SIZE
 );

394 ifĞ
pDowÆßdedV”s
 !ğ
NULL
 )

396 *
pDowÆßdedV”s
 = 0;

398 
	`G‘RemÙeV”s
Ğ
cCurV”Buf
, (cCurVerBuf) );

399 
	`SWLOG_INFO
Ğ"%s: G‘RemÙeV” found cCurV”Buàğ%s\n", 
__FUNCTION__
, 
cCurV”Buf
 );

400 
	`¢´štf
Ğ
pP”hFW
, 
szL’
, "%s", 
pP”h”®Fœmw¬es
 );

401 
pFW
 = 
	`¡¹ok_r
Ğ
pP”hFW
, ",", &
pSavedFW
 );

403  
pFW
 !ğ
NULL
 )

405 
bTrigg”DL
 = 
Œue
;

407 
	`SWLOG_INFO
Ğ"%s:…FW = %s\n", 
__FUNCTION__
, 
pFW
 );

408 
	`¢´štf
Ğ
cTmpCloudFW
, (cTmpCloudFW), "%s", 
pFW
 );

410 
pDeviûName
 = 
	`¡¹ok_r
Ğ
cTmpCloudFW
, "_", &
pSavedD‘as
 );

411 
pDeviûTy³
 = 
	`¡¹ok_r
Ğ
NULL
, "_", &
pSavedD‘as
 );

412 
pDeviûV”
 = 
	`¡¹ok_r
Ğ
NULL
, "_", &
pSavedD‘as
 );

414 
	`SWLOG_INFO
Ğ"%s:…DeviûNamğ%s\n", 
__FUNCTION__
, 
pDeviûName
 );

415 
	`SWLOG_INFO
Ğ"%s:…DeviûTy³ = %s\n", 
__FUNCTION__
, 
pDeviûTy³
 );

416 
	`SWLOG_INFO
Ğ"%s:…DeviûV” = %s\n", 
__FUNCTION__
, 
pDeviûV”
 );

419 ifĞ
bTrigg”DL
 =ğ
Œue
 && 
pP»vDlV”s
 !ğ
NULL
 && *pPrevDlVers )

421 
	`¢´štf
Ğ
cTmpP»vV”Buf
, (cTmpP»vV”Buf), "%s", 
pP»vDlV”s
 );

422 
pTmp
 = 
	`¡¹ok_r
Ğ
cTmpP»vV”Buf
, ",", &
pSavedD‘as
 );

424  
pTmp
 !ğ
NULL
 )

426 
	`SWLOG_INFO
Ğ"%s: Fšdšg…DeviûTy³ = % ªd…DeviûV”ğ% š…Tm°ğ%s\n", 
__FUNCTION__
, 
pDeviûTy³
, 
pDeviûV”
, 
pTmp
 );

427 ifĞ
	`¡r¡r
Ğ
pTmp
, 
pDeviûName
 ) && sŒ¡rĞpTmp, 
pDeviûTy³
 ) && sŒ¡rĞpTmp, 
pDeviûV”
 ) )

429 
bTrigg”DL
 = 
çl£
;

430 
	`SWLOG_INFO
Ğ"%s: P»v dowÆßded FW‡nd„eque¡ed cloud FW dowÆßd v”siÚ ¬th§m(%s)\n", 
__FUNCTION__
, 
pDeviûV”
 );

434 
pTmp
 = 
	`¡¹ok_r
Ğ
NULL
, ",", &
pSavedD‘as
 );

438 ifĞ
bTrigg”DL
 =ğ
Œue
 )

440 
	`¢´štf
Ğ
cTmpCurV”Buf
, (cTmpCurV”Buf), "%s", 
cCurV”Buf
 );

441 
pCurFW
 = 
	`¡¹ok_r
Ğ
cTmpCurV”Buf
, ",", &
pSavedD‘as
 );

442  
pCurFW
 !ğ
NULL
 )

450 ifĞ(
pDeviûName
 !ğ
NULL
è&& 
	`¡r¡r
Ğ
pCurFW
,…DeviûNamè&& sŒ¡rĞpCurFW, 
pDeviûTy³
) )

452 ifĞ(
pCurV”
=
	`¡¼chr
Ğ
pCurFW
, '_' )è!ğ
NULL
 )

454 ++
pCurV”
;

455 
iV”Cmp
 = 
	`¡ºcmp
Ğ
pDeviûV”
, 
pCurV”
, 
MAX_VER_LEN
 );

456 
	`SWLOG_INFO
Ğ"%s: Com·»d…DeviûV” = % ªd…CurV” = %s, ouuˆğ%d\n", 
__FUNCTION__
, 
pDeviûV”
, 
pCurV”
, 
iV”Cmp
 );

457 ifĞ
iV”Cmp
 <= 0 )

459 
	`SWLOG_INFO
Ğ"%s: Thv”siÚ iÀthdeviû i Ãw” o¸§me,‚Øupg¿dÃeded\n", 
__FUNCTION__
 );

460 
bTrigg”DL
 = 
çl£
;

464 
pCurFW
 = 
	`¡¹ok_r
Ğ
NULL
, ",", &
pSavedD‘as
 );

467 ifĞ
bTrigg”DL
 =ğ
Œue
 )

469 
	`¢´štf
Ğ
cSourûURL
, (cSourûURL), "%s/%s.tgz", 
pCloudFWLoÿtiÚ
, 
pFW
 );

470 
	`¢´štf
Ğ
cDLStÜeLoc
, (cDLStÜeLoc), "%s/%s.tgz", 
deviû_šfo
.
difw_·th
, 
pFW
 );

472 
	`SWLOG_INFO
Ğ"%s: fœmw¬f’amw™h…©h = %s\n", 
__FUNCTION__
, 
cDLStÜeLoc
 );

473 ifĞ
	`feP»£ÁCheck
Ğ
cDLStÜeLoc
 ) != 0 )

475 
	`¢´štf
Ğ
cTmpCurV”Buf
, (cTmpCurV”Buf), "%s_%s_", 
pDeviûName
, 
pDeviûTy³
 );

476 
	`”a£TGZI‹msM©chšg
Ğ
deviû_šfo
.
difw_·th
, 
cTmpCurV”Buf
 );

479 
	`SWLOG_INFO
Ğ"%s: Reque¡šg upg¿dtØ% äom %s\n", 
__FUNCTION__
, 
cDLStÜeLoc
, 
cSourûURL
 );

482 
RdkUpg¿deCÚ‹xt_t
 
³rh”®_cÚ‹xt
 = {0};

483 
³rh”®_cÚ‹xt
.
upg¿de_ty³
 = 
PERIPHERAL_UPGRADE
;

484 
³rh”®_cÚ‹xt
.
£rv”_ty³
 = 
HTTP_SSR_DIRECT
;

485 
³rh”®_cÚ‹xt
.
¬tiçùLoÿtiÚU¾
 = 
cSourûURL
;

486 
³rh”®_cÚ‹xt
.
dwÎoc
 = 
cDLStÜeLoc
;

487 
³rh”®_cÚ‹xt
.
pPo¡F›lds
 = 
NULL
;

488 
³rh”®_cÚ‹xt
.
immed_»boÙ_æag
 = immed_reboot_flag;

489 
³rh”®_cÚ‹xt
.
d–ay_dwÆ
 = delay_dwnl;

490 
³rh”®_cÚ‹xt
.
Ï¡run
 =†astrun;

491 
³rh”®_cÚ‹xt
.
di§bËStsUpd©e
 = disableStatsUpdate;

492 
³rh”®_cÚ‹xt
.
deviû_šfo
 = &device_info;

493 
³rh”®_cÚ‹xt
.
fÜû_ex™
 = &force_exit;

494 
³rh”®_cÚ‹xt
.
Œigg”_ty³
 =rigger_type;

495 
³rh”®_cÚ‹xt
.
rfc_li¡
 = &rfc_list;

497 
iCu¾Code
 = 
	`rdkv_upg¿de_»que¡
(&
³rh”®_cÚ‹xt
, &
cu¾
, &
h‰p_code
);

498 ifĞ
iCu¾Code
 =ğ0 && 
h‰p_code
 == 200 )

500 ifĞ
szRuÂšgL’
 )

502 
	`¢´štf
Ğ
pDowÆßdedV”s
 + 
szRuÂšgL’
, 
DOWNLOADED_VERS_SIZE
 - szRunningLen, "," );

503 ++
szRuÂšgL’
;

505 
szRuÂšgL’
 +ğ
	`¢´štf
Ğ
pDowÆßdedV”s
 + szRunningLen,

506 
DOWNLOADED_VERS_SIZE
 - 
szRuÂšgL’
, "%s.tgz", 
pFW
 );

508 
	`¢´štf
Ğ
cTmpP»vV”Buf
, (cTmpP»vV”Buf), "%s.tgz i sucûssful", 
pFW
 );

509 
	`t2V®NÙify
Ğ"xr_fwdÆd_¥l™", 
cTmpP»vV”Buf
 );

513 
iR‘
 = -1;

514 
	`SWLOG_ERROR
( "%s: Peripheral download failed with curl„eturn = %d, http_code = %d\n",

515 
__FUNCTION__
, 
iCu¾Code
, 
h‰p_code
 );

519 
pFW
 = 
	`¡¹ok_r
Ğ
NULL
, ",", &
pSavedFW
 );

522 ifĞ*
pDowÆßdedV”s
 )

524 ifĞ(
å
=
	`fİ’
Ğ
DOWNLOADED_PERIPHERAL_VERSION
, "a")è!ğ
NULL
 )

526 
	`årštf
Ğ
å
, "%s", 
pDowÆßdedV”s
 );

527 
	`fşo£
Ğ
å
 );

531 
	`SWLOG_ERROR
Ğ"%s: UÇbËØİ’ % fÜ‡µ’dšg\n", 
__FUNCTION__
, 
DOWNLOADED_PERIPHERAL_VERSION
 );

533 
	`¢´štf
Ğ
cSourûURL
, (cSourûURL), "%s:%s", 
deviû_šfo
.
difw_·th
, 
pDowÆßdedV”s
 );

534 
	`ev’tMªag”
Ğ"P”h”®Upg¿deEv’t", 
cSourûURL
 );

536 
	`ä“
Ğ
pDowÆßdedV”s
 );

538 
	`ä“
Ğ
pP”hFW
 );

541 ifĞ
pP»vDlV”s
 !ğ
NULL
)

543 
	`ä“
Ğ
pP»vDlV”s
 );

546  
iR‘
;

547 
	}
}

550 
	$checkTrigg”Upg¿de
(
XCONFRES
 *
pRe¥Ú£
, cÚ¡ *
mod–
)

552 
h‰p_code
;

553 
upg¿de_¡©us
 = -1;

554 
boŞ
 
v®id_pci_¡©us
 = 
çl£
;

555 
pci_cu¾_code
 = -1;

556 
pdri_cu¾_code
 = -1;

557 
³rh”®_cu¾_code
 = -1;

558 
imageHTTPURL
[
URL_MAX_LEN1
];

559 
dwÍ©h_f’ame
[
DWNL_PATH_FILE_LEN1
];

560 
FILE
 *
å
 = 
NULL
;

561 
İtout
 = -1;

563 
imageHTTPURL
[0] = 0;

564 
dwÍ©h_f’ame
[0] = 0;

565 ià(
mod–
 =ğ
NULL
) {

566 
	`SWLOG_ERROR
("% : P¬am‘” i NULL\n", 
__FUNCTION__
);

567  
upg¿de_¡©us
;

569 ià(
Œue
 =ğ
	`isUpg¿deInProg»ss
()) {

570 
	`SWLOG_ERROR
("Exiting from DEVICE INITIATED HTTP CDL\nAnother upgrade is in…rogress\n");

571 ià(!(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

572 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ERROR
);

574 
	`unš™Ÿlize
(
INITIAL_VALIDATION_SUCCESS
);

575 
	`ex™
(1);

577 ià((
	`¡r¡r
(
pRe¥Ú£
->
şoudFWV”siÚ
, 
mod–
)è=ğ
NULL
) {

578 
	`SWLOG_INFO
("cloudFWVersion isƒmpty. Do Nothing\n");

579 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_FAILED
);

581 
	`¢´štf
(
immed_»boÙ_æag
, (immed_»boÙ_æag), "%s", 
pRe¥Ú£
->
şoudImmedŸ‹ReboÙFÏg
);

582 
d–ay_dwÆ
 = 
	`©oi
(
pRe¥Ú£
->
şoudD–ayDowÆßd
);

583 
	`SWLOG_INFO
("%s:„eboÙ_æag =% ªd d–ay_dwÆ=%d\n", 
__FUNCTION__
, 
immed_»boÙ_æag
, 
d–ay_dwÆ
);

584 
v®id_pci_¡©us
 = 
	`checkFÜV®idPCIUpg¿de
(
Œigg”_ty³
, 
cur_img_d‘a
.
cur_img_Çme
, 
pRe¥Ú£
->
şoudFWV”siÚ
,…Re¥Ú£->
şoudFWFe
);

585 ià(
v®id_pci_¡©us
 =ğ
Œue
) {

586 
	`SWLOG_INFO
("checkForValidPCIUpgrade„eturnrue\n");

587 ià(0 =ğ
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4)) {

588 ià((
	`¡ºcmp
(
pRe¥Ú£
->
şoudImmedŸ‹ReboÙFÏg
, "true", 4)) == 0) {

589 
isCr™iÿlUpd©e
 = 
Œue
;

591 ià(0 =ğ
	`¡ºcmp
(
deviû_šfo
.
sw_İtout
, "true", 4)) {

592 
İtout
 = 
	`g‘OPTOUTV®ue
("/opt/maintenance_mgr_record.conf");

593 ià(
İtout
 =ğ1 && 
isCr™iÿlUpd©e
 !ğ
Œue
) {

594 
	`SWLOG_INFO
("OptOut: IGNORE UPDATE is set.Exiting !!\n");

595 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ABORTED
);

596 
	`unš™Ÿlize
(
INITIAL_VALIDATION_SUCCESS
);

597 
	`ex™
(1);

598 }if((0 =ğ
İtout
è&& (
Œigg”_ty³
 != 4)) {

599 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_ONHOLD_FOR_OPTOUT
);

600 
	`SWLOG_INFO
("OptOut: Event sent for on hold for OptOut\n");

601 
	`ev’tMªag”
("Maš‹ÇnûMGR" ,
MAINT_FWDOWNLOAD_COMPLETE
);

602 
	`SWLOG_INFO
("OptOut: Consent Required from User\n");

603 
	`t2CouÁNÙify
("SYST_INFO_NoConsentFlash", 1);

604 
	`unš™Ÿlize
(
INITIAL_VALIDATION_SUCCESS
);

605 
	`ex™
(1);

609 
	`¢´štf
(
imageHTTPURL
, (imageHTTPURL), "%s/%s", 
pRe¥Ú£
->
şoudFWLoÿtiÚ
,…Re¥Ú£->
şoudFWFe
);

610 
	`SWLOG_INFO
("imageHTTPURL=%s\n", 
imageHTTPURL
);

611 
å
 = 
	`fİ’
(
DWNL_URL_VALUE
, "w");

612 ià(
å
 !ğ
NULL
) {

613 
	`årštf
(
å
, "%s\n", 
imageHTTPURL
);

614 
	`fşo£
(
å
);

616 
	`¢´štf
(
dwÍ©h_f’ame
, (dwÍ©h_f’ame), "%s/%s", 
deviû_šfo
.
difw_·th
, 
pRe¥Ú£
->
şoudFWFe
);

617 
	`SWLOG_INFO
("DWNL…©h w™h img‚ame=%s\n", 
dwÍ©h_f’ame
);

618 
	`”a£FŞd”ExûP¿maFe
(
deviû_šfo
.
difw_·th
, 
pRe¥Ú£
->
şoudFWFe
, deviû_šfo.
mod–
);

621 
RdkUpg¿deCÚ‹xt_t
 
pci_cÚ‹xt
 = {0};

622 
pci_cÚ‹xt
.
upg¿de_ty³
 = 
PCI_UPGRADE
;

623 
pci_cÚ‹xt
.
£rv”_ty³
 = 
HTTP_SSR_DIRECT
;

624 
pci_cÚ‹xt
.
¬tiçùLoÿtiÚU¾
 = 
imageHTTPURL
;

625 
pci_cÚ‹xt
.
dwÎoc
 = 
dwÍ©h_f’ame
;

626 
pci_cÚ‹xt
.
pPo¡F›lds
 = 
NULL
;

627 
pci_cÚ‹xt
.
immed_»boÙ_æag
 = immed_reboot_flag;

628 
pci_cÚ‹xt
.
d–ay_dwÆ
 = delay_dwnl;

629 
pci_cÚ‹xt
.
Ï¡run
 =†astrun;

630 
pci_cÚ‹xt
.
di§bËStsUpd©e
 = disableStatsUpdate;

631 
pci_cÚ‹xt
.
deviû_šfo
 = &device_info;

632 
pci_cÚ‹xt
.
fÜû_ex™
 = &force_exit;

633 
pci_cÚ‹xt
.
Œigg”_ty³
 =rigger_type;

634 
pci_cÚ‹xt
.
rfc_li¡
 = &rfc_list;

636 
pci_cu¾_code
 = 
	`rdkv_upg¿de_»que¡
(&
pci_cÚ‹xt
, &
cu¾
, &
h‰p_code
);

638 
	`SWLOG_INFO
("checkForValidPCIUpgrade„eturn false\n");

639 
pci_cu¾_code
 = 0;

641 ià((
	`¡r¡r
(
pRe¥Ú£
->
şoudPDRIV”siÚ
, 
mod–
)è&& 
Œue
 =ğ(
	`isPDRIEÇbË
())) {

642 ià((0 =ğ
	`¡ºcmp
(
pRe¥Ú£
->
şoudImmedŸ‹ReboÙFÏg
, "Œue", 4)è&& (
Œue
 =ğ
v®id_pci_¡©us
)) {

643 
	`SWLOG_INFO
("cloudImmediateRebootFlag isrue, PCI Upgrade is„equired. Skipping PDRI upgrade check ... \n");

646 
	`SWLOG_INFO
("şoudImmedŸ‹ReboÙFÏg i %s. S¹šg PDRI upg¿dcheck ... \n", 
pRe¥Ú£
->
şoudImmedŸ‹ReboÙFÏg
);

647 ià((
	`¡r¡r
(
pRe¥Ú£
->
şoudPDRIV”siÚ
, ".bš")è=ğ
NULL
) {

648 
İtout
 = 
	`¡ºËn
Ğ
pRe¥Ú£
->
şoudPDRIV”siÚ
, (pResponse->cloudPDRIVersion) );

649 
	`¢´štf
Ğ
pRe¥Ú£
->
şoudPDRIV”siÚ
 + 
İtout
, (pResponse->cloudPDRIVersion) - optout, ".bin" );

650 
	`SWLOG_INFO
("Added .bš iÀpdr˜image=%s\n", 
pRe¥Ú£
->
şoudPDRIV”siÚ
);

652 
	`¢´štf
(
imageHTTPURL
, (imageHTTPURL), "%s/%s", 
pRe¥Ú£
->
şoudFWLoÿtiÚ
,…Re¥Ú£->
şoudPDRIV”siÚ
);

653 
	`SWLOG_INFO
("pdr˜imageHTTPURL=%s\n", 
imageHTTPURL
);

654 
	`¢´štf
(
dwÍ©h_f’ame
, (dwÍ©h_f’ame), "%s/%s", 
deviû_šfo
.
difw_·th
, 
pRe¥Ú£
->
şoudPDRIV”siÚ
);

655 
	`SWLOG_INFO
("pdr˜DWNL…©h w™h img‚ame=%s\n", 
dwÍ©h_f’ame
);

656 ià(
Œue
 =ğ
v®id_pci_¡©us
 && 
pci_cu¾_code
 == 0) {

657 
	`SWLOG_INFO
("Adding‡ sleep of 30secso‡voidhe PCI PDRI„ace condition during flashing\n");

658 
	`¦“p
(30);

660 
	`¢´štf
(
di§bËStsUpd©e
, (disableStatsUpdate), "%s","yes");

663 
RdkUpg¿deCÚ‹xt_t
 
pdri_cÚ‹xt
 = {0};

664 
pdri_cÚ‹xt
.
upg¿de_ty³
 = 
PDRI_UPGRADE
;

665 
pdri_cÚ‹xt
.
£rv”_ty³
 = 
HTTP_SSR_DIRECT
;

666 
pdri_cÚ‹xt
.
¬tiçùLoÿtiÚU¾
 = 
imageHTTPURL
;

667 
pdri_cÚ‹xt
.
dwÎoc
 = 
dwÍ©h_f’ame
;

668 
pdri_cÚ‹xt
.
pPo¡F›lds
 = 
NULL
;

669 
pdri_cÚ‹xt
.
immed_»boÙ_æag
 = immed_reboot_flag;

670 
pdri_cÚ‹xt
.
d–ay_dwÆ
 = delay_dwnl;

671 
pdri_cÚ‹xt
.
Ï¡run
 =†astrun;

672 
pdri_cÚ‹xt
.
di§bËStsUpd©e
 = disableStatsUpdate;

673 
pdri_cÚ‹xt
.
deviû_šfo
 = &device_info;

674 
pdri_cÚ‹xt
.
fÜû_ex™
 = &force_exit;

675 
pdri_cÚ‹xt
.
Œigg”_ty³
 =rigger_type;

676 
pdri_cÚ‹xt
.
rfc_li¡
 = &rfc_list;

678 
pdri_cu¾_code
 = 
	`rdkv_upg¿de_»que¡
(&
pdri_cÚ‹xt
, &
cu¾
, &
h‰p_code
);

679 
	`¢´štf
(
di§bËStsUpd©e
, (disableStatsUpdate), "%s","no");

680 ià(
pdri_cu¾_code
 == 100) {

681 
pdri_cu¾_code
 = 0;

685 
	`SWLOG_INFO
("cloudPDRIfile isƒmpty. Do Nothing\n");

686 
pdri_cu¾_code
 = 0;

688 ià((0 =ğ(
	`feP»£ÁCheck
("/‘c/os-»Ëa£"))è&& (*
pRe¥Ú£
->
³rh”®Fœmw¬es
 != 0)) {

689 
	`¡ºÿt
(
pRe¥Ú£
->
³rh”®Fœmw¬es
, ",", (pResponse->peripheralFirmwares) - 1);

690 
pRe¥Ú£
->
³rh”®Fœmw¬es
[(pResponse->peripheralFirmwares) - 1] = '\0';

691 
	`SWLOG_INFO
("Trigg”šg P”h”® DowÆßd cloudFWLoÿtiÚ: %s\Å”h”®Fœmw¬es: %s\n", 
pRe¥Ú£
->
şoudFWLoÿtiÚ
,…Re¥Ú£->
³rh”®Fœmw¬es
);

692 
³rh”®_cu¾_code
 = 
	`³rh”®_fœmw¬e_dndl
Ğ
pRe¥Ú£
->
şoudFWLoÿtiÚ
,…Re¥Ú£->
³rh”®Fœmw¬es
 );

693 
	`SWLOG_INFO
("Aá” Trigg” P”h”® DowÆßd stus=%d\n", 
³rh”®_cu¾_code
);

695 
	`SWLOG_INFO
("Skipping Peripheral Download\n");

697 ià((
pci_cu¾_code
 =ğ0è&& (
pdri_cu¾_code
 == 0)) {

698 
upg¿de_¡©us
 = 0;

700  
upg¿de_¡©us
;

701 
	}
}

707 
	$¡¬tFaùÜyPrÙeùS”viû
()

709 *
Cu¾_»q
 = 
NULL
;

710 
tok’
[256];

711 
jsÚd©a
[256];

712 
h‰pCode
 = 0;

713 
FeDwÆ_t
 
»q_d©a
;

714 
cu¾_»t_code
 = -1;

715 
h—d”
[64] = "Content-Type:‡pplication/json";

716 
tok’_h—d”
[300];

717 
u¾
[128] = "http://127.0.0.1:9998/Service/Controller/Activate/org.rdk.FactoryProtect.1";

719 *
tok’
 = 0;

720 *
jsÚd©a
 = 0;

721 
	`RunCommªd
Ğ
eW³F¿mewÜkSecur™yUt™y
, 
NULL
, 
jsÚd©a
, (jsondata) );

723 
	`SWLOG_INFO
("tok’ jsÚd©a=%s\n", 
jsÚd©a
);

724 
	`g‘JRPCTok’D©a
(
tok’
, 
jsÚd©a
, (token));

725 
	`SWLOG_INFO
("tok’‡á”…¬£=%s\n", 
tok’
);

726 
»q_d©a
.
pH—d”D©a
 = 
h—d”
;

727 
»q_d©a
.
pDlH—d”D©a
 = 
NULL
;

728 
	`¢´štf
(
tok’_h—d”
, Ñok’_h—d”), "AuthÜiz©iÚ: B—»¸%s", 
tok’
);

729 
»q_d©a
.
pPo¡F›lds
 = 
NULL
;

730 
»q_d©a
.
pDlD©a
 = 
NULL
;

731 
	`¢´štf
(
»q_d©a
.
u¾
, (req_data.url), "%s", url);

732 
	`SWLOG_INFO
("%s: u¾=%s\n", 
__FUNCTION__
, 
»q_d©a
.
u¾
);

733 
	`SWLOG_INFO
("%s: h—d”=%s\n", 
__FUNCTION__
, 
»q_d©a
.
pH—d”D©a
);

734 
	`SWLOG_INFO
("%s:ok’_h—d”=%s\n", 
__FUNCTION__
, 
tok’_h—d”
);

735 
Cu¾_»q
 = 
	`doCu¾In™
();

736 ià(
Cu¾_»q
 !ğ
NULL
) {

737 
cu¾_»t_code
 = 
	`doCu¾PutReque¡
(
Cu¾_»q
, &
»q_d©a
, 
tok’_h—d”
, &
h‰pCode
 );

738 
	`SWLOG_INFO
("%s: cu¾„‘ code=%d‡nd h‰°codğ%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, 
h‰pCode
);

739 
	`doStİDowÆßd
(
Cu¾_»q
);

741 
	`SWLOG_ERROR
("%s: doCu¾In™ fa\n", 
__FUNCTION__
);

743  
cu¾_»t_code
;

744 
	}
}

760 
	$MakeXcÚfComms
Ğ
XCONFRES
 *
pRe¥Ú£
, 
£rv”_ty³
, *
pH‰p_code
 )

762 
DowÆßdD©a
 
DwnLoc
;

763 *
pJSONSŒ
 = 
NULL
;

764 *
pS”vURL
 = 
NULL
;

765 
size_t
 
Ën
 = 0;

766 
»t
 = -1;

768 
DwnLoc
.
pvOut
 = 
NULL
;

769 
DwnLoc
.
d©asize
 = 0;

770 
DwnLoc
.
memsize
 = 0;

771 *
pH‰p_code
 = 0;

772 ifĞ
	`®locDowndLßdD©aMem
Ğ&
DwnLoc
, 
DEFAULT_DL_ALLOC
 ) == 0 )

774 ifĞ(
pJSONSŒ
=(*)
	`m®loc
Ğ
JSON_STR_LEN
 )è!ğ
NULL
 )

776 ifĞ(
pS”vURL
=(*)
	`m®loc
Ğ
URL_MAX_LEN
 )è!ğ
NULL
 )

778 
Ën
 = 
	`G‘S”vURL
Ğ
pS”vURL
, 
URL_MAX_LEN
 );

779 
	`SWLOG_INFO
Ğ"MakeXcÚfComms: s”v” URL %s\n", 
pS”vURL
 );

780 ifĞ
Ën
 )

782 
Ën
 = 
	`ü—‹JsÚSŒšg
Ğ
pJSONSŒ
, 
JSON_STR_LEN
 );

785 
RdkUpg¿deCÚ‹xt_t
 
xcÚf_cÚ‹xt
 = {0};

786 
xcÚf_cÚ‹xt
.
upg¿de_ty³
 = 
XCONF_UPGRADE
;

787 
xcÚf_cÚ‹xt
.
£rv”_ty³
 = server_type;

788 
xcÚf_cÚ‹xt
.
¬tiçùLoÿtiÚU¾
 = 
pS”vURL
;

789 
xcÚf_cÚ‹xt
.
dwÎoc
 = &
DwnLoc
;

790 
xcÚf_cÚ‹xt
.
pPo¡F›lds
 = 
pJSONSŒ
;

791 
xcÚf_cÚ‹xt
.
immed_»boÙ_æag
 = immed_reboot_flag;

792 
xcÚf_cÚ‹xt
.
d–ay_dwÆ
 = delay_dwnl;

793 
xcÚf_cÚ‹xt
.
Ï¡run
 =†astrun;

794 
xcÚf_cÚ‹xt
.
di§bËStsUpd©e
 = disableStatsUpdate;

795 
xcÚf_cÚ‹xt
.
deviû_šfo
 = &device_info;

796 
xcÚf_cÚ‹xt
.
fÜû_ex™
 = &force_exit;

797 
xcÚf_cÚ‹xt
.
Œigg”_ty³
 =rigger_type;

798 
xcÚf_cÚ‹xt
.
rfc_li¡
 = &rfc_list;

800 
»t
 = 
	`rdkv_upg¿de_»que¡
(&
xcÚf_cÚ‹xt
, &
cu¾
, 
pH‰p_code
);

801 ifĞ
»t
 =ğ0 && *
pH‰p_code
 =ğ200 && 
DwnLoc
.
pvOut
 !ğ
NULL
 )

803 
	`SWLOG_INFO
Ğ"MakeXcÚfComms: C®lšg g‘XcÚfRe¥D©¨w™h iÅuˆğ%s\n", (*)
DwnLoc
.
pvOut
 );

804 
»t
 = 
	`g‘XcÚfRe¥D©a
Ğ
pRe¥Ú£
, (*)
DwnLoc
.
pvOut
 );

806 ifĞ(
	`feP»£ÁCheck
Ğ
RED_STATE_REBOOT
 ) =ğ
RDK_API_SUCCESS
) ) {

807 
	`SWLOG_INFO
("% : RED Recov”y com¶‘ed\n", 
__FUNCTION__
);

808 
	`ev’tMªag”
(
RED_STATE_EVENT
, 
RED_RECOVERY_COMPLETED
);

809 
	`uÆšk
(
RED_STATE_REBOOT
);

815 
	`SWLOG_ERROR
( "MakeXconfComms:‚o valid server URL\n" );

817 
	`ä“
Ğ
pS”vURL
 );

821 
	`SWLOG_ERROR
("MakeXcÚfComms: Faed m®loøfÜ s”v” URL oà%d by‹s\n", 
URL_MAX_LEN
 );

823 
	`ä“
Ğ
pJSONSŒ
 );

827 
	`SWLOG_ERROR
("MakeXcÚfComms: Faed m®loøfÜ jsÚ sŒšg oà%d by‹s\n", 
JSON_STR_LEN
 );

829 ifĞ
DwnLoc
.
pvOut
 !ğ
NULL
 )

831 
	`ä“
Ğ
DwnLoc
.
pvOut
 );

834  
»t
;

835 
	}
}

839 
	$cİyFe
(cÚ¡ *
¤c
, cÚ¡ *
rg‘
)

841 
»t
 = -1;

842 
FILE
 *
¤c_å
 = 
NULL
;

843 
FILE
 *
rg‘_å
 = 
NULL
;

844 
tbuff
[68] = {0};

845 ià(
¤c
 !ğ
NULL
 && 
rg‘
 != NULL) {

846 
¤c_å
 = 
	`fİ’
(
¤c
, "r");

847 ià(
¤c_å
 !ğ
NULL
) {

848 
rg‘_å
 = 
	`fİ’
(
rg‘
, "w");

849 ià(
rg‘_å
 !ğ
NULL
) {

850 
	`fg‘s
(
tbuff
, Ñbuff), 
¤c_å
è!ğ
NULL
) {

851 
	`åuts
(
tbuff
,
rg‘_å
);

853 
»t
 = 0;

854 
	`fşo£
(
rg‘_å
);

856 
	`SWLOG_ERROR
("T¬g‘ Fİ’ faed %s\n",
rg‘
);

858 
	`fşo£
(
¤c_å
);

860 
	`SWLOG_ERROR
("Sourû Fİ’ faed %s\n",
¤c
);

863 
	`SWLOG_ERROR
("Received Function…arameter NULL\n");

865  
»t
;

866 
	}
}

871 
	$´evCurUpd©eInfo
()

873 
myFWV”siÚ
[64];

874 
cdlFÏshedFeName
[64];

875 
´evCdlFÏshedFeName
[64];

876 
cu¼’tImage
[80];

877 
»t
 = -1;

878 
FILE
 *
å
;

880 
	`G‘Fœmw¬eV”siÚ
Ğ
myFWV”siÚ
, (myFWVersion));

881 ià((
	`feP»£ÁCheck
(
CDL_FLASHED_IMAGE
)) == 0) {

882 
	`Ï¡DwÆImg
(
cdlFÏshedFeName
, (cdlFlashedFileName));

883 ià(!(
	`¡r¡r
(
cdlFÏshedFeName
, 
myFWV”siÚ
))) {

884 
	`SWLOG_INFO
("Looks†ike…revious upgrade failed but flashed image status is showing success\n");

885 ià((
	`feP»£ÁCheck
(
PREVIOUS_FLASHED_IMAGE
)) == 0) {

886 
	`´evFÏshedFe
(
´evCdlFÏshedFeName
, (prevCdlFlashedFileName));

887 ià(
	`¡r¡r
(
´evCdlFÏshedFeName
, 
myFWV”siÚ
)) {

888 
	`SWLOG_INFO
("Updating /tmp/currently_running_image_name with…revious successful flashed imagename\n");

889 
	`cİyFe
(
PREVIOUS_FLASHED_IMAGE
, 
CURRENTLY_RUNNING_IMAGE
);

892 
	`SWLOG_INFO
("Previous flashed file‚ame‚ot found !!! \n");

893 
	`SWLOG_INFO
("Updating currently_running_image_name with cdl_flashed_file_name ... \n");

894 
	`cİyFe
(
CDL_FLASHED_IMAGE
, 
CURRENTLY_RUNNING_IMAGE
);

898 
	`cİyFe
(
CDL_FLASHED_IMAGE
, 
PREVIOUS_FLASHED_IMAGE
);

899 
	`cİyFe
(
CDL_FLASHED_IMAGE
, 
CURRENTLY_RUNNING_IMAGE
);

902 
	`SWLOG_INFO
("cdl_flashed_file_name file‚ot found !!!\n");

903 
	`¢´štf
(
cu¼’tImage
, (cu¼’tImage), "%s-sigÃd.bš\n", 
myFWV”siÚ
);

904 
	`SWLOG_INFO
("Upd©šg cu¼’y_ruÂšg_image_Çme:%s:w™h v”siÚ.txˆ...\n", 
cu¼’tImage
);

905 
å
 = 
	`fİ’
(
PREVIOUS_FLASHED_IMAGE
, "w");

906 ià(
å
 !ğ
NULL
) {

907 
	`åuts
(
cu¼’tImage
, 
å
);

908 
	`fşo£
(
å
);

910 
å
 = 
	`fİ’
(
CURRENTLY_RUNNING_IMAGE
, "w");

911 ià(
å
 !ğ
NULL
) {

912 
	`åuts
(
cu¼’tImage
, 
å
);

913 
	`fşo£
(
å
);

916 
»t
 = 0;

917  
»t
;

918 
	}
}

927 
	$š™ŸlV®id©iÚ
()

929 
¡©us
 = 
INITIAL_VALIDATION_FAIL
;

930 
boŞ
 
®»ady_ruÂšg
 = 
çl£
;

931 
d©a
[
RFC_VALUE_BUF_SIZE
];

932 
buf
[64];

933 
BUILDTYPE
 
eBudTy³
;

934 
cu½id
[16];

935 
pid
;

936 
»t
 = -1;

937 
FILE
 *
å
 = 
NULL
;

939 
	`G‘BudTy³
Ğ
buf
, (buf), &
eBudTy³
 );

940 
»t
 = 
	`»ad_RFCPrİ”ty
("AutoExşuded", 
RFC_FW_AUTO_EXCLUDE
, 
d©a
, (data));

941 if(
»t
 == -1) {

942 
	`SWLOG_ERROR
("»ad_RFCPrİ”ty(è»tuº faed Stu %d\n", 
»t
);

943 
¡©us
 = 
INITIAL_VALIDATION_SUCCESS
;

945 
	`SWLOG_INFO
("g‘RFCS‘tšgs(èrføAutoExşudedğ%s\n", 
d©a
);

946 ià((0 =ğ(
	`¡ºcmp
(
d©a
, "Œue", 4))è&& (
eBudTy³
 !ğ
ePROD
)) {

947 
	`SWLOG_ERROR
("Deviceƒxcluded from firmware update. Exiting !!\n");

949 
¡©us
 = 
INITIAL_VALIDATION_SUCCESS
;

952 ià(
¡©us
 =ğ
INITIAL_VALIDATION_SUCCESS
) {

953 
®»ady_ruÂšg
 = 
	`Cu¼’tRuÂšgIn¡
(
DIFDPID
);

954 ià(
®»ady_ruÂšg
 =ğ
Œue
) {

955 
	`SWLOG_INFO
("initialValidation(): Alreday one Instance is„unning\n");

956 
¡©us
 = 
INITIAL_VALIDATION_DWNL_INPROGRESS
;

957 }if((
	`feP»£ÁCheck
("/tmp/fw_preparing_to_reboot")) == 0) {

958 ià(0 =ğ(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

959 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_COMPLETE
);

961 
	`uÆšk
("/tmp/fw_preparing_to_reboot");

962 
¡©us
 = 
INITIAL_VALIDATION_DWNL_COMPLETED
;

964 
å
 = 
	`fİ’
(
DIFDPID
, "w");

965 ià(
å
 !ğ
NULL
) {

966 
pid
 = 
	`g‘pid
();

967 
	`¢´štf
(
cu½id
, (cu½id),"%d\n", 
pid
);

968 
	`SWLOG_INFO
("cu¼’ˆpid=%s:%u\n", 
cu½id
, 
pid
);

969 
	`åuts
(
cu½id
, 
å
);

970 
	`fşo£
(
å
);

972 
	`SWLOG_ERROR
("unableo create file:/tmp/DIFD.pid\n");

974 
	`´evCurUpd©eInfo
();

975 
¡©us
 = 
INITIAL_VALIDATION_SUCCESS
;

978  
¡©us
;

979 
	}
}

981 #iâdeà
GTEST_ENABLE


983 
	$maš
(
¬gc
, *
¬gv
[]) {

984 
XCONFRES
 
»¥Ú£
;

985 
»t
 = -1;

986 
»t_sig
 = -1;

987 
i
;

988 
»t_cu¾_code
 = 1;

989 
£rv”_ty³
 = 
HTTP_XCONF_DIRECT
;

990 
jsÚ_»s
 = -1;

991 
h‰p_code
;

992 
sigaùiÚ
 
rdkv_ÃwaùiÚ
;

993 
	`mem£t
(&
rdkv_ÃwaùiÚ
, '\0', (
sigaùiÚ
));

994 
š™_v®id©e_¡©us
 = 
INITIAL_VALIDATION_FAIL
;

996 
rdkv_ÃwaùiÚ
.
§_sigaùiÚ
 = 
hªdË_sigÇl
;

997 
rdkv_ÃwaùiÚ
.
§_æags
 = 
SA_ONSTACK
 | 
SA_SIGINFO
;

998 
	`log_š™
();

999 
»t_sig
 = 
	`sigaùiÚ
(
SIGUSR1
, &
rdkv_ÃwaùiÚ
, 
NULL
);

1000 ià(
»t_sig
 == -1) {

1001 
	`SWLOG_ERROR
( "SIGUSR1 handler install fail\n");

1003 
	`SWLOG_INFO
( "SIGUSR1 handler install success\n");

1005 *
»¥Ú£
.
şoudFWFe
 = 0;

1006 *
»¥Ú£
.
şoudFWLoÿtiÚ
 = 0;

1007 *
»¥Ú£
.
v6şoudFWLoÿtiÚ
 = 0;

1008 *
»¥Ú£
.
şoudFWV”siÚ
 = 0;

1009 *
»¥Ú£
.
şoudD–ayDowÆßd
 = 0;

1010 *
»¥Ú£
.
şoudPrÙo
 = 0;

1011 *
»¥Ú£
.
şoudImmedŸ‹ReboÙFÏg
 = 0;

1012 *
»¥Ú£
.
³rh”®Fœmw¬es
 = 0;

1013 *
»¥Ú£
.
dlC”tBundË
 = 0;

1014 *
»¥Ú£
.
şoudPDRIV”siÚ
 = 0;

1015 
	`SWLOG_INFO
("Starting c method„dkvfwupgrader\n");

1016 
	`t2CouÁNÙify
("SYST_INFO_C_CDL", 1);

1018 
	`¢´štf
(
di§bËStsUpd©e
, (disableStatsUpdate), "%s","no");

1020 
»t
 = 
	`š™Ÿlize
();

1021 ià(1 !ğ
»t
) {

1022 
	`SWLOG_ERROR
Ğ"š™Ÿlize(): Fa:%d\n", 
»t
);

1023 
	`log_ex™
();

1024 
	`ex™
(
»t_cu¾_code
);

1026 if(
¬gc
 < 3) {

1027 
	`SWLOG_ERROR
( "Provide 2‡rguments. Lesshan 2‡rguments„eceived\n");

1028 
	`SWLOG_ERROR
("Retry Count (1)‡rgument will‚ot be…arsed‡s we will use hardcoded fallback mechanism‡dded \
=2 # Sethe Image Upgraderigger Type \
:„dkvfwupgrader <failure„etry count> <Imagerigger Type> \
„etry count: This value from DCM settings file, if‚ot \
rigger Type : Bootup(1)/scheduled(2)/tr69 or SNMPriggered upgrade(3)/Appriggered upgrade(4)/(5) Delayed Download\n");

1033 ià(0 =ğ(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

1034 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ERROR
);

1036 
	`log_ex™
();

1037 
	`ex™
(
»t_cu¾_code
);

1039  
i
 = 0; i < 
¬gc
; i++ ) {

1040 
	`SWLOG_INFO
("[%d] = %s\n", 
i
, 
¬gv
[i]);

1044 
Œigg”_ty³
 = 
	`©oi
(
¬gv
[2]);

1045 ià(
Œigg”_ty³
 == 1) {

1046 
	`SWLOG_INFO
("Image Upgrade During Bootup ..!\n");

1047 }ià(
Œigg”_ty³
 == 2) {

1048 
	`SWLOG_INFO
("Scheduled Image Upgrade using cron ..!\n");

1049 
	`t2CouÁNÙify
("SYST_INFO_SWUpgrdChck", 1);

1050 }if(
Œigg”_ty³
 == 3){

1051 
	`SWLOG_INFO
("TR-69/SNMPriggered Image Upgrade ..!\n");

1052 }if(
Œigg”_ty³
 == 4){

1053 
	`SWLOG_INFO
("Appriggered Image Upgrade ..!\n");

1054 }if(
Œigg”_ty³
 == 5){

1055 
	`SWLOG_INFO
("Delayed Trigger Image Upgrade ..!\n");

1056 }if(
Œigg”_ty³
 == 6){

1057 
	`SWLOG_INFO
("State Red Image Upgrade ..!\n");

1059 
	`SWLOG_INFO
("Invalidriggerype Image Upgrade ..!\n");

1060 ià(0 =ğ(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

1061 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ERROR
);

1063 
	`log_ex™
();

1064 
	`ex™
(
»t_cu¾_code
);

1066 
š™_v®id©e_¡©us
 = 
	`š™ŸlV®id©iÚ
();

1067 
	`SWLOG_INFO
("š™_v®id©e_¡©u ğ%d\n", 
š™_v®id©e_¡©us
);

1068 ifĞ
š™_v®id©e_¡©us
 =ğ
INITIAL_VALIDATION_SUCCESS
)

1070 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_UNINITIALIZED
);

1071 ifĞ
	`isInS‹Red
() ) {

1072 
	`ev’tMªag”
(
RED_STATE_EVENT
, 
RED_RECOVERY_STARTED
);

1074 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_REQUESTING
);

1075 
»t_cu¾_code
 = 
	`MakeXcÚfComms
Ğ&
»¥Ú£
, 
£rv”_ty³
, &
h‰p_code
 );

1077 
	`SWLOG_INFO
("XCONF DowÆßd com¶‘ed w™h cu¾ code:%d\n", 
»t_cu¾_code
);

1078 ifĞ
»t_cu¾_code
 =ğ0 && 
h‰p_code
 == 200)

1080 
	`SWLOG_INFO
("XCONF Download Success\n");

1081 
jsÚ_»s
 = 
	`´oûssJsÚRe¥Ú£
(&
»¥Ú£
, 
cur_img_d‘a
.
cur_img_Çme
, 
deviû_šfo
.
mod–
, deviû_šfo.
mašt_¡©us
);

1082 
	`SWLOG_INFO
("´oûssJsÚRe¥Ú£„‘uºed %d\n", 
jsÚ_»s
);

1083 ià(0 =ğ(
	`¡ºcmp
(
»¥Ú£
.
şoudPrÙo
, "tftp", 4))) {

1084 
´Ùo
 = 0;

1086 ià((
´Ùo
 =ğ1è&& (
jsÚ_»s
 == 0)) {

1087 
»t_cu¾_code
 = 
	`checkTrigg”Upg¿de
(&
»¥Ú£
, 
deviû_šfo
.
mod–
);

1089 *
msg
 = 
	`´štCu¾E¼Ü
(
»t_cu¾_code
);

1090 ià(
msg
 !ğ
NULL
) {

1091 
	`SWLOG_INFO
("cu¾„‘uº cod=%d‡ndƒ¼Ü mes§ge=%s\n", 
»t_cu¾_code
, 
msg
);

1092 
	`t2CouÁNÙify
("Cu¾R‘_¥l™", 
»t_cu¾_code
);

1094 
	`SWLOG_INFO
("rdkvfwupg¿d” d«mÚƒx™ cu¾ code: %d\n", 
»t_cu¾_code
);

1095 } ià(
´Ùo
 == 0) {

1096 
	`SWLOG_INFO
("tftp…rotocol support‚ot…resent.\n");

1099 
	`SWLOG_INFO
("Invalid JSON Response.\n");

1102 
	`SWLOG_INFO
("XCONF Download Fail\n");

1105 ià(
š™_v®id©e_¡©us
 =ğ
INITIAL_VALIDATION_DWNL_INPROGRESS
){

1106 ià(!(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

1107 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_INPROGRESS
);

1109 }if(
š™_v®id©e_¡©us
 =ğ
INITIAL_VALIDATION_DWNL_COMPLETED
) {

1110 
	`SWLOG_INFO
("Software Update is completed by AS/EPG, Exiting from firmware download.\n");

1111 }ià((
»t_cu¾_code
 !ğ0è|| (
jsÚ_»s
 != 0)) {

1112 ià(!(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

1113 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ERROR
);

1115 ià(
Œigg”_ty³
 == 6) {

1116 
	`un£tS‹Red
();

1119 ià(!(
	`¡ºcmp
(
deviû_šfo
.
mašt_¡©us
, "true", 4))) {

1120 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_COMPLETE
);

1124 
	`unš™Ÿlize
(
š™_v®id©e_¡©us
);

1125 
	`ex™
(
»t_cu¾_code
);

1126 
	}
}

	@src/rdkv_upgrade.c

1 
	~"rdkv_upg¿de.h
"

2 
	~"rdkv_cdl_log_w¿µ”.h
"

3 
	~"deviû_¡©us_h–³r.h
"

4 
	~"dowÆßd_¡©us_h–³r.h
"

5 
	~"ŸrmIÁ”çû.h
"

6 
	~"rfcš‹rçû.h
"

7 
	~"deviûuts.h
"

8 #iâdeà
GTEST_ENABLE


10 
	~"rdk_logg”_me¡Úe.h
"

11 
	~"codebigUts.h
"

12 
	~"msUts.h
"

13 
	~"dowÆßdUt.h
"

15 
	~"æash.h
"

22 
boŞ
 
	$§vePID
(cÚ¡ *
fe
, *
d©a
)

24 
boŞ
 
¡©us
 = 
çl£
;

25 
FILE
 *
å
 = 
NULL
;

27 ià((
fe
 !ğ
NULL
è&& (
d©a
 != NULL)) {

28 
å
 = 
	`fİ’
(
fe
, "w");

29 if(
å
 =ğ
NULL
) {

30 
	`SWLOG_INFO
("§vePID(è% uÇbËØü—‹ fe=\n", 
fe
);

32 
	`SWLOG_INFO
("§vePID(è=% tØfe=%s\n", 
d©a
, 
fe
);

33 
	`åuts
(
d©a
, 
å
);

34 
	`fşo£
(
å
);

35 
¡©us
 = 
Œue
;

38  
¡©us
;

39 
	}
}

48 
	$g‘PidStÜe
(cÚ¡ *
deviû
, cÚ¡ *
mašt_wšdow
) {

49 
pid_t
 
pid
;

50 
d©a
[16] = { 0 };

51 ià(
deviû
 =ğ
NULL
 || 
mašt_wšdow
 == NULL) {

52 
	`SWLOG_ERROR
("getPidStore()…arameter is NULL\n");

55 
pid
 = 
	`g‘pid
();

56 
	`¢´štf
(
d©a
,(d©a), "%u\n", 
pid
);

57 
	`SWLOG_INFO
("g‘PidStÜe(èpid=%u iÀ¡ršg=%s\n", 
pid
, 
d©a
);

58 
	`§vePID
(
CURL_PID_FILE
, 
d©a
);

59 
	`§vePID
(
FWDNLD_PID_FILE
, 
d©a
);

60 
	}
}

63 
boŞ
 
	$checkFÜTlsE¼Üs
(
cu¾_code
, cÚ¡ *
ty³
)

65 ià(
ty³
 =ğ
NULL
) {

66 
	`SWLOG_ERROR
("% :y³…¬am‘” i NULL‡nd cu¾ƒ¼Ü=%d\n", 
__FUNCTION__
, 
cu¾_code
);

67  
çl£
;

69 if((
cu¾_code
 == 35) || (curl_code == 51) || (curl_code == 53) || (curl_code == 54) || (curl_code == 58) || (curl_code == 59) || (curl_code == 60)

70 || (
cu¾_code
 == 64) || (curl_code == 66) || (curl_code == 77) || (curl_code == 80) || (curl_code == 82) || (curl_code == 83)

71 || (
cu¾_code
 == 90) || (curl_code == 91)) {

72 
	`TLSLOG
(
TLS_LOG_ERR
, "HTTPS % çedØcÚÃùØ% £rv” w™h cu¾ƒ¼Ü cod%d", 
TLS
, 
ty³
, 
cu¾_code
);

74  
Œue
;

75 
	}
}

83 
	$dwÆE¼Ü
(
cu¾_code
, 
h‰p_code
, 
£rv”_ty³
,cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
,cÚ¡ *
Ï¡run
,*
di§bËStsUpd©e
)

85 
‹Ëm‘ry_d©a
[32];

86 
deviû_ty³
[32];

87 
FWDowÆßdStus
 
fwdls
;

88 
çu»R—sÚ
[128];

89 *
ty³
 = "Direct";

91 ià(
deviû_šfo
 =ğ
NULL
) {

92 
	`SWLOG_ERROR
("%s: deviû_šfØ·¿m‘” i NULL\n", 
__FUNCTION__
);

96 *
çu»R—sÚ
 = 0;

97 if(
cu¾_code
 == 22) {

98 
	`¢´štf
(
‹Ëm‘ry_d©a
, (telemetry_data), "swdl_failed");

99 
	`Upg¿d‘2CouÁNÙify
(
‹Ëm‘ry_d©a
, 1);

100 }if(
cu¾_code
 == 18 || curl_code == 7) {

101 
	`¢´štf
(
‹Ëm‘ry_d©a
, Ñ–em‘ry_d©a), "swdl_çed_%d", 
cu¾_code
);

102 
	`Upg¿d‘2CouÁNÙify
(
‹Ëm‘ry_d©a
, 1);

104 *
‹Ëm‘ry_d©a
 = 0;

105 
	`SWLOG_ERROR
("% : CDL i su¥’ded dutØCu¾ %d E¼Ü\n", 
__FUNCTION__
, 
cu¾_code
);

106 
	`Upg¿d‘2CouÁNÙify
("CDLsu¥’ded_¥l™", 
cu¾_code
);

108 
	`checkFÜTlsE¼Üs
(
cu¾_code
, 
ty³
);

109 
	`¢´štf
Ğ
deviû_ty³
, (deviû_ty³), "%s", 
deviû_šfo
->
dev_ty³
 );

110 if(
cu¾_code
 !ğ0 || (
h‰p_code
 != 200 && http_code != 206) || http_code == 495) {

111 ià(
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
) {

112 
	`SWLOG_ERROR
("% : FaedØdowÆßd imagäom‚Üm® SSR coddowÆßd s”v” w™h„‘:%d, h‰pcode:%d\n", 
__FUNCTION__
, 
cu¾_code
, 
h‰p_code
);

113 
	`Upg¿d‘2CouÁNÙify
("SYST_ERR_cdl_ssr", 1);

114 ià(
h‰p_code
 == 302)

116 
	`Upg¿d‘2CouÁNÙify
("SYST_INFO_Http302", 1);

119 if((
	`¡rcmp
(
deviû_ty³
, "mediaclient")) == 0) {

120 if(
h‰p_code
 == 0) {

121 
	`¢´štf
Ğ
çu»R—sÚ
, (failureReason), "FailureReason|Image Download Failed -Unableo connect\n" );

122 }if(
h‰p_code
 == 404) {

123 
	`¢´štf
Ğ
çu»R—sÚ
, (failureReason), "FailureReason|Image Download Failed -Server‚ot Found\n" );

124 }if(
h‰p_code
 == 495) {

125 + 
	`¢´štf
Ğ
çu»R—sÚ
, (failureReason), "FailureReason|Image Download Failed -Client certificateƒxpired\n" );

126 }if(
h‰p_code
 >= 500 && http_code <= 511) {

127 
	`¢´štf
Ğ
çu»R—sÚ
, (failureReason), "FailureReason|Image Download Failed -Error„esponse from server\n" );

129 
	`¢´štf
Ğ
çu»R—sÚ
, (failureReason), "FailureReason|Image Download Failed - Unknown\n" );

133 
	`ev’tMªag”
(
IMG_DWL_EVENT
, 
IMAGE_FWDNLD_DOWNLOAD_FAILED
);

135 if((
h‰p_code
 == 0) || (http_code == 495)) {

136 
	`¢´štf
Ğ
çu»R—sÚ
, (failureReason), "FailureReason|ESTB Download Failure");

140 
	`ev’tMªag”
(
IMG_DWL_EVENT
, 
IMAGE_FWDNLD_DOWNLOAD_FAILED
);

143 
	`¢´štf
(
fwdls
.
m‘hod
, (fwdls.method), "Method|xconf\n");

144 
	`¢´štf
(
fwdls
.
´Ùo
, (fwdls.proto), "Proto|http\n");

145 
	`¢´štf
(
fwdls
.
¡©us
, (fwdls.status), "Status|Failure\n");

146 
	`¢´štf
(
fwdls
.
»boÙ
, (fwdls.reboot), "Reboot|false\n");

147 
	`¢´štf
(
fwdls
.
çu»R—sÚ
, (fwdls.failureReason), "%s", failureReason);

148 
	`¢´štf
(
fwdls
.
dÆdV”¢
, (fwdls.dnldVersn), "DnldVersn|\n");

149 
	`¢´štf
(
fwdls
.
dÆdfe
, (fwdls.dnldfile), "DnldFile|\n");

150 
	`¢´štf
(
fwdls
.
dÆdu¾
, (fwdls.dnldurl), "DnldURL|\n");

151 
	`¢´štf
(
fwdls
.
Ï¡run
, (fwdls.lastrun), "LastRun|%s\n",†astrun);

152 
	`¢´štf
(
fwdls
.
FwUpd©eS‹
, (fwdls.FwUpdateState), "FwUpdateState|Failed\n");

153 
	`¢´štf
(
fwdls
.
D–ayDowÆßd
, (fwdls.DelayDownload), "DelayDownload|\n");

154 
	`upd©eFWDowÆßdStus
(&
fwdls
, 
di§bËStsUpd©e
);

157 ifĞ
h‰p_code
 == 495 ) {

158 
	`SWLOG_INFO
("% : C®lšg checkAndEÁ”S‹Red(èw™h code:%d\n", 
__FUNCTION__
, 
h‰p_code
);

159 
	`checkAndEÁ”S‹Red
(
h‰p_code
, 
di§bËStsUpd©e
);

161 
	`SWLOG_INFO
("% : C®lšg checkAndEÁ”S‹Red(èw™h code:%d\n", 
__FUNCTION__
, 
cu¾_code
);

162 
	`checkAndEÁ”S‹Red
(
cu¾_code
, 
di§bËStsUpd©e
);

164 
	}
}

170 
	$§veHTTPCode
(
h‰p_code
,cÚ¡ *
Ï¡run
)

172 
h‰p
[8] = { 0 };

173 
FILE
 *
å
 = 
NULL
;

175 
	`¢´štf
Ğ
h‰p
, (h‰p), "%03ld\n", ()
h‰p_code
 );

176 
å
 = 
	`fİ’
(
HTTP_CODE_FILE
, "w");

177 if(
å
 =ğ
NULL
) {

178 
	`SWLOG_ERROR
("% : fİ’ faed:%s\n", 
__FUNCTION__
, 
HTTP_CODE_FILE
);

180 
	`SWLOG_INFO
("§veHTTPCode(èWr™šg h‰pcode=% tØfe:%s\n", 
h‰p
, 
HTTP_CODE_FILE
);

181 
	`åuts
(
h‰p
, 
å
);

182 
	`fşo£
(
å
);

184 
	}
}

191 
	$Upg¿d‘2CouÁNÙify
(*
m¬k”
, 
v®
) {

192 #ifdeà
T2_EVENT_ENABLED


193 
	`t2_ev’t_d
(
m¬k”
, 
v®
);

195 
	}
}

197 
	$Upg¿d‘2V®NÙify
Ğ*
m¬k”
, *
v®
 )

199 #ifdeà
T2_EVENT_ENABLED


200 
	`t2_ev’t_s
(
m¬k”
, 
v®
);

202 
	}
}

205 
boŞ
 
	$checkt2V®NÙify
Ğ
iCu¾Code
, 
iUpg¿deTy³
, *
U¾
 )

207 *
pS¹SŒšg
 = "CERTERR, ";

208 
šum
;

209 
fqdn
[100];

210 
outbuf
[(
fqdn
) + 50];

211 
fmt
[25];

212 
boŞ
 
bR‘
ğ
çl£
;

214 *
fqdn
 = 0;

215 
	`¢´štf
Ğ
fmt
, (fmt), "h‰ps://%%%zu[^/?]", (
fqdn
) - 1 );

216 
šum
 = 
	`ssÿnf
Ğ
U¾
, 
fmt
, 
fqdn
 );

217  
iCu¾Code
 )

234 ifĞ
šum
 == 1 )

236 ifĞ
iUpg¿deTy³
 =ğ
PERIPHERAL_UPGRADE
 )

238 
	`¢´štf
Ğ
outbuf
, (outbuf), "%sPCDL, %d, %s", 
pS¹SŒšg
, 
iCu¾Code
, 
fqdn
 );

239 
	`TLSLOG
(
TLS_LOG_ERR
, "%s", 
outbuf
 );

240 
	`Upg¿d‘2V®NÙify
Ğ"û¹”r_¥l™", 
outbuf
 + 
	`¡¾’
(
pS¹SŒšg
) );

241 
bR‘
 = 
Œue
;

249  
bR‘
;

250 
	}
}

260 
	$rdkv_upg¿de_»que¡
(cÚ¡ 
RdkUpg¿deCÚ‹xt_t
* 
cÚ‹xt
, ** 
cu¾
, * 
pH‰p_code
)

262 cÚ¡ * 
dwÍ©h_f’ame
 = 
NULL
;

263 
»t_cu¾_code
 = -1;

264 
dwÆ_¡©us
[64];

265 
cu¹ime
;

266 
cu¼’t_time
[64];

267 *
dev_´İ_Çme
 = "CPU_ARCH";

268 
ıu_¬ch
[8] = {0};

269 *
cmd_¬gs
 = "FWDNLD_STARTED";

270 
md5_sum
[128] = {0};

271 
boŞ
 
¡_nÙify_æag
 = 
çl£
;

272 
»t
 = -1;

273 
FWDowÆßdStus
 
fwdls
;

274 
FILE
 *
å
 = 
NULL
;

275 
æash_¡©us
 = -1;

277 ià(
cÚ‹xt
 =ğ
NULL
 || 
pH‰p_code
 == NULL) {

278 
	`SWLOG_ERROR
("%s: P¬am‘” i NULL\n", 
__FUNCTION__
);

279  
»t_cu¾_code
;

282 
upg¿de_ty³
 = 
cÚ‹xt
->upgrade_type;

283 
£rv”_ty³
 = 
cÚ‹xt
->server_type;

284 cÚ¡ * 
¬tiçùLoÿtiÚU¾
 = 
cÚ‹xt
->artifactLocationUrl;

285 cÚ¡ * 
dwÎoc
 = 
cÚ‹xt
->dwlloc;

286 * 
pPo¡F›lds
 = 
cÚ‹xt
->pPostFields;

287 cÚ¡ * 
immed_»boÙ_æag
 = 
cÚ‹xt
->immed_reboot_flag;

288 
d–ay_dwÆ
 = 
cÚ‹xt
->delay_dwnl;

289 cÚ¡ * 
Ï¡run
 = 
cÚ‹xt
->lastrun;

290 * 
di§bËStsUpd©e
 = 
cÚ‹xt
->disableStatsUpdate;

291 cÚ¡ 
DeviûPrİ”ty_t
* 
deviû_šfo
 = 
cÚ‹xt
->device_info;

292 * 
fÜû_ex™
 = 
cÚ‹xt
->force_exit;

293 
Œigg”_ty³
 = 
cÚ‹xt
->trigger_type;

294 cÚ¡ 
Rfc_t
* 
rfc_li¡
 = 
cÚ‹xt
->rfc_list;

296 ià(
¬tiçùLoÿtiÚU¾
 =ğ
NULL
 || 
dwÎoc
 == NULL) {

297 
	`SWLOG_ERROR
("%s: P¬am‘” i NULL\n", 
__FUNCTION__
);

298  
»t_cu¾_code
;

300 ià(
upg¿de_ty³
 =ğ
XCONF_UPGRADE
) {

301 
	`SWLOG_INFO
("Tryingo communicate with XCONF server\n");

302 
	`Upg¿d‘2CouÁNÙify
("SYST_INFO_XCONFConnect", 1);

304 *
pH‰p_code
 = 0;

306 ifĞ
	`isDwÆBlock
(
£rv”_ty³
) )

308 ifĞ
£rv”_ty³
 =ğ
HTTP_XCONF_DIRECT
 )

310 
£rv”_ty³
 = 
HTTP_XCONF_CODEBIG
;

312 ifĞ
£rv”_ty³
 =ğ
HTTP_XCONF_CODEBIG
 )

314 
£rv”_ty³
 = 
HTTP_XCONF_DIRECT
;

316 ifĞ
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
 )

318 
£rv”_ty³
 = 
HTTP_SSR_CODEBIG
;

320 ifĞ
£rv”_ty³
 =ğ
HTTP_SSR_CODEBIG
 )

322 
£rv”_ty³
 = 
HTTP_SSR_DIRECT
;

325 ifĞ
	`isDwÆBlock
(
£rv”_ty³
) )

327 
»t_cu¾_code
 = 
DWNL_BLOCK
;

331 ifĞ
»t_cu¾_code
 !ğ
DWNL_BLOCK
 )

333 ifĞ
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
 || s”v”_ty³ =ğ
HTTP_SSR_CODEBIG
 )

335 
dwÍ©h_f’ame
 = (cÚ¡ *)
dwÎoc
;

336 ià(
upg¿de_ty³
 =ğ
PDRI_UPGRADE
 && (
çl£
 =ğ
	`checkPDRIUpg¿de
(
dwÍ©h_f’ame
))) {

337 
»t_cu¾_code
 = 100;

338  
»t_cu¾_code
;

340 
	`upd©eUpg¿deFÏg
(1);

343 ià(
upg¿de_ty³
 =ğ
PCI_UPGRADE
 || upg¿de_ty³ =ğ
PDRI_UPGRADE
) {

344 
¡_nÙify_æag
 = 
	`isMmgbËNÙifyEÇbËd
();

347 
	`isD–ayFWDowÆßdAùive
(
d–ay_dwÆ
, 
deviû_šfo
->
mašt_¡©us
, 1);

348 
	`SWLOG_INFO
("Delayed Trigger Image Upgrade ..!\n");

349 ià(
upg¿de_ty³
 =ğ
PCI_UPGRADE
) {

350 
	`logMe¡Úe
(
cmd_¬gs
);

351 }if(
upg¿de_ty³
 =ğ
XCONF_UPGRADE
) {

352 
cmd_¬gs
 = "CONNECT_TO_XCONF_CDL";

353 
	`logMe¡Úe
(
cmd_¬gs
);

356 ià(
upg¿de_ty³
 =ğ
PDRI_UPGRADE
) {

357 
	`SWLOG_INFO
("Triggeringhe Image Download ...\n");

358 
	`Upg¿d‘2CouÁNÙify
("SYS_INFO_swdltriggered", 1);

359 
	`SWLOG_INFO
("PDRI DowÆßd iÀProg»s fÜ %s\n", 
dwÍ©h_f’ame
);

360 
	`ev’tMªag”
(
IMG_DWL_EVENT
, 
IMAGE_FWDNLD_UNINITIALIZED
);

361 }if(
upg¿de_ty³
 =ğ
PCI_UPGRADE
) {

362 
	`SWLOG_INFO
("Triggeringhe Image Download ...\n");

363 
	`Upg¿d‘2CouÁNÙify
("SYS_INFO_swdltriggered", 1);

364 
	`SWLOG_INFO
("PCI DowÆßd iÀProg»s fÜ %s\n", 
dwÍ©h_f’ame
);

365 
	`ev’tMªag”
(
IMG_DWL_EVENT
, 
IMAGE_FWDNLD_UNINITIALIZED
);

366 }if(
upg¿de_ty³
 =ğ
PERIPHERAL_UPGRADE
) {

367 
	`SWLOG_INFO
Ğ"TryšgØdowÆßd %s\n", (*)
dwÎoc
 );

369 
	`SWLOG_INFO
("XCONF Download in Progress\n");

372 (
çl£
 =ğ(
	`isMedŸCl›ÁDeviû
()))? 
	`¢´štf
(
dwÆ_¡©us
, (dwnl_status),"ESTB in…rogress"):snprintf(dwnl_status, (dwnl_status), "Download In Progress");

374 ià(
upg¿de_ty³
 =ğ
PCI_UPGRADE
 || upg¿de_ty³ =ğ
PDRI_UPGRADE
) {

375 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_DOWNLOADING
);

376 
	`ev’tMªag”
(
IMG_DWL_EVENT
, 
IMAGE_FWDNLD_DOWNLOAD_INPROGRESS
);

378 
	`¢´štf
(
fwdls
.
m‘hod
, (fwdls.method), "Method|xconf\n" );

379 
	`¢´štf
(
fwdls
.
´Ùo
, (fwdls.proto), "Proto|http\n" );

380 
	`¢´štf
(
fwdls
.
¡©us
, (fwdls.¡©us), "Stus|%s\n", 
dwÆ_¡©us
);

381 
	`¢´štf
(
fwdls
.
»boÙ
, (fwdls.»boÙ), "ReboÙ|%s\n", 
immed_»boÙ_æag
);

382 
	`¢´štf
(
fwdls
.
çu»R—sÚ
, (fwdls.failureReason), "Failure|" );

383 
	`¢´štf
(
fwdls
.
dÆdV”¢
, (fwdls.dnldVersn), "Failure|" );

384 
	`¢´štf
(
fwdls
.
dÆdfe
, (fwdls.dÆdfe), "DÆdFe|%s\n", 
dwÍ©h_f’ame
 ? dwlpath_filename : "XCONF");

385 
	`¢´štf
(
fwdls
.
dÆdu¾
, (fwdls.dÆdu¾), "DÆdURL|%s\n", 
¬tiçùLoÿtiÚU¾
);

386 
	`¢´štf
(
fwdls
.
Ï¡run
, (fwdls.lastrun),"LastRun|%.240s\n",†astrun);

387 
	`¢´štf
(
fwdls
.
FwUpd©eS‹
, (fwdls.FwUpdateState), "FwUpdateState|Downloading\n" );

388 
	`¢´štf
(
fwdls
.
D–ayDowÆßd
, (fwdls.D–ayDowÆßd), "D–ayDowÆßd|%d\n", 
d–ay_dwÆ
);

390 
	`upd©eFWDowÆßdStus
(&
fwdls
, 
di§bËStsUpd©e
);

392 
»t
 = 
	`g‘DeviûPrİ”tyD©a
(
dev_´İ_Çme
, 
ıu_¬ch
, ()(cpu_arch));

393 ià(
»t
 =ğ
UTILS_SUCCESS
) {

394 
	`SWLOG_INFO
("ıu_¬ch = %s\n", 
ıu_¬ch
);

396 
	`SWLOG_ERROR
("%s: g‘DeviûPrİ”tyD©a(èfÜ % ç\n", 
__FUNCTION__
, 
dev_´İ_Çme
);

399 ià(
Œue
 =ğ
¡_nÙify_æag
) {

400 
cu¹ime
 = 
	`g‘Cu¼’tSysTimeSec
();

401 
	`¢´štf
(
cu¼’t_time
, (cu¼’t_time), "%lu", ()
cu¹ime
);

402 
	`SWLOG_INFO
("cu¼’t_timÿlcuÏ‹d‡ %lu‡nd %s\n", ()
cu¹ime
, 
cu¼’t_time
);

404 
	`nÙifyDwÆStus
(
RFC_FW_DWNL_START
, 
cu¼’t_time
, 
RFC_STRING
);

405 
	`SWLOG_INFO
("FirmwareDownloadStartedNotification SET succeeded\n");

408 ià(
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
 || s”v”_ty³ =ğ
HTTP_XCONF_DIRECT
) {

409 
»t_cu¾_code
 = 
	`dowÆßdFe
(
£rv”_ty³
, 
¬tiçùLoÿtiÚU¾
, 
dwÎoc
, 
pPo¡F›lds
, 
pH‰p_code
, 
cu¾
, 
fÜû_ex™
, 
immed_»boÙ_æag
, 
deviû_šfo
,
Ï¡run
,
rfc_li¡
,
di§bËStsUpd©e
);

410 ià((
£rv”_ty³
 =ğ
HTTP_XCONF_DIRECT
è&& (
»t_cu¾_code
 == 6 ||„et_curl_code == 28)) {

411 
	`SWLOG_INFO
("%s: Checkšg IP‡nd Rou‹ cÚfigu¿tiÚ\n", 
__FUNCTION__
);

412 ià(
Œue
 =ğ(
	`CheckIProu‹CÚÃùiv™y
(
GATEWAYIP_FILE
))) {

413 
	`SWLOG_INFO
("%s: Checkšg IP‡nd Rou‹ cÚfigu¿tiÚ found\n", 
__FUNCTION__
);

414 
	`SWLOG_INFO
("%s: Checkšg DNS Name£rv” cÚfigu¿tiÚ\n", 
__FUNCTION__
);

415 if(
Œue
 =ğ(
	`isDnsResŞve
(
DNS_RESOLV_FILE
))) {

416 
	`SWLOG_INFO
("%s: DNS Name£rv” ¬avaabË\n", 
__FUNCTION__
);

418 
	`SWLOG_INFO
("%s: DNS Name£rv” missšg..!!\n", 
__FUNCTION__
);

421 
	`SWLOG_INFO
("%s: IP‡nd Rou‹ cÚfigu¿tiÚ‚Ù found...!!\n", 
__FUNCTION__
);

424 ià(*
pH‰p_code
 =ğ
HTTP_PAGE_NOT_FOUND
) {

425 
	`SWLOG_INFO
("% : Reûived HTTPS 404 Re¥Ú£ from XcÚàS”v”. R‘ry†ogiønÙ‚“ded\n", 
__FUNCTION__
);

426 
	`SWLOG_INFO
("% : C»©šg /tmp/.xcÚfs¤dowÆßdu¾ w™h 404„e¥Ú£ from XcÚf\n", 
__FUNCTION__
);

427 
å
 = 
	`fİ’
("/tmp/.xconfssrdownloadurl", "w");

428 ià(
å
 !ğ
NULL
) {

429 
	`årštf
(
å
, "%d\n", *
pH‰p_code
);

430 
	`fşo£
(
å
);

432 
	`un£tS‹Red
();

434 ià(
»t_cu¾_code
 !ğ
CURL_SUCCESS
 ||

435 (*
pH‰p_code
 !ğ
HTTP_SUCCESS
 && *pH‰p_cod!ğ
HTTP_CHUNK_SUCCESS
 && *pH‰p_cod!ğ
HTTP_PAGE_NOT_FOUND
)) {

436 
»t_cu¾_code
 = 
	`»ŒyDowÆßd
(
£rv”_ty³
, 
¬tiçùLoÿtiÚU¾
, 
dwÎoc
, 
pPo¡F›lds
, 
RETRY_COUNT
, 60, 
pH‰p_code
, 
cu¾
,
fÜû_ex™
,
immed_»boÙ_æag
, 
deviû_šfo
,
Ï¡run
,
rfc_li¡
,
di§bËStsUpd©e
);

437 ià(
»t_cu¾_code
 =ğ
CURL_CONNECTIVITY_ISSUE
 || *
pH‰p_code
 == 0) {

438 ià(
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
) {

439 
	`SWLOG_ERROR
("% : Dœeù Imagupg¿dFaed: h‰p_code:%d,‡‰em±šg codebig\n", 
__FUNCTION__
, *
pH‰p_code
);

441 
	`SWLOG_ERROR
("% : s’dXCONFReque¡ Dœeù Imagupg¿dFaed: h‰p_code:%d,‡‰em±šg codebig\n", 
__FUNCTION__
, *
pH‰p_code
);

443 ifĞ
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
 )

445 
£rv”_ty³
 = 
HTTP_SSR_CODEBIG
;

449 
£rv”_ty³
 = 
HTTP_XCONF_CODEBIG
;

451 
»t_cu¾_code
 = 
	`çÎBack
(
£rv”_ty³
, 
¬tiçùLoÿtiÚU¾
, 
dwÎoc
, 
pPo¡F›lds
, 
pH‰p_code
, 
cu¾
, 
fÜû_ex™
,
immed_»boÙ_æag
,
deviû_šfo
,
Ï¡run
,
rfc_li¡
,
di§bËStsUpd©e
);

455 ià(
£rv”_ty³
 =ğ
HTTP_SSR_CODEBIG
 || s”v”_ty³ =ğ
HTTP_XCONF_CODEBIG
) {

456 
»t_cu¾_code
 = 
	`codebigdowÆßdFe
(
£rv”_ty³
, 
¬tiçùLoÿtiÚU¾
, 
dwÎoc
, 
pPo¡F›lds
, 
pH‰p_code
,
cu¾
,
fÜû_ex™
,
immed_»boÙ_æag
,
deviû_šfo
,
Ï¡run
,
rfc_li¡
,
di§bËStsUpd©e
);

457 ià(
»t_cu¾_code
 !ğ
CURL_SUCCESS
 ||

458 (*
pH‰p_code
 !ğ
HTTP_SUCCESS
 && *pH‰p_cod!ğ
HTTP_CHUNK_SUCCESS
 && *pH‰p_cod!ğ
HTTP_PAGE_NOT_FOUND
)) {

459 ifĞ
»t_cu¾_code
 !ğ
CODEBIG_SIGNING_FAILED
 )

463 
»t_cu¾_code
 = 
	`»ŒyDowÆßd
(
£rv”_ty³
, 
¬tiçùLoÿtiÚU¾
, 
dwÎoc
, 
pPo¡F›lds
, 
CB_RETRY_COUNT
, 10, 
pH‰p_code
, 
cu¾
, 
fÜû_ex™
,
immed_»boÙ_æag
,
deviû_šfo
,
Ï¡run
,
rfc_li¡
,
di§bËStsUpd©e
);

465 ià(
»t_cu¾_code
 =ğ
CURL_CONNECTIVITY_ISSUE
 || *
pH‰p_code
 == 0) {

466 ià(
£rv”_ty³
 =ğ
HTTP_SSR_CODEBIG
) {

467 
	`SWLOG_ERROR
("% : Codebig dowÆßd faed: h‰pcode=%d, Sw™chšg dœeù\n", 
__FUNCTION__
, *
pH‰p_code
);

469 
	`SWLOG_ERROR
("% : s’dXCONFReque¡ Codebig dowÆßd faed: h‰p_code:%d, Sw™chšg dœeù\n", 
__FUNCTION__
, *
pH‰p_code
);

471 ifĞ
£rv”_ty³
 =ğ
HTTP_SSR_CODEBIG
 )

473 
£rv”_ty³
 = 
HTTP_SSR_DIRECT
;

477 
£rv”_ty³
 = 
HTTP_XCONF_DIRECT
;

479 
»t_cu¾_code
 = 
	`çÎBack
(
£rv”_ty³
, 
¬tiçùLoÿtiÚU¾
, 
dwÎoc
, 
pPo¡F›lds
, 
pH‰p_code
, 
cu¾
, 
fÜû_ex™
,
immed_»boÙ_æag
,
deviû_šfo
,
Ï¡run
,
rfc_li¡
,
di§bËStsUpd©e
);

485 
	`SWLOG_ERROR
("Inv®id S”v” Ty³: %d\n", 
£rv”_ty³
);

488 ià(
»t_cu¾_code
 !ğ0 || (*
pH‰p_code
 !ğ
HTTP_CHUNK_SUCCESS
 && *pH‰p_cod!ğ
HTTP_SUCCESS
)) {

489 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_FAILED
);

490 
	`ev’tMªag”
(
IMG_DWL_EVENT
, 
IMAGE_FWDNLD_DOWNLOAD_FAILED
);

492 ià(
Œue
 =ğ
¡_nÙify_æag
) {

493 
	`nÙifyDwÆStus
(
RFC_FW_DWNL_END
, "çl£", 
RFC_BOOL
);

494 
	`SWLOG_INFO
("FirmwareDownloadCompletedNotification SETo false succeeded\n");

496 ià(
upg¿de_ty³
 =ğ
PDRI_UPGRADE
) {

497 
	`SWLOG_INFO
("PDRI image upgrade failure !!!\n");

498 
	`Upg¿d‘2CouÁNÙify
("SYST_ERR_PDRIUpg_failure", 1);

499 } ià(
upg¿de_ty³
 =ğ
XCONF_UPGRADE
 && 
»t_cu¾_code
 == 6) {

500 
	`Upg¿d‘2CouÁNÙify
("xconf_couldnt_resolve", 1);

501 } ià(
upg¿de_ty³
 =ğ
PCI_UPGRADE
) {

502 
	`SWLOG_ERROR
("doCDL failed\n");

503 
	`Upg¿d‘2CouÁNÙify
("SYST_ERR_CDLFail", 1);

504 
cmd_¬gs
 = "FWDNLD_FAILED";

505 
	`logMe¡Úe
(
cmd_¬gs
);

506 } ià(
upg¿de_ty³
 =ğ
PERIPHERAL_UPGRADE
) {

507 
	`checkt2V®NÙify
Ğ
»t_cu¾_code
, 
upg¿de_ty³
, (*)
¬tiçùLoÿtiÚU¾
 );

509 
	`SWLOG_ERROR
("Invalid upgradeype\n");

511 
	`upd©eUpg¿deFÏg
(2);

512 } ià((0 =ğ
	`feP»£ÁCheck
(
dwÍ©h_f’ame
)è&& (
upg¿de_ty³
 !ğ
XCONF_UPGRADE
)) {

513 
	`SWLOG_INFO
("% LoÿÈImagDowÆßd Com¶‘ed usšg HTTPS TLS…rÙocŞ!\n", 
dwÍ©h_f’ame
);

514 
	`Upg¿d‘2CouÁNÙify
("SYST_INFO_FWCOMPLETE", 1);

515 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_DOWNLOAD_COMPLETE
);

517 
	`¡ºıy
(
fwdls
.
FwUpd©eS‹
, "FwUpdateState|Download complete\n", (fwdls.FwUpdateState)-1);

518 
fwdls
.
FwUpd©eS‹
[(fwdls.FwUpdateState)-1] = '\0';

519 
	`upd©eFWDowÆßdStus
(&
fwdls
, 
di§bËStsUpd©e
);

520 ià(
Œue
 =ğ
¡_nÙify_æag
) {

521 
	`nÙifyDwÆStus
(
RFC_FW_DWNL_END
, "Œue", 
RFC_BOOL
);

522 
	`SWLOG_INFO
("FirmwareDownloadCompletedNotification SETorue succeeded\n");

524 ià(
	`¡ºcmp
(
ıu_¬ch
, "x86", 3)) {

525 
	`ev’tMªag”
(
IMG_DWL_EVENT
, 
IMAGE_FWDNLD_DOWNLOAD_COMPLETE
);

527 ifĞ
	`isInS‹Red
() ) {

528 
	`SWLOG_INFO
("RED„ecovery download complete\n");

529 
	`ev’tMªag”
(
RED_STATE_EVENT
, 
RED_RECOVERY_DOWNLOADED
);

531 
	`SWLOG_INFO
("DowÆßded % oàsiz%d\n", 
dwÍ©h_f’ame
, 
	`g‘FeSize
(dwlpath_filename));

532 
	`Upg¿d‘2CouÁNÙify
("Fesize_¥l™", 
	`g‘FeSize
(
dwÍ©h_f’ame
));

533 *
md5_sum
 = 0;

534 
	`RunCommªd
Ğ
eMD5Sum
, 
dwÍ©h_f’ame
, 
md5_sum
, (md5_sum) );

535 
	`SWLOG_INFO
("md5sum oà% : %s\n", 
dwÍ©h_f’ame
, 
md5_sum
);

536 ià(
upg¿de_ty³
 =ğ
PDRI_UPGRADE
) {

537 
	`SWLOG_INFO
("PDRI image upgrade successful.\n");

538 
	`Upg¿d‘2CouÁNÙify
("SYST_INFO_PDRIUpgSuccess", 1);

540 ià(
upg¿de_ty³
 =ğ
PCI_UPGRADE
 || upg¿de_ty³ =ğ
PDRI_UPGRADE
) {

541 
	`£tDwÆS‹
(
RDKV_FWDNLD_FLASH_INPROGRESS
);

542 
	`¢´štf
(
dwÆ_¡©us
, (dwnl_status), "Flashing In Progress");

543 
	`¢´štf
(
fwdls
.
¡©us
, (fwdls.¡©us), "Stus|%s\n", 
dwÆ_¡©us
);

544 
	`upd©eFWDowÆßdStus
(&
fwdls
, 
di§bËStsUpd©e
);

545 
æash_¡©us
 = 
	`æashImage
(
¬tiçùLoÿtiÚU¾
, 
dwÍ©h_f’ame
, 
immed_»boÙ_æag
, "2", 
upg¿de_ty³
, 
deviû_šfo
->
mašt_¡©us
,
Œigg”_ty³
);

546 ià(
upg¿de_ty³
 =ğ
PCI_UPGRADE
) {

547 ià(
æash_¡©us
 !ğ0 && 
upg¿de_ty³
 =ğ
PCI_UPGRADE
) {

548 
	`SWLOG_ERROR
("doCDL failed\n");

549 
	`Upg¿d‘2CouÁNÙify
("SYST_ERR_CDLFail", 1);

550 
	`£tDwÆS‹
(
RDKV_FWDNLD_FLASH_FAILED
);

551 
cmd_¬gs
 = "FWDNLD_FAILED";

552 
	`logMe¡Úe
(
cmd_¬gs
);

554 
	`£tDwÆS‹
(
RDKV_FWDNLD_FLASH_COMPLETE
);

555 
cmd_¬gs
 = "FWDNLD_COMPLETED";

556 
	`logMe¡Úe
(
cmd_¬gs
);

559 
	`SWLOG_INFO
("PDRI image Flash upgrade successful.\n");

566 
	`SWLOG_INFO
("% : AÎ upg¿de blocked, skpšg upg¿de\n", 
__FUNCTION__
);

569  
»t_cu¾_code
;

570 
	}
}

578 #iâdeà
GTEST_BASIC


579 
	$codebigdowÆßdFe
Ğ
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, * 
pPo¡F›lds
, *
h‰pCode
, **
cu¾
,*
fÜû_ex™
,cÚ¡ *
immed_»boÙ_æag
, cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
,cÚ¡ *
Ï¡run
,cÚ¡ 
Rfc_t
 *
rfc_li¡
,*
di§bËStsUpd©e
) {

580 
signFaed
 = 1;

581 
FeDwÆ_t
 
fe_dwÆ
;

582 
oAuthH—d”
[
BIG_BUF_LEN
] = "Authorization: OAuth„ealm=\"\", ";

583 
cu¾_»t_code
 = -1;

584 
h—d”InfoFe
[136];

586 ià(
¬tiçùLoÿtiÚU¾
 =ğ
NULL
 || 
loÿlDowÆßdLoÿtiÚ
 =ğNULL || 
h‰pCode
 =ğNULL || 
cu¾
 == NULL) {

587 
	`SWLOG_ERROR
("%s: P¬am‘” i NULL\n", 
__FUNCTION__
);

588  
cu¾_»t_code
;

590 *
h‰pCode
 = 0;

592 #ifdeà
DEBUG_CODEBIG_CDL


593 ifĞ
	`feP»£ÁCheck
Ğ"/tmp/.fÜûCodebigFau»" ) =ğ
RDK_API_SUCCESS
 )

595 
	`SWLOG_ERROR
("%s: FÜcšg Codebig Fau»!!\n", 
__FUNCTION__
);

596 
	`§veHTTPCode
(*
h‰pCode
,
Ï¡run
);

597  
CURLTIMEOUT
;

601 ià(
	`isDwÆBlock
(
£rv”_ty³
)) {

602 
	`SWLOG_ERROR
("%s: Codebig DowÆßd i block\n", 
__FUNCTION__
);

603 
cu¾_»t_code
 = 
DWNL_BLOCK
;

604  
cu¾_»t_code
;

607 
	`SWLOG_INFO
("Using Codebig Image upgrade connection\nCheck if codebig is‡pplicable forhe Device\n");

608 
	`Upg¿d‘2CouÁNÙify
("SYST_INFO_cb_xconf", 1);

610 ià((
£rv”_ty³
 =ğ
HTTP_XCONF_CODEBIG
è&& (
çl£
 =ğ(
	`checkCodebigAcûss
()))) {

611 
	`SWLOG_ERROR
("%s: Codebig Imagupg¿di nÙ suµÜ‹d.\n", 
__FUNCTION__
);

612  
cu¾_»t_code
;

614 ià(
çl£
 =ğ(
	`isMedŸCl›ÁDeviû
())) {

615 
	`SWLOG_ERROR
("%s: Codebig Imagupg¿di nÙ suµÜ‹d.SuµÜˆi Úly fÜ medŸş›Á deviû\n", 
__FUNCTION__
);

616  
cu¾_»t_code
;

619 
	`mem£t
(&
fe_dwÆ
, '\0', (
FeDwÆ_t
));

620 
fe_dwÆ
.
chunk_dwÆ_»Œy_time
 = 0;

622 ifĞ
£rv”_ty³
 =ğ
HTTP_XCONF_CODEBIG
 )

624 ifĞ(
signFaed
=
	`doCodeBigSignšg
(
£rv”_ty³
, 
pPo¡F›lds
, 
fe_dwÆ
.
u¾
, (file_dwnl.url),

625 
oAuthH—d”
, (oAuthHeader) )) == 0 )

627 
fe_dwÆ
.
pDlD©a
 = (
DowÆßdD©a
 *)
loÿlDowÆßdLoÿtiÚ
;

628 *(
fe_dwÆ
.
·thÇme
) = 0;

629 
fe_dwÆ
.
pPo¡F›lds
 = 
NULL
;

630 
fe_dwÆ
.
pH—d”D©a
 = 
NULL
;

631 
fe_dwÆ
.
pDlH—d”D©a
 = 
NULL
;

632 *
h—d”InfoFe
 = 0;

637 ifĞ(
signFaed
=
	`doCodeBigSignšg
(
£rv”_ty³
, 
¬tiçùLoÿtiÚU¾
, 
fe_dwÆ
.
u¾
, (file_dwnl.url),

638 
oAuthH—d”
, (oAuthHeader) )) == 0 )

640 
	`¡ºıy
(
fe_dwÆ
.
·thÇme
, (*)
loÿlDowÆßdLoÿtiÚ
, (file_dwnl.pathname)-1);

641 
fe_dwÆ
.
·thÇme
[(file_dwnl.pathname)-1] = '\0';

642 
fe_dwÆ
.
pDlD©a
 = 
NULL
;

643 
fe_dwÆ
.
pH—d”D©a
 = 
oAuthH—d”
;

644 
fe_dwÆ
.
pDlH—d”D©a
 = 
NULL
;

645 
fe_dwÆ
.
pPo¡F›lds
 = 
NULL
;

646 
	`¢´štf
(
h—d”InfoFe
, (h—d”InfoFe), "%s.h—d”", 
fe_dwÆ
.
·thÇme
);

650 ifĞ
signFaed
 == 0 )

652 ià(
£rv”_ty³
 =ğ
HTTP_SSR_CODEBIG
) {

653 
	`SWLOG_INFO
("Tryingo communicate with SSR via CodeBig server\nAttempting Codebig firmware download\n");

656 ià(
£rv”_ty³
 =ğ
HTTP_XCONF_CODEBIG
) {

657 
	`£tDwÆS‹
(
RDKV_XCONF_FWDNLD_DOWNLOAD_INIT
);

659 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INIT
);

662 ià(
cu¾
 !ğ
NULL
 && *curl != NULL) {

663 ià(
£rv”_ty³
 =ğ
HTTP_XCONF_CODEBIG
) {

664 
	`£tDwÆS‹
(
RDKV_XCONF_FWDNLD_DOWNLOAD_INPROGRESS
);

666 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INPROGRESS
);

668 
cu¾_»t_code
 = 
	`doAuthH‰pFeDowÆßd
(*
cu¾
 ,&
fe_dwÆ
, 
h‰pCode
);

669 ià(
£rv”_ty³
 =ğ
HTTP_XCONF_CODEBIG
) {

670 
	`£tDwÆS‹
(
RDKV_XCONF_FWDNLD_DOWNLOAD_EXIT
);

672 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_EXIT
);

674 
	`doStİDowÆßd
(*
cu¾
);

677 ià(*
fÜû_ex™
 =ğ1 && (
cu¾_»t_code
 == 23)) {

678 
	`unš™Ÿlize
(
INITIAL_VALIDATION_SUCCESS
);

679 
	`ex™
(1);

683 if((
	`feP»£ÁCheck
(
CURL_PROGRESS_FILE
)) == 0) {

684 
	`SWLOG_INFO
("% : Cu¾ Prog»s d©a...\n", 
__FUNCTION__
);

685 
	`logFeD©a
(
CURL_PROGRESS_FILE
);

686 
	`uÆšk
(
CURL_PROGRESS_FILE
);

688 ià(
cu¾_»t_code
 != 0) {

689 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_FAILED
);

690 ifĞ*(
fe_dwÆ
.
·thÇme
) != 0 )

692 
	`uÆšk
(
fe_dwÆ
.
·thÇme
);

693 
	`uÆšk
(
h—d”InfoFe
);

696 ià((
cu¾_»t_code
 =ğ0è&& (*
h‰pCode
 == 200 || *httpCode == 206)) {

697 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_COMPLETE
);

698 
	`SWLOG_INFO
("% : Codebig fœmw¬dowÆßd Sucûs -„‘:%d h‰p_code:%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, *
h‰pCode
);

699 
	`Upg¿d‘2CouÁNÙify
("SYS_INFO_CodBPASS", 1);

704 *
h‰pCode
 = 0;

705 
cu¾_»t_code
 = 
CODEBIG_SIGNING_FAILED
;

706 
	`SWLOG_ERROR
Ğ"% : Codebig signšg faed, s”v”y³ = %d,‡bÜtšg dowÆßd!!\n", 
__FUNCTION__
, 
£rv”_ty³
 );

708 
	`§veHTTPCode
(*
h‰pCode
,
Ï¡run
);

709  
cu¾_»t_code
;

710 
	}
}

719 #iâdeà
GTEST_BASIC


720 
	$dowÆßdFe
Ğ
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, * 
pPo¡F›lds
, *
h‰pCode
, **
cu¾
, *
fÜû_ex™
, cÚ¡ *
immed_»boÙ_æag
, cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
,cÚ¡ *
Ï¡run
,cÚ¡ 
Rfc_t
 *
rfc_li¡
,*
di§bËStsUpd©e
){

722 
­p_mode
 = 0;

724 #ifdeà
LIBRDKCERTSELECTOR


725 
MsAuthStus
 
»t
 = 
MTLS_CERT_FETCH_SUCCESS
;

727 
»t
 = -1 ;

729 
MsAuth_t
 
£c
;

730 
¡©e_»d
 = -1;

731 
max_dwÆ_¥“d
 = 0;

732 
cu¾_»t_code
 = -1;

733 
FeDwÆ_t
 
fe_dwÆ
;

734 
chunk_dwÆ
 = 0;

735 
ms_’abË
 = 1;

736 
h—d”InfoFe
[136] = {0};

738 ià(
¬tiçùLoÿtiÚU¾
 =ğ
NULL
 || 
loÿlDowÆßdLoÿtiÚ
 =ğNULL || 
h‰pCode
 =ğNULL || 
cu¾
 == NULL) {

739 
	`SWLOG_ERROR
("%s: P¬am‘” i NULL\n", 
__FUNCTION__
);

740  
cu¾_»t_code
;

742 
­p_mode
 = 
	`g‘AµMode
();

743 
	`mem£t
(&
£c
, '\0', (
MsAuth_t
));

744 
	`mem£t
(&
fe_dwÆ
, '\0', (
FeDwÆ_t
));

746 
¡©e_»d
 = 
	`isInS‹Red
();

747 #ifdeà
LIBRDKCERTSELECTOR


748 
rdkû¹£ËùÜ_h
 
thisC”tS–
 = 
NULL
;

749 ià(
thisC”tS–
 =ğ
NULL
) {

750 cÚ¡ * 
û¹Group
 = (
¡©e_»d
 == 1) ? "RCVRY" : "MTLS";

751 
thisC”tS–
 = 
	`rdkû¹£ËùÜ_Ãw
(
DEFAULT_CONFIG
, 
DEFAULT_HROT
, 
û¹Group
);

752 ià(
thisC”tS–
 =ğ
NULL
) {

753 
	`SWLOG_ERROR
("%s, % C”ˆ£ËùÜ in™Ÿliz©iÚ faed\n", 
__FUNCTION__
, (
¡©e_»d
 == 1) ? "State„ed" : "normal state");

754  
cu¾_»t_code
;

756 
	`SWLOG_INFO
("%s, % C”ˆ£ËùÜ in™Ÿlized sucûssfuÎy\n", 
__FUNCTION__
, (
¡©e_»d
 == 1) ? "State„ed" : "normal state");

759 
	`SWLOG_INFO
("%s, C”ˆ£ËùÜ‡Ì—dy in™Ÿlized,„eusšghexi¡šg in¡ªû\n", 
__FUNCTION__
);

763 *
h‰pCode
 = 0;

764 
fe_dwÆ
.
chunk_dwÆ_»Œy_time
 = (((
	`¡ºcmp
(
immed_»boÙ_æag
, "false", 5)) == 0) ? 10 : 0);

765 
	`¡ºıy
(
fe_dwÆ
.
u¾
, 
¬tiçùLoÿtiÚU¾
, (file_dwnl.url)-1);

766 
fe_dwÆ
.
u¾
[(file_dwnl.url)-1] = '\0';

767 ifĞ
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
 )

769 
	`¡ºıy
(
fe_dwÆ
.
·thÇme
, (*)
loÿlDowÆßdLoÿtiÚ
, (file_dwnl.pathname)-1);

770 
fe_dwÆ
.
·thÇme
[(file_dwnl.pathname)-1] = '\0';

771 
fe_dwÆ
.
pDlD©a
 = 
NULL
;

772 
	`¢´štf
(
h—d”InfoFe
, (h—d”InfoFe), "%s.h—d”", 
fe_dwÆ
.
·thÇme
);

776 
fe_dwÆ
.
pDlD©a
 = (
DowÆßdD©a
 *)
loÿlDowÆßdLoÿtiÚ
;

777 *(
fe_dwÆ
.
·thÇme
) = 0;

779 
fe_dwÆ
.
pPo¡F›lds
 =…PostFields;

781 ià(
	`isDwÆBlock
(
£rv”_ty³
)) {

782 
	`SWLOG_ERROR
("%s: Dœeù DowÆßd i blocked\n", 
__FUNCTION__
);

783 
cu¾_»t_code
 = 
DWNL_BLOCK
;

784 #ifdeà
LIBRDKCERTSELECTOR


785 ià(
thisC”tS–
 !ğ
NULL
) {

786 
	`rdkû¹£ËùÜ_ä“
(&
thisC”tS–
);

789  
cu¾_»t_code
;

791 ià(
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
) {

792 
	`SWLOG_INFO
("% :TryšgØcommuniÿ‹ w™h SSR vŸ TLS s”v”\n", 
__FUNCTION__
);

793 
	`Upg¿d‘2CouÁNÙify
("SYST_INFO_TLS_xconf", 1);

795 ià((1 =ğ(
	`isThrÙeEÇbËd
(
deviû_šfo
->
dev_Çme
, 
immed_»boÙ_æag
, 
­p_mode
)))) {

796 ià(0 =ğ(
	`¡ºcmp
(
rfc_li¡
->
rfc_thrÙe
, "true", 4))) {

797 
max_dwÆ_¥“d
 = 
	`©oi
(
rfc_li¡
->
rfc_tİ¥“d
);

798 
	`SWLOG_INFO
("% : ThrÙã©u» i EÇbË\n", 
__FUNCTION__
);

799 
	`Upg¿d‘2CouÁNÙify
("SYST_INFO_Thrtl_Enable", 1);

800 ià(
max_dwÆ_¥“d
 == 0) {

801 
	`SWLOG_INFO
("% : ThrÙ¥“d s‘Ø0. SØex™šghdowÆßd…roûss\n", 
__FUNCTION__
);

802 ià(!(
	`¡ºcmp
(
deviû_šfo
->
mašt_¡©us
, "true", 4))) {

803 
	`ev’tMªag”
("Maš‹ÇnûMGR", 
MAINT_FWDOWNLOAD_ERROR
);

805 
	`ev’tMªag”
(
FW_STATE_EVENT
, 
FW_STATE_FAILED
);

806 
	`unš™Ÿlize
(
INITIAL_VALIDATION_SUCCESS
);

807 
	`ex™
(1);

810 
	`SWLOG_INFO
("% : ThrÙã©u» i Di§bË\n", 
__FUNCTION__
);

813 
	`SWLOG_INFO
("% : ThrÙi Di§bË\n", 
__FUNCTION__
);

816 ià(1 =ğ(
	`isOCSPEÇbË
())) {

817 
	`SWLOG_INFO
("% : EÇbË OCSP check\n", 
__FUNCTION__
);

818 
fe_dwÆ
.
s¦v”ify
 = 
Œue
;

820 
	`SWLOG_INFO
("% : Di§bË OCSP check\n", 
__FUNCTION__
);

822 
	`g‘PidStÜe
(
deviû_šfo
->
dev_Çme
, deviû_šfo->
mašt_¡©us
);

823 ià(
di§bËStsUpd©e
 !ğ
NULL
 && (
	`¡rcmp
(di§bËStsUpd©e, "yes")è&& (
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
)) {

824 
chunk_dwÆ
 = 
	`isInüem‘®CDLEÇbË
(
fe_dwÆ
.
·thÇme
);

826 #iâdeà
LIBRDKCERTSELECTOR


827 
	`SWLOG_INFO
("1 Fetching MTLS credential for SSR/XCONF\n");

828 
»t
 = 
	`g‘Msû¹
(&
£c
);

829 ià(-1 =ğ
»t
) {

830 
	`SWLOG_ERROR
("% : g‘Msû¹(èF—tchšg MTLS fa. Gošg FÜ NON MTLS:%d\n", 
__FUNCTION__
, 
»t
);

831 
ms_’abË
 = -1;

833 
	`SWLOG_INFO
("MTLS i ’abË\nMTLS c»d fÜ SSR f‘ched„‘=%d\n", 
»t
);

834 
	`Upg¿d‘2CouÁNÙify
("SYS_INFO_MTLS_enable", 1);

837 (
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
è? 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INIT
è: s‘DwÆS‹(
RDKV_XCONF_FWDNLD_DOWNLOAD_INIT
);

838 #ifdeà
LIBRDKCERTSELECTOR


840 
	`SWLOG_INFO
("Fetching MTLS credential for SSR/XCONF\n");

841 
»t
 = 
	`g‘Msû¹
(&
£c
, &
thisC”tS–
);

842 
	`SWLOG_INFO
("%s, g‘Msû¹ funùiÚ„‘ v®uğ%d\n", 
__FUNCTION__
, 
»t
);

844 ià(
»t
 =ğ
MTLS_CERT_FETCH_FAILURE
) {

845 
	`SWLOG_ERROR
("% :„‘=%d\n", 
__FUNCTION__
, 
»t
);

846 
	`SWLOG_ERROR
("% : AÎ MTLS c”t ¬çed. F®lšg backØ¡©»d.\n", 
__FUNCTION__
);

847 
	`checkAndEÁ”S‹Red
(
CURL_MTLS_LOCAL_CERTPROBLEM
, 
di§bËStsUpd©e
);

848  
cu¾_»t_code
;

849 } ià(
»t
 =ğ
STATE_RED_CERT_FETCH_FAILURE
) {

850 
	`SWLOG_ERROR
("% : S‹„ed c”ˆçed.\n", 
__FUNCTION__
);

851  
cu¾_»t_code
;

853 
	`SWLOG_INFO
("MTLS i ’abËd\nMTLS c»d fÜ SSR f‘ched„‘=%d\n", 
»t
);

854 
	`Upg¿d‘2CouÁNÙify
("SYS_INFO_MTLS_enable", 1);

858 ià((1 =ğ
¡©e_»d
)) {

859 
	`SWLOG_INFO
("RED:state„ed„ecovery‡ttempting MTLS connectiono XCONF server\n");

860 ià(
CHUNK_DWNL_ENABLE
 =ğ
chunk_dwÆ
) {

861 
	`SWLOG_INFO
("RED: Calling chunkDownload() in state„ed„ecovery\n");

862 
	`Upg¿d‘2CouÁNÙify
("SYST_INFO_RedStateRecovery", 1);

863 
cu¾_»t_code
 = 
	`chunkDowÆßd
(&
fe_dwÆ
, &
£c
, 
max_dwÆ_¥“d
, 
h‰pCode
);

866 ià(
cu¾
 !ğ
NULL
) {

867 *
cu¾
 = 
	`doCu¾In™
();

869 ià(
cu¾
 !ğ
NULL
 && *curl != NULL) {

870 (
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
è? 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INPROGRESS
è: s‘DwÆS‹(
RDKV_XCONF_FWDNLD_DOWNLOAD_INPROGRESS
);

871 
cu¾_»t_code
 = 
	`doH‰pFeDowÆßd
(*
cu¾
, &
fe_dwÆ
, &
£c
, 
max_dwÆ_¥“d
, 
NULL
, 
h‰pCode
);

872 (
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
è? 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_EXIT
è: s‘DwÆS‹(
RDKV_XCONF_FWDNLD_DOWNLOAD_EXIT
);

873 
	`doStİDowÆßd
(*
cu¾
);

874 *
cu¾
 = 
NULL
;

875 ià(*
fÜû_ex™
 =ğ1 && (
cu¾_»t_code
 == 23)) {

876 
	`unš™Ÿlize
(
INITIAL_VALIDATION_SUCCESS
);

877 
	`ex™
(1);

881 } if(1 =ğ
ms_’abË
) {

882 ià(
CHUNK_DWNL_ENABLE
 =ğ
chunk_dwÆ
) {

883 
	`SWLOG_INFO
("Calling chunkDownload() with cert mTlsXConfDownloadƒnable\n");

884 
cu¾_»t_code
 = 
	`chunkDowÆßd
(&
fe_dwÆ
, &
£c
, 
max_dwÆ_¥“d
, 
h‰pCode
);

887 
	`SWLOG_INFO
("Calling doHttpFileDownload() with cert mTlsXConfDownloadƒnable\n");

888 ià(
cu¾
 !ğ
NULL
) {

889 *
cu¾
 = 
	`doCu¾In™
();

891 ià(
cu¾
 !ğ
NULL
 && *curl != NULL) {

892 (
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
è? 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INPROGRESS
è: s‘DwÆS‹(
RDKV_XCONF_FWDNLD_DOWNLOAD_INPROGRESS
);

893 
cu¾_»t_code
 = 
	`doH‰pFeDowÆßd
(*
cu¾
, &
fe_dwÆ
, &
£c
, 
max_dwÆ_¥“d
, 
NULL
, 
h‰pCode
);

894 (
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
è? 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_EXIT
è: s‘DwÆS‹(
RDKV_XCONF_FWDNLD_DOWNLOAD_EXIT
);

895 
	`doStİDowÆßd
(*
cu¾
);

896 *
cu¾
 = 
NULL
;

897 ià(*
fÜû_ex™
 =ğ1 && (
cu¾_»t_code
 == 23)) {

898 
	`unš™Ÿlize
(
INITIAL_VALIDATION_SUCCESS
);

899 
	`ex™
(1);

904 ià(
CHUNK_DWNL_ENABLE
 =ğ
chunk_dwÆ
) {

905 
	`SWLOG_INFO
("Calling chunkDownload() with cert mTlsXConfDownload disable\n");

906 
cu¾_»t_code
 = 
	`chunkDowÆßd
(&
fe_dwÆ
, 
NULL
, 
max_dwÆ_¥“d
, 
h‰pCode
);

909 
	`SWLOG_INFO
("Calling doHttpFileDownload() with cert mTlsXConfDownload disable\n");

910 ià(
cu¾
 !ğ
NULL
) {

911 *
cu¾
 = 
	`doCu¾In™
();

913 ià(
cu¾
 !ğ
NULL
 && *curl != NULL) {

914 (
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
è? 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INPROGRESS
è: s‘DwÆS‹(
RDKV_XCONF_FWDNLD_DOWNLOAD_INPROGRESS
);

915 
cu¾_»t_code
 = 
	`doH‰pFeDowÆßd
(*
cu¾
, &
fe_dwÆ
, 
NULL
, 
max_dwÆ_¥“d
, NULL, 
h‰pCode
);

916 (
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
è? 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_EXIT
è: s‘DwÆS‹(
RDKV_XCONF_FWDNLD_DOWNLOAD_EXIT
);

917 
	`doStİDowÆßd
(*
cu¾
);

918 *
cu¾
 = 
NULL
;

919 ià(*
fÜû_ex™
 =ğ1 && (
cu¾_»t_code
 == 23)) {

920 
	`unš™Ÿlize
(
INITIAL_VALIDATION_SUCCESS
);

921 
	`ex™
(1);

926 ià(
di§bËStsUpd©e
 !ğ
NULL
 && (
	`¡rcmp
(di§bËStsUpd©e, "yes")è&& (
CHUNK_DWNL_ENABLE
 !ğ
chunk_dwÆ
)) {

927 
chunk_dwÆ
 = 
	`isInüem‘®CDLEÇbË
(
fe_dwÆ
.
·thÇme
);

929 
	`SWLOG_INFO
("% : Aá” cu¾„eque¡hcu¾ stu ğ%d‡nd h‰p=%d‡nd chunk dowÆßd=%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, *
h‰pCode
, 
chunk_dwÆ
);

931 } 
chunk_dwÆ
 && (
CURL_LOW_BANDWIDTH
 =ğ
cu¾_»t_code
 || 
CURLTIMEOUT
 =ğcu¾_»t_cod|| ((
CURL_RECV_ERROR
 =ğcu¾_»t_codeè&& !
	`¦“p
(10)) ));

932 #ifdeà
LIBRDKCERTSELECTOR


933 } 
	`rdkû¹£ËùÜ_£tCu¾Stus
(
thisC”tS–
, 
cu¾_»t_code
, 
fe_dwÆ
.
u¾
è=ğ
TRY_ANOTHER
);

935 if((
	`feP»£ÁCheck
(
CURL_PROGRESS_FILE
)) == 0) {

936 
	`SWLOG_INFO
("% : Cu¾ Prog»s d©a...\n", 
__FUNCTION__
);

937 
	`logFeD©a
(
CURL_PROGRESS_FILE
);

938 
	`uÆšk
(
CURL_PROGRESS_FILE
);

940 ià((
cu¾_»t_code
 =ğ
CURL_SUCCESS
è&& (*
h‰pCode
 =ğ
HTTP_SUCCESS
 || *h‰pCod=ğ
HTTP_CHUNK_SUCCESS
)) {

941 (
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
è? 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_COMPLETE
è: s‘DwÆS‹(
RDKV_XCONF_FWDNLD_DOWNLOAD_COMPLETE
);

942 if(
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
)

944 
	`SWLOG_INFO
("% : Dœeù Imagupg¿dSucûss: cu¾„‘:%d h‰p_code:%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, *
h‰pCode
);

945 
	`Upg¿d‘2CouÁNÙify
("SYS_INFO_DirectSuccess", 1);

949 
	`SWLOG_INFO
("% : Dœeù Imagupg¿dcÚÃùiÚ sucûss: cu¾„‘:%d h‰p_code:%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, *
h‰pCode
);

952 
	`SWLOG_ERROR
("% : Dœeù Imagupg¿dFa: cu¾„‘:%d h‰p_code:%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, *
h‰pCode
);

953 (
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
è? 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_FAILED
è: s‘DwÆS‹(
RDKV_XCONF_FWDNLD_DOWNLOAD_FAILED
);

954 
	`dwÆE¼Ü
(
cu¾_»t_code
, *
h‰pCode
, 
£rv”_ty³
,
deviû_šfo
,
Ï¡run
,
di§bËStsUpd©e
);

955 ifĞ*(
fe_dwÆ
.
·thÇme
) != 0 )

957 
	`uÆšk
(
fe_dwÆ
.
·thÇme
);

958 
	`uÆšk
(
h—d”InfoFe
);

961 
	`§veHTTPCode
(*
h‰pCode
,
Ï¡run
);

962  
cu¾_»t_code
;

963 
	}
}

976 
	$»ŒyDowÆßd
(
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, *
pPo¡F›lds
, 
»Œy_út
, 
d–ay
, *
h‰pCode
, **
cu¾
 , *
fÜû_ex™
,cÚ¡ *
immed_»boÙ_æag
,cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
,cÚ¡ *
Ï¡run
,cÚ¡ 
Rfc_t
 *
rfc_li¡
,*
di§bËStsUpd©e
){

977 
cu¾_»t_code
 = -1;

978 
»Œy_com¶‘ed
 = 1;

980 ià(
¬tiçùLoÿtiÚU¾
 =ğ
NULL
 || 
loÿlDowÆßdLoÿtiÚ
 =ğNULL || 
h‰pCode
 =ğNULL || 
cu¾
 == NULL) {

981 
	`SWLOG_ERROR
("%s: P¬am‘” i NULL\n", 
__FUNCTION__
);

982  
cu¾_»t_code
;

984 ià(
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
 || s”v”_ty³ =ğ
HTTP_XCONF_DIRECT
) {

985 ifĞ
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
 )

987 
	`SWLOG_INFO
("%s: s”v”ty³=%d, u¾=%s,†oc=%s, h‰pcode=%d,Ù®„‘ry=%d, d–ay=%d\n", 
__FUNCTION__
, 
£rv”_ty³
, 
¬tiçùLoÿtiÚU¾
, (cÚ¡ *)
loÿlDowÆßdLoÿtiÚ
, *
h‰pCode
, 
»Œy_út
, 
d–ay
);

991 
	`SWLOG_INFO
("%s: s”v”ty³=%d, u¾=%s,†oc=MEMORY, h‰pcode=%d,„‘ry=%d, d–ay=%d\n", 
__FUNCTION__
, 
£rv”_ty³
, 
¬tiçùLoÿtiÚU¾
, *
h‰pCode
, 
»Œy_út
, 
d–ay
);

993  
»Œy_com¶‘ed
 <ğ
»Œy_út
) {

994 
	`¦“p
(
d–ay
);

995 
cu¾_»t_code
 = 
	`dowÆßdFe
(
£rv”_ty³
, 
¬tiçùLoÿtiÚU¾
, 
loÿlDowÆßdLoÿtiÚ
, 
pPo¡F›lds
, 
h‰pCode
, 
cu¾
, 
fÜû_ex™
,
immed_»boÙ_æag
,
deviû_šfo
,
Ï¡run
,
rfc_li¡
,
di§bËStsUpd©e
);

996 ià((
cu¾_»t_code
 =ğ
CURL_SUCCESS
è&& (*
h‰pCode
 =ğ
HTTP_SUCCESS
 || *h‰pCod=ğ
HTTP_CHUNK_SUCCESS
)) {

997 if(
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
)

999 
	`SWLOG_INFO
("% : Dœeù Imagupg¿dSucûss:„‘:%d h‰p_code:%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, *
h‰pCode
);

1000 
	`Upg¿d‘2CouÁNÙify
("SYS_INFO_DirectSuccess", 1);

1004 
	`SWLOG_INFO
("% : Dœeù Imagupg¿dcÚÃùiÚ sucûss:„‘:%d h‰p_code:%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, *
h‰pCode
);

1007 } ià(*
h‰pCode
 =ğ
HTTP_PAGE_NOT_FOUND
) {

1008 (
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
è? 
	`SWLOG_INFO
("% : Reûived 404„e¥Ú£ fÜ Dœeù Imagupg¿de, R‘ry†ogiønÙ‚“ded\n", 
__FUNCTION__
) : SWLOG_INFO("%s : Received 404„esponse Direct Image upgrade from xconf, Retry†ogic‚ot‚eeded\n", __FUNCTION__);

1010 } if(
cu¾_»t_code
 =ğ
DWNL_BLOCK
) {

1013 (
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
è? 
	`SWLOG_INFO
("% : Dœeù Imagupg¿d»tuº:„‘ry=%d„‘:%d h‰p_code:%d\n", 
__FUNCTION__
, 
»Œy_com¶‘ed
, 
cu¾_»t_code
, *
h‰pCode
) : SWLOG_INFO("%s : Direct Image upgrade connection„eturn:„etry=%d„et:%d http_code:%d\n", __FUNCTION__,„etry_completed, curl_ret_code, *httpCode);

1015 
»Œy_com¶‘ed
++;

1017 } ià(
£rv”_ty³
 =ğ
HTTP_SSR_CODEBIG
 || s”v”_ty³ =ğ
HTTP_XCONF_CODEBIG
) {

1018 
»Œy_com¶‘ed
 <ğ
»Œy_út
) {

1019 
	`¦“p
(
d–ay
);

1020 
cu¾_»t_code
 = 
	`codebigdowÆßdFe
(
£rv”_ty³
, 
¬tiçùLoÿtiÚU¾
, 
loÿlDowÆßdLoÿtiÚ
, 
pPo¡F›lds
, 
h‰pCode
, 
cu¾
, 
fÜû_ex™
,
immed_»boÙ_æag
,
deviû_šfo
,
Ï¡run
,
rfc_li¡
,
di§bËStsUpd©e
);

1021 ià((
cu¾_»t_code
 =ğ
CURL_SUCCESS
è&& (*
h‰pCode
 =ğ
HTTP_SUCCESS
 || *h‰pCod=ğ
HTTP_CHUNK_SUCCESS
)) {

1022 
	`SWLOG_INFO
("% : Codebig Imagupg¿dSucûss:„‘:%d h‰p_code:%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, *
h‰pCode
);

1024 } ià(*
h‰pCode
 =ğ
HTTP_PAGE_NOT_FOUND
) {

1025 (
£rv”_ty³
 =ğ
HTTP_SSR_CODEBIG
è? 
	`SWLOG_INFO
("% : Reûived 404„e¥Ú£ fÜ Codebig Imagupg¿de, R‘ry†ogiønÙ‚“ded\n", 
__FUNCTION__
) : SWLOG_INFO("%s : Received 404„esponse Codebig Image upgrade from xconf, Retry†ogic‚ot‚eeded\n", __FUNCTION__);

1027 } ià(
cu¾_»t_code
 =ğ
DWNL_BLOCK
 || cu¾_»t_cod=ğ
CODEBIG_SIGNING_FAILED
) {

1030 
	`SWLOG_INFO
("% : Codebig Imagupg¿d»tuº:„‘ry=%d„‘:%d h‰p_code:%d\n", 
__FUNCTION__
, 
»Œy_com¶‘ed
, 
cu¾_»t_code
, *
h‰pCode
);

1032 
»Œy_com¶‘ed
++;

1035 *
h‰pCode
 = 0;

1036 
	`SWLOG_ERROR
("%s: Inv®id S”v” Ty³=%d\n", 
__FUNCTION__
, 
£rv”_ty³
);

1038  
cu¾_»t_code
;

1039 
	}
}

1049 
	$çÎBack
(
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, *
pPo¡F›lds
, *
h‰pCode
, **
cu¾
, *
fÜû_ex™
, cÚ¡ *
immed_»boÙ_æag
, cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
,cÚ¡ *
Ï¡run
,cÚ¡ 
Rfc_t
 *
rfc_li¡
,*
di§bËStsUpd©e
) {

1050 
cu¾_»t_code
 = -1;

1052 ià(
¬tiçùLoÿtiÚU¾
 =ğ
NULL
 || 
loÿlDowÆßdLoÿtiÚ
 =ğNULL || 
h‰pCode
 =ğNULL || 
cu¾
 == NULL) {

1053 
	`SWLOG_ERROR
("%s: P¬am‘” i NULL\n", 
__FUNCTION__
);

1054  
cu¾_»t_code
;

1057 ià(
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
 || s”v”_ty³ =ğ
HTTP_XCONF_DIRECT
) {

1058 
	`SWLOG_INFO
("%s: c®lšg dowÆßdFe\n", 
__FUNCTION__
 );

1059 
cu¾_»t_code
 = 
	`dowÆßdFe
(
£rv”_ty³
, 
¬tiçùLoÿtiÚU¾
, 
loÿlDowÆßdLoÿtiÚ
, 
pPo¡F›lds
, 
h‰pCode
, 
cu¾
, 
fÜû_ex™
, 
immed_»boÙ_æag
, 
deviû_šfo
,
Ï¡run
,
rfc_li¡
,
di§bËStsUpd©e
);

1060 ià(*
h‰pCode
 !ğ
HTTP_SUCCESS
 && *h‰pCod!ğ
HTTP_CHUNK_SUCCESS
 && *httpCode != 404) {

1061 
	`SWLOG_ERROR
("% : Dœeù imagupg¿dçov”„eque¡ faed„‘uº=%d, h‰pcode=%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, *
h‰pCode
);

1063 
	`SWLOG_INFO
("% : Dœeù imagupg¿dçov”„eque¡„eûived„‘uº=%d, h‰pcode=%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, *
h‰pCode
);

1065 } ià(
£rv”_ty³
 =ğ
HTTP_SSR_CODEBIG
 || s”v”_ty³ =ğ
HTTP_XCONF_CODEBIG
) {

1067 
	`SWLOG_INFO
("%s: c®lšg„‘ryDowÆßd\n", 
__FUNCTION__
 );

1068 
cu¾_»t_code
 = 
	`»ŒyDowÆßd
(
£rv”_ty³
, 
¬tiçùLoÿtiÚU¾
, 
loÿlDowÆßdLoÿtiÚ
, 
pPo¡F›lds
, 
CB_RETRY_COUNT
, 10, 
h‰pCode
, 
cu¾
, 
fÜû_ex™
, 
immed_»boÙ_æag
,
deviû_šfo
,
Ï¡run
,
rfc_li¡
,
di§bËStsUpd©e
);

1069 ià((
cu¾_»t_code
 =ğ
CURL_SUCCESS
è&& (*
h‰pCode
 =ğ
HTTP_SUCCESS
 || *h‰pCod=ğ
HTTP_CHUNK_SUCCESS
)) {

1070 
	`SWLOG_INFO
("% : Codebig Imagupg¿dSucûss:„‘=%d h‰pcode=%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, *
h‰pCode
);

1071 ià((
	`feP»£ÁCheck
(
DIRECT_BLOCK_FILENAME
)) != 0) {

1072 
	`ü—‹Fe
(
DIRECT_BLOCK_FILENAME
);

1073 
	`SWLOG_INFO
("% : U£ CodeBig‡nd Blockšg Dœeù‡‰em± fÜ 24hrs\n", 
__FUNCTION__
);

1075 } ià((*
h‰pCode
 !ğ
HTTP_PAGE_NOT_FOUND
è&& (
cu¾_»t_code
 != -1)){

1077 
	`SWLOG_INFO
("% : Codebig Imagupg¿dFa:„‘=%d h‰pcode=%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, *
h‰pCode
);

1078 ià((
	`feP»£ÁCheck
(
CB_BLOCK_FILENAME
)) != 0) {

1079 
	`ü—‹Fe
(
CB_BLOCK_FILENAME
);

1080 
	`SWLOG_INFO
("% : Sw™ch Dœeù‡nd Blockšg Codebig fÜ 30mšs,\n", 
__FUNCTION__
);

1084 ià(
£rv”_ty³
 =ğ
HTTP_SSR_DIRECT
 || s”v”_ty³ =ğ
HTTP_XCONF_DIRECT
) {

1085 
	`SWLOG_INFO
("% : f®Èback Dœeù DowÆßd. cu¾„‘uº code=%d‡nd h‰p=%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, *
h‰pCode
);

1086 } ià(
£rv”_ty³
 =ğ
HTTP_SSR_CODEBIG
 || s”v”_ty³ =ğ
HTTP_XCONF_CODEBIG
) {

1087 
	`SWLOG_INFO
("% : f®Èback Codebig DowÆßd. cu¾„‘uº code=%d‡nd h‰p=%d\n", 
__FUNCTION__
, 
cu¾_»t_code
, *
h‰pCode
);

1089 
	`SWLOG_ERROR
("%s: Inv®id S”v” Ty³=%d\n", 
__FUNCTION__
, 
£rv”_ty³
);

1091  
cu¾_»t_code
;

1092 
	}
}

	@src/rfcInterface/rfcinterface.c

19 
	~"rfcš‹rçû.h
"

21 
	~"rdkv_cdl_log_w¿µ”.h
"

22 #iâdeà
GTEST_ENABLE


23 
	~"rdk_fwdl_uts.h
"

24 
	~"sy¡em_uts.h
"

32 
	$g‘RFCS‘tšgs
(
Rfc_t
 *
rfc_li¡
) {

33 
»t
 = -1;

34 
d©a
[
RFC_VALUE_BUF_SIZE
];

36 ià(
rfc_li¡
 =ğ
NULL
) {

37 
	`SWLOG_ERROR
("g‘RFCS‘tšgs(): P¬am‘” i NULL„‘ğ%d\n", 
»t
);

38  
»t
;

40 
»t
 = 
	`»ad_RFCPrİ”ty
("SWDLSpLim™", 
RFC_THROTTLE
, 
d©a
, (data));

41 if(
»t
 == -1) {

42 
	`SWLOG_ERROR
("g‘RFCS‘tšgs(èçed Stu %d\n", 
»t
);

44 
	`¡ºıy
(
rfc_li¡
->
rfc_thrÙe
, 
d©a
, 
RFC_VALUE_BUF_SIZE
 - 1);

45 
rfc_li¡
->
rfc_thrÙe
[
RFC_VALUE_BUF_SIZE
 - 1] = '\0';

46 
	`SWLOG_INFO
("g‘RFCS‘tšgs(èrføthrÙeğ%s\n", 
rfc_li¡
->
rfc_thrÙe
);

48 
»t
 = 
	`»ad_RFCPrİ”ty
("SWDLSpLim™", 
RFC_TOPSPEED
, 
d©a
, (data));

49 if(
»t
 == -1) {

50 
	`SWLOG_ERROR
("g‘RFCS‘tšgs(èçed Stu %d\n", 
»t
);

52 
	`¡ºıy
(
rfc_li¡
->
rfc_tİ¥“d
, 
d©a
, 
RFC_VALUE_BUF_SIZE
 - 1);

53 
rfc_li¡
->
rfc_tİ¥“d
[
RFC_VALUE_BUF_SIZE
 - 1] = '\0';

54 
	`SWLOG_INFO
("g‘RFCS‘tšgs(èrføtİ¥“dğ%s\n", 
rfc_li¡
->
rfc_tİ¥“d
);

56 
»t
 = 
	`»ad_RFCPrİ”ty
("Inüem’lCDL", 
RFC_INCR_CDL
, 
d©a
, (data));

57 if(
»t
 == -1) {

58 
	`SWLOG_ERROR
("g‘RFCS‘tšgs(èçed Stu %d‡nd %s\n", 
»t
, 
rfc_li¡
->
rfc_šü_cdl
);

60 
	`¡ºıy
(
rfc_li¡
->
rfc_šü_cdl
, 
d©a
, 
RFC_VALUE_BUF_SIZE
 - 1);

61 
rfc_li¡
->
rfc_šü_cdl
[
RFC_VALUE_BUF_SIZE
 - 1] = '\0';

62 
	`SWLOG_INFO
("g‘RFCS‘tšgs(èrføInüem’lCDLğ%s\n", 
rfc_li¡
->
rfc_šü_cdl
);

64 #ifdeà
MTLS_DEFAULT_DISABLE


65 
»t
 = 
	`»ad_RFCPrİ”ty
("MTLS", 
RFC_MTLS
, 
d©a
, (data));

66 if(
»t
 == -1) {

67 
	`SWLOG_ERROR
("g‘RFCS‘tšgs(èrfcğ% çed Stu %d\n", 
RFC_MTLS
, 
»t
);

69 
	`¡ºıy
(
rfc_li¡
->
rfc_ms
, 
d©a
, 
RFC_VALUE_BUF_SIZE
 - 1);

70 
rfc_li¡
->
rfc_ms
[
RFC_VALUE_BUF_SIZE
 - 1] = '\0';

71 
	`SWLOG_INFO
("g‘RFCS‘tšgs(èrfømsğ%s\n", 
rfc_li¡
->
rfc_ms
);

74 
	`SWLOG_INFO
(" getRFCSettings() MTLS Default Enabled");

75 
	`¡ºıy
(
rfc_li¡
->
rfc_ms
, "Œue", 
RFC_VALUE_BUF_SIZE
 - 1);

76 
rfc_li¡
->
rfc_ms
[
RFC_VALUE_BUF_SIZE
 - 1] = '\0';

79 
	}
}

81 #ià
defšed
(
RFC_API_ENABLED
)

88 
	$»ad_RFCPrİ”ty
(* 
ty³
, cÚ¡ * 
key
, *
out_v®ue
, 
size_t
 
d©asize
) {

89 
RFC_P¬amD©a_t
 
·¿m
;

90 
d©a_Ën
;

91 
»t
 = 
READ_RFC_FAILURE
;

93 if(
key
 =ğ
NULL
 || 
out_v®ue
 =ğNULL || 
d©asize
 =ğ0 || 
ty³
 == NULL) {

94 
	`SWLOG_ERROR
("read_RFCProperty() one or more input values‡re invalid\n");

95  
»t
;

98 
WDMP_STATUS
 
¡©us
 = 
	`g‘RFCP¬am‘”
(
ty³
, 
key
, &
·¿m
);

99 if(
¡©us
 =ğ
WDMP_SUCCESS
 || stu =ğ
WDMP_ERR_DEFAULT_VALUE
) {

100 
d©a_Ën
 = 
	`¡¾’
(
·¿m
.
v®ue
);

101 if(
d©a_Ën
 >ğ2 && (
·¿m
.
v®ue
[0] == '"') && (param.value[data_len - 1] == '"')) {

103 
	`¢´štf
Ğ
out_v®ue
, 
d©asize
, "%s", &
·¿m
.
v®ue
[1] );

104 *(
out_v®ue
 + 
d©a_Ën
 - 2) = 0;

106 
	`¢´štf
Ğ
out_v®ue
, 
d©asize
, "%s", 
·¿m
.
v®ue
 );

108 
	`SWLOG_INFO
("»ad_RFCPrİ”ty(èÇme=%s,ty³=%d,v®ue=%s,¡©us=%d\n", 
·¿m
.
Çme
,…¬am.
ty³
,…¬am.
v®ue
, 
¡©us
);

109 
»t
 = 
READ_RFC_SUCCESS
;

111 
	`SWLOG_ERROR
("”rÜ:»ad_RFCPrİ”ty(): stusğ%d\n", 
¡©us
);

112 *
out_v®ue
 = 0;

114  
»t
;

115 
	}
}

124 
	$wr™e_RFCPrİ”ty
(* 
ty³
, cÚ¡ * 
key
, cÚ¡ *
v®ue
, 
RFCVALDATATYPE
 
d©©y³
) {

125 
WDMP_STATUS
 
¡©us
 = 
WDMP_FAILURE
;

126 
»t
 = 
WRITE_RFC_FAILURE
;

127 ià(
ty³
 =ğ
NULL
 || 
key
 =ğNULL || 
v®ue
 == NULL) {

128 
	`SWLOG_ERROR
("%s: P¬am‘” i NULL\n", 
__FUNCTION__
);

129  
»t
;

131 ià(
d©©y³
 =ğ
RFC_STRING
) {

132 
¡©us
 = 
	`£tRFCP¬am‘”
(
ty³
, 
key
, 
v®ue
, 
WDMP_STRING
);

133 } if(
d©©y³
 =ğ
RFC_UINT
) {

134 
¡©us
 = 
	`£tRFCP¬am‘”
(
ty³
, 
key
, 
v®ue
, 
WDMP_UINT
);

136 
¡©us
 = 
	`£tRFCP¬am‘”
(
ty³
, 
key
, 
v®ue
, 
WDMP_BOOLEAN
);

138 ià(
¡©us
 !ğ
WDMP_SUCCESS
) {

139 
	`SWLOG_ERROR
("%s: s‘RFCP¬am‘” faed. key=% ªd stus=%s\n", 
__FUNCTION__
, 
key
, 
	`g‘RFCE¼ÜSŒšg
(
¡©us
));

141 
	`SWLOG_INFO
("%s: s‘RFCP¬am‘” Sucûss\n", 
__FUNCTION__
);

142 
»t
 = 
WRITE_RFC_SUCCESS
;

144  
»t
;

145 
	}
}

154 
	$»ad_RFCPrİ”ty
(* 
ty³
, cÚ¡ * 
key
, *
out_v®ue
, 
size_t
 
d©asize
) {

156 
	`SWLOG_INFO
("%s: NÙ AµliÿbFÜ RDK-M. N“dØim¶em’t\n", 
__FUNCTION__
);

157  
READ_RFC_NOTAPPLICABLE
;

158 
	}
}

167 
	$wr™e_RFCPrİ”ty
(* 
ty³
, cÚ¡ * 
key
, cÚ¡ *
v®ue
, 
RFCVALDATATYPE
 
d©©y³
) {

169 
	`SWLOG_INFO
("%s: NÙ AµliÿbFÜ RDK-M. N“dØim¶em’t\n", 
__FUNCTION__
);

170  
WRITE_RFC_NOTAPPLICABLE
;

171 
	}
}

173 
	$isMsEÇbËd
(cÚ¡ *
deviû_Çme
)

175 #ifdeà
MTLS_DEFAULT_DISABLE


176 
ms_check
 = 0;

177 
»t
 = 
UTILS_FAIL
;

178 *
dev_´İ_Çme
 = "FORCE_MTLS";

179 
d©a
[
MAX_DEVICE_PROP_BUFF_SIZE
];

180 
rfc_d©a
[
RFC_VALUE_BUF_SIZE
];

182 *
d©a
 = 0;

183 *
rfc_d©a
 = 0;

189 
»t
 = 
	`g‘DeviûPrİ”tyD©a
(
dev_´İ_Çme
, 
d©a
, (data));

190 ià(
»t
 =ğ
UTILS_SUCCESS
) {

191 
	`SWLOG_INFO
("%s: MTLS stu äom deviû.´İ”ty fe=%s\n", 
__FUNCTION__
, 
d©a
);

193 
	`SWLOG_INFO
("%s: NO MTLS stu äom deviû.´İ”ty fe\n", 
__FUNCTION__
);

195 
»t
 = 
UTILS_FAIL
;

196 
»t
 = 
	`»ad_RFCPrİ”ty
("MTLS", 
RFC_MTLS
, 
rfc_d©a
, (rfc_data));

197 if(
»t
 == -1) {

198 
	`SWLOG_ERROR
("%s:„fc=% çed Stu %d\n", 
__FUNCTION__
, 
RFC_MTLS
, 
»t
);

200 
	`SWLOG_INFO
("%s:„fømsğ%s\n", 
__FUNCTION__
, 
rfc_d©a
);

202 if((!(
	`¡ºcmp
(
d©a
, "Œue", 4))è|| (!(¡ºcmp(
rfc_d©a
, "true", 4)))) {

203 
	`SWLOG_INFO
("MTLS…refered\n");

204 
ms_check
 = 1;

206  
ms_check
;

208 
	`SWLOG_INFO
("MTLS…refered\n");

211 
	}
}

213 
	$isInüem‘®CDLEÇbË
(cÚ¡ *
fe_Çme
)

215 
chunk_dwld
 = 0;

216 
»t
 = -1;

217 
rfc_d©a
[
RFC_VALUE_BUF_SIZE
];

219 ià(
fe_Çme
 =ğ
NULL
) {

220 
	`SWLOG_ERROR
("% : P¬am‘” i NULL\n", 
__FUNCTION__
);

221  
chunk_dwld
;

223 
	`SWLOG_INFO
("%s: Checkšg Inüem‘®CDLEÇbË... DowÆßd imagÇme=%s\n", 
__FUNCTION__
, 
fe_Çme
);

225 *
rfc_d©a
 = 0;

226 
»t
 = 
	`»ad_RFCPrİ”ty
("Inüem’lCDL", 
RFC_INCR_CDL
, 
rfc_d©a
, (rfc_data));

227 if(
»t
 == -1) {

228 
	`SWLOG_ERROR
("%s: Inüem’lCDL„fc=% çed Stu %d\n", 
__FUNCTION__
, 
RFC_MTLS
, 
»t
);

229  
chunk_dwld
;

231 
	`SWLOG_INFO
("%s:„føInüem’lCDLğ%s\n", 
__FUNCTION__
, 
rfc_d©a
);

234 if((
	`¡ºcmp
(
rfc_d©a
, "true", 4)) == 0) {

235 
	`SWLOG_INFO
("% : inüem’ÈcdÈi TRUE\n", 
__FUNCTION__
);

236 if((
	`feP»£ÁCheck
(
fe_Çme
)) == 0) {

237 
chunk_dwld
 = 1;

238 
	`SWLOG_INFO
("%s: Fe=% i ´e£Á. Inüem’lCDLƒÇbË=%d\n",
__FUNCTION__
, 
fe_Çme
, 
chunk_dwld
);

241  
chunk_dwld
;

242 
	}
}

248 
boŞ
 
	$isMmgbËNÙifyEÇbËd
()

250 
boŞ
 
¡©us
 = 
çl£
;

251 
»t
 = -1;

252 
rfc_d©a
[
RFC_VALUE_BUF_SIZE
];

254 *
rfc_d©a
 = 0;

255 
»t
 = 
	`»ad_RFCPrİ”ty
("MªageNÙify", 
RFC_MNG_NOTIFY
, 
rfc_d©a
, (rfc_data));

256 ià(
»t
 == -1) {

257 
	`SWLOG_ERROR
("%s: MªageNÙify„fc=% çed Stu %d\n", 
__FUNCTION__
, 
RFC_MNG_NOTIFY
, 
»t
);

258  
¡©us
;

260 
	`SWLOG_INFO
("%s:„føMªageNÙifyğ%s\n", 
__FUNCTION__
, 
rfc_d©a
);

261 ià((
	`¡ºcmp
(
rfc_d©a
, "true", 4)) == 0) {

262 
¡©us
 = 
Œue
;

265  
¡©us
;

266 
	}
}

272 
boŞ
 
	$isDebugS”viûsEÇbËd
()

274 
boŞ
 
¡©us
 =
çl£
;

275 
»t
 = -1;

276 
rfc_d©a
[
RFC_VALUE_BUF_SIZE
];

278 *
rfc_d©a
 = 0;

279 
»t
 = 
	`»ad_RFCPrİ”ty
("DEBUGSRV", 
RFC_DEBUGSRV
, 
rfc_d©a
, (rfc_data));

280 ià(
»t
 == -1) {

281 
	`SWLOG_ERROR
("%s:„føDebug s”viû =% çed Stu %d\n", 
__FUNCTION__
, 
RFC_DEBUGSRV
, 
»t
);

283 
	`SWLOG_INFO
("%s:„føDebug s”viû ğ%s\n", 
__FUNCTION__
, 
rfc_d©a
);

284 ià((
	`¡ºcmp
(
rfc_d©a
, "true", 4)) == 0) {

285 
¡©us
 = 
Œue
;

288  
¡©us
;

289 
	}
}

	@src/test/rdkfw_test_client.c

1 
	~<¡dio.h
>

2 
	~<¡dlib.h
>

3 
	~<¡ršg.h
>

4 
	~<uni¡d.h
>

5 
	~<gio/gio.h
>

10 
	#DAEMON_SERVICE
 "Üg.rdkfwupd©”.S”viû"

	)

11 
	#DAEMON_PATH
 "/Üg/rdkfwupd©”/£rviû"

	)

12 
	#DAEMON_INTERFACE
 "Üg.rdkfwupd©”.IÁ”çû"

	)

15 
	#COLOR_RED
 "\x1b[31m"

	)

16 
	#COLOR_GREEN
 "\x1b[32m"

	)

17 
	#COLOR_YELLOW
 "\x1b[33m"

	)

18 
	#COLOR_BLUE
 "\x1b[34m"

	)

19 
	#COLOR_RESET
 "\x1b[0m"

	)

22 
GDBusCÚÃùiÚ
 *
	mcÚÃùiÚ
;

23 
gch¬
 *
	m´oûss_Çme
;

24 
gch¬
 *
	mlib_v”siÚ
;

25 
gch¬
 *
	m£nd”_id
;

26 
gušt64
 
	mhªdËr_id
;

27 
gboŞ—n
 
	mis_»gi¡”ed
;

28 } 
	tTe¡Cl›Á
;

31 
Te¡Cl›Á
* 
‹¡_ş›Á_Ãw
(cÚ¡ 
gch¬
 *
´oûss_Çme
, cÚ¡ gch¬ *
lib_v”siÚ
);

32 
gboŞ—n
 
‹¡_ş›Á_»gi¡”
(
Te¡Cl›Á
 *
ş›Á
);

33 
gboŞ—n
 
‹¡_ş›Á_check_upd©e
(
Te¡Cl›Á
 *
ş›Á
);

34 
gboŞ—n
 
‹¡_ş›Á_uÄegi¡”
(
Te¡Cl›Á
 *
ş›Á
);

35 
‹¡_ş›Á_ä“
(
Te¡Cl›Á
 *
ş›Á
);

36 
´št_u§ge
(cÚ¡ *
´og¿m_Çme
);

37 
run_sûÇrio_‹¡s
();

40 
Te¡Cl›Á
* 
	$‹¡_ş›Á_Ãw
(cÚ¡ 
gch¬
 *
´oûss_Çme
, cÚ¡ gch¬ *
lib_v”siÚ
)

42 
GE¼Ü
 *
”rÜ
 = 
NULL
;

43 
Te¡Cl›Á
 *
ş›Á
 = 
	`g_m®loc0
((TestClient));

45 
	`´štf
(
COLOR_BLUE
 "==ğC»©šg Te¡ Cl›Á ===" 
COLOR_RESET
 "\n");

46 
	`´štf
("Proûs Name: %s\n", 
´oûss_Çme
);

47 
	`´štf
("Lib¿ry V”siÚ: %s\n", 
lib_v”siÚ
);

50 
ş›Á
->
cÚÃùiÚ
 = 
	`g_bus_g‘_sync
(
G_BUS_TYPE_SYSTEM
, 
NULL
, &
”rÜ
);

51 ià(!
ş›Á
->
cÚÃùiÚ
) {

52 
	`´štf
(
COLOR_RED
 "âœ— FaedØcÚÃùØD-Bus: %s" 
COLOR_RESET
 "\n", 
”rÜ
->
mes§ge
);

53 
	`g_”rÜ_ä“
(
”rÜ
);

54 
	`g_ä“
(
ş›Á
);

55  
NULL
;

58 
ş›Á
->
´oûss_Çme
 = 
	`g_¡rdup
(process_name);

59 
ş›Á
->
lib_v”siÚ
 = 
	`g_¡rdup
(lib_version);

60 
ş›Á
->
hªdËr_id
 = 0;

61 
ş›Á
->
is_»gi¡”ed
 = 
FALSE
;

64 
ş›Á
->
£nd”_id
 = 
	`g_¡rdup
(
	`g_dbus_cÚÃùiÚ_g‘_unique_Çme
(ş›Á->
cÚÃùiÚ
));

66 
	`´štf
(
COLOR_GREEN
 "âœ“ Cl›Á c»©ed sucûssfuÎy" 
COLOR_RESET
 "\n");

67 
	`´štf
("D-Bu S’d” ID: %s\n", 
ş›Á
->
£nd”_id
);

68 
	`´štf
("\n");

70  
ş›Á
;

71 
	}
}

74 
gboŞ—n
 
	$‹¡_ş›Á_»gi¡”
(
Te¡Cl›Á
 *
ş›Á
)

76 
GE¼Ü
 *
”rÜ
 = 
NULL
;

77 
GV¬ŸÁ
 *
»suÉ
 = 
NULL
;

79 
	`´štf
(
COLOR_BLUE
 "==ğRegi¡”šg Proûs ===" 
COLOR_RESET
 "\n");

80 
	`´štf
("C®lšg Regi¡”Proûss('%s', '%s')...\n", 
ş›Á
->
´oûss_Çme
, cl›Á->
lib_v”siÚ
);

82 
»suÉ
 = 
	`g_dbus_cÚÃùiÚ_ÿÎ_sync
(

83 
ş›Á
->
cÚÃùiÚ
,

84 
DAEMON_SERVICE
,

85 
DAEMON_PATH
,

86 
DAEMON_INTERFACE
,

88 
	`g_v¬ŸÁ_Ãw
("(ss)", 
ş›Á
->
´oûss_Çme
, cl›Á->
lib_v”siÚ
),

89 
	`G_VARIANT_TYPE
("(t)"),

90 
G_DBUS_CALL_FLAGS_NONE
,

92 
NULL
,

93 &
”rÜ


96 ià(
»suÉ
) {

97 
	`g_v¬ŸÁ_g‘
(
»suÉ
, "Ñ)", &
ş›Á
->
hªdËr_id
);

98 
ş›Á
->
is_»gi¡”ed
 = 
TRUE
;

99 
	`g_v¬ŸÁ_uÄef
(
»suÉ
);

101 
	`´štf
(
COLOR_GREEN
 "âœ“ Regi¡¿tiÚ sucûssful!" 
COLOR_RESET
 "\n");

102 
	`´štf
("HªdË¸ID: %" 
G_GUINT64_FORMAT
 "\n", 
ş›Á
->
hªdËr_id
);

103 
	`´štf
("\n");

104  
TRUE
;

106 
	`´štf
(
COLOR_RED
 "âœ— Regi¡¿tiÚ faed: %s" 
COLOR_RESET
 "\n", 
”rÜ
->
mes§ge
);

107 
	`g_”rÜ_ä“
(
”rÜ
);

108 
	`´štf
("\n");

109  
FALSE
;

111 
	}
}

114 
gboŞ—n
 
	$‹¡_ş›Á_check_upd©e
(
Te¡Cl›Á
 *
ş›Á
)

116 
GE¼Ü
 *
”rÜ
 = 
NULL
;

117 
GV¬ŸÁ
 *
»suÉ
 = 
NULL
;

119 
	`´štf
(
COLOR_BLUE
 "==ğTe¡šg CheckFÜUpd©===" 
COLOR_RESET
 "\n");

121 ià(!
ş›Á
->
is_»gi¡”ed
) {

122 
	`´štf
(
COLOR_YELLOW
 "âš  Cl›Á‚Ù„egi¡”ed, skpšg CheckFÜUpd©‹¡" 
COLOR_RESET
 "\n");

123 
	`´štf
("\n");

124  
FALSE
;

127 
	`´štf
("C®lšg CheckFÜUpd©e('%s')...\n", 
ş›Á
->
´oûss_Çme
);

129 
»suÉ
 = 
	`g_dbus_cÚÃùiÚ_ÿÎ_sync
(

130 
ş›Á
->
cÚÃùiÚ
,

131 
DAEMON_SERVICE
,

132 
DAEMON_PATH
,

133 
DAEMON_INTERFACE
,

135 
	`g_v¬ŸÁ_Ãw
("(s)", 
ş›Á
->
´oûss_Çme
),

136 
	`G_VARIANT_TYPE
("(ssssj)"),

137 
G_DBUS_CALL_FLAGS_NONE
,

139 
NULL
,

140 &
”rÜ


143 ià(
»suÉ
) {

144 
gch¬
 *
fwd©a_v”siÚ
, *
fwd©a_avaabËV”siÚ
, *
fwd©a_upd©eD‘as
, *
fwd©a_¡©us
;

145 
gšt32
 
fwd©a_¡©us_code
;

147 
	`g_v¬ŸÁ_g‘
(
»suÉ
, "(ssssj)",

148 &
fwd©a_v”siÚ
, &
fwd©a_avaabËV”siÚ
,

149 &
fwd©a_upd©eD‘as
, &
fwd©a_¡©us
, &
fwd©a_¡©us_code
);

151 
	`´štf
(
COLOR_GREEN
 "âœ“ CheckFÜUpd©sucûssful!" 
COLOR_RESET
 "\n");

152 
	`´štf
("Cu¼’ˆV”siÚ: %s\n", 
fwd©a_v”siÚ
 ? fwdata_version : "N/A");

153 
	`´štf
("AvaabË V”siÚ: %s\n", 
fwd©a_avaabËV”siÚ
 ? fwdata_availableVersion : "N/A");

154 
	`´štf
("Upd©D‘as: %s\n", 
fwd©a_upd©eD‘as
 ? fwdata_updateDetails : "N/A");

155 
	`´štf
("Stus: %s\n", 
fwd©a_¡©us
 ? fwdata_status : "N/A");

156 
	`´štf
("Stu Code: %d\n", 
fwd©a_¡©us_code
);

158 
	`g_v¬ŸÁ_uÄef
(
»suÉ
);

159 
	`´štf
("\n");

160  
TRUE
;

162 
	`´štf
(
COLOR_RED
 "âœ— CheckFÜUpd©çed: %s" 
COLOR_RESET
 "\n", 
”rÜ
->
mes§ge
);

163 
	`g_”rÜ_ä“
(
”rÜ
);

164 
	`´štf
("\n");

165  
FALSE
;

167 
	}
}

170 
gboŞ—n
 
	$‹¡_ş›Á_uÄegi¡”
(
Te¡Cl›Á
 *
ş›Á
)

172 
GE¼Ü
 *
”rÜ
 = 
NULL
;

173 
GV¬ŸÁ
 *
»suÉ
 = 
NULL
;

175 
	`´štf
(
COLOR_BLUE
 "==ğUÄegi¡”šg Proûs ===" 
COLOR_RESET
 "\n");

177 ià(!
ş›Á
->
is_»gi¡”ed
) {

178 
	`´štf
(
COLOR_YELLOW
 "âš  Cl›Á‚Ù„egi¡”ed, skpšg uÄegi¡¿tiÚ" 
COLOR_RESET
 "\n");

179 
	`´štf
("\n");

180  
FALSE
;

183 
	`´štf
("C®lšg UÄegi¡”Proûss(%" 
G_GUINT64_FORMAT
 ")...\n", 
ş›Á
->
hªdËr_id
);

185 
»suÉ
 = 
	`g_dbus_cÚÃùiÚ_ÿÎ_sync
(

186 
ş›Á
->
cÚÃùiÚ
,

187 
DAEMON_SERVICE
,

188 
DAEMON_PATH
,

189 
DAEMON_INTERFACE
,

191 
	`g_v¬ŸÁ_Ãw
("Ñ)", 
ş›Á
->
hªdËr_id
),

192 
	`G_VARIANT_TYPE
("(b)"),

193 
G_DBUS_CALL_FLAGS_NONE
,

195 
NULL
,

196 &
”rÜ


199 ià(
»suÉ
) {

200 
gboŞ—n
 
sucûss
;

201 
	`g_v¬ŸÁ_g‘
(
»suÉ
, "(b)", &
sucûss
);

202 
	`g_v¬ŸÁ_uÄef
(
»suÉ
);

204 ià(
sucûss
) {

205 
	`´štf
(
COLOR_GREEN
 "âœ“ UÄegi¡¿tiÚ sucûssful!" 
COLOR_RESET
 "\n");

206 
ş›Á
->
is_»gi¡”ed
 = 
FALSE
;

207 
ş›Á
->
hªdËr_id
 = 0;

209 
	`´štf
(
COLOR_RED
 "âœ— UÄegi¡¿tiÚ faed (d«mÚ„‘uºed f®£)" 
COLOR_RESET
 "\n");

211 
	`´štf
("\n");

212  
sucûss
;

214 
	`´štf
(
COLOR_RED
 "âœ— UÄegi¡¿tiÚ faed: %s" 
COLOR_RESET
 "\n", 
”rÜ
->
mes§ge
);

215 
	`g_”rÜ_ä“
(
”rÜ
);

216 
	`´štf
("\n");

217  
FALSE
;

219 
	}
}

222 
	$‹¡_ş›Á_ä“
(
Te¡Cl›Á
 *
ş›Á
)

224 ià(!
ş›Á
) ;

226 ià(
ş›Á
->
is_»gi¡”ed
) {

227 
	`´štf
(
COLOR_YELLOW
 "âš  Cl›Á stÈ»gi¡”ed,‡uto-uÄegi¡”šg..." 
COLOR_RESET
 "\n");

228 
	`‹¡_ş›Á_uÄegi¡”
(
ş›Á
);

231 ià(
ş›Á
->
cÚÃùiÚ
) {

232 
	`g_objeù_uÄef
(
ş›Á
->
cÚÃùiÚ
);

235 
	`g_ä“
(
ş›Á
->
´oûss_Çme
);

236 
	`g_ä“
(
ş›Á
->
lib_v”siÚ
);

237 
	`g_ä“
(
ş›Á
->
£nd”_id
);

238 
	`g_ä“
(
ş›Á
);

240 
	`´štf
(
COLOR_BLUE
 "Te¡ cl›Á cËªed up" 
COLOR_RESET
 "\n\n");

241 
	}
}

244 
	$´št_u§ge
(cÚ¡ *
´og¿m_Çme
)

246 
	`´štf
("RDK Firmware Updater Daemon Test Client\n");

247 
	`´štf
("========================================\n\n");

249 
	`´štf
("Usage:\n");

250 
	`´štf
(" % --»gi¡” <´oûss_Çme> <lib_v”siÚ> Regi¡”…roûss\n", 
´og¿m_Çme
);

251 
	`´štf
(" % --check-upd©<´oûss_Çme> <lib_v”siÚ> Regi¡” + CheckFÜUpd©e\n", 
´og¿m_Çme
);

252 
	`´štf
(" % --fuÎ-‹¡ <´oûss_Çme> <lib_v”siÚ> Regi¡” + Check + UÄegi¡”\n", 
´og¿m_Çme
);

253 
	`´štf
(" % --sûÇrio  RuÀ®È‹¡ sûÇrios\n", 
´og¿m_Çme
);

254 
	`´štf
(" % --h–° Showhi h–p\n", 
´og¿m_Çme
);

255 
	`´štf
("\n");

257 
	`´štf
("Examples:\n");

258 
	`´štf
(" % --»gi¡” \"MyAµ\" \"1.0.0\"\n", 
´og¿m_Çme
);

259 
	`´štf
(" % --check-upd©\"Te¡Aµ\" \"2.0.0\"\n", 
´og¿m_Çme
);

260 
	`´štf
(" % --fuÎ-‹¡ \"DemoAµ\" \"3.0.0\"\n", 
´og¿m_Çme
);

261 
	`´štf
(" % --sûÇrios\n", 
´og¿m_Çme
);

262 
	`´štf
("\n");

263 
	}
}

266 
	$run_sûÇrio_‹¡s
()

268 
	`´štf
(
COLOR_BLUE
 "========================================\n");

269 
	`´štf
("Running Comprehensive Registration Tests\n");

270 
	`´štf
("========================================" 
COLOR_RESET
 "\n\n");

272 
Te¡Cl›Á
 *
ş›Á1
 = 
NULL
, *
ş›Á2
 = NULL;

275 
	`´štf
(
COLOR_YELLOW
 "--- SûÇriØ1: BasiøRegi¡¿tiÚ ---" 
COLOR_RESET
 "\n");

276 
ş›Á1
 = 
	`‹¡_ş›Á_Ãw
("ScenarioApp1", "1.0.0");

277 ià(
ş›Á1
) {

278 
	`‹¡_ş›Á_»gi¡”
(
ş›Á1
);

279 
	`‹¡_ş›Á_check_upd©e
(
ş›Á1
);

283 
	`´štf
(
COLOR_YELLOW
 "--- SûÇriØ2: SamCl›Á Re-»gi¡¿tiÚ ---" 
COLOR_RESET
 "\n");

284 ià(
ş›Á1
) {

285 
	`´štf
("Re-registering same…rocess with same client...\n");

286 
	`‹¡_ş›Á_»gi¡”
(
ş›Á1
);

290 
	`´štf
(
COLOR_YELLOW
 "--- SûÇriØ3: SamCl›Á, Difã»Á Proûs ---" 
COLOR_RESET
 "\n");

291 ià(
ş›Á1
) {

292 
Te¡Cl›Á
 *
‹mp_ş›Á
 = 
	`g_m®loc0
((TestClient));

293 
‹mp_ş›Á
->
cÚÃùiÚ
 = 
	`g_objeù_»f
(
ş›Á1
->connection);

294 
‹mp_ş›Á
->
´oûss_Çme
 = 
	`g_¡rdup
("DifferentApp");

295 
‹mp_ş›Á
->
lib_v”siÚ
 = 
	`g_¡rdup
("1.0.0");

296 
‹mp_ş›Á
->
£nd”_id
 = 
	`g_¡rdup
(
ş›Á1
->sender_id);

297 
‹mp_ş›Á
->
hªdËr_id
 = 0;

298 
‹mp_ş›Á
->
is_»gi¡”ed
 = 
FALSE
;

300 
	`´štf
("Attemptingo„egister different…rocess with same client...\n");

301 
	`‹¡_ş›Á_»gi¡”
(
‹mp_ş›Á
);

303 
	`‹¡_ş›Á_ä“
(
‹mp_ş›Á
);

307 
	`´štf
(
COLOR_YELLOW
 "--- SûÇriØ4: Difã»Á Cl›Á, SamProûs ---" 
COLOR_RESET
 "\n");

308 
ş›Á2
 = 
	`‹¡_ş›Á_Ãw
("ScenarioApp1", "2.0.0");

309 ià(
ş›Á2
) {

310 
	`´štf
("Attemptingo„egister same…rocess‚ame with different client...\n");

311 
	`‹¡_ş›Á_»gi¡”
(
ş›Á2
);

315 
	`´štf
(
COLOR_YELLOW
 "--- SûÇriØ5: Difã»Á Cl›Á, Difã»Á Proûs ---" 
COLOR_RESET
 "\n");

316 ià(
ş›Á2
) {

317 
	`‹¡_ş›Á_ä“
(
ş›Á2
);

319 
ş›Á2
 = 
	`‹¡_ş›Á_Ãw
("ScenarioApp2", "2.0.0");

320 ià(
ş›Á2
) {

321 
	`‹¡_ş›Á_»gi¡”
(
ş›Á2
);

322 
	`‹¡_ş›Á_check_upd©e
(
ş›Á2
);

326 
	`´štf
(
COLOR_YELLOW
 "--- CËªu°---" 
COLOR_RESET
 "\n");

327 
	`‹¡_ş›Á_ä“
(
ş›Á1
);

328 
	`‹¡_ş›Á_ä“
(
ş›Á2
);

330 
	`´štf
(
COLOR_GREEN
 "========================================\n");

331 
	`´štf
("Scenario Testing Complete!\n");

332 
	`´štf
("========================================" 
COLOR_RESET
 "\n");

333 
	}
}

336 
	$maš
(
¬gc
, *
¬gv
[])

338 ià(
¬gc
 < 2) {

339 
	`´št_u§ge
(
¬gv
[0]);

343 ià(
	`g_¡rcmp0
(
¬gv
[1], "--help") == 0) {

344 
	`´št_u§ge
(
¬gv
[0]);

348 ià(
	`g_¡rcmp0
(
¬gv
[1], "--scenarios") == 0) {

349 
	`run_sûÇrio_‹¡s
();

353 ià(
¬gc
 < 4) {

354 
	`´štf
(
COLOR_RED
 "E¼Ü: Missšg…roûss_ÇmÜ†ib_v”siÚ‡rgum’ts" 
COLOR_RESET
 "\n\n");

355 
	`´št_u§ge
(
¬gv
[0]);

359 cÚ¡ *
´oûss_Çme
 = 
¬gv
[2];

360 cÚ¡ *
lib_v”siÚ
 = 
¬gv
[3];

362 
Te¡Cl›Á
 *
ş›Á
 = 
	`‹¡_ş›Á_Ãw
(
´oûss_Çme
, 
lib_v”siÚ
);

363 ià(!
ş›Á
) {

367 
gboŞ—n
 
sucûss
 = 
FALSE
;

369 ià(
	`g_¡rcmp0
(
¬gv
[1], "--register") == 0) {

370 
sucûss
 = 
	`‹¡_ş›Á_»gi¡”
(
ş›Á
);

372 ià(
	`g_¡rcmp0
(
¬gv
[1], "--check-update") == 0) {

373 ià(
	`‹¡_ş›Á_»gi¡”
(
ş›Á
)) {

374 
sucûss
 = 
	`‹¡_ş›Á_check_upd©e
(
ş›Á
);

377 ià(
	`g_¡rcmp0
(
¬gv
[1], "--full-test") == 0) {

378 ià(
	`‹¡_ş›Á_»gi¡”
(
ş›Á
)) {

379 
	`‹¡_ş›Á_check_upd©e
(
ş›Á
);

380 
sucûss
 = 
	`‹¡_ş›Á_uÄegi¡”
(
ş›Á
);

384 
	`´štf
(
COLOR_RED
 "E¼Ü: UnknowÀİtiÚ '%s'" 
COLOR_RESET
 "\n\n", 
¬gv
[1]);

385 
	`´št_u§ge
(
¬gv
[0]);

386 
	`‹¡_ş›Á_ä“
(
ş›Á
);

390 
	`‹¡_ş›Á_ä“
(
ş›Á
);

391  
sucûss
 ? 0 : 1;

392 
	}
}

	@src/test/testClient.c

17 
	~<¡dio.h
>

18 
	~<¡dlib.h
>

19 
	~<¡ršg.h
>

20 
	~<uni¡d.h
>

21 
	~<gio/gio.h
>

24 
	#COLOR_RED
 "\033[0;31m"

	)

25 
	#COLOR_GREEN
 "\033[0;32m"

	)

26 
	#COLOR_YELLOW
 "\033[1;33m"

	)

27 
	#COLOR_BLUE
 "\033[0;34m"

	)

28 
	#COLOR_RESET
 "\033[0m"

	)

31 
	#DBUS_SERVICE_NAME
 "Üg.rdkfwupd©”.S”viû"

	)

32 
	#DBUS_OBJECT_PATH
 "/Üg/rdkfwupd©”/S”viû"

	)

33 
	#DBUS_INTERFACE_NAME
 "Üg.rdkfwupd©”.IÁ”çû"

	)

37 
GDBusCÚÃùiÚ
 *
	mcÚÃùiÚ
;

38 
gch¬
 *
	m´oûss_Çme
;

39 
gch¬
 *
	mlib_v”siÚ
;

40 
gušt64
 
	mhªdËr_id
;

41 
gboŞ—n
 
	mis_»gi¡”ed
;

42 } 
	tTe¡Cl›ÁCÚ‹xt
;

45 
Te¡Cl›ÁCÚ‹xt
* 
‹¡_ş›Á_Ãw
(cÚ¡ 
gch¬
 *
´oûss_Çme
, cÚ¡ gch¬ *
lib_v”siÚ
);

46 
gboŞ—n
 
‹¡_ş›Á_»gi¡”
(
Te¡Cl›ÁCÚ‹xt
 *
ş›Á
);

47 
gboŞ—n
 
‹¡_ş›Á_check_upd©e
(
Te¡Cl›ÁCÚ‹xt
 *
ş›Á
);

48 
gboŞ—n
 
‹¡_ş›Á_uÄegi¡”
(
Te¡Cl›ÁCÚ‹xt
 *
ş›Á
);

49 
‹¡_ş›Á_ä“
(
Te¡Cl›ÁCÚ‹xt
 *
ş›Á
);

50 
´št_u§ge
(cÚ¡ *
´og¿m_Çme
);

51 
run_‹¡_sûÇrio
(
Te¡Cl›ÁCÚ‹xt
 *
ş›Á
, cÚ¡ 
gch¬
 *
‹¡_mode
);

54 
	#PRINT_SUCCESS
(
fmt
, ...è
	`´štf
(
COLOR_GREEN
 "[SUCCESS] " fmˆ
COLOR_RESET
 "\n", ##
__VA_ARGS__
)

	)

55 
	#PRINT_ERROR
(
fmt
, ...è
	`´štf
(
COLOR_RED
 "[ERROR] " fmˆ
COLOR_RESET
 "\n", ##
__VA_ARGS__
)

	)

56 
	#PRINT_INFO
(
fmt
, ...è
	`´štf
(
COLOR_BLUE
 "[INFO] " fmˆ
COLOR_RESET
 "\n", ##
__VA_ARGS__
)

	)

57 
	#PRINT_WARN
(
fmt
, ...è
	`´štf
(
COLOR_YELLOW
 "[WARN] " fmˆ
COLOR_RESET
 "\n", ##
__VA_ARGS__
)

	)

62 
	$Ú_check_fÜ_upd©e_com¶‘e_sigÇl
(
GDBusCÚÃùiÚ
 *
cÚÃùiÚ
,

63 cÚ¡ 
gch¬
 *
£nd”_Çme
,

64 cÚ¡ 
gch¬
 *
objeù_·th
,

65 cÚ¡ 
gch¬
 *
š‹rçû_Çme
,

66 cÚ¡ 
gch¬
 *
sigÇl_Çme
,

67 
GV¬ŸÁ
 *
·¿m‘”s
,

68 
gpoš‹r
 
u£r_d©a
)

70 
Te¡Cl›ÁCÚ‹xt
 *
ş›Á
 = (Te¡Cl›ÁCÚ‹xt*)
u£r_d©a
;

71 
gch¬
 *
hªdËr_id
;

72 
gšt
 
»suÉ_code
;

73 
gch¬
 *
cu¼’t_v”siÚ
, *
avaabË_v”siÚ
, *
upd©e_d‘as
, *
¡©us_mes§ge
;

76 
	`g_v¬ŸÁ_g‘
(
·¿m‘”s
, "(sissss)", &
hªdËr_id
, &
»suÉ_code
,

77 &
cu¼’t_v”siÚ
, &
avaabË_v”siÚ
, &
upd©e_d‘as
, &
¡©us_mes§ge
);

79 
	`´štf
("\n" 
COLOR_YELLOW
 "ğŸ”” D-Bu SigÇÈReûived: CheckFÜUpd©eCom¶‘e" 
COLOR_RESET
 "\n");

80 
	`PRINT_INFO
("Signal Details:");

81 
	`PRINT_INFO
(" HªdË¸ID: %s", 
hªdËr_id
);

82 
	`PRINT_INFO
(" ResuÉ Code: %d (%s)", 
»suÉ_code
,

83 
»suÉ_code
 == 0 ? "UPDATE_AVAILABLE" :

84 
»suÉ_code
 == 1 ? "UPDATE_NOT_AVAILABLE" :

85 
»suÉ_code
 == 2 ? "UPDATE_ERROR" : "UNKNOWN");

86 
	`PRINT_INFO
(" Cu¼’ˆV”siÚ: %s", 
cu¼’t_v”siÚ
);

87 
	`PRINT_INFO
(" AvaabË V”siÚ: %s", 
avaabË_v”siÚ
);

88 
	`PRINT_INFO
(" Upd©D‘as: %s", 
upd©e_d‘as
);

89 
	`PRINT_INFO
(" Stu Mes§ge: %s", 
¡©us_mes§ge
);

92 
gch¬
 *
our_hªdËr_¡r
 = 
	`g_¡rdup_´štf
("%"
G_GUINT64_FORMAT
, 
ş›Á
->
hªdËr_id
);

93 ià(
	`g_¡rcmp0
(
hªdËr_id
, 
our_hªdËr_¡r
) == 0) {

94 
	`PRINT_SUCCESS
("âœ… Signal is for our handler - invoking callback!");

95 
	`´štf
(
COLOR_GREEN
 "ğŸ“ [CALLBACK INVOKED] Cl›Á‡µliÿtiÚ c®lback c®Ëd w™h FwD©a\n" 
COLOR_RESET
);

97 
	`PRINT_WARN
("âš ï¸ SigÇÈi fÜ difã»Á hªdË¸(% v %sè- ignÜšg", 
hªdËr_id
, 
our_hªdËr_¡r
);

99 
	`g_ä“
(
our_hªdËr_¡r
);

102 
	`g_ä“
(
hªdËr_id
);

103 
	`g_ä“
(
cu¼’t_v”siÚ
);

104 
	`g_ä“
(
avaabË_v”siÚ
);

105 
	`g_ä“
(
upd©e_d‘as
);

106 
	`g_ä“
(
¡©us_mes§ge
);

108 
	`´štf
(
COLOR_YELLOW
 "ğŸ”” SigÇÈ´oûssšg com¶‘e\n" 
COLOR_RESET
 "\n");

109 
	}
}

114 
Te¡Cl›ÁCÚ‹xt
* 
	$‹¡_ş›Á_Ãw
(cÚ¡ 
gch¬
 *
´oûss_Çme
, cÚ¡ gch¬ *
lib_v”siÚ
)

116 
Te¡Cl›ÁCÚ‹xt
 *
ş›Á
 = 
	`g_m®loc0
((TestClientContext));

117 
GE¼Ü
 *
”rÜ
 = 
NULL
;

119 
	`PRINT_INFO
("C»©šge¡ cl›Á fÜ…roûs '%s' v”siÚ '%s'", 
´oûss_Çme
, 
lib_v”siÚ
);

122 
ş›Á
->
cÚÃùiÚ
 = 
	`g_bus_g‘_sync
(
G_BUS_TYPE_SYSTEM
, 
NULL
, &
”rÜ
);

123 ià(!
ş›Á
->
cÚÃùiÚ
) {

124 
	`PRINT_ERROR
("FaedØcÚÃùØsy¡em D-Bus: %s", 
”rÜ
->
mes§ge
);

125 
	`g_”rÜ_ä“
(
”rÜ
);

126 
	`g_ä“
(
ş›Á
);

127  
NULL
;

130 
ş›Á
->
´oûss_Çme
 = 
	`g_¡rdup
(process_name);

131 
ş›Á
->
lib_v”siÚ
 = 
	`g_¡rdup
(lib_version);

132 
ş›Á
->
hªdËr_id
 = 0;

133 
ş›Á
->
is_»gi¡”ed
 = 
FALSE
;

136 
	`PRINT_INFO
("Subscribingo CheckForUpdateComplete D-Bus signals...");

137 
	`g_dbus_cÚÃùiÚ_sigÇl_subsüibe
(

138 
ş›Á
->
cÚÃùiÚ
,

139 
DBUS_SERVICE_NAME
,

140 
DBUS_INTERFACE_NAME
,

142 
DBUS_OBJECT_PATH
,

143 
NULL
,

144 
G_DBUS_SIGNAL_FLAGS_NONE
,

145 
Ú_check_fÜ_upd©e_com¶‘e_sigÇl
,

146 
ş›Á
,

147 
NULL


149 
	`PRINT_SUCCESS
("Subscribedo D-Bus signals successfully");

151 
	`PRINT_SUCCESS
("Test client context created successfully");

152  
ş›Á
;

153 
	}
}

158 
gboŞ—n
 
	$‹¡_ş›Á_»gi¡”
(
Te¡Cl›ÁCÚ‹xt
 *
ş›Á
)

160 
GE¼Ü
 *
”rÜ
 = 
NULL
;

161 
GV¬ŸÁ
 *
»suÉ
 = 
NULL
;

163 
	`PRINT_INFO
("Attemptingo„egister…rocess '%s' with version '%s'",

164 
ş›Á
->
´oûss_Çme
, cl›Á->
lib_v”siÚ
);

167 
»suÉ
 = 
	`g_dbus_cÚÃùiÚ_ÿÎ_sync
(

168 
ş›Á
->
cÚÃùiÚ
,

169 
DBUS_SERVICE_NAME
,

170 
DBUS_OBJECT_PATH
,

171 
DBUS_INTERFACE_NAME
,

173 
	`g_v¬ŸÁ_Ãw
("(ss)", 
ş›Á
->
´oûss_Çme
, cl›Á->
lib_v”siÚ
),

174 
	`G_VARIANT_TYPE
("(t)"),

175 
G_DBUS_CALL_FLAGS_NONE
,

177 
NULL
,

178 &
”rÜ


181 ià(
»suÉ
) {

183 
	`g_v¬ŸÁ_g‘
(
»suÉ
, "Ñ)", &
ş›Á
->
hªdËr_id
);

184 
ş›Á
->
is_»gi¡”ed
 = 
TRUE
;

185 
	`g_v¬ŸÁ_uÄef
(
»suÉ
);

187 
	`PRINT_SUCCESS
("Regi¡¿tiÚ sucûssful! HªdË¸ID: %"
G_GUINT64_FORMAT
, 
ş›Á
->
hªdËr_id
);

188  
TRUE
;

191 
	`PRINT_ERROR
("Regi¡¿tiÚ faed: %s", 
”rÜ
->
mes§ge
);

194 ià(
	`g_”rÜ_m©ches
(
”rÜ
, 
G_DBUS_ERROR
, 
G_DBUS_ERROR_ACCESS_DENIED
)) {

195 
	`PRINT_WARN
("This is‡n ACCESS_DENIEDƒrror -†ikely duplicate„egistration scenario");

196 } ià(
	`g_”rÜ_m©ches
(
”rÜ
, 
G_DBUS_ERROR
, 
G_DBUS_ERROR_INVALID_ARGS
)) {

197 
	`PRINT_WARN
("This is‡n INVALID_ARGSƒrror - check…rocess‚ame validity");

200 
	`g_”rÜ_ä“
(
”rÜ
);

201  
FALSE
;

203 
	}
}

208 
gboŞ—n
 
	$‹¡_ş›Á_check_upd©e
(
Te¡Cl›ÁCÚ‹xt
 *
ş›Á
)

210 
GE¼Ü
 *
”rÜ
 = 
NULL
;

211 
GV¬ŸÁ
 *
»suÉ
 = 
NULL
;

212 
gch¬
 *
cu¼’t_v”siÚ
 = 
NULL
;

213 
gch¬
 *
avaabË_v”siÚ
 = 
NULL
;

214 
gch¬
 *
upd©e_d‘as
 = 
NULL
;

215 
gch¬
 *
¡©us
 = 
NULL
;

216 
gšt32
 
¡©us_code
 = 0;

218 ià(!
ş›Á
->
is_»gi¡”ed
) {

219 
	`PRINT_ERROR
("Cannot check for updates - client‚ot„egistered");

220  
FALSE
;

223 
	`PRINT_INFO
("Checkšg fÜ upd©e usšg hªdË¸ID: %"
G_GUINT64_FORMAT
, 
ş›Á
->
hªdËr_id
);

224 
	`PRINT_INFO
("Making D-Bus method callo daemon...");

227 
gboŞ—n
 
ÿche_exi¡s
 = 
	`g_fe_‹¡
("/tmp/xcÚf_»¥Ú£_thund”.txt", 
G_FILE_TEST_EXISTS
);

228 ià(
ÿche_exi¡s
) {

229 
	`PRINT_INFO
("Cache fileƒxists -ƒxpecting CACHE HIT (immediate„esponse with„eal data)");

231 
	`PRINT_INFO
("No cache file -ƒxpecting CACHE MISS:");

232 
	`PRINT_INFO
(" 1. Immediate„esponse: UPDATE_ERROR (status_code=2)");

233 
	`PRINT_INFO
(" 2. Background fetch starts");

234 
	`PRINT_INFO
(" 3. Signal broadcast when complete");

238 
»suÉ
 = 
	`g_dbus_cÚÃùiÚ_ÿÎ_sync
(

239 
ş›Á
->
cÚÃùiÚ
,

240 
DBUS_SERVICE_NAME
,

241 
DBUS_OBJECT_PATH
,

242 
DBUS_INTERFACE_NAME
,

244 
	`g_v¬ŸÁ_Ãw
("(s)", 
ş›Á
->
´oûss_Çme
),

245 
	`G_VARIANT_TYPE
("(ssssi)"),

246 
G_DBUS_CALL_FLAGS_NONE
,

248 
NULL
,

249 &
”rÜ


252 ià(
»suÉ
) {

254 
	`g_v¬ŸÁ_g‘
(
»suÉ
, "(ssssi)",

255 &
cu¼’t_v”siÚ
, &
avaabË_v”siÚ
, &
upd©e_d‘as
, &
¡©us
, &
¡©us_code
);

257 
	`PRINT_SUCCESS
("CheckForUpdate D-Bus method„esponse„eceived!");

258 
	`PRINT_INFO
("RESPONSE DATA:");

259 
	`PRINT_INFO
(" Cu¼’ˆV”siÚ: '%s'", 
cu¼’t_v”siÚ
 ? current_version : "");

260 
	`PRINT_INFO
(" AvaabË V”siÚ: '%s'", 
avaabË_v”siÚ
 ?‡vailable_version : "");

261 
	`PRINT_INFO
(" Upd©D‘as: '%s'", 
upd©e_d‘as
 ? update_details : "");

262 
	`PRINT_INFO
(" Stus: '%s'", 
¡©us
 ? status : "");

263 
	`PRINT_INFO
(" Stu Code: %d", 
¡©us_code
);

266 
¡©us_code
) {

268 
	`PRINT_SUCCESS
("CACHE HIT: Update‡vailable!");

269 
	`PRINT_SUCCESS
("Flow: Cache -> Immediate„esponse with„eal data");

272 
	`PRINT_SUCCESS
("CACHE HIT: No update‡vailable");

273 
	`PRINT_SUCCESS
("Flow: Cache -> Immediate„esponse with„eal data");

276 
	`PRINT_WARN
("CACHE MISS: UPDATE_ERROR„eceived");

277 
	`PRINT_INFO
("Flow: No cache -> UPDATE_ERROR -> Background fetch started");

278 
	`PRINT_INFO
("Wait for CheckForUpdateComplete signal for„eal„esult...");

281 
	`PRINT_ERROR
("UnknowÀ¡©u code: %d", 
¡©us_code
);

286 
	`g_ä“
(
cu¼’t_v”siÚ
);

287 
	`g_ä“
(
avaabË_v”siÚ
);

288 
	`g_ä“
(
upd©e_d‘as
);

289 
	`g_ä“
(
¡©us
);

290 
	`g_v¬ŸÁ_uÄef
(
»suÉ
);

292  
TRUE
;

295 
	`PRINT_ERROR
("CheckFÜUpd©çed: %s", 
”rÜ
->
mes§ge
);

297 ià(
	`g_”rÜ_m©ches
(
”rÜ
, 
G_DBUS_ERROR
, 
G_DBUS_ERROR_ACCESS_DENIED
)) {

298 
	`PRINT_WARN
("This suggestshe…rocess is‚ot…roperly„egistered");

301 
	`g_”rÜ_ä“
(
”rÜ
);

302  
FALSE
;

304 
	}
}

309 
gboŞ—n
 
	$‹¡_ş›Á_uÄegi¡”
(
Te¡Cl›ÁCÚ‹xt
 *
ş›Á
)

311 
GE¼Ü
 *
”rÜ
 = 
NULL
;

312 
GV¬ŸÁ
 *
»suÉ
 = 
NULL
;

313 
gboŞ—n
 
sucûss
 = 
FALSE
;

315 ià(!
ş›Á
->
is_»gi¡”ed
) {

316 
	`PRINT_WARN
("Client‚ot„egistered,‚othingo unregister");

317  
TRUE
;

320 
	`PRINT_INFO
("UÄegi¡”šg hªdË¸ID: %"
G_GUINT64_FORMAT
, 
ş›Á
->
hªdËr_id
);

323 
»suÉ
 = 
	`g_dbus_cÚÃùiÚ_ÿÎ_sync
(

324 
ş›Á
->
cÚÃùiÚ
,

325 
DBUS_SERVICE_NAME
,

326 
DBUS_OBJECT_PATH
,

327 
DBUS_INTERFACE_NAME
,

329 
	`g_v¬ŸÁ_Ãw
("Ñ)", 
ş›Á
->
hªdËr_id
),

330 
	`G_VARIANT_TYPE
("(b)"),

331 
G_DBUS_CALL_FLAGS_NONE
,

333 
NULL
,

334 &
”rÜ


337 ià(
»suÉ
) {

339 
	`g_v¬ŸÁ_g‘
(
»suÉ
, "(b)", &
sucûss
);

340 
	`g_v¬ŸÁ_uÄef
(
»suÉ
);

342 ià(
sucûss
) {

343 
	`PRINT_SUCCESS
("Unregistration successful!");

344 
ş›Á
->
is_»gi¡”ed
 = 
FALSE
;

345 
ş›Á
->
hªdËr_id
 = 0;

347 
	`PRINT_WARN
("Unregistration„eturned false - handler may‚ot have been found");

350  
sucûss
;

353 
	`PRINT_ERROR
("UÄegi¡¿tiÚ faed: %s", 
”rÜ
->
mes§ge
);

354 
	`g_”rÜ_ä“
(
”rÜ
);

355  
FALSE
;

357 
	}
}

362 
	$‹¡_ş›Á_ä“
(
Te¡Cl›ÁCÚ‹xt
 *
ş›Á
)

364 ià(!
ş›Á
) ;

367 ià(
ş›Á
->
is_»gi¡”ed
) {

368 
	`PRINT_INFO
("Auto-unregistering before cleanup...");

369 
	`‹¡_ş›Á_uÄegi¡”
(
ş›Á
);

372 ià(
ş›Á
->
cÚÃùiÚ
) {

373 
	`g_objeù_uÄef
(
ş›Á
->
cÚÃùiÚ
);

376 
	`g_ä“
(
ş›Á
->
´oûss_Çme
);

377 
	`g_ä“
(
ş›Á
->
lib_v”siÚ
);

378 
	`g_ä“
(
ş›Á
);

380 
	`PRINT_INFO
("Test client cleaned up");

381 
	}
}

386 
	$´št_u§ge
(cÚ¡ *
´og¿m_Çme
)

388 
	`´štf
("\n" 
COLOR_BLUE
 "RDK Fœmw¬Upd©” D«mÚ Te¡ Cl›Á" 
COLOR_RESET
 "\n");

389 
	`´štf
("========================================\n\n");

390 
	`´štf
("U§ge: % <´oûss_Çme> <lib_v”siÚ> [‹¡_mode]\n\n", 
´og¿m_Çme
);

392 
	`´štf
("Parameters:\n");

393 
	`´štf
("…rocess_name - Name ofhe…rocesso„egister (e.g., 'MyApp')\n");

394 
	`´štf
("†ib_version - Library version string (e.g., '1.0.0')\n");

395 
	`´štf
("est_mode - Test scenarioo„un (optional, default: 'basic')\n\n");

397 
	`´štf
("Test Modes:\n");

398 
	`´štf
(" basic - Basic„egistrationest\n");

399 
	`´štf
("„eregister - Test same client„e-registration (should„eturn same handler_id)\n");

400 
	`´štf
(" check - Register‡nd…erform CheckForUpdate\n");

401 
	`´štf
(" full - Full workflow: Register -> Check -> Unregister\n");

402 
	`´štf
(" signals - Test D-Bus signals‡nd cache behavior (cache hit/miss scenarios)\n");

403 
	`´štf
(" concurrent - Test concurrent CheckForUpdate„equests (piggyback behavior)\n");

404 
	`´štf
(" stress - Multiple„apid„egistration‡ttempts\n\n");

406 
	`´štf
("Examples:\n");

407 
	`´štf
(" % MyTe¡Aµ 1.0.0\n", 
´og¿m_Çme
);

408 
	`´štf
(" % MyTe¡Aµ 1.0.0 basic\n", 
´og¿m_Çme
);

409 
	`´štf
(" % MyTe¡Aµ 1.0.0 check\n", 
´og¿m_Çme
);

410 
	`´štf
(" % MyTe¡Aµ 1.0.0 sigÇls\n", 
´og¿m_Çme
);

411 
	`´štf
(" % MyTe¡Aµ 1.0.0 cÚcu¼’t\n", 
´og¿m_Çme
);

412 
	`´štf
(" % MyTe¡Aµ 1.0.0 fuÎ\n\n", 
´og¿m_Çme
);

414 
	`´štf
("Expected Scenarios for Robust Testing:\n");

415 
	`´štf
(" 1. Run same commandwice -> Second should„eturn same handler_id\n");

416 
	`´štf
(" 2. Run with different…rocess‚ame from same client -> Should be„ejected\n");

417 
	`´štf
(" 3. Run from differenterminal with same…rocess‚ame -> Should be„ejected\n");

418 
	`´štf
(" 4. Run CheckForUpdate without„egistration -> Should be„ejected\n\n");

419 
	}
}

424 
	$run_‹¡_sûÇrio
(
Te¡Cl›ÁCÚ‹xt
 *
ş›Á
, cÚ¡ 
gch¬
 *
‹¡_mode
)

426 
	`PRINT_INFO
("RuÂšge¡ sûÇrio: %s", 
‹¡_mode
);

428 ià(
	`g_¡rcmp0
(
‹¡_mode
, "basic") == 0) {

430 
	`‹¡_ş›Á_»gi¡”
(
ş›Á
);

432 } ià(
	`g_¡rcmp0
(
‹¡_mode
, "reregister") == 0) {

434 
	`PRINT_INFO
("=== Testing Re-registration Scenario ===");

437 ià(
	`‹¡_ş›Á_»gi¡”
(
ş›Á
)) {

438 
gušt64
 
fœ¡_hªdËr
 = 
ş›Á
->
hªdËr_id
;

441 
	`PRINT_INFO
("Attempting„e-registration...");

442 
ş›Á
->
is_»gi¡”ed
 = 
FALSE
;

443 
ş›Á
->
hªdËr_id
 = 0;

445 ià(
	`‹¡_ş›Á_»gi¡”
(
ş›Á
)) {

446 ià(
ş›Á
->
hªdËr_id
 =ğ
fœ¡_hªdËr
) {

447 
	`PRINT_SUCCESS
("Re-registrationest PASSED - same handler_id„eturned");

449 
	`PRINT_ERROR
("Re-registrationest FAILED - different handler_id„eturned");

454 } ià(
	`g_¡rcmp0
(
‹¡_mode
, "check") == 0) {

456 ià(
	`‹¡_ş›Á_»gi¡”
(
ş›Á
)) {

457 
	`¦“p
(1);

458 
	`‹¡_ş›Á_check_upd©e
(
ş›Á
);

461 } ià(
	`g_¡rcmp0
(
‹¡_mode
, "full") == 0) {

463 
	`PRINT_INFO
("=== Running Full Workflow Test ===");

465 ià(
	`‹¡_ş›Á_»gi¡”
(
ş›Á
)) {

466 
	`¦“p
(1);

467 
	`‹¡_ş›Á_check_upd©e
(
ş›Á
);

468 
	`¦“p
(1);

469 
	`‹¡_ş›Á_uÄegi¡”
(
ş›Á
);

472 } ià(
	`g_¡rcmp0
(
‹¡_mode
, "signals") == 0) {

474 
	`PRINT_INFO
("=== Testing D-Bus Signals‡nd Cache Behavior ===");

476 ià(
	`‹¡_ş›Á_»gi¡”
(
ş›Á
)) {

477 
	`¦“p
(1);

480 
gboŞ—n
 
ÿche_exi¡s
 = 
	`g_fe_‹¡
("/tmp/xcÚf_»¥Ú£_thund”.txt", 
G_FILE_TEST_EXISTS
);

482 
	`´štf
("\n" 
COLOR_BLUE
 "ğŸ§ª CachTe¡ SûÇrio:" 
COLOR_RESET
 "\n");

483 ià(
ÿche_exi¡s
) {

484 
	`PRINT_INFO
("Cacheƒxists - will get immediate„esponse");

486 
	`PRINT_INFO
("No cache - will get UPDATE_ERROR + signal†ater");

487 
	`PRINT_INFO
("ğŸ’¡ Tip: Delete cache with:„m /tmp/xconf_response_thunder.txt");

490 
	`´štf
("\n" 
COLOR_BLUE
 "ğŸ”„ S¹šg CheckFÜUpd©ÿÎ..." 
COLOR_RESET
 "\n");

491 
	`‹¡_ş›Á_check_upd©e
(
ş›Á
);

494 ià(!
ÿche_exi¡s
) {

495 
	`PRINT_INFO
("â³ Waiting 10 seconds for background XConf fetch‡nd signal...");

496 
	`´štf
(
COLOR_YELLOW
 " (You should s“hsigÇÈÿÎback‡bovwh’ XCÚàcom¶‘es)\n" 
COLOR_RESET
);

498 
GMašCÚ‹xt
 *
cÚ‹xt
 = 
	`g_maš_cÚ‹xt_deçuÉ
();

499 
i
 = 0; i < 100; i++) {

500 
	`g_maš_cÚ‹xt_™”©iÚ
(
cÚ‹xt
, 
FALSE
);

501 
	`u¦“p
(100000);

504 ià(
i
 % 10 == 0) {

505 
	`´štf
(".");

506 
	`fæush
(
¡dout
);

509 
	`´štf
("\n");

510 
	`PRINT_INFO
("Signal waiting…eriod completed");

513 
	`¦“p
(1);

514 
	`‹¡_ş›Á_uÄegi¡”
(
ş›Á
);

517 } ià(
	`g_¡rcmp0
(
‹¡_mode
, "concurrent") == 0) {

519 
	`PRINT_INFO
("=== Testing Concurrent CheckForUpdate (Piggyback) ===");

521 ià(
	`‹¡_ş›Á_»gi¡”
(
ş›Á
)) {

522 
	`¦“p
(1);

525 
gboŞ—n
 
ÿche_exi¡s
 = 
	`g_fe_‹¡
("/tmp/xcÚf_»¥Ú£_thund”.txt", 
G_FILE_TEST_EXISTS
);

527 ià(
ÿche_exi¡s
) {

528 
	`PRINT_WARN
("Cacheƒxists - delete itoest…iggyback behavior:");

529 
	`PRINT_INFO
("„m /tmp/xconf_response_thunder.txt");

530 
	`PRINT_INFO
("Then„unhisest‡gain");

532 
	`PRINT_SUCCESS
("Cache does‚otƒxist -…erfect for…iggybackest");

533 
	`PRINT_INFO
("Making 3„apid CheckForUpdate calls...");

534 
	`PRINT_INFO
("Expected behavior:");

535 
	`PRINT_INFO
(" - All 3 calls get UPDATE_ERROR immediately");

536 
	`PRINT_INFO
(" - Only ONE XConf fetchriggered");

537 
	`PRINT_INFO
(" - All waiting clients get same signal");

539 
	`´štf
("\n");

542 
i
 = 1; i <= 3; i++) {

543 
	`´štf
(
COLOR_YELLOW
 "C®È#%d:" 
COLOR_RESET
 "\n", 
i
);

544 
	`‹¡_ş›Á_check_upd©e
(
ş›Á
);

545 
	`u¦“p
(200000);

546 
	`´štf
("\n");

549 
	`PRINT_INFO
("All calls completed - waiting for signal...");

550 
	`PRINT_INFO
("Check daemon†ogso verify:");

551 
	`PRINT_INFO
(" - 'IsCheckUpdateInProgress = TRUE'‡ppears only ONCE");

552 
	`PRINT_INFO
(" - 'Piggyback' messages for calls #2‡nd #3");

553 
	`PRINT_INFO
(" - Single 'async_xconf_fetch_task'ƒxecution");

556 
	`PRINT_INFO
("Waiting 10 seconds for CheckForUpdateComplete signal...");

557 
i
 = 0; i < 10; i++) {

558 
	`¦“p
(1);

559 
	`´štf
(".");

560 
	`fæush
(
¡dout
);

562 
	`´štf
("\n");

565 
	`¦“p
(1);

566 
	`‹¡_ş›Á_uÄegi¡”
(
ş›Á
);

569 } ià(
	`g_¡rcmp0
(
‹¡_mode
, "stress") == 0) {

571 
	`PRINT_INFO
("=== Running Stress Test ===");

573 
i
 = 0; i < 5; i++) {

574 
	`PRINT_INFO
("SŒes ‹¡ i‹¿tiÚ %d/5", 
i
 + 1);

575 
ş›Á
->
is_»gi¡”ed
 = 
FALSE
;

576 
ş›Á
->
hªdËr_id
 = 0;

578 
	`‹¡_ş›Á_»gi¡”
(
ş›Á
);

579 
	`u¦“p
(100000);

583 
	`PRINT_ERROR
("UnknowÀ‹¡ mode: %s", 
‹¡_mode
);

584 
	`´št_u§ge
("testClient");

586 
	}
}

591 
	$maš
(
¬gc
, *
¬gv
[])

593 
Te¡Cl›ÁCÚ‹xt
 *
ş›Á
 = 
NULL
;

594 cÚ¡ 
gch¬
 *
´oûss_Çme
 = 
NULL
;

595 cÚ¡ 
gch¬
 *
lib_v”siÚ
 = 
NULL
;

596 cÚ¡ 
gch¬
 *
‹¡_mode
 = "basic";

598 
	`´štf
("\n" 
COLOR_BLUE
 "==ğRDK Fœmw¬Upd©” Te¡ Cl›Á ===" 
COLOR_RESET
 "\n");

599 
	`´štf
("Proûs ID: %d\n", 
	`g‘pid
());

600 
	`´štf
("D-Bus Unique Name will be‡uto-assigned\n\n");

603 ià(
¬gc
 < 3) {

604 
	`´št_u§ge
(
¬gv
[0]);

608 
´oûss_Çme
 = 
¬gv
[1];

609 
lib_v”siÚ
 = 
¬gv
[2];

611 ià(
¬gc
 >= 4) {

612 
‹¡_mode
 = 
¬gv
[3];

616 ià(
	`¡¾’
(
´oûss_Çme
) == 0) {

617 
	`PRINT_ERROR
("Process‚ame cannot beƒmpty");

621 ià(
	`¡¾’
(
lib_v”siÚ
) == 0) {

622 
	`PRINT_ERROR
("Library version cannot beƒmpty");

626 
	`PRINT_INFO
("Test…arameters:");

627 
	`PRINT_INFO
(" Proûs Name: %s", 
´oûss_Çme
);

628 
	`PRINT_INFO
(" Lib¿ry V”siÚ: %s", 
lib_v”siÚ
);

629 
	`PRINT_INFO
(" Te¡ Mode: %s", 
‹¡_mode
);

630 
	`´štf
("\n");

633 
ş›Á
 = 
	`‹¡_ş›Á_Ãw
(
´oûss_Çme
, 
lib_v”siÚ
);

634 ià(!
ş›Á
) {

635 
	`PRINT_ERROR
("Failedo createest client");

640 
	`run_‹¡_sûÇrio
(
ş›Á
, 
‹¡_mode
);

643 
	`‹¡_ş›Á_ä“
(
ş›Á
);

645 
	`´štf
("\n" 
COLOR_BLUE
 "==ğTe¡ Cl›Á Fšished ===" 
COLOR_RESET
 "\n");

647 
	}
}

	@test/functional-tests/tests/mfrutils.c

19 
	~<¡dio.h
>

20 
	~<¡dlib.h
>

21 
	~<¡ršg.h
>

23 
	$maš
(
¬gc
, **
¬gv
)

25 
FILE
 *
å
 = 
NULL
;

26 
tbuff
[32] = {0};

27 
å
 = 
	`fİ’
("/tmp/pdri_image_file", "r");

28 ià(
å
 !ğ
NULL
) {

29 
	`fg‘s
(
tbuff
, Ñbuff), 
å
);

30 
	`´štf
("%s\n",
tbuff
);

31 
	`fşo£
(
å
);

33 
	`´štf
("ABCD_PDRI_firmware\n");

37 
	}
}

	@test/testiarmInterface.c

26 
	~"‹¡ŸrmIÁ”çû.h
"

28 #ià
defšed
(
IARM_ENABLED
)

29 
	$ev’tMªag”Te¡
(cÚ¡ *
cur_ev’t_Çme
, 
­p_mode
) {

30 if(
cur_ev’t_Çme
 =ğ
NULL
) {

31 
	`´štf
("eventManager() failed dueo NULL…arameter\n");

34 
Ën
 = (
­p_mode
);

35 
IARM_ResuÉ_t
 
»t_code
 = 
IARM_RESULT_SUCCESS
;

37 
	`IARM_Bus_In™
(
cur_ev’t_Çme
);

38 
	`IARM_Bus_CÚÃù
();

39 
	`´štf
("%s: G’”©IARM_BUS_NAME cu¼’ˆEv’t=%s,ev’t¡©us=%d:Ën=%d\n", 
__FUNCTION__
, 
cur_ev’t_Çme
, 
­p_mode
, 
Ën
);

51 
»t_code
 = 
	`IARM_Bus_Brßdÿ¡Ev’t
(
cur_ev’t_Çme
, (
IARM_Ev’tId_t
è
IARM_BUS_RDKVFWUPGRADER_MODECHANGED
, (*è&
­p_mode
,

52 
Ën
);

53 if(
»t_code
 =ğ
IARM_RESULT_SUCCESS
) {

55 
	`´štf
("% : >> IARM SUCCESS\n", 
__FUNCTION__
);

58 
	`´štf
("% : >> IARM FAILURE\n", 
__FUNCTION__
);

60 
	`IARM_Bus_DiscÚÃù
();

61 
	`IARM_Bus_T”m
();

62 
	`´štf
("% : IARM_ev’t_£nd” closšg\n", 
__FUNCTION__
);

63 
	}
}

65 
	$maš
(
¬gc
, *
¬gv
[])

67 
­p_mode
 = 0;

68 ià(
¬gc
 == 2) {

69 
­p_mode
 = 
	`©oi
(
¬gv
[1]);

70 
	`´štf
("­°modğ%d\n", 
­p_mode
);

71 #ià
	`defšed
(
IARM_ENABLED
)

72 
	`ev’tMªag”Te¡
("RdkvFWupg¿d”", 
­p_mode
);

75 
	`´štf
("Invalid‚o of‡rgument\nReq only 1‡rgument 1 or 0\n");

78 
	}
}

	@test/testiarmInterface.h

19 #iâdeà
VIDEO_TESTIARMINTERFACE_IARMINTERFACE_H_


20 
	#VIDEO_TESTIARMINTERFACE_IARMINTERFACE_H_


	)

22 
	~<¡dio.h
>

23 
	~<¡dlib.h
>

24 #ià
defšed
(
IARM_ENABLED
)

25 
	~"sysMgr.h
"

26 
	~"libIARMCÜe.h
"

27 
	~"libIBus.h
"

28 
	~"libIBusD«mÚ.h
"

29 
	~<glib.h
>

36 
	#IARM_BUS_RDKVFWUPGRADER_MODECHANGED
 0

	)

38 
ev’tMªag”Te¡
(cÚ¡ *
cur_ev’t_Çme
, 
­p_mode
) ;

	@unittest/basic_rdkv_main_gtest.cpp

19 
	~<g‹¡/g‹¡.h
>

20 
	~<gmock/gmock.h
>

21 
	~<g‹¡/g‹¡.h
>

22 
	~<io¡»am
>

23 
	~<uni¡d.h
>

25 
	~"rdkv_cdl_log_w¿µ”.h
"

27 
	~"deviû_¡©us_h–³r.h
"

28 
	~"dowÆßd_¡©us_h–³r.h
"

31 
cİyFe
(cÚ¡ *
¤c
, cÚ¡ *
rg‘
);

34 
	~"mocks/deviû_¡©us_h–³r_mock.h
"

35 
	~"mocks/deviûuts_mock.h
"

37 
	~"misûÎªeous.h
"

38 
	~"misûÎªeous_mock.ıp
"

41 
	#JSON_STR_LEN
 1000

	)

43 
DeviûUtsMock
 
Deviûglob®
;

44 
DeviûUtsMock
 *
	gg_DeviûUtsMock
 = &
Deviûglob®
;

46 
	#GTEST_DEFAULT_RESULT_FILEPATH
 "/tmp/G‹¡_R•Üt/"

	)

47 
	#GTEST_DEFAULT_RESULT_FILENAME
 "RdkFwDwÆd_rdkvMaš_g‹¡_»pÜt.jsÚ"

	)

48 
	#GTEST_REPORT_FILEPATH_SIZE
 256

	)

50 
usšg
 
Çme¥aû
 
	g‹¡šg
;

51 
usšg
 
Çme¥aû
 
	g¡d
;

52 
	gusšg
 ::
‹¡šg
::
R‘uº
;

53 
	gusšg
 ::
‹¡šg
::
SŒEq
;

56 
Rfc_t
 
rfc_li¡
;

57 
DeviûPrİ”ty_t
 
deviû_šfo
;

58 *
cu¾
;

60 
boŞ
 
§vePID
(cÚ¡ *
fe
, *
d©a
);

61 
š‹ru±DwÆ
(
­p_mode
);

62 
doIÁ”u±DwÆ
(*
š_cu¾
, 
max_dwÆ_¥“d
);

63 
boŞ
 
checkt2V®NÙify
Ğ
iCu¾Code
, 
iUpg¿deTy³
, *
U¾
 );

64 
doG‘DwÆBy‹s
(*
š_cu¾
);

65 
boŞ
 
checkFÜTlsE¼Üs
(
cu¾_code
, cÚ¡ *
ty³
);

66 
»ŒyDowÆßd
(
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, *
pPo¡F›lds
, 
»Œy_út
, 
d–ay
, *
h‰pCode
, **
cu¾
, *
fÜû_ex™
, cÚ¡ *
immed_»boÙ_æag
, cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
, cÚ¡ *
Ï¡run
, cÚ¡ 
Rfc_t
 *
rfc_li¡
, *
di§bËStsUpd©e
);

68 
dowÆßdFe
(
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, * 
pPo¡F›lds
, *
h‰pCode
, **
cu¾
, *
fÜû_ex™
, cÚ¡ *
immed_»boÙ_æag
, cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
, cÚ¡ *
Ï¡run
, cÚ¡ 
Rfc_t
 *
rfc_li¡
, *
di§bËStsUpd©e
);

69 
checkTrigg”Upg¿de
(
XCONFRES
 *
»¥Ú£
, cÚ¡ *
mod–_num
);

70 
£tFÜûStİ
(
v®ue
);

71 
T2ERROR
 
t2_ev’t_s
(* 
m¬k”
, * 
v®ue
);

72 
T2ERROR
 
t2_ev’t_d
(* 
m¬k”
, 
v®ue
);

73 
t2_š™
(*
compÚ’t
);

74 
g‘DeviûPrİ”t›s
(
DeviûPrİ”ty_t
 *
pDeviû_šfo
);

75 
g‘ImageD‘as
(
ImageD‘as_t
 *);

76 
ü—‹Dœ
(cÚ¡ *
dœÇme
);

78 
t2_unš™
();

79 
log_ex™
();

80 
doH‰pFeDowÆßd
(*
š_cu¾
, 
FeDwÆ_t
 *
pfe_dwÆ
, 
MsAuth_t
 *
auth
, 
max_dwÆ_¥“d
, *
dÆ_¡¬t_pos
, *
out_h‰pCode
 );

81 
logFeD©a
(cÚ¡ *
fe_·th
);

82 
boŞ
 
isMedŸCl›ÁDeviû
();

83 
doAuthH‰pFeDowÆßd
(*
š_cu¾
, 
FeDwÆ_t
 *
pfe_dwÆ
, *
out_h‰pCode
);

84 
logMe¡Úe
(cÚ¡ *
msg_code
);

85 
”a£FŞd”ExûP¿maFe
(cÚ¡ *
fŞd”
, cÚ¡ * 
fe_Çme
, cÚ¡ *
mod–_num
);

86 
doCu¾PutReque¡
(*
š_cu¾
, 
FeDwÆ_t
 *
pfe_dwÆ
, *
jsÚ½c_auth_tok’
, *
out_h‰pCode
);

87 
g‘OPTOUTV®ue
(cÚ¡ *
f’ame
);

88 
g‘PidStÜe
(cÚ¡ *
key
, cÚ¡ *
v®ue
);

89 
dwÆE¼Ü
(
cu¾_code
, 
h‰p_code
, 
£rv”_ty³
, cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
, cÚ¡ *
Ï¡run
, *
di§bËStsUpd©e
);

90 
³rh”®_fœmw¬e_dndl
(*
pCloudFWLoÿtiÚ
, *
pP”h”®Fœmw¬es
);

91 
çÎBack
(
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, *
pPo¡F›lds
, *
h‰pCode
, **
cu¾
, *
fÜû_ex™
, cÚ¡ *
immed_»boÙ_æag
, cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
, cÚ¡ *
Ï¡run
, cÚ¡ 
Rfc_t
 *
rfc_li¡
, *
di§bËStsUpd©e
);

92 
§veHTTPCode
(
h‰p_code
, cÚ¡ *
Ï¡run
);

93 
rdkv_upg¿de_»que¡
(cÚ¡ 
RdkUpg¿deCÚ‹xt_t
* 
cÚ‹xt
, ** 
cu¾
, * 
pH‰p_code
);

94 
size_t
 
g‘CÚ‹ÁL’gth
(cÚ¡ *
fe
);

95 
chunkDowÆßd
(
FeDwÆ_t
 *
pfe_dwÆ
, 
MsAuth_t
 *
£c
, 
¥“d_lim™
, *
h‰pcode
);

98 
	$TEST
(
g‘CÚ‹ÁL’gthTe¡
,
Te¡Sucûss
){

99 
»t
 = 0;

100 
»t
 = 
	`sy¡em
("echo \"Content-Length: 1234\" > /tmp/contentlength.txt");

101 
	`EXPECT_NE
(
	`g‘CÚ‹ÁL’gth
("/tmp/contentlength.txt"), 0);

102 
»t
 = 
	`sy¡em
("rm -f /tmp/contentlength.txt");

103 
	}
}

104 
	$TEST
(
g‘CÚ‹ÁL’gthTe¡
,
Te¡Fa
){

105 
	`EXPECT_EQ
(
	`g‘CÚ‹ÁL’gth
("./contentlength.txt"), 0);

106 
	}
}

107 
	$TEST
(
g‘CÚ‹ÁL’gthTe¡
,
Te¡Fa1
){

108 
»t
 = 0;

109 
»t
 = 
	`sy¡em
("echo \"Content: 1234\" > /tmp/contentlength.txt");

110 
	`EXPECT_EQ
(
	`g‘CÚ‹ÁL’gth
("/tmp/contentlength.txt"), 0);

111 
»t
 = 
	`sy¡em
("rm -f /tmp/contentlength.txt");

112 
	}
}

114 
	$TEST
(
MašH–³rFunùiÚTe¡
,
g‘AµModeDeçuÉ
){

115 
	`EXPECT_EQ
(
	`g‘AµMode
(), 1);

116 
	}
}

118 
	$TEST
(
MašH–³rFunùiÚTe¡
,
£tAµModeDeçuÉ
){

119 
	`£tAµMode
(0);

120 
	`EXPECT_EQ
(
	`g‘AµMode
(), 0);

121 
	}
}

123 
	$TEST
(
MašH–³rFunùiÚTe¡
,
£ndg‘AµMode
){

124 
	`£tAµMode
(1);

125 
	`EXPECT_EQ
(
	`g‘AµMode
(), 1);

126 
	}
}

128 
	$TEST
(
MašH–³rFunùiÚTe¡
,
g‘DwÆS‹DeçuÉ
){

129 
	`EXPECT_EQ
(
	`g‘DwÆS‹
(), 0);

130 
	}
}

132 
	$TEST
(
MašH–³rFunùiÚTe¡
,
£tDwÆS‹DeçuÉ
){

133 
	`£tDwÆS‹
(0);

134 
	`EXPECT_EQ
(
	`g‘DwÆS‹
(), 0);

135 
	}
}

136 
	$TEST
(
MašH–³rFunùiÚTe¡
,
£ndg‘DwÆS‹
){

137 
	`£tDwÆS‹
(1);

138 
	`EXPECT_EQ
(
	`g‘DwÆS‹
(), 1);

139 
	}
}

141 
	$TEST
(
MašH–³rFunùiÚTe¡
,
§vePIDTe¡nuÎ
){

142 
	`EXPECT_FALSE
(
	`§vePID
((cÚ¡ *è
NULL
, (*) NULL));

143 
	}
}

145 
	$TEST
(
MašH–³rFunùiÚTe¡
,
§vePIDTe¡nuÎå
){

146 
	`EXPECT_FALSE
(
	`§vePID
((cÚ¡ *è"‹¡fe",(*è
NULL
));

147 
	}
}

149 
	$TEST
(
MašH–³rFunùiÚTe¡
,
§vePIDTe¡nuÎå1
){

150 
d©a
[] = "1234";

151 
	`EXPECT_FALSE
(
	`§vePID
("/com/‹¡fe",
d©a
));

152 
	}
}

154 
	$TEST
(
MašH–³rFunùiÚTe¡
,
§vePIDTe¡Sucûss
){

155 
d©a
[] = "1234";

156 
	`EXPECT_TRUE
(
	`§vePID
("/tmp/‹¡fe", 
d©a
));

157 
	}
}

159 
	$TEST
(
MašH–³rFunùiÚTe¡
,
g‘PidStÜe
){

161 
buff
[16] = {0};

162 
FILE
 *
å
 = 
NULL
;

163 
	`g‘PidStÜe
("NEW","true");

164 
	`fæush
(
NULL
);

165 
å
 = 
	`fİ’
("/tmp/.curl.pid", "r");

166 ià(
å
 !ğ
NULL
) {

167 
	`´štf
("File open success\n");

168 (
	`fg‘s
(
buff
, (buff), 
å
)è!ğ
NULL
) {

169 
	`´štf
("Aá”„—d buàğ%s\n",
buff
);

171 
	`fşo£
(
å
);

173 
pid_t
 
pid
 = 
	`g‘pid
();

174 
»ad_pid
 = 
	`©oi
(
buff
);

175 
	`´štf
("pid = %u‡nd„—d_pid = %u\n", 
pid
, 
»ad_pid
);

176 
	`EXPECT_EQ
(
pid
, 
»ad_pid
);

177 
	}
}

179 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
HªdËsDowÆßdInProg»ss
) {

180 
MockEx‹º®
 
mockex‹º®
;

181 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

182 
	`¡rıy
(
rfc_li¡
.
rfc_thrÙe
, "true");

183 
	`¡rıy
(
rfc_li¡
.
rfc_tİ¥“d
, "0");

184 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INPROGRESS
);

185 
	`¡rıy
(
deviû_šfo
.
mašt_¡©us
, "true");

186 
	`EXPECT_CALL
(
mockex‹º®
,
	`ev’tMªag”
("Maš‹ÇnûMGR", "9")).
	`Times
(1);

187 
	`EXPECT_CALL
(
mockex‹º®
,
	`ev’tMªag”
(
FW_STATE_EVENT
, "3")).
	`Times
(1);

188 
	`š‹ru±DwÆ
(0);

189 
glob®_mockex‹º®_±r
 = 
NULL
;

190 
	}
}

192 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
HªdËsDowÆßdInProg»ssS³ed10
) {

193 
MockEx‹º®
 
mockex‹º®
;

194 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

195 
	`¡rıy
(
rfc_li¡
.
rfc_thrÙe
, "true");

196 
	`¡rıy
(
rfc_li¡
.
rfc_tİ¥“d
, "10");

197 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INPROGRESS
);

198 
	`¡rıy
(
deviû_šfo
.
mašt_¡©us
, "true");

199 
	`EXPECT_CALL
(
mockex‹º®
,
	`doG‘DwÆBy‹s
(
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(10));

200 
cu¾
 = (*è
rfc_li¡
.
rfc_thrÙe
;

201 
	`EXPECT_CALL
(
mockex‹º®
,
	`doIÁ”u±DwÆ
(
_
,10)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
DWNL_UNPAUSE_FAIL
));

202 
	`š‹ru±DwÆ
(0);

203 
cu¾
 = 
NULL
;

204 
glob®_mockex‹º®_±r
 = 
NULL
;

206 
	}
}

208 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
HªdËsDowÆßdInProg»ssAµMode1
) {

209 
MockEx‹º®
 
mockex‹º®
;

210 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

211 
	`¡rıy
(
rfc_li¡
.
rfc_thrÙe
, "true");

212 
	`¡rıy
(
rfc_li¡
.
rfc_tİ¥“d
, "10");

213 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INPROGRESS
);

214 
	`¡rıy
(
deviû_šfo
.
mašt_¡©us
, "true");

215 
	`EXPECT_CALL
(
mockex‹º®
,
	`doG‘DwÆBy‹s
(
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(10));

216 
cu¾
 = (*è
rfc_li¡
.
rfc_thrÙe
;

217 
	`š‹ru±DwÆ
(1);

218 
cu¾
 = 
NULL
;

219 
glob®_mockex‹º®_±r
 = 
NULL
;

220 
	}
}

222 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
HªdËsDowÆßdInProg»ssAµMode2
) {

223 
MockEx‹º®
 
mockex‹º®
;

224 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

225 
	`¡rıy
(
rfc_li¡
.
rfc_thrÙe
, "true");

226 
	`¡rıy
(
rfc_li¡
.
rfc_tİ¥“d
, "11");

227 
	`£tDwÆS‹
(
RDKV_FWDNLD_DOWNLOAD_INPROGRESS
);

228 
	`¡rıy
(
deviû_šfo
.
mašt_¡©us
, "true");

229 
	`EXPECT_CALL
(
mockex‹º®
,
	`doG‘DwÆBy‹s
(
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(10));

230 
cu¾
 = (*è
rfc_li¡
.
rfc_thrÙe
;

231 
	`š‹ru±DwÆ
(2);

232 
cu¾
 = 
NULL
;

233 
glob®_mockex‹º®_±r
 = 
NULL
;

234 
	}
}

236 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
t2V®NÙifyHªdËsNuÎIÅuts
) {

237 
MockEx‹º®
 
mockex‹º®
;

238 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

239 
	`t2V®NÙify
(
NULL
, NULL);

240 
glob®_mockex‹º®_±r
 = 
NULL
;

241 
	}
}

243 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
t2V®NÙifyHªdËsNÚNuÎIÅuts
) {

244 
MockEx‹º®
 
mockex‹º®
;

245 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

246 
	`EXPECT_CALL
(
mockex‹º®
, 
	`t2_ev’t_s
("m¬k”", "v®ue")).
	`Times
(1).
	`WlOnû
(
‹¡šg
::
	`R‘uº
(
T2ERROR_SUCCESS
));

247 
	`t2V®NÙify
("marker", "value");

248 
glob®_mockex‹º®_±r
 = 
NULL
;

249 
	}
}

252 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
checkt2V®NÙifyÃg©ive
){

253 
	`EXPECT_FALSE
(
	`checkt2V®NÙify
(100, 
PERIPHERAL_UPGRADE
,"thisistest"));

254 
	}
}

256 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
checkt2V®NÙifyÃg©ive1
){

257 
	`EXPECT_FALSE
(
	`checkt2V®NÙify
(35, 
PERIPHERAL_UPGRADE
,"thisistest"));

258 
	}
}

260 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
checkt2V®NÙifyÃg©ive2
){

261 
	`EXPECT_FALSE
(
	`checkt2V®NÙify
(91, 
PERIPHERAL_UPGRADE
,"thisistest"));

262 
	}
}

264 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
checkt2V®NÙifypos™ive
){

265 
	`EXPECT_TRUE
(
	`checkt2V®NÙify
(35, 
PERIPHERAL_UPGRADE
,"https://thisistest.com/test"));

266 
	}
}

268 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
checkFÜTlsE¼Ü¢eg©ive
){

269 
	`EXPECT_TRUE
(
	`checkFÜTlsE¼Üs
(100, "https://thisistest"));

270 
	}
}

272 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
checkFÜTlsE¼Ü¥os™ive
){

273 
	`EXPECT_TRUE
(
	`checkFÜTlsE¼Üs
(91, "https://thisistest"));

274 
	}
}

276 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
»ŒyDowÆßd‹¡
){

277 
	`EXPECT_EQ
(
	`»ŒyDowÆßd
(1, 
NULL
, NULL, NULL, 1, 0, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL), -1);

278 
	}
}

280 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
»ŒyDowÆßd‹¡1
){

281 
MockDowÆßdFeOps
 
mockfeİs
;

282 
glob®_mockdowÆßdfeİs_±r
 = &
mockfeİs
;

283 
	`EXPECT_CALL
(
mockfeİs
, 
	`dowÆßdFe
(
_
,_,_,_,_)).
	`Times
(1).
	`WlOnû
(
‹¡šg
::
	`R‘uº
(
CURL_SUCCESS
));

284 
code
 = 
HTTP_SUCCESS
;

285 
fÜû_ex™
 = 0;

286 *
cu¾
 = 
NULL
;

287 
	`EXPECT_EQ
(
	`»ŒyDowÆßd
(
HTTP_SSR_DIRECT
, "‹¡", "‹¡1", (*)"‹¡2", 1, 0, &
code
, &
cu¾
, &
fÜû_ex™
, 
NULL
, NULL, NULL, NULL, NULL), 
CURL_SUCCESS
);

288 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

289 
	}
}

290 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
»ŒyDowÆßd‹¡2
){

291 
MockDowÆßdFeOps
 
mockfeİs
;

292 
glob®_mockdowÆßdfeİs_±r
 = &
mockfeİs
;

293 
	`EXPECT_CALL
(
mockfeİs
, 
	`dowÆßdFe
(
_
,_,_,_,_)).
	`Times
(1).
	`WlOnû
(
‹¡šg
::
	`R‘uº
(
CURL_SUCCESS
));

294 
code
 = 
HTTP_CHUNK_SUCCESS
;

295 
fÜû_ex™
 = 0;

296 *
cu¾
 = 
NULL
;

297 
	`EXPECT_EQ
(
	`»ŒyDowÆßd
(
HTTP_XCONF_DIRECT
, "‹¡", "‹¡1", (*)"‹¡2", 1, 0, &
code
, &
cu¾
, &
fÜû_ex™
, 
NULL
, NULL, NULL, NULL, NULL), 
CURL_SUCCESS
);

298 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

299 
	}
}

301 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
»ŒyDowÆßd‹¡3
){

302 
MockDowÆßdFeOps
 
mockfeİs
;

303 
glob®_mockdowÆßdfeİs_±r
 = &
mockfeİs
;

304 
	`EXPECT_CALL
(
mockfeİs
, 
	`dowÆßdFe
(
_
,_,_,_,_)).
	`Times
(1).
	`WlOnû
(
‹¡šg
::
	`R‘uº
(!
CURL_SUCCESS
));

305 
code
 = 
HTTP_PAGE_NOT_FOUND
;

306 
fÜû_ex™
 = 0;

307 *
cu¾
 = 
NULL
;

308 
	`EXPECT_EQ
(
	`»ŒyDowÆßd
(
HTTP_XCONF_DIRECT
, "‹¡", "‹¡1", (*)"‹¡2", 1, 0, &
code
, &
cu¾
, &
fÜû_ex™
, 
NULL
, NULL, NULL, NULL, NULL), !
CURL_SUCCESS
);

309 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

310 
	}
}

312 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
»ŒyDowÆßd‹¡4
){

313 
MockDowÆßdFeOps
 
mockfeİs
;

314 
glob®_mockdowÆßdfeİs_±r
 = &
mockfeİs
;

315 
	`EXPECT_CALL
(
mockfeİs
, 
	`dowÆßdFe
(
_
,_,_,_,_)).
	`Times
(1).
	`WlOnû
(
‹¡šg
::
	`R‘uº
(!
CURL_SUCCESS
));

316 
code
 = 
DWNL_BLOCK
;

317 
fÜû_ex™
 = 0;

318 *
cu¾
 = 
NULL
;

319 
	`EXPECT_EQ
(
	`»ŒyDowÆßd
(
HTTP_XCONF_DIRECT
, "‹¡", "‹¡1", (*)"‹¡2", 1, 0, &
code
, &
cu¾
, &
fÜû_ex™
, 
NULL
, NULL, NULL, NULL, NULL), !
CURL_SUCCESS
);

320 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

321 
	}
}

323 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
»ŒyDowÆßd‹¡5
){

324 
MockDowÆßdFeOps
 
mockfeİs
;

325 
glob®_mockdowÆßdfeİs_±r
 = &
mockfeİs
;

326 
	`EXPECT_CALL
(
mockfeİs
, 
	`dowÆßdFe
(
_
,_,_,_,_)).
	`Times
(1).
	`WlOnû
(
‹¡šg
::
	`R‘uº
(!
CURL_SUCCESS
));

327 
code
 = 
HTTP_SUCCESS
;

328 
fÜû_ex™
 = 0;

329 *
cu¾
 = 
NULL
;

330 
	`EXPECT_EQ
(
	`»ŒyDowÆßd
(
HTTP_SSR_DIRECT
, "‹¡", "‹¡1", (*)"‹¡2", 1, 0, &
code
, &
cu¾
, &
fÜû_ex™
, 
NULL
, NULL, NULL, NULL, NULL), !
CURL_SUCCESS
);

331 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

333 
	}
}

335 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
»ŒyDowÆßd‹¡6
){

336 
MockDowÆßdFeOps
 
mockfeİs
;

337 
glob®_mockdowÆßdfeİs_±r
 = &
mockfeİs
;

338 
	`EXPECT_CALL
(
mockfeİs
, 
	`codebigdowÆßdFe
(
_
,_,_,_,_)).
	`Times
(1).
	`WlOnû
(
‹¡šg
::
	`R‘uº
(
CURL_SUCCESS
));

339 
code
 = 
HTTP_SUCCESS
;

340 
fÜû_ex™
 = 0;

341 *
cu¾
 = 
NULL
;

342 
	`EXPECT_EQ
(
	`»ŒyDowÆßd
(
HTTP_SSR_CODEBIG
, "‹¡", "‹¡1", (*)"‹¡2", 1, 0, &
code
, &
cu¾
, &
fÜû_ex™
, 
NULL
, NULL, NULL, NULL, NULL), 
CURL_SUCCESS
);

343 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

345 
	}
}

347 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
»ŒyDowÆßd‹¡7
){

348 
MockDowÆßdFeOps
 
mockfeİs
;

349 
glob®_mockdowÆßdfeİs_±r
 = &
mockfeİs
;

350 
	`EXPECT_CALL
(
mockfeİs
, 
	`codebigdowÆßdFe
(
_
,_,_,_,_)).
	`Times
(1).
	`WlOnû
(
‹¡šg
::
	`R‘uº
(!
CURL_SUCCESS
));

351 
code
 = 
HTTP_PAGE_NOT_FOUND
;

352 
fÜû_ex™
 = 0;

353 *
cu¾
 = 
NULL
;

354 
	`EXPECT_EQ
(
	`»ŒyDowÆßd
(
HTTP_SSR_CODEBIG
, "‹¡", "‹¡1", (*)"‹¡2", 1, 0, &
code
, &
cu¾
, &
fÜû_ex™
, 
NULL
, NULL, NULL, NULL, NULL), !
CURL_SUCCESS
);

355 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

357 
	}
}

359 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
»ŒyDowÆßd‹¡8
){

360 
MockDowÆßdFeOps
 
mockfeİs
;

361 
glob®_mockdowÆßdfeİs_±r
 = &
mockfeİs
;

362 
	`EXPECT_CALL
(
mockfeİs
, 
	`codebigdowÆßdFe
(
_
,_,_,_,_)).
	`Times
(1).
	`WlOnû
(
‹¡šg
::
	`R‘uº
(!
CURL_SUCCESS
));

363 
code
 = 
HTTP_SUCCESS
;

364 
fÜû_ex™
 = 0;

365 *
cu¾
 = 
NULL
;

366 
	`EXPECT_EQ
(
	`»ŒyDowÆßd
(
HTTP_SSR_CODEBIG
, "‹¡", "‹¡1", (*)"‹¡2", 1, 1, &
code
, &
cu¾
, &
fÜû_ex™
, 
NULL
, NULL, NULL, NULL, NULL), !
CURL_SUCCESS
);

367 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

368 
	}
}

370 
	$TEST
(
DwÆE¼ÜTe¡
, 
HªdËsCu¾Code0
) {

371 
cu¾_code
 = 0;

372 
h‰p_code
 = 200;

373 
£rv”_ty³
 = 0;

374 
DeviûPrİ”ty_t
 
deviû_šfo
 = {0};

375 
	`¡rıy
(
deviû_šfo
.
dev_ty³
, "mediaclient");

376 
MockEx‹º®
 
mockex‹º®
;

377 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

378 
	`EXPECT_CALL
(
mockex‹º®
,
	`checkAndEÁ”S‹Red
(
_
,_)).
	`Times
(1);

379 
	`dwÆE¼Ü
(
cu¾_code
, 
h‰p_code
, 
£rv”_ty³
, &
deviû_šfo
, 
NULL
, NULL);

380 
glob®_mockex‹º®_±r
 = 
NULL
;

382 
	}
}

384 
	$TEST
(
DwÆE¼ÜTe¡
, 
HªdËsCu¾Code22
) {

385 
cu¾_code
 = 22;

386 
h‰p_code
 = 200;

387 
£rv”_ty³
 = 0;

388 
DeviûPrİ”ty_t
 
deviû_šfo
 = {0};

389 
	`¡rıy
(
deviû_šfo
.
dev_ty³
, "mediaclient");

390 
MockEx‹º®
 
mockex‹º®
;

391 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

392 
	`EXPECT_CALL
(
mockex‹º®
,
	`ev’tMªag”
(
_
,_)).
	`Times
(1);

393 
	`EXPECT_CALL
(
mockex‹º®
,
	`checkAndEÁ”S‹Red
(
_
,_)).
	`Times
(1);

394 
	`EXPECT_CALL
(
mockex‹º®
,
	`upd©eFWDowÆßdStus
(
_
,_)).
	`Times
(1);

395 
	`dwÆE¼Ü
(
cu¾_code
, 
h‰p_code
, 
£rv”_ty³
, &
deviû_šfo
, 
NULL
, NULL);

396 
glob®_mockex‹º®_±r
 = 
NULL
;

398 
	}
}

400 
	$TEST
(
DwÆE¼ÜTe¡
, 
HªdËsCu¾Code18
) {

401 
cu¾_code
 = 18;

402 
h‰p_code
 = 0;

403 
£rv”_ty³
 = 0;

404 
DeviûPrİ”ty_t
 
deviû_šfo
 = {0};

405 
	`¡rıy
(
deviû_šfo
.
dev_ty³
, "mediaclient");

406 
MockEx‹º®
 
mockex‹º®
;

407 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

408 
	`¡rıy
(
deviû_šfo
.
dev_ty³
,"mediaclient");

409 
	`EXPECT_CALL
(
mockex‹º®
,
	`ev’tMªag”
(
_
,_)).
	`Times
(1);

410 
	`EXPECT_CALL
(
mockex‹º®
,
	`checkAndEÁ”S‹Red
(
_
,_)).
	`Times
(1);

411 
	`EXPECT_CALL
(
mockex‹º®
,
	`upd©eFWDowÆßdStus
(
_
,_)).
	`Times
(1);

412 
	`dwÆE¼Ü
(
cu¾_code
, 
h‰p_code
, 
£rv”_ty³
, &
deviû_šfo
, 
NULL
, NULL);

413 
glob®_mockex‹º®_±r
 = 
NULL
;

415 
	}
}

417 
	$TEST
(
DwÆE¼ÜTe¡
, 
HªdËsCu¾Code91
) {

418 
cu¾_code
 = 91;

419 
h‰p_code
 = 200;

420 
£rv”_ty³
 = 0;

421 
DeviûPrİ”ty_t
 
deviû_šfo
 = {0};

422 
	`¡rıy
(
deviû_šfo
.
dev_ty³
, "mediaclient1");

423 
MockEx‹º®
 
mockex‹º®
;

424 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

425 
	`EXPECT_CALL
(
mockex‹º®
,
	`ev’tMªag”
(
_
,_)).
	`Times
(1);

426 
	`EXPECT_CALL
(
mockex‹º®
,
	`checkAndEÁ”S‹Red
(
_
,_)).
	`Times
(1);

427 
	`EXPECT_CALL
(
mockex‹º®
,
	`upd©eFWDowÆßdStus
(
_
,_)).
	`Times
(1);

428 
	`dwÆE¼Ü
(
cu¾_code
, 
h‰p_code
, 
£rv”_ty³
, &
deviû_šfo
, 
NULL
, NULL);

429 
glob®_mockex‹º®_±r
 = 
NULL
;

431 
	}
}

432 
	$TEST
(
MašH–³rFunùiÚTe¡
,
rdkv_upg¿de_»que¡Te¡
){

433 
MockEx‹º®
 
mockex‹º®
;

434 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

436 
RdkUpg¿deCÚ‹xt_t
 
cÚ‹xt
 = {0};

437 
cÚ‹xt
.
upg¿de_ty³
 = 1;

438 
cÚ‹xt
.
£rv”_ty³
 = 1;

439 
cÚ‹xt
.
¬tiçùLoÿtiÚU¾
 = "test";

440 
cÚ‹xt
.
dwÎoc
 = "test1";

441 
cÚ‹xt
.
pPo¡F›lds
 = (*)"test2";

443 * 
cu¾
 = 
NULL
;

444 * 
h‰p_code
 = 
NULL
;

447 
	`EXPECT_EQ
(
	`rdkv_upg¿de_»que¡
(&
cÚ‹xt
, &
cu¾
, 
h‰p_code
), -1);

448 
glob®_mockex‹º®_±r
 = 
NULL
;

449 
	}
}

451 
	$TEST
(
MašH–³rFunùiÚTe¡
,
chunkDowÆßdTe¡NULL
){

452 
MockEx‹º®
 
mockex‹º®
;

453 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

454 
h‰pcode
 = -1;

455 
	`EXPECT_EQ
(
	`chunkDowÆßd
(
NULL
, NULL, 0, &
h‰pcode
), -1);

457 
glob®_mockex‹º®_±r
 = 
NULL
;

458 
	}
}

459 
	$TEST
(
MašH–³rFunùiÚTe¡
,
chunkDowÆßdTe¡Sucûss
){

460 
MockEx‹º®
 
mockex‹º®
;

461 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

462 
DeviûUtsMock
 
DeviûMock
;

463 
g_DeviûUtsMock
 = &
DeviûMock
;

464 
MockEx‹º®
 
mock
;

465 
glob®_mockex‹º®_±r
 = &
mock
;

467 
h‰pcode
 = -1;

468 *
‹mp
 = "temp";

469 
»t
 = 0;

470 
FeDwÆ_t
 
fe
;

471 
	`mem£t
(&
fe
, '\0', (file));

472 
	`¢´štf
(
fe
.
·thÇme
, (file.pathname),"%s", "/tmp/testfirmware.bin");

473 
»t
 = 
	`sy¡em
("echo \"Content-Length: 1234\" > /tmp/testfirmware.bin.header");

475 
	`EXPECT_CALL
(
DeviûMock
,
	`g‘FeSize
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(12));

476 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

478 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`doCu¾In™
()).
	`WlR•—‹dly
(
	`R‘uº
((*)
‹mp
));

479 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`doStİDowÆßd
(
_
)).
	`Times
(2);

480 
	`EXPECT_CALL
(*
glob®_mockex‹º®_±r
, 
	`doH‰pFeDowÆßd
(
_
,_,_,_,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

482 
	`EXPECT_EQ
(
	`chunkDowÆßd
(&
fe
, 
NULL
, 0, &
h‰pcode
), 0);

483 
»t
 = 
	`sy¡em
("rm -f /tmp/testfirmware.bin.header");

485 
glob®_mockex‹º®_±r
 = 
NULL
;

486 
g_DeviûUtsMock
 = &
Deviûglob®
;

487 
glob®_mockex‹º®_±r
 = 
NULL
;

488 
	}
}

490 
	$TEST
(
MašH–³rFunùiÚTe¡
,
chunkDowÆßdFuÎTe¡Sucûss
){

491 
MockEx‹º®
 
mockex‹º®
;

492 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

493 
DeviûUtsMock
 
DeviûMock
;

494 
g_DeviûUtsMock
 = &
DeviûMock
;

495 
MockEx‹º®
 
mock
;

496 
g_DeviûUtsMock
 = &
DeviûMock
;

497 
glob®_mockex‹º®_±r
 = &
mock
;

499 
h‰pcode
 = -1;

500 *
‹mp
 = "temp";

501 
»t
 = 0;

502 
FeDwÆ_t
 
fe
;

503 
	`mem£t
(&
fe
, '\0', (file));

504 
	`¢´štf
(
fe
.
·thÇme
, (file.pathname),"%s", "/tmp/testfirmware.bin");

505 
»t
 = 
	`sy¡em
("echo \"Content-Length: 1234\" > /tmp/testfirmware.bin.header");

507 
	`EXPECT_CALL
(
DeviûMock
,
	`g‘FeSize
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(12));

508 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

510 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`doCu¾In™
()).
	`WlR•—‹dly
(
	`R‘uº
((*)
‹mp
));

511 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`doStİDowÆßd
(
_
)).
	`Times
(2);

512 
	`EXPECT_CALL
(*
glob®_mockex‹º®_±r
, 
	`doH‰pFeDowÆßd
(
_
,_,_,_,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(33));

514 
	`EXPECT_NE
(
	`chunkDowÆßd
(&
fe
, 
NULL
, 0, &
h‰pcode
), 0);

515 
»t
 = 
	`sy¡em
("rm -f /tmp/testfirmware.bin.header");

517 
glob®_mockex‹º®_±r
 = 
NULL
;

518 
g_DeviûUtsMock
 = &
Deviûglob®
;

519 
glob®_mockex‹º®_±r
 = 
NULL
;

520 
	}
}

521 
	$TEST
(
MašH–³rFunùiÚTe¡
,
chunkDowÆßdNÙN“dedTe¡
){

522 
MockEx‹º®
 
mockex‹º®
;

523 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

524 
DeviûUtsMock
 
DeviûMock
;

525 
g_DeviûUtsMock
 = &
DeviûMock
;

526 
MockEx‹º®
 
mock
;

527 
g_DeviûUtsMock
 = &
DeviûMock
;

528 
glob®_mockex‹º®_±r
 = &
mock
;

530 
h‰pcode
 = -1;

531 *
‹mp
 = "temp";

532 
»t
 = 0;

533 
FeDwÆ_t
 
fe
;

534 
	`mem£t
(&
fe
, '\0', (file));

535 
	`¢´štf
(
fe
.
·thÇme
, (file.pathname),"%s", "/tmp/testfirmware.bin");

536 
»t
 = 
	`sy¡em
("echo \"Content-Length: 12\" > /tmp/testfirmware.bin.header");

538 
	`EXPECT_CALL
(
DeviûMock
,
	`g‘FeSize
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(12));

539 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

545 
	`EXPECT_EQ
(
	`chunkDowÆßd
(&
fe
, 
NULL
, 0, &
h‰pcode
), 0);

546 
»t
 = 
	`sy¡em
("rm -f /tmp/testfirmware.bin.header");

548 
glob®_mockex‹º®_±r
 = 
NULL
;

549 
g_DeviûUtsMock
 = &
Deviûglob®
;

550 
glob®_mockex‹º®_±r
 = 
NULL
;

551 
	}
}

552 
	$TEST
(
MašH–³rFunùiÚTe¡
,
chunkDowÆßdg‘fesizeTe¡Fa
){

553 
MockEx‹º®
 
mockex‹º®
;

554 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

555 
DeviûUtsMock
 
DeviûMock
;

556 
g_DeviûUtsMock
 = &
DeviûMock
;

557 
MockEx‹º®
 
mock
;

558 
g_DeviûUtsMock
 = &
DeviûMock
;

559 
glob®_mockex‹º®_±r
 = &
mock
;

561 
h‰pcode
 = -1;

562 *
‹mp
 = "temp";

563 
»t
 = 0;

564 
FeDwÆ_t
 
fe
;

565 
	`mem£t
(&
fe
, '\0', (file));

566 
	`¢´štf
(
fe
.
·thÇme
, (file.pathname),"%s", "/tmp/testfirmware.bin");

567 
»t
 = 
	`sy¡em
("echo \"Content-Length: 1234\" > /tmp/testfirmware.bin.header");

569 
	`EXPECT_CALL
(
DeviûMock
,
	`g‘FeSize
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(-1));

570 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

576 
	`EXPECT_EQ
(
	`chunkDowÆßd
(&
fe
, 
NULL
, 0, &
h‰pcode
), -1);

577 
»t
 = 
	`sy¡em
("rm -f /tmp/testfirmware.bin.header");

579 
glob®_mockex‹º®_±r
 = 
NULL
;

580 
g_DeviûUtsMock
 = &
Deviûglob®
;

581 
glob®_mockex‹º®_±r
 = 
NULL
;

582 
	}
}

583 
	$TEST
(
MašH–³rFunùiÚTe¡
,
chunkDowÆßdTe¡Fa2
){

584 
MockEx‹º®
 
mockex‹º®
;

585 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

586 
DeviûUtsMock
 
DeviûMock
;

587 
g_DeviûUtsMock
 = &
DeviûMock
;

588 
MockEx‹º®
 
mock
;

589 
g_DeviûUtsMock
 = &
DeviûMock
;

590 
glob®_mockex‹º®_±r
 = &
mock
;

592 
h‰pcode
 = -1;

593 *
‹mp
 = "temp";

595 
FeDwÆ_t
 
fe
;

596 
	`mem£t
(&
fe
, '\0', (file));

597 
	`¢´štf
(
fe
.
·thÇme
, (file.pathname),"%s", "/tmp/testfirmware.bin");

600 
	`EXPECT_CALL
(
DeviûMock
,
	`g‘FeSize
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(12));

601 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(1));

607 
	`EXPECT_EQ
(
	`chunkDowÆßd
(&
fe
, 
NULL
, 0, &
h‰pcode
), -1);

610 
glob®_mockex‹º®_±r
 = 
NULL
;

611 
g_DeviûUtsMock
 = &
Deviûglob®
;

612 
glob®_mockex‹º®_±r
 = 
NULL
;

613 
	}
}

615 
	$TEST
(
¡¬tFaùÜyPrÙeùS”viûTe¡
, 
R‘uºsZ”oWh’Sucûssful
) {

617 
MockEx‹º®
 
mock
;

618 
DeviûUtsMock
 
DeviûMock
;

619 
g_DeviûUtsMock
 = &
DeviûMock
;

620 
glob®_mockex‹º®_±r
 = &
mock
;

621 *
‹mp
 = "temp";

623 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`doCu¾In™
()).
	`WlOnû
(
	`R‘uº
((*)
‹mp
));

624 
	`EXPECT_CALL
(
mock
, 
	`doCu¾PutReque¡
(
_
, _, _, _)).
	`WlOnû
(
	`DoAÎ
(
S‘ArgPoš‹e
<3>(200), 
	`R‘uº
(0)));

625 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`doStİDowÆßd
(
_
));

628 
	`EXPECT_EQ
(
	`¡¬tFaùÜyPrÙeùS”viû
(),0);

629 
glob®_mockex‹º®_±r
 = 
NULL
;

630 
g_DeviûUtsMock
 = &
Deviûglob®
;

631 
	}
}

633 
	$TEST
(
¡¬tFaùÜyPrÙeùS”viûTe¡
, 
R‘uºsmšusÚeWh’E¼Ü
) {

635 
MockEx‹º®
 
mock
;

636 
glob®_mockex‹º®_±r
 = &
mock
;

637 
DeviûUtsMock
 
DeviûMock
;

638 
g_DeviûUtsMock
 = &
DeviûMock
;

639 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`doCu¾In™
()).
	`WlOnû
(
	`R‘uº
(
NULL
));

642 
	`EXPECT_EQ
(
	`¡¬tFaùÜyPrÙeùS”viû
(), -1);

643 
glob®_mockex‹º®_±r
 = 
NULL
;

644 
g_DeviûUtsMock
 = &
Deviûglob®
;

645 
	}
}

675 
	$TEST
(
P”h”®Fœmw¬eDndlTe¡
, 
HªdËsV®idIÅut
) {

677 
MockDowÆßdFeOps
 
mockdowÆßdfeİs
;

678 
glob®_mockdowÆßdfeİs_±r
 = &
mockdowÆßdfeİs
;

679 
DeviûUtsMock
 
DeviûMock
;

680 
g_DeviûUtsMock
 = &
DeviûMock
;

682 *
pCloudFWLoÿtiÚ
 = "http://example.com";

683 *
pP”h”®Fœmw¬es
 = "firmware1,firmware2";

684 
	`EXPECT_CALL
(
mockdowÆßdfeİs
, 
	`dowÆßdFe
(
_
,_,_,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

685 
	`EXPECT_CALL
(
mockdowÆßdfeİs
, 
	`codebigdowÆßdFe
(
_
,_,_,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(
CODEBIG_SIGNING_FAILED
));

687 
	`EXPECT_CALL
(
DeviûMock
,
	`g‘FeSize
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(-1));

688 
»suÉ
 = 
	`³rh”®_fœmw¬e_dndl
(
pCloudFWLoÿtiÚ
, 
pP”h”®Fœmw¬es
);

690 
	`EXPECT_EQ
(
»suÉ
, -1);

691 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

692 
g_DeviûUtsMock
 = &
Deviûglob®
;

693 
	}
}

695 
	$TEST
(
P”h”®Fœmw¬eDndlTe¡
, 
HªdËsV®idIÅut404
) {

697 
MockDowÆßdFeOps
 
mockdowÆßdfeİs
;

698 
glob®_mockdowÆßdfeİs_±r
 = &
mockdowÆßdfeİs
;

700 *
pCloudFWLoÿtiÚ
 = "http://example.com";

701 *
pP”h”®Fœmw¬es
 = "firmware1,firmware2";

702 
	`EXPECT_CALL
(
mockdowÆßdfeİs
, 
	`dowÆßdFe
(
_
,_,_,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(
HTTP_PAGE_NOT_FOUND
));

703 
	`EXPECT_CALL
(
mockdowÆßdfeİs
, 
	`codebigdowÆßdFe
(
_
,_,_,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

704 
»suÉ
 = 
	`³rh”®_fœmw¬e_dndl
(
pCloudFWLoÿtiÚ
, 
pP”h”®Fœmw¬es
);

707 
	`EXPECT_EQ
(
»suÉ
, -1);

708 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

711 
	}
}

742 
	$TEST
(
checkTrigg”Upg¿deTe¡
, 
R‘uºsZ”oWh’Sucûssful
) {

744 
MockFunùiÚsIÁ”Çl
 
mock
;

745 
MockEx‹º®
 
mockex‹º®
;

746 
MockDowÆßdFeOps
 
mockdowÆßdfeİs
;

748 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

749 
glob®_mockdowÆßdfeİs_±r
 = &
mockdowÆßdfeİs
;

752 
	`EXPECT_CALL
(
mockdowÆßdfeİs
, 
	`dowÆßdFe
(
_
,_,_,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

755 
XCONFRES
 
»¥Ú£
;

758 
»suÉ
 = 
	`checkTrigg”Upg¿de
(&
»¥Ú£
, "testModel");

761 
	`EXPECT_EQ
(
»suÉ
, 0);

762 
glob®_mockex‹º®_±r
 = 
NULL
;

763 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

764 
	}
}

766 
	$TEST
(
checkTrigg”Upg¿deTe¡
, 
Te¡FaNuÎ
) {

767 
XCONFRES
 
»¥Ú£
;

768 
»suÉ
 = 
	`checkTrigg”Upg¿de
(&
»¥Ú£
, 
NULL
);

769 
	`EXPECT_EQ
(
»suÉ
, -1);

770 
	}
}

771 
	$TEST
(
checkTrigg”Upg¿deTe¡
, 
R‘uºsZ”oWh’Sucûssful404
) {

773 
MockFunùiÚsIÁ”Çl
 
mock
;

774 
MockEx‹º®
 
mockex‹º®
;

775 
MockDowÆßdFeOps
 
mockdowÆßdfeİs
;

777 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

778 
glob®_mockdowÆßdfeİs_±r
 = &
mockdowÆßdfeİs
;

781 
	`EXPECT_CALL
(
mockdowÆßdfeİs
, 
	`dowÆßdFe
(
_
,_,_,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(
HTTP_PAGE_NOT_FOUND
));

784 
XCONFRES
 
»¥Ú£
;

787 
»suÉ
 = 
	`checkTrigg”Upg¿de
(&
»¥Ú£
, "testModel");

790 
	`EXPECT_EQ
(
»suÉ
, 0);

791 
glob®_mockex‹º®_±r
 = 
NULL
;

792 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

793 
	}
}

795 
	$TEST
(
checkTrigg”Upg¿deTe¡
, 
Te¡V®idPciUpg¿deSucûss
) {

796 
MockEx‹º®
 
mockex‹º®
;

797 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

798 
DeviûUtsMock
 
DeviûMock
;

799 
g_DeviûUtsMock
 = &
DeviûMock
;

800 
MockDowÆßdFeOps
 
mockdowÆßdfeİs
;

801 
glob®_mockdowÆßdfeİs_±r
 = &
mockdowÆßdfeİs
;

803 
XCONFRES
 
»¥Ú£
;

804 
	`mem£t
(&
»¥Ú£
, '\0', (response));

805 
	`¡ºıy
(
»¥Ú£
.
şoudFWV”siÚ
, "testModel.bin", 13);

806 
	`¡ºıy
(
»¥Ú£
.
şoudFWFe
, "testModel.bin", 13);

807 
	`¡ºıy
(
»¥Ú£
.
şoudPDRIV”siÚ
, "testModel_PDRI_.bin", 19);

808 
	`¡ºıy
(
»¥Ú£
.
şoudImmedŸ‹ReboÙFÏg
, "true", 4);

809 
	`EXPECT_CALL
(
mockex‹º®
,
	`checkFÜV®idPCIUpg¿de
(
_
,_,_,_)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
Œue
));

810 
	`EXPECT_CALL
(
DeviûMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

811 
	`EXPECT_CALL
(
mockex‹º®
,
	`upd©eFWDowÆßdStus
(
_
,_)).
	`Times
(1);

812 
	`EXPECT_CALL
(
mockex‹º®
, 
	`isPDRIEÇbË
()).
	`WlOnû
(
	`R‘uº
(
Œue
));

813 
	`EXPECT_CALL
(
mockdowÆßdfeİs
, 
	`dowÆßdFe
(
_
,_,_,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

814 
»suÉ
 = 
	`checkTrigg”Upg¿de
(&
»¥Ú£
, "testModel");

815 
	`EXPECT_EQ
(
»suÉ
, 0);

816 
glob®_mockex‹º®_±r
 = 
NULL
;

817 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

818 
	}
}

819 
	$TEST
(
checkTrigg”Upg¿deTe¡
, 
Te¡PdriUpg¿deSucûss
) {

820 
MockEx‹º®
 
mockex‹º®
;

821 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

822 
DeviûUtsMock
 
DeviûMock
;

823 
g_DeviûUtsMock
 = &
DeviûMock
;

824 
MockDowÆßdFeOps
 
mockdowÆßdfeİs
;

825 
glob®_mockdowÆßdfeİs_±r
 = &
mockdowÆßdfeİs
;

827 
XCONFRES
 
»¥Ú£
;

828 
	`mem£t
(&
»¥Ú£
, '\0', (response));

829 
	`¡ºıy
(
»¥Ú£
.
şoudFWV”siÚ
, "testModel.bin", 13);

830 
	`¡ºıy
(
»¥Ú£
.
şoudFWFe
, "testModel.bin", 13);

831 
	`¡ºıy
(
»¥Ú£
.
şoudPDRIV”siÚ
, "testModel_PDRI_.bin", 19);

832 
	`¡ºıy
(
»¥Ú£
.
şoudImmedŸ‹ReboÙFÏg
, "false", 4);

833 
	`EXPECT_CALL
(
mockex‹º®
,
	`checkFÜV®idPCIUpg¿de
(
_
,_,_,_)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
Œue
));

834 
	`EXPECT_CALL
(
DeviûMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

835 
	`EXPECT_CALL
(
mockex‹º®
,
	`upd©eFWDowÆßdStus
(
_
,_)).
	`Times
(1);

836 
	`EXPECT_CALL
(
mockex‹º®
, 
	`isPDRIEÇbË
()).
	`WlOnû
(
	`R‘uº
(
Œue
));

837 
	`EXPECT_CALL
(
mockdowÆßdfeİs
, 
	`dowÆßdFe
(
_
,_,_,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

838 
»suÉ
 = 
	`checkTrigg”Upg¿de
(&
»¥Ú£
, "testModel");

839 
	`EXPECT_EQ
(
»suÉ
, 0);

840 
glob®_mockex‹º®_±r
 = 
NULL
;

841 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

842 
	}
}

844 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
çÎBackTe¡NULL
){

845 
	`EXPECT_EQ
(
	`çÎBack
(1, 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL), -1);

846 
	}
}

848 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
çÎBackTe¡Sucûss
){

849 
MockDowÆßdFeOps
 
mockfeİs
;

850 
glob®_mockdowÆßdfeİs_±r
 = &
mockfeİs
;

851 
h‰p_code
 = 200;

852 
fÜû_ex™
 = 0;

853 *
cu¾
 = 
NULL
;

854 
	`EXPECT_CALL
(
mockfeİs
, 
	`dowÆßdFe
(
_
,_,_,_,_)).
	`Times
(1).
	`WlOnû
(
‹¡šg
::
	`R‘uº
(
CURL_SUCCESS
));

855 
	`EXPECT_EQ
(
	`çÎBack
(
HTTP_XCONF_DIRECT
, "‹¡", "‹¡1", (*)"‹¡2", &
h‰p_code
, &
cu¾
, &
fÜû_ex™
, 
NULL
, NULL, NULL, NULL, NULL), 
CURL_SUCCESS
);

856 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

857 
	}
}

859 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
çÎBackTe¡Fau»
){

860 
MockDowÆßdFeOps
 
mockfeİs
;

861 
glob®_mockdowÆßdfeİs_±r
 = &
mockfeİs
;

862 
h‰p_code
 = 200;

863 
fÜû_ex™
 = 0;

864 *
cu¾
 = 
NULL
;

865 
	`EXPECT_CALL
(
mockfeİs
, 
	`dowÆßdFe
(
_
,_,_,_,_)).
	`Times
(1).
	`WlOnû
(
‹¡šg
::
	`R‘uº
(!
CURL_SUCCESS
));

866 
	`EXPECT_EQ
(
	`çÎBack
(
HTTP_XCONF_DIRECT
, "‹¡", "‹¡1", (*)"‹¡2", &
h‰p_code
, &
cu¾
, &
fÜû_ex™
, 
NULL
, NULL, NULL, NULL, NULL), !
CURL_SUCCESS
);

867 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

868 
	}
}

870 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
çÎBackTe¡SucûssCodebig
){

871 
MockDowÆßdFeOps
 
mockfeİs
;

872 
glob®_mockdowÆßdfeİs_±r
 = &
mockfeİs
;

873 
h‰p_code
 = 200;

874 
fÜû_ex™
 = 0;

875 *
cu¾
 = 
NULL
;

876 
	`EXPECT_CALL
(
mockfeİs
, 
	`codebigdowÆßdFe
(
_
,_,_,_,_)).
	`Times
(1).
	`WlOnû
(
‹¡šg
::
	`R‘uº
(
CURL_SUCCESS
));

877 
	`EXPECT_EQ
(
	`çÎBack
(
HTTP_SSR_CODEBIG
, "‹¡", "‹¡1", (*)"‹¡2", &
h‰p_code
, &
cu¾
, &
fÜû_ex™
, 
NULL
, NULL, NULL, NULL, NULL), 
CURL_SUCCESS
);

878 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

879 
	}
}

881 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
çÎBackTe¡Fau»Codebig
){

882 
MockDowÆßdFeOps
 
mockfeİs
;

883 
glob®_mockdowÆßdfeİs_±r
 = &
mockfeİs
;

884 
h‰p_code
 = 200;

885 
fÜû_ex™
 = 0;

886 *
cu¾
 = 
NULL
;

887 
	`EXPECT_CALL
(
mockfeİs
, 
	`codebigdowÆßdFe
(
_
,_,_,_,_)).
	`Times
(1).
	`WlOnû
(
‹¡šg
::
	`R‘uº
(!
CURL_SUCCESS
));

888 
	`EXPECT_EQ
(
	`çÎBack
(
HTTP_SSR_CODEBIG
, "‹¡", "‹¡1", (*)"‹¡2", &
h‰p_code
, &
cu¾
, &
fÜû_ex™
, 
NULL
, NULL, NULL, NULL, NULL), !
CURL_SUCCESS
);

889 
glob®_mockdowÆßdfeİs_±r
 = 
NULL
;

890 
	}
}

892 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
upd©eUpg¿deFÏg1
){

893 
	`¡rıy
(
deviû_šfo
.
dev_ty³
,"mediaclient\0");

894 
	`upd©eUpg¿deFÏg
(1);

895 
	`EXPECT_EQ
(
	`acûss
("/tmp/.imageDÆdInProg»ss", 
F_OK
), 0);

896 
	}
}

898 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
upd©eUpg¿deFÏg11
){

899 
	`¡rıy
(
deviû_šfo
.
dev_ty³
,"mediaclien1t\0");

900 
	`upd©eUpg¿deFÏg
(1);

901 
	`EXPECT_EQ
(
	`acûss
(
HTTP_CDL_FLAG
, 
F_OK
), 0);

902 
	}
}

904 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
upd©eUpg¿deFÏg2
){

905 
	`¡rıy
(
deviû_šfo
.
dev_ty³
,"mediaclient\0");

906 
	`upd©eUpg¿deFÏg
(2);

907 
	`EXPECT_EQ
(
	`acûss
("/tmp/.imageDÆdInProg»ss", 
F_OK
), -1);

908 
	}
}

910 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
upd©eUpg¿deFÏg22
){

911 
	`¡rıy
(
deviû_šfo
.
dev_ty³
,"mediaclien1t\0");

912 
	`upd©eUpg¿deFÏg
(2);

913 
	`EXPECT_EQ
(
	`acûss
(
HTTP_CDL_FLAG
, 
F_OK
), -1);

914 
	}
}

916 
	$TEST
(
MašH–³rFunùiÚTe¡
,
unš™ŸlizeTe¡
){

917 
MockEx‹º®
 
mockex‹º®
;

918 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

919 
	`EXPECT_CALL
(
mockex‹º®
,
	`t2_unš™
()).
	`Times
(1);

920 
	`EXPECT_CALL
(
mockex‹º®
,
	`log_ex™
()).
	`Times
(1);

921 
	`unš™Ÿlize
(
INITIAL_VALIDATION_DWNL_INPROGRESS
);

922 
glob®_mockex‹º®_±r
 = 
NULL
;

923 
	}
}

926 
	$TEST
(
MašH–³rFunùiÚTe¡
,
š™ŸlizeTe¡
){

927 
MockEx‹º®
 
mockex‹º®
;

928 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

929 
	`EXPECT_CALL
(
mockex‹º®
,
	`g‘DeviûPrİ”t›s
(
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(-1));

930 
	`EXPECT_EQ
(
	`š™Ÿlize
(), -1);

931 
glob®_mockex‹º®_±r
 = 
NULL
;

932 
	}
}

934 
	$TEST
(
MašH–³rFunùiÚTe¡
,
š™ŸlizeTe¡1
){

935 
MockEx‹º®
 
mockex‹º®
;

936 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

937 
	`EXPECT_CALL
(
mockex‹º®
,
	`g‘DeviûPrİ”t›s
(
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

938 
	`EXPECT_CALL
(
mockex‹º®
,
	`g‘ImageD‘as
(
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

939 
	`EXPECT_CALL
(
mockex‹º®
,
	`g‘RFCS‘tšgs
(
_
)).
	`Times
(1);

940 
	`EXPECT_CALL
(
mockex‹º®
,
	`š™_ev’t_hªdËr
()).
	`Times
(1);

941 
	`¡rıy
(
deviû_šfo
.
mašt_¡©us
,"true");

942 
	`EXPECT_EQ
(
	`š™Ÿlize
(), 1);

943 
glob®_mockex‹º®_±r
 = 
NULL
;

944 
	}
}

946 
	$TEST
(
MašH–³rFunùiÚTe¡
,
§veHTTPCodeTe¡
){

947 
	`§veHTTPCode
(200, 
NULL
);

948 
	`fæush
(
NULL
);

949 
buff
[16] = {0};

950 
FILE
 *
å
 = 
NULL
;

951 
å
 = 
	`fİ’
(
HTTP_CODE_FILE
, "r");

952 ià(
å
 !ğ
NULL
) {

953 
	`´štf
("File open success\n");

954 (
	`fg‘s
(
buff
, (buff), 
å
)è!ğ
NULL
) {

955 
	`´štf
("Aá”„—d buàğ%s\n",
buff
);

957 
	`fşo£
(
å
);

960 
	`EXPECT_EQ
(
	`©oi
(
buff
), 200);

961 
	`»move
(
HTTP_CODE_FILE
);

962 
	}
}

964 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
HªdËsNÜm®Ca£1
) {

966 cÚ¡ * 
f’ame
 = "/tmp/testfile.txt";

968 cÚ¡ * 
cÚ‹Á
 = "softwareoptout IGNORE_UPDATE \0\r\n";

969 
FILE
 *
fOut
 = 
	`fİ’
 (
f’ame
, "w");

970 ià(
fOut
 !ğ
NULL
) {

971 ià(
	`åuts
 (
cÚ‹Á
, 
fOut
è=ğ
EOF
) {

972 
	`´štf
 ("File write‚ot successful\n");

974 
	`´štf
 ("closinghe file\n");

975 
	`fæush
(
fOut
);

976 
	`fşo£
 (
fOut
);

978 
»suÉ
 = 
	`g‘OPTOUTV®ue
(
f’ame
);

979 
	`EXPECT_EQ
(
»suÉ
, 1);

980 
	`»move
(
f’ame
);

981 
	}
}

983 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
HªdËsNÜm®Ca£0
) {

985 cÚ¡ * 
f’ame
 = "/tmp/testfile.txt";

987 cÚ¡ * 
cÚ‹Á
 = "softwareoptout ENFORCE_OPTOUT \0\r\n";

988 
FILE
 *
fOut
 = 
	`fİ’
 (
f’ame
, "w");

989 ià(
fOut
 !ğ
NULL
) {

990 ià(
	`åuts
 (
cÚ‹Á
, 
fOut
è=ğ
EOF
) {

991 
	`´štf
 ("File write‚ot successful\n");

993 
	`´štf
 ("closinghe file\n");

994 
	`fæush
(
fOut
);

995 
	`fşo£
 (
fOut
);

997 
»suÉ
 = 
	`g‘OPTOUTV®ue
(
f’ame
);

998 
	`EXPECT_EQ
(
»suÉ
, 0);

999 
	`»move
(
f’ame
);

1000 
	}
}

1002 
	$TEST
(
MašH–³rFunùiÚTe¡
, 
HªdËsNuÎF’ame
) {

1003 
»suÉ
 = 
	`g‘OPTOUTV®ue
(
NULL
);

1004 
	`EXPECT_EQ
(
»suÉ
, -1);

1005 
	}
}

1007 
	$TEST
(
MašH–³rFunùiÚTe¡
,
æashImageTe¡NuÎ
){

1008 
	`EXPECT_EQ
(
	`æashImage
(
NULL
, NULL, "false", "2", 0, "false",1), -1);

1009 
	}
}

1010 
	$TEST
(
MašH–³rFunùiÚTe¡
,
æashImageTe¡
){

1011 
MockEx‹º®
 
mockex‹º®
;

1012 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

1013 
DeviûUtsMock
 
DeviûMock
;

1014 
g_DeviûUtsMock
 = &
DeviûMock
;

1016 
	`EXPECT_CALL
(
mockex‹º®
,
	`isMedŸCl›ÁDeviû
()).
	`WlOnû
(
	`R‘uº
(
Œue
));

1017 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1018 
	`EXPECT_CALL
(
mockex‹º®
,
	`ev’tMªag”
(
_
,_)).
	`WlR•—‹dly
(
	`R‘uº
());

1019 
	`EXPECT_CALL
(
mockex‹º®
,
	`upd©eFWDowÆßdStus
(
_
,_)).
	`Times
(1);

1020 
	`EXPECT_CALL
(
DeviûMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1022 
	`EXPECT_EQ
(
	`æashImage
("fwdl.com", "/tmp/firmware.bin", "false", "2", 0, "false",2), 0);

1023 
glob®_mockex‹º®_±r
 = 
NULL
;

1024 
	}
}

1025 
	$TEST
(
MašH–³rFunùiÚTe¡
,
æashImageTe¡RedS‹
){

1026 
MockEx‹º®
 
mockex‹º®
;

1027 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

1028 
DeviûUtsMock
 
DeviûMock
;

1029 
g_DeviûUtsMock
 = &
DeviûMock
;

1031 
	`EXPECT_CALL
(
mockex‹º®
,
	`isMedŸCl›ÁDeviû
()).
	`WlOnû
(
	`R‘uº
(
Œue
));

1032 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1033 
	`EXPECT_CALL
(
mockex‹º®
,
	`ev’tMªag”
(
_
,_)).
	`WlR•—‹dly
(
	`R‘uº
());

1034 
	`EXPECT_CALL
(
mockex‹º®
,
	`upd©eFWDowÆßdStus
(
_
,_)).
	`Times
(1);

1035 
	`EXPECT_CALL
(
DeviûMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1036 
	`EXPECT_CALL
(
DeviûMock
, 
	`isInS‹Red
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
Œue
));

1038 
	`EXPECT_EQ
(
	`æashImage
("fwdl.com", "/tmp/firmware.bin", "false", "2", 0, "false",6), 0);

1039 
glob®_mockex‹º®_±r
 = 
NULL
;

1040 
	}
}

1041 
	$TEST
(
MašH–³rFunùiÚTe¡
,
æashImageTe¡Fa
){

1042 
MockEx‹º®
 
mockex‹º®
;

1043 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

1044 
DeviûUtsMock
 
DeviûMock
;

1045 
g_DeviûUtsMock
 = &
DeviûMock
;

1047 
	`EXPECT_CALL
(
mockex‹º®
,
	`isMedŸCl›ÁDeviû
()).
	`WlOnû
(
	`R‘uº
(
Œue
));

1048 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1049 
	`EXPECT_CALL
(
mockex‹º®
,
	`ev’tMªag”
(
_
,_)).
	`WlR•—‹dly
(
	`R‘uº
());

1050 
	`EXPECT_CALL
(
DeviûMock
,
	`v_£cu»_sy¡em
(
_
,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(1));

1051 
	`EXPECT_CALL
(
mockex‹º®
,
	`upd©eFWDowÆßdStus
(
_
,_)).
	`Times
(1);

1052 
	`EXPECT_CALL
(
DeviûMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1054 
	`EXPECT_EQ
(
	`æashImage
("fwdl.com", "/tmp/firmware.bin", "false", "2", 0, "false",3), 1);

1055 
glob®_mockex‹º®_±r
 = 
NULL
;

1056 
	}
}

1057 
	$TEST
(
MašH–³rFunùiÚTe¡
,
æashImageTe¡Fa1
){

1058 
MockEx‹º®
 
mockex‹º®
;

1059 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

1060 
DeviûUtsMock
 
DeviûMock
;

1061 
g_DeviûUtsMock
 = &
DeviûMock
;

1063 
	`EXPECT_CALL
(
mockex‹º®
,
	`isMedŸCl›ÁDeviû
()).
	`WlOnû
(
	`R‘uº
(
çl£
));

1064 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1065 
	`EXPECT_CALL
(
mockex‹º®
,
	`ev’tMªag”
(
_
,_)).
	`WlR•—‹dly
(
	`R‘uº
());

1066 
	`EXPECT_CALL
(
DeviûMock
,
	`v_£cu»_sy¡em
(
_
,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(1));

1067 
	`EXPECT_CALL
(
mockex‹º®
,
	`upd©eFWDowÆßdStus
(
_
,_)).
	`Times
(1);

1068 
	`EXPECT_CALL
(
DeviûMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1070 
	`EXPECT_EQ
(
	`æashImage
("fwdl.com", "/tmp/firmware.bin", "false", "2", 0, "false",1), 1);

1071 
glob®_mockex‹º®_±r
 = 
NULL
;

1072 
	}
}

1073 
	$TEST
(
MašH–³rFunùiÚTe¡
,
æashImageTe¡Fa2
){

1074 
MockEx‹º®
 
mockex‹º®
;

1075 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

1076 
DeviûUtsMock
 
DeviûMock
;

1077 
g_DeviûUtsMock
 = &
DeviûMock
;

1079 
	`EXPECT_CALL
(
mockex‹º®
,
	`isMedŸCl›ÁDeviû
()).
	`WlOnû
(
	`R‘uº
(
Œue
));

1080 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1081 
	`EXPECT_CALL
(
mockex‹º®
,
	`ev’tMªag”
(
_
,_)).
	`WlR•—‹dly
(
	`R‘uº
());

1082 
	`EXPECT_CALL
(
DeviûMock
,
	`v_£cu»_sy¡em
(
_
,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(1));

1083 
	`EXPECT_CALL
(
mockex‹º®
,
	`upd©eFWDowÆßdStus
(
_
,_)).
	`Times
(1);

1084 
	`EXPECT_CALL
(
DeviûMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(1));

1086 
	`EXPECT_EQ
(
	`æashImage
("fwdl.com", "/tmp/firmware.bin", "false", "2", 0, "false",5), 1);

1087 
glob®_mockex‹º®_±r
 = 
NULL
;

1088 
	}
}

1089 
	$TEST
(
MašH–³rFunùiÚTe¡
,
æashImageTe¡ReboÙTrue
){

1090 
MockEx‹º®
 
mockex‹º®
;

1091 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

1092 
DeviûUtsMock
 
DeviûMock
;

1093 
g_DeviûUtsMock
 = &
DeviûMock
;

1095 
	`EXPECT_CALL
(
mockex‹º®
,
	`isMedŸCl›ÁDeviû
()).
	`WlOnû
(
	`R‘uº
(
Œue
));

1096 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1097 
	`EXPECT_CALL
(
mockex‹º®
,
	`ev’tMªag”
(
_
,_)).
	`WlR•—‹dly
(
	`R‘uº
());

1098 
	`EXPECT_CALL
(
mockex‹º®
,
	`upd©eFWDowÆßdStus
(
_
,_)).
	`Times
(1);

1099 
	`EXPECT_CALL
(
DeviûMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1101 
	`EXPECT_EQ
(
	`æashImage
("fwdl.com", "/tmp/firmware.bin", "true", "2", 0, "false",2), 0);

1102 
glob®_mockex‹º®_±r
 = 
NULL
;

1103 
	}
}

1104 
	$TEST
(
MašH–³rFunùiÚTe¡
,
æashImageTe¡Pdri
){

1105 
MockEx‹º®
 
mockex‹º®
;

1106 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

1107 
DeviûUtsMock
 
DeviûMock
;

1108 
g_DeviûUtsMock
 = &
DeviûMock
;

1110 
	`EXPECT_CALL
(
mockex‹º®
,
	`isMedŸCl›ÁDeviû
()).
	`WlOnû
(
	`R‘uº
(
Œue
));

1111 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1112 
	`EXPECT_CALL
(
mockex‹º®
,
	`ev’tMªag”
(
_
,_)).
	`WlR•—‹dly
(
	`R‘uº
());

1113 
	`EXPECT_CALL
(
mockex‹º®
,
	`upd©eFWDowÆßdStus
(
_
,_)).
	`Times
(1);

1114 
	`EXPECT_CALL
(
DeviûMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1116 
	`EXPECT_EQ
(
	`æashImage
("fwdl.com", "/tmp/firmware.bin", "false", "2", 1, "false",6), 0);

1117 
glob®_mockex‹º®_±r
 = 
NULL
;

1118 
	}
}

1120 
	$TEST
(
MašH–³rFunùiÚTe¡
,
æashImageTe¡MaštTrue
){

1121 
MockEx‹º®
 
mockex‹º®
;

1122 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

1123 
DeviûUtsMock
 
DeviûMock
;

1124 
g_DeviûUtsMock
 = &
DeviûMock
;

1126 
	`EXPECT_CALL
(
mockex‹º®
,
	`isMedŸCl›ÁDeviû
()).
	`WlOnû
(
	`R‘uº
(
Œue
));

1127 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1128 
	`EXPECT_CALL
(
mockex‹º®
,
	`ev’tMªag”
(
_
,_)).
	`WlR•—‹dly
(
	`R‘uº
());

1129 
	`EXPECT_CALL
(
mockex‹º®
,
	`upd©eFWDowÆßdStus
(
_
,_)).
	`Times
(1);

1130 
	`EXPECT_CALL
(
DeviûMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1132 
	`EXPECT_EQ
(
	`æashImage
("fwdl.com", "/tmp/firmware.bin", "true", "2", 0, "true",1), 0);

1133 
glob®_mockex‹º®_±r
 = 
NULL
;

1134 
	}
}

1135 
	$TEST
(
MašH–³rFunùiÚTe¡
,
æashImageTe¡MaštF®£
){

1136 
MockEx‹º®
 
mockex‹º®
;

1137 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

1138 
DeviûUtsMock
 
DeviûMock
;

1139 
g_DeviûUtsMock
 = &
DeviûMock
;

1141 
	`EXPECT_CALL
(
mockex‹º®
,
	`isMedŸCl›ÁDeviû
()).
	`WlOnû
(
	`R‘uº
(
Œue
));

1142 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1143 
	`EXPECT_CALL
(
mockex‹º®
,
	`ev’tMªag”
(
_
,_)).
	`WlR•—‹dly
(
	`R‘uº
());

1144 
	`EXPECT_CALL
(
mockex‹º®
,
	`upd©eFWDowÆßdStus
(
_
,_)).
	`Times
(1);

1145 
	`EXPECT_CALL
(
DeviûMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1147 
	`EXPECT_EQ
(
	`æashImage
("fwdl.com", "/tmp/firmware.bin", "true", "2", 0, "false",2), 0);

1148 
glob®_mockex‹º®_±r
 = 
NULL
;

1149 
	}
}

1150 
	$TEST
(
MašH–³rFunùiÚTe¡
,
g‘XcÚfResTe¡
){

1151 
XCONFRES
 
»¥Ú£
;

1152 
d©a
[] = "{\"firmwareDownloadProtocol\":\"http\",\"firmwareFilename\":\"HS_VBN_24_sprint_20240725233056sdy_NG-signed.bin\",\"firmwareLocation\":\"https://cdlserver.tv/Images\",\"firmwareVersion\":\"HS_VBN_24_sprint_20240725233056sdy_NG\",\"rebootImmediately\":false}";

1153 *
»¥Ú£
.
şoudFWFe
 = 0;

1154 *
»¥Ú£
.
şoudFWLoÿtiÚ
 = 0;

1155 *
»¥Ú£
.
v6şoudFWLoÿtiÚ
 = 0;

1156 *
»¥Ú£
.
şoudFWV”siÚ
 = 0;

1157 *
»¥Ú£
.
şoudD–ayDowÆßd
 = 0;

1158 *
»¥Ú£
.
şoudPrÙo
 = 0;

1159 *
»¥Ú£
.
şoudImmedŸ‹ReboÙFÏg
 = 0;

1160 *
»¥Ú£
.
³rh”®Fœmw¬es
 = 0;

1161 *
»¥Ú£
.
dlC”tBundË
 = 0;

1162 *
»¥Ú£
.
şoudPDRIV”siÚ
 = 0;

1163 
cout
 << 
d©a
 << 
’dl
;

1164 
	`EXPECT_EQ
(
	`g‘XcÚfRe¥D©a
(&
»¥Ú£
, 
d©a
), 0);

1165 
	}
}

1166 
	$TEST
(
MašH–³rFunùiÚTe¡
,
g‘XcÚfResTe¡NuÎ
){

1167 
XCONFRES
 
»¥Ú£
;

1168 
d©a
[] = "{\"firmwareDownloadProtocol\":\"http\",\"firmwareFilename\":\"HS_VBN_24_sprint_20240725233056sdy_NG-signed.bin\",\"firmwareLocation\":\"https://cdlserver.tv/Images\",\"firmwareVersion\":\"HS_VBN_24_sprint_20240725233056sdy_NG\",\"rebootImmediately\":false}";

1169 *
»¥Ú£
.
şoudFWFe
 = 0;

1170 *
»¥Ú£
.
şoudFWLoÿtiÚ
 = 0;

1171 *
»¥Ú£
.
v6şoudFWLoÿtiÚ
 = 0;

1172 *
»¥Ú£
.
şoudFWV”siÚ
 = 0;

1173 *
»¥Ú£
.
şoudD–ayDowÆßd
 = 0;

1174 *
»¥Ú£
.
şoudPrÙo
 = 0;

1175 *
»¥Ú£
.
şoudImmedŸ‹ReboÙFÏg
 = 0;

1176 *
»¥Ú£
.
³rh”®Fœmw¬es
 = 0;

1177 *
»¥Ú£
.
dlC”tBundË
 = 0;

1178 *
»¥Ú£
.
şoudPDRIV”siÚ
 = 0;

1179 
cout
 << 
d©a
 << 
’dl
;

1180 
	`EXPECT_EQ
(
	`g‘XcÚfRe¥D©a
(
NULL
, 
d©a
), -1);

1181 
	}
}

1182 
	$TEST
(
MašH–³rFunùiÚTe¡
,
g‘XcÚfResTe¡NuÎ1
){

1183 
XCONFRES
 
»¥Ú£
;

1184 *
»¥Ú£
.
şoudFWFe
 = 0;

1185 *
»¥Ú£
.
şoudFWLoÿtiÚ
 = 0;

1186 *
»¥Ú£
.
v6şoudFWLoÿtiÚ
 = 0;

1187 *
»¥Ú£
.
şoudFWV”siÚ
 = 0;

1188 *
»¥Ú£
.
şoudD–ayDowÆßd
 = 0;

1189 *
»¥Ú£
.
şoudPrÙo
 = 0;

1190 *
»¥Ú£
.
şoudImmedŸ‹ReboÙFÏg
 = 0;

1191 *
»¥Ú£
.
³rh”®Fœmw¬es
 = 0;

1192 *
»¥Ú£
.
dlC”tBundË
 = 0;

1193 *
»¥Ú£
.
şoudPDRIV”siÚ
 = 0;

1194 
	`EXPECT_EQ
(
	`g‘XcÚfRe¥D©a
(&
»¥Ú£
, 
NULL
), -1);

1195 
	}
}

1197 
	$TEST
(
MašH–³rFunùiÚTe¡
,
ProûssResTe¡
){

1198 
XCONFRES
 
»¥Ú£
;

1199 
d©a
[] = "{\"firmwareDownloadProtocol\":\"http\",\"firmwareFilename\":\"HS_VBN_24_sprint_20240725233056sdy_NG-signed.bin\",\"additionalFwVerInfo\":\"HS_VBN_PDRI_20240725233056sdy_NG\",\"firmwareLocation\":\"https://cdlserver.tv/Images\",\"firmwareVersion\":\"HS_VBN_24_sprint_20240725233056sdy_NG\",\"rebootImmediately\":false}";

1200 *
»¥Ú£
.
şoudFWFe
 = 0;

1201 *
»¥Ú£
.
şoudFWLoÿtiÚ
 = 0;

1202 *
»¥Ú£
.
v6şoudFWLoÿtiÚ
 = 0;

1203 *
»¥Ú£
.
şoudFWV”siÚ
 = 0;

1204 *
»¥Ú£
.
şoudD–ayDowÆßd
 = 0;

1205 *
»¥Ú£
.
şoudPrÙo
 = 0;

1206 *
»¥Ú£
.
şoudImmedŸ‹ReboÙFÏg
 = 0;

1207 *
»¥Ú£
.
³rh”®Fœmw¬es
 = 0;

1208 *
»¥Ú£
.
dlC”tBundË
 = 0;

1209 *
»¥Ú£
.
şoudPDRIV”siÚ
 = 0;

1210 
cout
 << 
d©a
 << 
’dl
;

1211 
	`g‘XcÚfRe¥D©a
(&
»¥Ú£
, 
d©a
);

1212 
	`EXPECT_EQ
(
	`´oûssJsÚRe¥Ú£
(&
»¥Ú£
, "1234.bin","HS", "true"), 0);

1213 
	}
}

1214 
	$TEST
(
MašH–³rFunùiÚTe¡
,
ProûssResTe¡MaštF®£
){

1215 
XCONFRES
 
»¥Ú£
;

1216 
d©a
[] = "{\"firmwareDownloadProtocol\":\"http\",\"firmwareFilename\":\"HS_VBN_24_sprint_20240725233056sdy_NG-signed.bin\",\"additionalFwVerInfo\":\"HS_VBN_PDRI_20240725233056sdy_NG\",\"firmwareLocation\":\"https://cdlserver.tv/Images\",\"firmwareVersion\":\"HS_VBN_24_sprint_20240725233056sdy_NG\",\"rebootImmediately\":false}";

1217 *
»¥Ú£
.
şoudFWFe
 = 0;

1218 *
»¥Ú£
.
şoudFWLoÿtiÚ
 = 0;

1219 *
»¥Ú£
.
v6şoudFWLoÿtiÚ
 = 0;

1220 *
»¥Ú£
.
şoudFWV”siÚ
 = 0;

1221 *
»¥Ú£
.
şoudD–ayDowÆßd
 = 0;

1222 *
»¥Ú£
.
şoudPrÙo
 = 0;

1223 *
»¥Ú£
.
şoudImmedŸ‹ReboÙFÏg
 = 0;

1224 *
»¥Ú£
.
³rh”®Fœmw¬es
 = 0;

1225 *
»¥Ú£
.
dlC”tBundË
 = 0;

1226 *
»¥Ú£
.
şoudPDRIV”siÚ
 = 0;

1227 
cout
 << 
d©a
 << 
’dl
;

1228 
	`g‘XcÚfRe¥D©a
(&
»¥Ú£
, 
d©a
);

1229 
	`EXPECT_EQ
(
	`´oûssJsÚRe¥Ú£
(&
»¥Ú£
, "1234.bin","HS", "false"), 0);

1230 
	}
}

1231 
	$TEST
(
MašH–³rFunùiÚTe¡
,
ProûssResTe¡NuÎ
){

1232 
	`EXPECT_EQ
(
	`´oûssJsÚRe¥Ú£
(
NULL
, NULL,NULL, NULL), -1);

1233 
	}
}

1234 
	$TEST
(
MašH–³rFunùiÚTe¡
,
š™ŸlV®id©iÚTe¡Sucûss
){

1235 
MockEx‹º®
 
mockex‹º®
;

1236 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

1237 
DeviûUtsMock
 
DeviûMock
;

1238 
g_DeviûUtsMock
 = &
DeviûMock
;

1239 
	`EXPECT_CALL
(
DeviûMock
, 
	`»ad_RFCPrİ”ty
(
_
,_,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(1));

1240 
	`EXPECT_CALL
(
mockex‹º®
, 
	`Cu¼’tRuÂšgIn¡
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(
çl£
));

1241 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

1242 
	`EXPECT_EQ
(
	`š™ŸlV®id©iÚ
(), 3);

1243 
	}
}

1244 
	$TEST
(
MašH–³rFunùiÚTe¡
,
š™ŸlV®id©iÚTe¡Fa
){

1245 
MockEx‹º®
 
mockex‹º®
;

1246 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

1247 
DeviûUtsMock
 
DeviûMock
;

1248 
g_DeviûUtsMock
 = &
DeviûMock
;

1249 
	`EXPECT_CALL
(
DeviûMock
, 
	`»ad_RFCPrİ”ty
(
_
,_,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(-1));

1250 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(1));

1251 
	`EXPECT_CALL
(
mockex‹º®
, 
	`Cu¼’tRuÂšgIn¡
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(
çl£
));

1252 
	`EXPECT_EQ
(
	`š™ŸlV®id©iÚ
(), 0);

1253 
	}
}

1254 
	$TEST
(
MašH–³rFunùiÚTe¡
,
š™ŸlV®id©iÚTe¡Fa1
){

1255 
»t
 = 0;

1256 
MockEx‹º®
 
mockex‹º®
;

1257 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

1258 
DeviûUtsMock
 
DeviûMock
;

1259 
g_DeviûUtsMock
 = &
DeviûMock
;

1260 
	`EXPECT_CALL
(
DeviûMock
, 
	`»ad_RFCPrİ”ty
(
_
,_,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(-1));

1261 
	`EXPECT_CALL
(
DeviûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlOnû
(
	`R‘uº
(1)).
	`WlR•—‹dly
(Return(0));

1262 
	`EXPECT_CALL
(
mockex‹º®
, 
	`Cu¼’tRuÂšgIn¡
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(
çl£
));

1263 
	`EXPECT_EQ
(
	`š™ŸlV®id©iÚ
(), 0);

1264 
»t
 = 
	`sy¡em
("rm -rf /tmp/DIFD.pid");

1265 
	}
}

1266 
	$TEST
(
MašH–³rFunùiÚTe¡
,
š™ŸlV®id©iÚTe¡IÅrog»ss
){

1267 
DeviûUtsMock
 
DeviûMock
;

1268 
g_DeviûUtsMock
 = &
DeviûMock
;

1269 
MockEx‹º®
 
mockex‹º®
;

1270 
glob®_mockex‹º®_±r
 = &
mockex‹º®
;

1271 
	`EXPECT_CALL
(
DeviûMock
, 
	`»ad_RFCPrİ”ty
(
_
,_,_,_)).
	`WlR•—‹dly
(
	`R‘uº
(1));

1272 
	`EXPECT_CALL
(
mockex‹º®
, 
	`Cu¼’tRuÂšgIn¡
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(
Œue
));

1273 
	`EXPECT_EQ
(
	`š™ŸlV®id©iÚ
(), 2);

1274 
	}
}

1275 
	$TEST
(
MašH–³rFunùiÚTe¡
,
cİyFeTe¡Fa
){

1276 
	`EXPECT_EQ
(
	`cİyFe
(
NULL
, NULL), -1);

1277 
	}
}

1278 
	$TEST
(
MašH–³rFunùiÚTe¡
,
cİyFeTe¡Sucûss
){

1279 *
¤c
 = "/tmp/src.txt";

1280 *
d¡
 = "/tmp/dst.txt";

1281 
»t
 = 0;

1282 
»t
 = 
	`sy¡em
("echo \"tesing\" > /tmp/src.txt");

1283 
	`EXPECT_EQ
(
	`cİyFe
(
¤c
, 
d¡
), 0);

1284 
»t
 = 
	`sy¡em
("rm -f /tmp/src.txt");

1285 
»t
 = 
	`sy¡em
("rm -f /tmp/dst.txt");

1286 
	}
}

1287 
GTEST_API_
 
	$maš
(
¬gc
, *
¬gv
[]){

1288 
‹¡»suÉs_fuÎf•©h
[
GTEST_REPORT_FILEPATH_SIZE
];

1289 
bufãr
[
GTEST_REPORT_FILEPATH_SIZE
];

1291 
	`mem£t
Ğ
‹¡»suÉs_fuÎf•©h
, 0, 
GTEST_REPORT_FILEPATH_SIZE
 );

1292 
	`mem£t
Ğ
bufãr
, 0, 
GTEST_REPORT_FILEPATH_SIZE
 );

1294 
	`¢´štf
Ğ
‹¡»suÉs_fuÎf•©h
, 
GTEST_REPORT_FILEPATH_SIZE
, "jsÚ:%s%s" , 
GTEST_DEFAULT_RESULT_FILEPATH
 , 
GTEST_DEFAULT_RESULT_FILENAME
);

1295 ::
‹¡šg
::
	`GTEST_FLAG
(
ouut
èğ
‹¡»suÉs_fuÎf•©h
;

1296 ::
‹¡šg
::
	`In™GoogËTe¡
(&
¬gc
, 
¬gv
);

1298 
cout
 << "S¹šg GTEST MAIN ===========================>" << 
’dl
;

1299  
	`RUN_ALL_TESTS
();

1300 
	}
}

	@unittest/device_status_helper_gtest.cpp

19 
	~<g‹¡/g‹¡.h
>

20 
	~<gmock/gmock.h
>

21 
	~<io¡»am
>

22 
	~<uni¡d.h
>

24 
	~"jsÚ_´oûss.h
"

25 
	~"deviû_¡©us_h–³r.h
"

26 
	~"dowÆßd_¡©us_h–³r.h
"

27 
	~"rfcš‹rçû.h
"

29 
	~"mocks/deviû_¡©us_h–³r_mock.h
"

31 
	#JSON_STR_LEN
 1000

	)

32 
Rfc_t
 
rfc_li¡
;

34 
	#GTEST_DEFAULT_RESULT_FILEPATH
 "/tmp/G‹¡_R•Üt/"

	)

35 
	#GTEST_DEFAULT_RESULT_FILENAME
 "RdkFwDwÆd_DeviûStsHÍr_g‹¡_»pÜt.jsÚ"

	)

36 
	#GTEST_REPORT_FILEPATH_SIZE
 256

	)

38 
usšg
 
Çme¥aû
 
	g‹¡šg
;

39 
usšg
 
Çme¥aû
 
	g¡d
;

40 
	gusšg
 ::
‹¡šg
::
R‘uº
;

41 
	gusšg
 ::
‹¡šg
::
SŒEq
;

44 
DeviûStusMock
 *
	gg_DeviûStusMock
 = 
NULL
;

46 şas 
	cC»©eJsÚTe¡Fixtu»
 : 
public
 ::
‹¡šg
::
Te¡
 {

47 
´Ùeùed
:

48 
DeviûStusMock
 
mockDeviûStus
;

50 
	$C»©eJsÚTe¡Fixtu»
()

52 
g_DeviûStusMock
 = &
mockDeviûStus
;

54 
vœtu®
 ~
	$C»©eJsÚTe¡Fixtu»
()

56 
g_DeviûStusMock
 = 
NULL
;

57 
	}
}

59 
vœtu®
 
	$S‘Up
()

61 
	`´štf
("%s\n", 
__func__
);

62 
	}
}

64 
vœtu®
 
	$T—rDown
()

66 
	`´štf
("%s\n", 
__func__
);

67 
	}
}

69 
	$S‘UpTe¡Ca£
()

71 
	`´štf
("%s\n", 
__func__
);

72 
	}
}

74 
	$T—rDownTe¡Ca£
()

76 
	`´štf
("%s\n", 
__func__
);

77 
	}
}

81 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_checkPDRIUpg¿de_NuÎ
)

83 
	`EXPECT_EQ
(
	`checkPDRIUpg¿de
(
NULL
), 
çl£
);

84 
	}
}

85 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_checkPDRIUpg¿de_nÙrq
)

87 
pdri_image
[] = "Test_pdri.bin";

88 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

89 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`G‘PDRIFeName
(
_
, _))

90 .
	`Times
(1)

91 .
	`WlOnû
(
	`Invoke
([&
pdri_image
]Ğ*
pPDRIF’ame
, 
size_t
 
szBufSize
 ) {

92 
	`¡ºıy
(
pPDRIF’ame
, 
pdri_image
, 
szBufSize
 - 1);

93 
pPDRIF’ame
[
szBufSize
 - 1] = '\0';

94  
	`¡¾’
(
pPDRIF’ame
);

96 
	`EXPECT_EQ
(
	`checkPDRIUpg¿de
(
pdri_image
), 
çl£
);

97 
	}
}

98 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_checkPDRIUpg¿de_rq
)

100 
pdri_image
[] = "Test_pdri.bin";

101 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

102 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`G‘PDRIFeName
(
_
, _))

103 .
	`Times
(1)

104 .
	`WlOnû
(
	`Invoke
([&
pdri_image
]Ğ*
pPDRIF’ame
, 
size_t
 
szBufSize
 ) {

105 
	`¡ºıy
(
pPDRIF’ame
, 
pdri_image
, 
szBufSize
 - 1);

106 
pPDRIF’ame
[
szBufSize
 - 1] = '\0';

107  
	`¡¾’
(
pPDRIF’ame
);

109 
	`EXPECT_EQ
(
	`checkPDRIUpg¿de
("Te¡_çl£_pdri.bš"), 
Œue
);

110 
	}
}

111 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_G‘PDRIV”siÚ_NuÎCheck
)

113 
	`EXPECT_EQ
(
	`G‘PDRIV”siÚ
(
NULL
, 0), 
çl£
);

114 
	}
}

115 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_G‘PDRIV”siÚ
)

117 
pdri_image
[] = "Test_pdri.bin";

118 
pdri_image_d©a
[64] = {0};

119 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

120 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`G‘PDRIFeName
(
_
, _))

121 .
	`Times
(1)

122 .
	`WlOnû
(
	`Invoke
([&
pdri_image
]Ğ*
pPDRIF’ame
, 
size_t
 
szBufSize
 ) {

123 
	`¡ºıy
(
pPDRIF’ame
, 
pdri_image
, 
szBufSize
 - 1);

124 
pPDRIF’ame
[
szBufSize
 - 1] = '\0';

125  
	`¡¾’
(
pPDRIF’ame
);

127 
	`EXPECT_EQ
(
	`G‘PDRIV”siÚ
(
pdri_image_d©a
, Õdri_image_d©a)), 
Œue
);

128 
	}
}

129 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_isPDRIEÇbË
)

131 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

132 
	`EXPECT_EQ
(
	`isPDRIEÇbË
(), 
Œue
);

133 
	}
}

187 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_CheckIProu‹CÚÃùiv™y_NuÎCheck
)

189 
	`EXPECT_EQ
(
	`CheckIProu‹CÚÃùiv™y
(
NULL
), 
çl£
);

190 
	}
}

191 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_CheckIProu‹CÚÃùiv™y_sucûss
)

193 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`isCÚÃùedToIÁ”Ãt
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
Œue
));

194 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`feP»£ÁCheck
 (
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

195 
	`EXPECT_EQ
(
	`CheckIProu‹CÚÃùiv™y
("TEST.txt"), 
Œue
);

196 
	}
}

197 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_CheckIProu‹CÚÃùiv™y_ofæše
)

199 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`isCÚÃùedToIÁ”Ãt
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
çl£
));

200 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`feP»£ÁCheck
 (
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

201 
	`EXPECT_EQ
(
	`CheckIProu‹CÚÃùiv™y
("TEST.txt"), 
çl£
);

202 
	}
}

203 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_CheckIProu‹CÚÃùiv™y_ç
)

205 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`isCÚÃùedToIÁ”Ãt
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
çl£
));

206 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`feP»£ÁCheck
 (
_
)).
	`Times
(5).
	`WlR•—‹dly
(
	`R‘uº
(1));

207 
	`EXPECT_EQ
(
	`CheckIProu‹CÚÃùiv™y
("TEST.txt"), 
çl£
);

208 
	}
}

214 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_isD–ayFWDowÆßdAùive_no
)

217 
	`EXPECT_EQ
(
	`isD–ayFWDowÆßdAùive
(1, "Œue", 5), 
Œue
);

218 
	}
}

239 
	$TEST
(
Te¡Cu¼’tRuÂšgIn¡
, 
Te¡Name_NULLCheck
)

241 
	`EXPECT_EQ
(
	`Cu¼’tRuÂšgIn¡
(
NULL
), 
çl£
);

242 
	}
}

243 
	$TEST
(
Te¡Cu¼’tRuÂšgIn¡
, 
Te¡Name_FeP»£Á
)

245 
»t
;

246 
»t
 = 
	`sy¡em
("echo \"24\" > /tmp/runInst.txt");

247 
»t
 = 
	`sy¡em
("echo \"rdkvfwupgrader 0 1\" > /tmp/cmdline.txt");

248 
	`EXPECT_EQ
(
	`Cu¼’tRuÂšgIn¡
("/tmp/runIn¡.txt"), 
Œue
);

249 
	}
}

250 
	$TEST
(
Te¡Cu¼’tRuÂšgIn¡
, 
Te¡Name_FeP»£ÁWrÚgD©a
)

252 
»t
;

253 
»t
 = 
	`sy¡em
("echo \"xyz 0 1\" > /tmp/cmdline.txt");

254 
	`EXPECT_EQ
(
	`Cu¼’tRuÂšgIn¡
("/tmp/runIn¡.txt"), 
çl£
);

255 
	}
}

256 
	$TEST
(
Te¡Cu¼’tRuÂšgIn¡
, 
Te¡Name_FeNÙP»£Á
)

258 
»t
;

259 
»t
 = 
	`sy¡em
("rm /tmp/runInst.txt");

260 
»t
 = 
	`sy¡em
("rm /tmp/cmdline.txt");

261 
	`EXPECT_EQ
(
	`Cu¼’tRuÂšgIn¡
("/tmp/runIn¡.txt"), 
çl£
);

262 
	}
}

263 
	$TEST
(
Te¡isDnsResŞve
, 
Te¡Name_NULLCheck
)

265 
	`EXPECT_EQ
(
	`isDnsResŞve
(
NULL
), 
çl£
);

266 
	}
}

267 
	$TEST
(
Te¡isDnsResŞve
, 
Te¡Name_FeP»£Á
)

269 
»t
;

270 
»t
 = 
	`sy¡em
("echo \"nameserver:2345:34:56\" > /tmp/dnsResolv.txt");

271 
	`EXPECT_EQ
(
	`isDnsResŞve
("/tmp/dnsResŞv.txt"), 
Œue
);

272 
	}
}

273 
	$TEST
(
Te¡isDnsResŞve
, 
Te¡Name_FeP»£ÁW™hInfo
)

275 
»t
;

276 
»t
 = 
	`sy¡em
("echo \"server:2345:34:56\" > /tmp/dnsResolv.txt");

277 
	`EXPECT_EQ
(
	`isDnsResŞve
("/tmp/dnsResŞv.txt"), 
çl£
);

278 
	}
}

279 
	$TEST
(
Te¡isDnsResŞve
, 
Te¡Name_FeNÙP»£Á
)

281 
»t
;

282 
»t
 = 
	`sy¡em
("rm /tmp/dnsResolv.txt");

283 
	`EXPECT_EQ
(
	`isDnsResŞve
("/tmp/dnsResŞv.txt"), 
çl£
);

284 
	}
}

285 
	$TEST
(
Te¡Ï¡DwÆImg
, 
Te¡Name_BigBufãr
)

288 
	`EXPECT_EQ
(
	`Ï¡DwÆImg
(
NULL
, 128), 
çl£
);

289 
	}
}

291 
	$TEST
(
Te¡Ï¡DwÆImg
, 
Te¡Name_Sucûss
)

293 
buf
[16] = {0};

294 
»t
 = 0;

295 
»t
 = 
	`sy¡em
("echo \"TestLastImage.bin\" > /opt/cdl_flashed_file_name");

296 
	`EXPECT_EQ
(
	`Ï¡DwÆImg
(
buf
, (buf)), 
Œue
);

297 
»t
 = 
	`sy¡em
("rm -f /opt/cdl_flashed_file_name");

298 
	}
}

299 
	$TEST
(
Te¡Ï¡DwÆImg
, 
Te¡Name_Sucûss1
)

301 
buf
[16] = {0};

302 
	`EXPECT_EQ
(
	`Ï¡DwÆImg
(
buf
, (buf)), 
Œue
);

303 
	}
}

304 
	$TEST
(
Te¡cu¼’tImg
, 
Te¡Name_BigBufãr
)

306 
	`EXPECT_EQ
(
	`cu¼’tImg
(
NULL
, 128), 
çl£
);

307 
	}
}

308 
	$TEST
(
Te¡cu¼’tImg
, 
Te¡Name_Sucûss
)

310 
buf
[16] = {0};

311 
»t
 = 0;

312 
»t
 = 
	`sy¡em
("echo \"TestImage.bin\" > /tmp/currently_running_image_name");

313 
	`EXPECT_EQ
(
	`cu¼’tImg
(
buf
, (buf)), 
Œue
);

314 
»t
 = 
	`sy¡em
("rm -f /tmp/currently_running_image_name");

315 
	}
}

316 
	$TEST
(
Te¡cu¼’tImg
, 
Te¡Name_Sucûss1
)

318 
buf
[16] = {0};

319 
	`EXPECT_EQ
(
	`cu¼’tImg
(
buf
, (buf)), 
Œue
);

320 
	}
}

321 
	$TEST
(
Te¡´evFÏshedFe
, 
Te¡Name_BigBufãr
)

323 
	`EXPECT_EQ
(
	`´evFÏshedFe
(
NULL
, 128), 
çl£
);

324 
	}
}

325 
	$TEST
(
Te¡´evFÏshedFe
, 
Te¡Name_Sucûss
)

327 
buf
[16] = {0};

328 
»t
 = 0;

329 
»t
 = 
	`sy¡em
("echo \"TestPrevImage.bin\" > /opt/previous_flashed_file_name");

330 
	`EXPECT_EQ
(
	`´evFÏshedFe
(
buf
, (buf)), 
Œue
);

331 
»t
 = 
	`sy¡em
("rm -f /opt/previous_flashed_file_name");

332 
	}
}

333 
	$TEST
(
Te¡´evFÏshedFe
, 
Te¡Name_Sucûss1
)

335 
buf
[16] = {0};

336 
	`EXPECT_EQ
(
	`´evFÏshedFe
(
buf
, (buf)), 
Œue
);

337 
	}
}

338 
	$TEST
(
Te¡checkFÜV®idPCIUpg¿de
, 
Te¡Name_checkFÜV®idPCIUpg¿de_NuÎCheck
)

340 
	`EXPECT_EQ
(
	`checkFÜV®idPCIUpg¿de
(1, 
NULL
, NULL, NULL), 
çl£
);

341 
	}
}

342 
	$TEST
(
Te¡checkFÜV®idPCIUpg¿de
, 
Te¡Name_checkFÜV®idPCIUpg¿de_çpdri
)

345 
	`EXPECT_EQ
(
	`checkFÜV®idPCIUpg¿de
(1, "123", "123_PDRI_34", "123_PDRI_34"), 
çl£
);

346 
	}
}

347 
	$TEST
(
Te¡checkFÜV®idPCIUpg¿de
, 
Te¡Name_checkFÜV®idPCIUpg¿de_Sucûss
)

350 
	`EXPECT_EQ
(
	`checkFÜV®idPCIUpg¿de
(1, "pciimage.bš", "pciimage.bš", "pciimage.bš"), 
Œue
);

351 
	}
}

352 
	$TEST
(
Te¡checkFÜV®idPCIUpg¿de
, 
Te¡Name_checkFÜV®idPCIUpg¿de_Sucûss1
)

355 
	`EXPECT_EQ
(
	`checkFÜV®idPCIUpg¿de
(1, "Te¡Image.bš", "Te¡Image.bš", "Te¡Image.bš"), 
çl£
);

356 
	}
}

357 
	$TEST
(
Te¡upd©eOPTOUTFe
, 
Te¡Name_NuÎCheck
)

359 
	`EXPECT_EQ
(
	`upd©eOPTOUTFe
(
NULL
), 
çl£
);

360 
	}
}

361 
	$TEST
(
Te¡upd©eOPTOUTFe
, 
Te¡Name_Sucûss
)

363 
»t
;

364 
»t
 = 
	`sy¡em
("echo \"softwareoptout : BYPASS_OPTOUT\" > /tmp/maintenance_mgr_record.conf");

365 
	`EXPECT_EQ
(
	`upd©eOPTOUTFe
("/tmp/maš‹Çnû_mgr_»cÜd.cÚf"), 
Œue
);

366 
»t
 = 
	`sy¡em
("rm /tmp/maintenance_mgr_record.conf");

367 
	}
}

368 
	$TEST
(
Te¡upd©eOPTOUTFe
, 
Te¡Name_Fa
)

370 
»t
;

371 
»t
 = 
	`sy¡em
("echo \"softwareoptout : ENFOURCE_OPTOUT\" > /tmp/maintenance_mgr_record.conf");

372 
	`EXPECT_EQ
(
	`upd©eOPTOUTFe
("/tmp/maš‹Çnû_mgr_»cÜd.cÚf"), 
çl£
);

373 
»t
 = 
	`sy¡em
("rm /tmp/maintenance_mgr_record.conf");

374 
	}
}

375 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_checkCodebigAcûss_Sucûss
)

377 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`v_£cu»_sy¡em
(
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

378 
	`EXPECT_EQ
(
	`checkCodebigAcûss
(), 
Œue
);

379 
	}
}

380 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_checkCodebigAcûss_Fa
)

382 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`v_£cu»_sy¡em
(
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(1));

383 
	`EXPECT_EQ
(
	`checkCodebigAcûss
(), 
çl£
);

384 
	}
}

385 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_isS‹RedSuµÜ‹d_Sucûss
)

387 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`feP»£ÁCheck
 (
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

388 
	`EXPECT_EQ
(
	`isS‹RedSuµÜ‹d
(), 1);

389 
	}
}

390 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_isS‹RedSuµÜ‹d_Fa
)

392 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`feP»£ÁCheck
 (
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(1));

393 
	`EXPECT_EQ
(
	`isS‹RedSuµÜ‹d
(), 0);

394 
	}
}

395 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_isInS‹Red_Suûss
)

397 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`feP»£ÁCheck
 (
_
)).
	`Times
(2).
	`WlR•—‹dly
(
	`R‘uº
(0));

398 
	`EXPECT_EQ
(
	`isInS‹Red
(), 1);

399 
	}
}

400 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_isInS‹Red_Fa
)

402 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`feP»£ÁCheck
 (
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(1));

403 
	`EXPECT_EQ
(
	`isInS‹Red
(), 0);

404 
	}
}

405 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_isOCSPEÇbË_Suûss
)

407 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`feP»£ÁCheck
 (
_
)).
	`Times
(2).
	`WlR•—‹dly
(
	`R‘uº
(0));

408 
	`EXPECT_EQ
(
	`isOCSPEÇbË
(), 1);

409 
	}
}

410 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_isOCSPEÇbË_Fa
)

412 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`feP»£ÁCheck
 (
_
)).
	`Times
(2).
	`WlR•—‹dly
(
	`R‘uº
(1));

413 
	`EXPECT_EQ
(
	`isOCSPEÇbË
(), 0);

414 
	}
}

415 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_isUpg¿deInProg»ss_Suûss
)

417 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`feP»£ÁCheck
 (
_
)).
	`Times
(1).
	`WlR•—‹dly
(
	`R‘uº
(0));

418 
	`EXPECT_EQ
(
	`isUpg¿deInProg»ss
(), 
Œue
);

419 
	}
}

420 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_isUpg¿deInProg»ss_Fa
)

422 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`feP»£ÁCheck
 (
_
)).
	`Times
(3).
	`WlR•—‹dly
(
	`R‘uº
(1));

423 
	`EXPECT_EQ
(
	`isUpg¿deInProg»ss
(), 
çl£
);

424 
	}
}

425 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_un£tS‹Red
)

427 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`feP»£ÁCheck
 (
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(1));

428 
	`un£tS‹Red
();

429 
	`EXPECT_EQ
(0, 0);

430 
	}
}

432 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_checkAndEÁ”S‹Red_Check
)

434 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`feP»£ÁCheck
 (
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

435 
	`checkAndEÁ”S‹Red
(50, "true");

436 
	`EXPECT_EQ
(0, 0);

437 
	}
}

438 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_checkAndEÁ”S‹Red_š¡©”ed
)

440 
»t
 = 0;

441 
»t
 = 
	`sy¡em
("touch /tmp/stateRedEnabled");

442 
»t
 = 
	`sy¡em
("touch /tmp/stateSupport");

443 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`feP»£ÁCheck
 (
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

444 
	`checkAndEÁ”S‹Red
(50, "true");

445 
»t
 = 
	`sy¡em
("rm /tmp/stateRedEnabled");

446 
»t
 = 
	`sy¡em
("rm /tmp/stateSupport");

447 
	`EXPECT_EQ
(0, 0);

448 
	}
}

449 
	$TEST_F
(
C»©eJsÚTe¡Fixtu»
, 
Te¡Name_checkAndEÁ”S‹Red_nÙš¡©”ed
)

451 
»t
 = 0;

452 
»t
 = 
	`sy¡em
("touch /tmp/stateSupport");

453 
»t
 = 
	`sy¡em
("touch /opt/red_state_reboot");

454 
	`EXPECT_CALL
(*
g_DeviûStusMock
, 
	`feP»£ÁCheck
 (
_
)).
	`WlR•—‹dly
(
	`R‘uº
(0));

455 
	`checkAndEÁ”S‹Red
(50, "true");

456 
»t
 = 
	`sy¡em
("rm /tmp/stateSupport");

457 
»t
 = 
	`sy¡em
("rm /opt/red_state_reboot");

458 
	`EXPECT_EQ
(0, 0);

459 
	}
}

460 
	$TEST
(
Te¡checkVideoStus
, 
Te¡Name_NuÎCheck
)

462 
	`EXPECT_EQ
(
	`checkVideoStus
(
NULL
), -1);

463 
	}
}

464 
	$TEST
(
Te¡isThrÙeEÇbËd
, 
Te¡Name_NuÎCheck
)

466 
	`EXPECT_EQ
(
	`isThrÙeEÇbËd
(
NULL
, NULL, 1), -1);

467 
	}
}

468 
	$TEST
(
Te¡isThrÙeEÇbËd
, 
Te¡Name_sucûss
)

470 
	`¢´štf
(
rfc_li¡
.
rfc_thrÙe
, (rfc_list.rfc_throttle), "%s", "true");

471 
	`EXPECT_EQ
(
	`isThrÙeEÇbËd
("PLATCO", "false", 1), -1);

472 
	}
}

473 
	$TEST
(
Te¡g‘FeLa¡ModifyTime
, 
Te¡Name_NuÎCheck
)

475 
	`EXPECT_EQ
(
	`g‘FeLa¡ModifyTime
(
NULL
), 0);

476 
	}
}

477 
	$TEST
(
Te¡isDwÆBlock
, 
Te¡Name_dœeù_nÙ_block
)

479 
	`EXPECT_EQ
(
	`isDwÆBlock
(
HTTP_XCONF_DIRECT
), 0);

480 
	}
}

481 
	$TEST
(
Te¡isDwÆBlock
, 
Te¡Name_dœeù_block
)

483 
»t
;

484 
»t
 = 
	`sy¡em
("touch /tmp/.lastdirectfail_cdl");

485 
	`EXPECT_EQ
(
	`isDwÆBlock
(
HTTP_XCONF_DIRECT
), 1);

486 
»t
 = 
	`sy¡em
("rm /tmp/.lastdirectfail_cdl");

487 
	}
}

488 
	$TEST
(
Te¡isDwÆBlock
, 
Te¡Name_codebig_nÙ_block
)

490 
	`EXPECT_EQ
(
	`isDwÆBlock
(
HTTP_XCONF_CODEBIG
), 0);

491 
	}
}

492 
	$TEST
(
Te¡isDwÆBlock
, 
Te¡Name_codebig_block
)

494 
»t
;

495 
»t
 = 
	`sy¡em
("touch /tmp/.lastcodebigfail_cdl");

496 
	`EXPECT_EQ
(
	`isDwÆBlock
(
HTTP_XCONF_CODEBIG
), 1);

497 
»t
 = 
	`sy¡em
("rm /tmp/.lastcodebigfail_cdl");

498 
	}
}

499 
	$TEST
(
Te¡DwÆStus
, 
Te¡Name_upd©eFWDowÆßdStusNuÎ
)

501 
	`EXPECT_EQ
(
	`upd©eFWDowÆßdStus
(
NULL
, NULL), -1);

502 
	}
}

503 
	$TEST
(
Te¡DwÆStus
, 
Te¡Name_upd©eFWDowÆßdStus
)

505 
FWDowÆßdStus
 
fwdls
;

506 
	`mem£t
(&
fwdls
, '\0', (fwdls));

507 
	`EXPECT_EQ
(
	`upd©eFWDowÆßdStus
(&
fwdls
, "false"), 1);

508 
	}
}

509 
	$TEST
(
Te¡DwÆStus
, 
Te¡Name_upd©eFWDowÆßdStu¡rue
)

511 
FWDowÆßdStus
 
fwdls
;

512 
	`mem£t
(&
fwdls
, '\0', (fwdls));

513 
	`EXPECT_EQ
(
	`upd©eFWDowÆßdStus
(&
fwdls
, "true"), 1);

514 
	}
}

515 
	$TEST
(
Te¡DwÆStus
, 
Te¡Name_nÙifyDwÆStusNuÎ
)

517 
	`EXPECT_EQ
(
	`nÙifyDwÆStus
(
NULL
, NULL, 0), -1);

518 
	}
}

519 
GTEST_API_
 
	$maš
(
¬gc
, *
¬gv
[]){

520 
‹¡»suÉs_fuÎf•©h
[
GTEST_REPORT_FILEPATH_SIZE
];

521 
bufãr
[
GTEST_REPORT_FILEPATH_SIZE
];

523 
	`mem£t
Ğ
‹¡»suÉs_fuÎf•©h
, 0, 
GTEST_REPORT_FILEPATH_SIZE
 );

524 
	`mem£t
Ğ
bufãr
, 0, 
GTEST_REPORT_FILEPATH_SIZE
 );

526 
	`¢´štf
Ğ
‹¡»suÉs_fuÎf•©h
, 
GTEST_REPORT_FILEPATH_SIZE
, "jsÚ:%s%s" , 
GTEST_DEFAULT_RESULT_FILEPATH
 , 
GTEST_DEFAULT_RESULT_FILENAME
);

527 ::
‹¡šg
::
	`GTEST_FLAG
(
ouut
èğ
‹¡»suÉs_fuÎf•©h
;

528 ::
‹¡šg
::
	`In™GoogËTe¡
(&
¬gc
, 
¬gv
);

530 
cout
 << "S¹šg deviû_¡©us_h–³¸Aµ ===================>" << 
’dl
;

531  
	`RUN_ALL_TESTS
();

532 
	}
}

	@unittest/deviceutils/device_api_gtest.cpp

19 
	~<g‹¡/g‹¡.h
>

20 
	~<gmock/gmock.h
>

21 
	~<io¡»am
>

22 
	~<uni¡d.h
>

24 
	~"../mocks/deviûuts_mock.h
"

25 
	~"rdkv_cdl_log_w¿µ”.h
"

27 
	~"deviû_­i.h
"

32 
	#JSON_STR_LEN
 1000

	)

34 
usšg
 
Çme¥aû
 
‹¡šg
;

35 
usšg
 
Çme¥aû
 
	g¡d
;

36 
	gusšg
 ::
‹¡šg
::
R‘uº
;

37 
	gusšg
 ::
‹¡šg
::
SŒEq
;

42 
DeviûUtsMock
 *
g_DeviûUtsMock
;

44 şas 
	cDeviûApiTe¡Fixtu»
 : 
public
 ::
‹¡šg
::
Te¡
 {

45 
´Ùeùed
:

46 
DeviûUtsMock
 
mockDeviûUts
;

48 
	$DeviûApiTe¡Fixtu»
()

50 
g_DeviûUtsMock
 = &
mockDeviûUts
;

52 
vœtu®
 ~
	$DeviûApiTe¡Fixtu»
()

54 
g_DeviûUtsMock
 = 
NULL
;

55 
	}
}

57 
vœtu®
 
	$S‘Up
()

59 
	`´štf
("%s\n", 
__func__
);

60 
	}
}

62 
vœtu®
 
	$T—rDown
()

64 
	`´štf
("%s\n", 
__func__
);

65 
	}
}

67 
	$S‘UpTe¡Ca£
()

69 
	`´štf
("%s\n", 
__func__
);

70 
	}
}

72 
	$T—rDownTe¡Ca£
()

74 
	`´štf
("%s\n", 
__func__
);

75 
	}
}

78 
	$TEST
(
Te¡G‘S”v”U¾Fe
, 
Te¡Name_NULLCheck
)

80 
	`EXPECT_EQ
(
	`G‘S”v”U¾Fe
(
NULL
, 0, NULL), 0);

81 
	}
}

83 
	$TEST
(
Te¡G‘S”v”U¾Fe
, 
Te¡Name_goodu¾
)

85 
»t
;

86 
£rv”u¾
[128];

87 
»t
 = 
	`sy¡em
("echo \"https://mockserver.com\" > /tmp/swupdate.conf");

88 
	`EXPECT_NE
(
	`G‘S”v”U¾Fe
(
£rv”u¾
, (serverurl), "/tmp/swupdate.conf"), 0);

89 
	`´štf
("GTEST s”v”u¾=%s\n", 
£rv”u¾
);

90 
»t
 = 
	`sy¡em
("rm -f /tmp/swupdate.conf");

91 
	}
}

93 
	$TEST
(
Te¡G‘S”v”U¾Fe
, 
Te¡Name_goodu¾1
)

95 
»t
;

96 
£rv”u¾
[128];

97 
»t
 = 
	`sy¡em
("echo \"https://mock-ser_ver.com\" > /tmp/swupdate.conf");

98 
	`EXPECT_NE
(
	`G‘S”v”U¾Fe
(
£rv”u¾
, (serverurl), "/tmp/swupdate.conf"), 0);

99 
	`´štf
("GTEST s”v”u¾=%s\n", 
£rv”u¾
);

100 
»t
 = 
	`sy¡em
("rm -f /tmp/swupdate.conf");

101 
	}
}

103 
	$TEST
(
Te¡G‘S”v”U¾Fe
, 
Te¡Name_f’Ù´e£Á
)

105 
£rv”u¾
[128];

106 
	`EXPECT_EQ
(
	`G‘S”v”U¾Fe
(
£rv”u¾
, (serverurl), "/tmp/swupdate1.conf"), 0);

107 
	}
}

173 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_g‘add™iÚfw_nuÎcheck
)

175 
	`EXPECT_EQ
(
	`G‘Add™iÚ®FwV”Info
(
NULL
, 0), 0);

176 
	}
}

178 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_Sucûss
)

180 
d©a
[64];

181 
FILE
 *
å
 = 
NULL
;

182 
buff
[] = "1234_pdri_image.bin\n";

183 
å
 = 
	`fİ’
("/tmp/pdri.txt", "w");

184 ià(
å
 !ğ
NULL
) {

185 
	`fwr™e
(
buff
, (buff), 1,
å
);

186 
	`fşo£
(
å
);

187 
å
 = 
NULL
;

190 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`v_£cu»_pİ’
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
å
));

191 
	`EXPECT_EQ
(
	`G‘Add™iÚ®FwV”Info
(
d©a
, (data)), 0);

192 
	}
}

193 
	$TEST
(
Te¡G‘PDRIFeName
, 
Te¡_pdri_NuÎcheck
)

195 
	`EXPECT_EQ
(
	`G‘PDRIFeName
(
NULL
, 0), 0);

196 
	}
}

197 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_bundË_NuÎcheck
)

199 
	`EXPECT_EQ
(
	`G‘In¡®ËdBundËs
(
NULL
, 0), 0);

200 
	}
}

201 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_bundË_Sucûss
)

203 
»t
;

204 
pBundËs
[32] = {0};

205 
»t
 = 
	`sy¡em
("mkdir /tmp/certs;cp ca-store-update-bundle_package.json /tmp/certs/ ");

206 
	`EXPECT_NE
(
	`G‘In¡®ËdBundËs
(
pBundËs
, (pBundles)), 0);

207 
»t
 = 
	`sy¡em
("rm -rf /tmp/certs/ ");

208 
	`´štf
("BUNDLE = %s\n",
pBundËs
);

209 
	}
}

210 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_bundË_rfı©h
)

212 
»t
;

213 
pBundËs
[32] = {0};

214 
»t
 = 
	`sy¡em
("mkdir /tmp/rfc;mkdir /tmp/rfc/certs; cp ca-store-update-bundle_package.json /tmp/rfc/certs/ ");

215 
	`EXPECT_NE
(
	`G‘In¡®ËdBundËs
(
pBundËs
, (pBundles)), 0);

216 
»t
 = 
	`sy¡em
("rm -rf /tmp/rfc/certs/ ");

217 
»t
 = 
	`sy¡em
("rm -rf /tmp/rfc/ ");

218 
	`´štf
("BUNDLE = %s\n",
pBundËs
);

219 
	}
}

220 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_bundË_Fa
)

222 
pBundËs
[32] = {0};

223 
	`EXPECT_EQ
(
	`G‘In¡®ËdBundËs
(
pBundËs
, (pBundles)), 0);

224 
	}
}

249 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘P¬Š”Id_NuÎcheck
)

251 
	`EXPECT_EQ
(
	`G‘P¬Š”Id
(
NULL
, 0), 0);

252 
	}
}

253 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘P¬Š”Id_Sucûss
)

255 
ex³ùedD©a
[] = "true";

256 
ouut
[8];

257 
»t
;

258 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
, _, _))

259 .
	`Times
(1)

260 .
	`WlOnû
(
	`Invoke
([&
ex³ùedD©a
](cÚ¡ *
mod–
, *
d©a
, 
size
) {

261 
	`¡ºıy
(
d©a
, 
ex³ùedD©a
, 
size
 - 1);

262 
d©a
[
size
 - 1] = '\0';

265 
»t
 = 
	`sy¡em
("echo \"X_RDKCENTRAL-COM_RFC.Bootstrap.PartnerName=comcast\" > /tmp/bootstrap.ini");

266 
	`EXPECT_NE
(
	`G‘P¬Š”Id
(
ouut
, (output)), 0);

267 
	`´štf
("·¹Ã¸ID = %s\n", 
ouut
);

268 
»t
 = 
	`sy¡em
("rm -f /tmp/bootstrap.in");

269 
	}
}

270 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘P¬Š”Id_nÙfound
)

272 
ex³ùedD©a
[] = "false";

273 
ouut
[8];

274 
»t
;

275 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
, _, _))

276 .
	`Times
(1)

277 .
	`WlOnû
(
	`Invoke
([&
ex³ùedD©a
](cÚ¡ *
mod–
, *
d©a
, 
size
) {

278 
	`¡ºıy
(
d©a
, 
ex³ùedD©a
, 
size
 - 1);

279 
d©a
[
size
 - 1] = '\0';

282 
»t
 = 
	`sy¡em
("echo \"X_RDKCENTRAL-COM_RFC.Bootstrap.PartnerName=comcast-sky\" > /tmp/bootstrap.ini");

283 
	`EXPECT_EQ
(
	`G‘P¬Š”Id
(
ouut
, (output)), 0);

284 
	`´štf
("·¹Ã¸ID = %s\n", 
ouut
);

285 
»t
 = 
	`sy¡em
("rm -f /tmp/bootstrap.in");

286 
	}
}

287 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘P¬Š”Id_SucûssThœd
)

289 
ex³ùedD©a
[] = "false";

290 
ouut
[8];

291 
»t
;

292 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
, _, _))

293 .
	`Times
(1)

294 .
	`WlOnû
(
	`Invoke
([&
ex³ùedD©a
](cÚ¡ *
mod–
, *
d©a
, 
size
) {

295 
	`¡ºıy
(
d©a
, 
ex³ùedD©a
, 
size
 - 1);

296 
d©a
[
size
 - 1] = '\0';

299 
»t
 = 
	`sy¡em
("echo \"X_RDKCENTRAL-COM_Syndication.PartnerId=xglobal\" > /tmp/bootstrap.ini");

300 
	`EXPECT_NE
(
	`G‘P¬Š”Id
(
ouut
, (output)), 0);

301 
	`´štf
("·¹Ã¸ID = %s\n", 
ouut
);

302 
»t
 = 
	`sy¡em
("rm -f /tmp/bootstrap.in");

303 
	}
}

304 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘P¬Š”Id_SucûssFou¹h
)

306 
ex³ùedD©a
[] = "false";

307 
ouut
[16];

308 
»t
;

309 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
, _, _))

310 .
	`Times
(1)

311 .
	`WlOnû
(
	`Invoke
([&
ex³ùedD©a
](cÚ¡ *
mod–
, *
d©a
, 
size
) {

312 
	`¡ºıy
(
d©a
, 
ex³ùedD©a
, 
size
 - 1);

313 
d©a
[
size
 - 1] = '\0';

316 
»t
 = 
	`sy¡em
("echo \"comcast-xglobal\" > /tmp/partnerId3.dat");

317 
	`EXPECT_NE
(
	`G‘P¬Š”Id
(
ouut
, (output)), 0);

318 
	`´štf
("·¹Ã¸ID = %s\n", 
ouut
);

319 
»t
 = 
	`sy¡em
("rm -f /tmp/partnerId3.dat");

320 
	}
}

321 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘P¬Š”Id_deçuÉv®ue
)

323 
ex³ùedD©a
[] = "false";

324 
ouut
[16];

325 
»t
;

326 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
, _, _))

327 .
	`Times
(1)

328 .
	`WlOnû
(
	`Invoke
([&
ex³ùedD©a
](cÚ¡ *
mod–
, *
d©a
, 
size
) {

329 
	`¡ºıy
(
d©a
, 
ex³ùedD©a
, 
size
 - 1);

330 
d©a
[
size
 - 1] = '\0';

333 
	`EXPECT_NE
(
	`G‘P¬Š”Id
(
ouut
, (output)), 0);

334 
	}
}

335 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘OsCÏss_NuÎcheck
)

337 
	`EXPECT_EQ
(
	`G‘OsCÏss
(
NULL
, 0), 0);

338 
	}
}

339 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘OsCÏss_Fa
)

341 
ex³ùedD©a
[] = "false";

342 
ouut
[16];

343 
»t
;

344 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
, _, _))

345 .
	`Times
(1)

346 .
	`WlOnû
(
	`Invoke
([&
ex³ùedD©a
](cÚ¡ *
mod–
, *
d©a
, 
size
) {

347 
	`¡ºıy
(
d©a
, 
ex³ùedD©a
, 
size
 - 1);

348 
d©a
[
size
 - 1] = '\0';

352 
	`EXPECT_NE
(
	`G‘OsCÏss
(
ouut
, (output)), 0);

353 
	`´štf
("G‘OsCÏs ğ%s\n", 
ouut
);

354 
	}
}

356 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘OsCÏss_Sucûss
)

358 
ex³ùedD©a
[] = "true";

359 
ouut
[16];

360 
»t
;

361 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
, _, _))

362 .
	`Times
(1)

363 .
	`WlOnû
(
	`Invoke
([&
ex³ùedD©a
](cÚ¡ *
mod–
, *
d©a
, 
size
) {

364 
	`¡ºıy
(
d©a
, 
ex³ùedD©a
, 
size
 - 1);

365 
d©a
[
size
 - 1] = '\0';

368 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`»ad_RFCPrİ”ty
(
_
, _, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(1));

369 
	`EXPECT_NE
(
	`G‘OsCÏss
(
ouut
, (output)), 0);

370 
	`´štf
("G‘OsCÏs ğ%s\n", 
ouut
);

371 
	}
}

372 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘S”ŸlNum_NuÎcheck
)

374 
	`EXPECT_EQ
(
	`G‘S”ŸlNum
(
NULL
, 0), 0);

375 
	}
}

376 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘S”ŸlNum_Sucûss
)

378 
ouut
[16];

379 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`»ad_RFCPrİ”ty
(
_
, _, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(1));

380 
	`EXPECT_NE
(
	`G‘S”ŸlNum
(
ouut
, (output)), 0);

381 
	`´štf
("G‘S”ŸlNumb” = %s\n", 
ouut
);

382 
	}
}

383 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘AccouÁID_NuÎcheck
)

385 
	`EXPECT_EQ
(
	`G‘AccouÁID
(
NULL
, 0), 0);

386 
	}
}

387 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘AccouÁID_Sucûss
)

389 
ouut
[16];

390 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`»ad_RFCPrİ”ty
(
_
, _, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(1));

391 
	`EXPECT_NE
(
	`G‘AccouÁID
(
ouut
, (output)), 0);

392 
	`´štf
("G‘AccouÁID = %s\n", 
ouut
);

393 
	}
}

394 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘AccouÁID_Fa
)

396 
ouut
[16];

397 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`»ad_RFCPrİ”ty
(
_
, _, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(-1));

398 
	`EXPECT_NE
(
	`G‘AccouÁID
(
ouut
, (output)), 0);

399 
	`´štf
("G‘AccouÁID = %s\n", 
ouut
);

400 
	}
}

451 
	$TEST_F
(
DeviûApiTe¡Fixtu»
, 
Te¡Name_G‘E¡bMac_NuÎcheck
)

453 
	`EXPECT_EQ
(
	`G‘E¡bMac
(
NULL
, 0), 0);

454 
	}
}

455 
	$TEST_F
(
DeviûApiTe¡Fixtu»
, 
Te¡Name_G‘E¡bMac_Sucûss
)

457 
»t
;

458 
ouut
[32];

459 
»t
 = 
	`sy¡em
("echo \"aa:bb:cc:dd:ff:gg\" > /tmp/.estb_mac_gtest.txt");

460 
	`EXPECT_NE
(
	`G‘E¡bMac
(
ouut
, (output)), 0);

461 
»t
 = 
	`sy¡em
("rm -f /tmp/.estb_mac_gtest.txt");

462 
	}
}

463 
	$TEST_F
(
DeviûApiTe¡Fixtu»
, 
Te¡Name_G‘E¡bMac_Fa
)

465 
»t
;

466 
ouut
[8];

467 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`g‘DeviûPrİ”tyD©a
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(-1));

468 
	`EXPECT_EQ
(
	`G‘E¡bMac
(
ouut
, (output)), 0);

469 
	}
}

471 
	$TEST
(
Te¡G‘RdmMªiã¡V”siÚ
, 
Te¡Name_G‘RdmMªiã¡V”siÚ_NuÎcheck
)

473 
	`EXPECT_EQ
(
	`G‘RdmMªiã¡V”siÚ
(
NULL
, 0), 0);

474 
	}
}

499 
	$TEST_F
(
DeviûApiTe¡Fixtu»
, 
Te¡Name_G‘S”vURL_NuÎcheck
)

501 
	`EXPECT_EQ
(
	`G‘S”vURL
(
NULL
, 0), 0);

502 
	}
}

503 
	$TEST_F
(
DeviûApiTe¡Fixtu»
, 
Te¡Name_G‘S”vURL_SucûssS‹»d_DebugS”viûs_EÇbËd
)

505 
ouut
[32];

506 
»t
;

507 
£rvU¾
[]="https://www.statered.com";

508 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isInS‹Red
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
Œue
));

510 
»t
 = 
	`sy¡em
("echo \"BUILD_TYPE=vbn\" > /tmp/device_gtest.prop");

512 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isDebugS”viûsEÇbËd
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
Œue
));

513 
»t
 = 
	`sy¡em
("echo \"https://www.statered.com\" > /tmp/stateredrecovry.conf");

514 
»t
 = 
	`G‘S”vURL
(
ouut
, (output));

515 
	`EXPECT_EQ
(
	`¡ºcmp
(
ouut
,
£rvU¾
,
	`¡¾’
(servUrl)),0);

516 
	`´štf
("ouuˆ=====================================ğ% \n",
ouut
);

517 
	`´štf
("£rvU¾ ====================================ğ% \n" ,
£rvU¾
);

518 
»t
 = 
	`sy¡em
("rm -f /tmp/stateredrecovry.conf");

519 
»t
 = 
	`sy¡em
("rm -f /tmp/device_gtest.prop");

520 
	`´štf
("S”v” URL = %s\n", 
ouut
);

521 
	}
}

522 
	$TEST_F
(
DeviûApiTe¡Fixtu»
, 
Te¡Name_G‘S”vURL_SucûssS‹»d_DebugS”viûs_Di§bËd
)

524 
ouut
[32];

525 
»t
;

526 
£rvU¾
[]="https://www.statered.com";

527 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isInS‹Red
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
Œue
));

529 
»t
 = 
	`sy¡em
("echo \"BUILD_TYPE=vbn\" > /tmp/device_gtest.prop");

531 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isDebugS”viûsEÇbËd
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
çl£
));

532 
»t
 = 
	`sy¡em
("echo \"https://www.statered.com\" > /tmp/stateredrecovry.conf");

533 
»t
 = 
	`G‘S”vURL
(
ouut
, (output));

534 
	`EXPECT_EQ
(
	`¡ºcmp
(
ouut
,
£rvU¾
,
	`¡¾’
(servUrl)),0);

535 
	`´štf
("ouuˆ=====================================ğ% \n",
ouut
);

536 
	`´štf
("£rvU¾ ====================================ğ% \n" ,
£rvU¾
);

537 
»t
 = 
	`sy¡em
("rm -f /tmp/stateredrecovry.conf");

538 
»t
 = 
	`sy¡em
("rm -f /tmp/device_gtest.prop");

539 
	`´štf
("S”v” URL = %s\n", 
ouut
);

540 
	}
}

541 
	$TEST_F
(
DeviûApiTe¡Fixtu»
, 
Te¡Name_G‘S”vURL_SucûssS‹»d_Prod_DebugS”viûs_EÇbËd
)

543 
ouut
[32];

544 
»t
;

545 
£rvU¾
[]="https://www.statered.com";

546 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isInS‹Red
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
Œue
));

548 
»t
 = 
	`sy¡em
("echo \"BUILD_TYPE=PROD\" > /tmp/device_gtest.prop");

550 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isDebugS”viûsEÇbËd
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
Œue
));

551 
»t
 = 
	`sy¡em
("echo \"https://www.statered.com\" > /tmp/stateredrecovry.conf");

552 
»t
 = 
	`G‘S”vURL
(
ouut
, (output));

553 
	`EXPECT_EQ
(
	`¡ºcmp
(
ouut
,
£rvU¾
,
	`¡¾’
(servUrl)),0);

554 
	`´štf
("ouuˆ=====================================ğ%s\À",
ouut
);

555 
	`´štf
("£rvU¾ ====================================ğ% \n" ,
£rvU¾
);

556 
»t
 = 
	`sy¡em
("rm -f /tmp/stateredrecovry.conf");

557 
»t
 = 
	`sy¡em
("rm -f /tmp/device_gtest.prop");

558 
	`´štf
("S”v” URL = %s\n", 
ouut
);

559 
	}
}

560 
	$TEST_F
(
DeviûApiTe¡Fixtu»
, 
Te¡Name_G‘S”vURL_SucûssS‹»d_Prod_DebugS”viûs_Di§bËd
)

562 
ouut
[64];

563 
»t
;

564 
£rvU¾
[]="https://www.tr181Rfc.com";

565 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isInS‹Red
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
Œue
));

567 
»t
 = 
	`sy¡em
("echo \"BUILD_TYPE=PROD\" > /tmp/device_gtest.prop");

569 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isDebugS”viûsEÇbËd
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
çl£
));

570 
»t
 = 
	`sy¡em
("echo \"https://www.statered.com\" > /tmp/stateredrecovry.conf");

571 
»t
 = 
	`sy¡em
("echo \"https://www.autotool.com\" > /tmp/swupdate.conf");

572 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`»ad_RFCPrİ”ty
(
_
, _, _, _))

573 .
	`Times
(1)

574 .
	`WlOnû
(
	`Invoke
([&
£rvU¾
]Ğ* 
ty³
, cÚ¡ * 
key
, *
out_v®ue
, 
size_t
 
d©asize
 ) {

575 
	`¡ºıy
(
out_v®ue
, 
£rvU¾
 , 
d©asize
-1);

576 
out_v®ue
[
d©asize
 - 1] = '\0';

577  
	`¡¾’
(
out_v®ue
);

580 
»t
=
	`G‘S”vURL
(
ouut
 , (output));

581 
	`EXPECT_EQ
(
	`¡ºcmp
(
ouut
 , 
£rvU¾
 , 
	`¡¾’
(servUrl)),0);

582 
	`´štf
("Ouuˆ========================ğ%s\À", 
ouut
);

583 
	`´štf
("£rvU¾ =======================ğ% \À",
£rvU¾
);

584 
»t
 = 
	`sy¡em
("rm -f /tmp/stateredrecovry.conf");

585 
»t
 = 
	`sy¡em
("rm -f /tmp/device_gtest.prop");

586 
	`´štf
("S”v” URL = %s\n", 
ouut
);

587 
	}
}

588 
	$TEST_F
(
DeviûApiTe¡Fixtu»
, 
Te¡Name_G‘S”vURL_SucûssSwupd©e_DebugS”viûs_EÇbËd
)

590 
ouut
[32];

591 
»t
;

592 
£rvU¾
[]="https://www.rdkautotool.com";

593 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isInS‹Red
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
çl£
));

594 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`feP»£ÁCheck
(
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

596 
»t
 = 
	`sy¡em
("echo \"BUILD_TYPE=vbn\" > /tmp/device_gtest.prop");

597 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isDebugS”viûsEÇbËd
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
Œue
));

598 
»t
 = 
	`sy¡em
("echo \"https://www.rdkautotool.com\" > /tmp/swupdate.conf");

599 
»t
=
	`G‘S”vURL
(
ouut
 , (output));

600 
	`EXPECT_EQ
(
	`¡ºcmp
(
ouut
 , 
£rvU¾
 , 
	`¡¾’
(servUrl)),0);

601 
	`´štf
("Ouuˆ========================ğ%s\À", 
ouut
);

602 
	`´štf
("£rvU¾ =======================ğ% \À",
£rvU¾
);

603 
»t
 = 
	`sy¡em
("rm -f /tmp/swupdate.conf");

604 
»t
 = 
	`sy¡em
("rm -f /tmp/device_gtest.prop");

605 
	`´štf
("S”v” URL = %s\n", 
ouut
);

606 
	}
}

608 
	$TEST_F
(
DeviûApiTe¡Fixtu»
, 
Te¡Name_G‘S”vURL_SucûssSwupd©e_DebugS”viûs_Di§bËd
)

610 
ouut
[32];

611 
»t
;

612 
£rvU¾
[]="https://www.rdkautotool.com";

613 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isInS‹Red
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
çl£
));

614 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`feP»£ÁCheck
(
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

616 
»t
 = 
	`sy¡em
("echo \"BUILD_TYPE=vbn\" > /tmp/device_gtest.prop");

617 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isDebugS”viûsEÇbËd
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
çl£
));

618 
»t
 = 
	`sy¡em
("echo \"https://www.rdkautotool.com\" > /tmp/swupdate.conf");

619 
»t
=
	`G‘S”vURL
(
ouut
 , (output));

620 
	`EXPECT_EQ
(
	`¡ºcmp
(
ouut
 , 
£rvU¾
 , 
	`¡¾’
(servUrl)),0);

621 
	`´štf
("Ouuˆ========================ğ%s\À", 
ouut
);

622 
	`´štf
("£rvU¾ =======================ğ% \À",
£rvU¾
);

623 
»t
 = 
	`sy¡em
("rm -f /tmp/swupdate.conf");

624 
»t
 = 
	`sy¡em
("rm -f /tmp/device_gtest.prop");

625 
	`´štf
("S”v” URL = %s\n", 
ouut
);

626 
	}
}

628 
	$TEST_F
(
DeviûApiTe¡Fixtu»
, 
Te¡Name_G‘S”vURL_SucûssSwupd©e_Prod_DebugS”viûs_EÇbËd
)

630 
ouut
[32];

631 
»t
;

632 
£rvU¾
[]="https://www.rdkautotool.com";

633 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isInS‹Red
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
çl£
));

634 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`feP»£ÁCheck
(
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

635 
»t
 = 
	`sy¡em
("echo \"BUILD_TYPE=PROD\" > /tmp/device_gtest.prop");

636 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isDebugS”viûsEÇbËd
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
Œue
));

637 
»t
 = 
	`sy¡em
("echo \"https://www.rdkautotool.com\" > /tmp/swupdate.conf");

638 
»t
=
	`G‘S”vURL
(
ouut
 , (output));

639 
	`EXPECT_EQ
(
	`¡ºcmp
(
ouut
 , 
£rvU¾
 , 
	`¡¾’
(servUrl)),0);

640 
	`´štf
("Ouuˆ========================ğ%s\À", 
ouut
);

641 
	`´štf
("£rvU¾ =======================ğ% \À",
£rvU¾
);

642 
»t
 = 
	`sy¡em
("rm -f /tmp/swupdate.conf");

643 
»t
 = 
	`sy¡em
("rm -f /tmp/device_gtest.prop");

644 
	`´štf
("S”v” URL = %s\n", 
ouut
);

645 
	}
}

647 
	$TEST_F
(
DeviûApiTe¡Fixtu»
, 
Te¡Name_G‘S”vURL_SucûssSwupd©e_Prod_DebugS”viûs_Di§bËd
)

649 
ouut
[64];

650 
»t
;

651 
£rvU¾
[]= "https://www.tr181Rfc.com";

652 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isInS‹Red
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
çl£
));

653 
»t
 = 
	`sy¡em
("echo \"BUILD_TYPE=PROD\" > /tmp/device_gtest.prop");

654 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`isDebugS”viûsEÇbËd
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
çl£
));

655 
»t
 = 
	`sy¡em
("echo \"https://www.rdkautotool.com\" > /tmp/swupdate.conf");

656 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`»ad_RFCPrİ”ty
(
_
, _, _, _))

657 .
	`Times
(1)

658 .
	`WlOnû
(
	`Invoke
([&
£rvU¾
]Ğ* 
ty³
, cÚ¡ * 
key
, *
out_v®ue
, 
size_t
 
d©asize
 ) {

659 
	`¡ºıy
(
out_v®ue
, 
£rvU¾
 , 
d©asize
-1);

660 
out_v®ue
[
d©asize
 - 1] = '\0';

661  
	`¡¾’
(
out_v®ue
);

664 
»t
=
	`G‘S”vURL
(
ouut
 , (output));

665 
	`EXPECT_EQ
(
	`¡ºcmp
(
ouut
 , "h‰ps://www.Œ181Rfc.com/xcÚf/swu/¡b", 
	`¡¾’
("https://www.tr181Rfc.com/xconf/swu/stb")),0);

666 
	`´štf
("Ouuˆ========================ğ%s\À", 
ouut
);

667 
	`´štf
("£rvU¾ =======================ğ% \À",
£rvU¾
);

668 
»t
 = 
	`sy¡em
("rm -f /tmp/swupdate.conf");

669 
»t
 = 
	`sy¡em
("rm -f /tmp/device_gtest.prop");

670 
	`´štf
("S”v” URL = %s\n", 
ouut
);

671 
	}
}

687 
	$TEST_F
(
DeviûApiTe¡Fixtu»
, 
Te¡Name_G‘Ex³r›nû_NuÎcheck
)

689 
	`EXPECT_EQ
(
	`G‘Ex³r›nû
(
NULL
, 0), 0);

690 
	}
}

692 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘RemÙeInfo_NuÎcheck
)

694 
	`EXPECT_EQ
(
	`G‘RemÙeInfo
(
NULL
, 0), 0);

695 
	}
}

697 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘RemÙeInfo_Sucûss
)

699 
»t
;

700 
pRemÙeInfo
[256] = {0};

701 
»t
 = 
	`sy¡em
("cp„c-proxy-params.json /tmp/ ");

702 
	`EXPECT_NE
(
	`G‘RemÙeInfo
(
pRemÙeInfo
, (pRemoteInfo)), 0);

703 
»t
 = 
	`sy¡em
("rm -rf /tmp/rc-proxy-params.json ");

704 
	`´štf
("RemÙeInfØğ%s\n",
pRemÙeInfo
);

705 
	}
}

706 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘RemÙeInfo_Fa
)

708 
pRemÙeInfo
[256] = {0};

709 
	`EXPECT_EQ
(
	`G‘RemÙeInfo
(
pRemÙeInfo
, (pRemoteInfo)), 0);

710 
	}
}

711 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘RemÙeV”s_NuÎcheck
)

713 
	`EXPECT_EQ
(
	`G‘RemÙeV”s
(
NULL
, 0), 0);

714 
	}
}

716 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘RemÙeV”s_Sucûss
)

718 
»t
;

719 
pRemÙeInfo
[256] = {0};

720 
»t
 = 
	`sy¡em
("cp„c-proxy-params.json /tmp/ ");

721 
	`EXPECT_NE
(
	`G‘RemÙeV”s
(
pRemÙeInfo
, (pRemoteInfo)), 0);

722 
»t
 = 
	`sy¡em
("rm -rf /tmp/rc-proxy-params.json ");

723 
	`´štf
("RemÙeV”siÚ = %s\n",
pRemÙeInfo
);

724 
	}
}

725 
	$TEST_F
(
DeviûApiTe¡Fixtu»
,
Te¡Name_G‘RemÙeV”s_Fa
)

727 
pRemÙeInfo
[256] = {0};

728 
	`EXPECT_EQ
(
	`G‘RemÙeV”s
(
pRemÙeInfo
, (pRemoteInfo)), 0);

729 
	}
}

	@unittest/deviceutils/deviceutils_gtest.cpp

19 
	~<g‹¡/g‹¡.h
>

20 
	~<gmock/gmock.h
>

21 
	~<io¡»am
>

22 
	~<uni¡d.h
>

24 
	~"../mocks/deviûuts_mock.h
"

26 
	~"deviûuts.h
"

34 
	#JSON_STR_LEN
 1000

	)

36 
	#GTEST_DEFAULT_RESULT_FILEPATH
 "/tmp/G‹¡_R•Üt/"

	)

37 
	#GTEST_DEFAULT_RESULT_FILENAME
 "RdkFwDwÆd_DeviûUts_g‹¡_»pÜt.jsÚ"

	)

38 
	#GTEST_REPORT_FILEPATH_SIZE
 256

	)

40 
usšg
 
Çme¥aû
 
‹¡šg
;

41 
usšg
 
Çme¥aû
 
	g¡d
;

42 
	gusšg
 ::
‹¡šg
::
R‘uº
;

43 
	gusšg
 ::
‹¡šg
::
SŒEq
;

46 
DeviûUtsMock
 *
	gg_DeviûUtsMock
 = 
NULL
;

48 şas 
	cDeviûUtsTe¡Fixtu»
 : 
public
 ::
‹¡šg
::
Te¡
 {

49 
´Ùeùed
:

50 
DeviûUtsMock
 
mockDeviûUts
;

52 
	$DeviûUtsTe¡Fixtu»
()

54 
g_DeviûUtsMock
 = &
mockDeviûUts
;

56 
vœtu®
 ~
	$DeviûUtsTe¡Fixtu»
()

58 
g_DeviûUtsMock
 = 
NULL
;

59 
	}
}

61 
vœtu®
 
	$S‘Up
()

63 
	`´štf
("%s\n", 
__func__
);

64 
	}
}

66 
vœtu®
 
	$T—rDown
()

68 
	`´štf
("%s\n", 
__func__
);

69 
	}
}

71 
	$S‘UpTe¡Ca£
()

73 
	`´štf
("%s\n", 
__func__
);

74 
	}
}

76 
	$T—rDownTe¡Ca£
()

78 
	`´štf
("%s\n", 
__func__
);

79 
	}
}

147 
	$TEST_F
(
DeviûUtsTe¡Fixtu»
, 
Te¡Name_g‘JRPCTok’D©a_BugOv”æow
)

149 
tok’
[32];

150 
pJsÚSŒ
[] = "\{\"token\":\"abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz123456ujklmnbvxawer\",\"success\":true}";

151 
	`EXPECT_EQ
(
	`g‘JRPCTok’D©a
(
tok’
, 
pJsÚSŒ
, (token)), 0);

152 
	`´štf
("tok’ = %s\n",
tok’
);

153 
	}
}

154 
	$TEST_F
(
DeviûUtsTe¡Fixtu»
, 
Te¡Name_g‘JRPCTok’D©a_bufund
)

156 
tok’
[32];

157 
pJsÚSŒ
[] = "\{\"token\":\"eybhg-Osn3s\",\"success\":true}";

158 
	`EXPECT_EQ
(
	`g‘JRPCTok’D©a
(
tok’
, 
pJsÚSŒ
, (token)), 0);

159 
	`´štf
("tok’ = %s\n",
tok’
);

160 
	}
}

161 
	$TEST_F
(
DeviûUtsTe¡Fixtu»
, 
Te¡Name_g‘JRPCTok’D©a_NuÎ
)

163 
	`EXPECT_EQ
(
	`g‘JRPCTok’D©a
(
NULL
, NULL, 0), -1);

164 
	}
}

166 
	$TEST_F
(
DeviûUtsTe¡Fixtu»
, 
Te¡Name_g‘JsÚRpc_Sucûss
)

168 
»t
;

169 
DowÆßdD©a
 
pJsÚRpc
;

170 
FILE
 *
å
 = 
NULL
;

171 
pJsÚRpc
.
pvOut
 = 
	`m®loc
(50);

172 
pJsÚRpc
.
d©asize
 = 0;

173 
pJsÚRpc
.
memsize
 = 50;

174 
po¡_d©a
[] = "Testing";

175 
»t
 = 
	`sy¡em
("echo \{\"token\":\"eybhg-Osn3s\",\"success\":true} > /tmp/jrpctoken.txt");

185 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`v_£cu»_pİ’
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
å
));

186 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`doCu¾In™
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
((
size_t
 *)1));

187 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`g‘JsÚRpcD©a
(
_
, _, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

188 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`doStİDowÆßd
(
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
());

189 
	`EXPECT_EQ
(
	`g‘JsÚRpc
(
po¡_d©a
, &
pJsÚRpc
), 0);

190 
»t
 = 
	`sy¡em
("rm -f /tmp/jrpctoken.txt");

191 
	}
}

192 
	$TEST_F
(
DeviûUtsTe¡Fixtu»
, 
Te¡Name_g‘JsÚRpc_Fa
)

194 
»t
;

195 
DowÆßdD©a
 
pJsÚRpc
;

196 
FILE
 *
å
 = 
NULL
;

197 
pJsÚRpc
.
pvOut
 = 
	`m®loc
(50);

198 
pJsÚRpc
.
d©asize
 = 0;

199 
pJsÚRpc
.
memsize
 = 50;

200 
po¡_d©a
[] = "Testing";

201 
»t
 = 
	`sy¡em
("echo \{\"token\":\"eybhg-Osn3s\",\"success\":true} > /tmp/jrpctoken.txt");

211 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`v_£cu»_pİ’
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(
å
));

212 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`doCu¾In™
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
((
size_t
 *)1));

213 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`g‘JsÚRpcD©a
(
_
, _, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(-1));

214 
	`EXPECT_CALL
(*
g_DeviûUtsMock
, 
	`doStİDowÆßd
(
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
());

215 
	`EXPECT_EQ
(
	`g‘JsÚRpc
(
po¡_d©a
, &
pJsÚRpc
), -1);

216 
»t
 = 
	`sy¡em
("rm -f /tmp/jrpctoken.txt");

217 
	}
}

218 
	$TEST_F
(
DeviûUtsTe¡Fixtu»
, 
Te¡Name_g‘In¡®ËdBundËFeLi¡_Fa
)

220 
m‘aD©aFeLi¡_¡
 *
m‘a_»t
 = 
NULL
;

221 
	`EXPECT_EQ
(
	`g‘In¡®ËdBundËFeLi¡
(), 
m‘a_»t
);

222 
	}
}

223 
	$TEST_F
(
DeviûUtsTe¡Fixtu»
, 
Te¡Name_g‘M‘aD©aFe_NuÎ
)

225 
m‘aD©aFeLi¡_¡
 *
m‘a_»t
 = 
NULL
;

226 
	`EXPECT_EQ
(
	`g‘M‘aD©aFe
("./‹¡"), 
m‘a_»t
);

227 
	}
}

228 
	$TEST_F
(
DeviûUtsTe¡Fixtu»
, 
Te¡Name_m”geLi¡s_NuÎ
)

230 
m‘aD©aFeLi¡_¡
 *
m‘a_»t
 = 
NULL
;

231 
	`EXPECT_EQ
(
	`m”geLi¡s
(
NULL
, NULL), 
m‘a_»t
);

232 
	}
}

234 
GTEST_API_
 
	$maš
(
¬gc
, *
¬gv
[]){

235 
‹¡»suÉs_fuÎf•©h
[
GTEST_REPORT_FILEPATH_SIZE
];

236 
bufãr
[
GTEST_REPORT_FILEPATH_SIZE
];

238 
	`mem£t
Ğ
‹¡»suÉs_fuÎf•©h
, 0, 
GTEST_REPORT_FILEPATH_SIZE
 );

239 
	`mem£t
Ğ
bufãr
, 0, 
GTEST_REPORT_FILEPATH_SIZE
 );

241 
	`¢´štf
Ğ
‹¡»suÉs_fuÎf•©h
, 
GTEST_REPORT_FILEPATH_SIZE
, "jsÚ:%s%s" , 
GTEST_DEFAULT_RESULT_FILEPATH
 , 
GTEST_DEFAULT_RESULT_FILENAME
);

242 ::
‹¡šg
::
	`GTEST_FLAG
(
ouut
èğ
‹¡»suÉs_fuÎf•©h
;

243 ::
‹¡šg
::
	`In™GoogËTe¡
(&
¬gc
, 
¬gv
);

245 
cout
 << "S¹šg deviûut ªd deviû‡p˜Aµ ===================>" << 
’dl
;

246  
	`RUN_ALL_TESTS
();

247 
	}
}

	@unittest/deviceutils/json_parse.c

19 
	~<¡dio.h
>

20 
	~<¡dlib.h
>

21 
	~<¡ršg.h
>

22 
	~<ùy³.h
>

23 
	~<fú.h
>

24 
	~<uni¡d.h
>

25 
	~<¡dboŞ.h
>

26 
	~<sys/mmª.h
>

27 
	~<sys/¡©.h
>

28 
	~<cjsÚ/cJSON.h
>

29 
	~"jsÚ_·r£.h
"

31 
	~"rdkv_cdl_log_w¿µ”.h
"

51 
	$wr™eI‹mV®
Ğ
FILE
* 
åout
, *
pName
, *
pV®
, 
£‹nvv¬s
 )

53 
iR‘
 = 0;

55 ifĞ
pName
 !ğ
NULL
 )

57 ifĞ
åout
 !ğ
NULL
 )

59 
	`årštf
Ğ
åout
, "%s=", 
pName
 );

60 ifĞ
pV®
 !ğ
NULL
 )

62 
	`årštf
Ğ
åout
, "\"%s\"\n", 
pV®
 );

66 
	`SWLOG_ERROR
( "writeItemVal:…Val is‚ot…rintable\n" );

67 
iR‘
 = 1;

70 ifĞ
pName
 !ğ
NULL
 && 
pV®
 != NULL )

72 ifĞ
£‹nvv¬s
 )

74 
iR‘
 = 
	`£‹nv
Ğ
pName
, 
pV®
, 1 );

75 ifĞ
iR‘
 )

77 
	`SWLOG_ERROR
Ğ"wr™eI‹mV®: s‘’vĞ%s, %s, 1 )„‘uºed %d\n", 
pName
, 
pV®
, 
iR‘
 );

84 
	`SWLOG_ERROR
( "writeItemVal: one or more input‡rgs invalid\n" );

85 
iR‘
 = 1;

87  
iR‘
;

88 
	}
}

101 
	$cÚv”tInv®idCh¬s
Ğ*
pSŒ
 )

103 ifĞ
pSŒ
 !ğ
NULL
 )

105  *
pSŒ
 )

107 ifĞ(*
pSŒ
 < '0') ||

108 (*
pSŒ
 > '9' && *pStr < 'A') ||

109 (*
pSŒ
 > 'Z' && *pStr < 'a' && *pStr != '_') ||

110 (*
pSŒ
 > 'z') )

112 *
pSŒ
 = '_';

114 ++
pSŒ
;

117 
	}
}

119 
size_t
 
	$g‘™emv®
Ğ
cJSON
 *
pc™em
, *
pOut
, 
size_t
 
szpOutSize
 )

121 *
pV®
 = 
NULL
;

122 
iR™
;

123 
size_t
 
Ën
 = 0;

124 
cOut
[50];

126 ifĞ
	`cJSON_IsSŒšg
Ğ
pc™em
 ) )

128 
pV®
 = 
pc™em
->
v®ue¡ršg
;

130 ifĞ
	`cJSON_IsBoŞ
Ğ
pc™em
 ) )

132 
pV®
 = 
	`cJSON_IsTrue
Ğ
pc™em
 ) ? "true" : "false";

134 ifĞ
	`cJSON_IsNumb”
Ğ
pc™em
 ) )

136 
iR™
 = 
	`¢´štf
Ğ
cOut
, ĞcOuˆ), "%f", 
pc™em
->
v®uedoubË
 );

137 ifĞ
iR™
 > 0 )

139 --
iR™
;

141 
pV®
 = &
cOut
[
iR™
];

142  *
pV®
 =ğ'0' && 
iR™
 )

144 *
pV®
 = 0;

145 --
pV®
;

146 --
iR™
;

148 ifĞ*
pV®
 == '.' )

150 *
pV®
 = 0;

152 
pV®
 = 
cOut
;

155 ifĞ
pV®
 !ğ
NULL
 )

157 
Ën
 = 
	`¢´štf
Ğ
pOut
, 
szpOutSize
, "%s", 
pV®
 );

159 ifĞ
szpOutSize
 )

161 *
pOut
 = 0;

163  
Ën
;

164 
	}
}

180 
	$S‘JsÚV¬s
Ğ*
feIn
, *
feOut
, 
£‹nvv¬s
 )

182 
FILE
 *
åout
 = 
NULL
;

183 
cJSON
 *
jsÚ
 = 
NULL
;

184 
cJSON
 *
™em
 = 
NULL
;

185 
iR‘
 = 1;

186 *
pSŒ
, *
pName
, *
pV®
;

187 
cOut
[100];

190 
pSŒ
 = 
	`G‘JsÚ
Ğ
feIn
 );

191 ifĞ
pSŒ
 !ğ
NULL
 )

193 
jsÚ
 = (
cJSON
 *)
	`P¬£JsÚSŒ
Ğ
pSŒ
 );

194 ifĞ
jsÚ
 )

196 ifĞ
feOut
 )

198 ifĞ(
åout
=
	`fİ’
Ğ
feOut
, "w" )è=ğ
NULL
 )

200 
	`SWLOG_INFO
Ğ"S‘JsÚV¬s: cªnÙ o³À% fÜ wr™šg\n", 
feOut
 );

203 
	`cJSON_A¼ayFÜEach
Ğ
™em
, 
jsÚ
 )

205 ifĞ
åout
 || 
£‹nvv¬s
 )

207 
pName
 = 
™em
->
¡ršg
;

208 ifĞ!
	`cJSON_IsInv®id
Ğ
™em
 ) && 
pName
 )

210 
	`cÚv”tInv®idCh¬s
Ğ
pName
 );

211 
	`g‘™emv®
Ğ
™em
, 
cOut
, (cOut) );

213 
iR‘
 = 
	`wr™eI‹mV®
Ğ
åout
, 
pName
, 
cOut
, 
£‹nvv¬s
 );

217 
	`SWLOG_ERROR
( "SetJsonVars: item is invalid\n" );

221 ifĞ
åout
 )

223 
	`fşo£
Ğ
åout
 );

225 
	`cJSON_D–‘e
Ğ
jsÚ
 );

229 
	`SWLOG_ERROR
( "SetJsonVar: cJSON_Parseƒrror writing\n" );

231 
	`ä“
Ğ
pSŒ
 );

235 
	`SWLOG_ERROR
( "SetJsonVars: GetJson„eturn NULL\n");

237  
iR‘
;

238 
	}
}

253 
JSON
 *
	$P¬£JsÚSŒ
Ğ*
pJsÚSŒ
 )

255 
JSON
 *
pjsÚ
 = 
NULL
;

257 ifĞ
pJsÚSŒ
 !ğ
NULL
 )

259 
pjsÚ
 = (
JSON
*)
	`cJSON_P¬£
Ğ
pJsÚSŒ
 );

263 
	`SWLOG_ERROR
( "ParseJsonStr Error: No JSON stringo…arse\n" );

265  
pjsÚ
;

266 
	}
}

277 
	$F»eJsÚ
Ğ
JSON
 *
pJsÚ
 )

279 
»t
 = -1;

281 ifĞ
pJsÚ
 !ğ
NULL
 )

283 
	`cJSON_D–‘e
Ğ(
cJSON
*)
pJsÚ
 );

284 
»t
 = 0;

288 
	`SWLOG_ERROR
( "FreeJson Error: No Json objecto free\n" );

290  
»t
;

291 
	}
}

309 
JSON
* 
	$G‘JsÚI‹m
Ğ
JSON
 *
pJsÚ
, *
pV®ToG‘
 )

311 
JSON
 *
™em
 = 
NULL
;

313 ifĞ
pJsÚ
 !ğ
NULL
 && 
pV®ToG‘
 != NULL && *pValToGet )

315 
™em
=(
JSON
 *)
	`cJSON_G‘ObjeùI‹m
Ğ(
cJSON
 *)
pJsÚ
, 
pV®ToG‘
 );

318  
™em
;

319 
	}
}

341 
size_t
 
	$G‘JsÚV®FromSŒšg
Ğ*
pJsÚSŒ
, *
pV®ToG‘
, *
pOuutV®
, 
size_t
 
maxËn
 )

343 
JSON
 *
pjsÚ
;

344 
size_t
 
szL’
 = 0;

346 ifĞ
pJsÚSŒ
 !ğ
NULL
 && 
pOuutV®
 != NULL )

348 
pjsÚ
 = 
	`P¬£JsÚSŒ
Ğ
pJsÚSŒ
 );

349 ifĞ
pjsÚ
 !ğ
NULL
 )

351 
szL’
 = 
	`G‘JsÚV®
Ğ
pjsÚ
, 
pV®ToG‘
, 
pOuutV®
, 
maxËn
 );

352 
	`F»eJsÚ
Ğ
pjsÚ
 );

355  
szL’
;

356 
	}
}

378 
size_t
 
	$G‘JsÚV®
Ğ
JSON
 *
pJsÚ
, *
pV®ToG‘
, *
pOuutV®
, 
size_t
 
maxËn
 )

380 
cJSON
 *
pcjsÚ
 = 
NULL
;

381 
cJSON
 *
™em
 = 
NULL
;

382 
size_t
 
Ën
 = 0;

384 ifĞ
pOuutV®
 !ğ
NULL
 && 
maxËn
 )

386 *
pOuutV®
 = 0;

387 ifĞ
pJsÚ
 !ğ
NULL
 )

389 
pcjsÚ
 = (
cJSON
*)
pJsÚ
;

390 ifĞ
pV®ToG‘
 !ğ
NULL
 && *pValToGet )

392 ifĞ(
™em
=
	`cJSON_G‘ObjeùI‹m
Ğ
pcjsÚ
, 
pV®ToG‘
 )) )

394 
Ën
 = 
	`g‘™emv®
Ğ
™em
, 
pOuutV®
, 
maxËn
 );

399 
	`SWLOG_ERROR
( "GetJsonVal: Error,‚o valueo get\n" );

404 
	`SWLOG_ERROR
( "GetJsonVal: Error,‚o json objecto search\n" );

409 
	`SWLOG_ERROR
( "GetJsonVal: Error,‚o…laceo store output\n" );

411  
Ën
;

412 
	}
}

436 
size_t
 
	$G‘JsÚV®CÚššgFromSŒšg
Ğ*
pJsÚSŒ
, *
pV®ToG‘
, *
pOuutV®
, 
size_t
 
maxËn
 )

438 
JSON
 *
pjsÚ
;

439 
size_t
 
szL’
 = 0;

441 ifĞ
pJsÚSŒ
 !ğ
NULL
 && 
pOuutV®
 != NULL )

443 
pjsÚ
 = 
	`P¬£JsÚSŒ
Ğ
pJsÚSŒ
 );

444 ifĞ
pjsÚ
 !ğ
NULL
 )

446 
szL’
 = 
	`G‘JsÚV®CÚššg
Ğ
pjsÚ
, 
pV®ToG‘
, 
pOuutV®
, 
maxËn
 );

447 
	`F»eJsÚ
Ğ
pjsÚ
 );

450  
szL’
;

451 
	}
}

478 
size_t
 
	$G‘JsÚV®CÚššg
Ğ
JSON
 *
pJsÚ
, *
pV®ToG‘
, *
pOuutV®
, 
size_t
 
maxËn
 )

480 
cJSON
 *
pcjsÚ
 = 
NULL
;

481 
cJSON
 *
pc™em
 = 
NULL
;

482 *
pName
;

483 
size_t
 
Ën
 = 0;

484 
i
 = 0, 
»m_¥aû
;

486 ifĞ
pOuutV®
 !ğ
NULL
 && 
maxËn
 )

488 *
pOuutV®
 = 0;

489 ifĞ
pJsÚ
 !ğ
NULL
 )

491 
pcjsÚ
 = (
cJSON
 *)
pJsÚ
;

492 ifĞ
pV®ToG‘
 !ğ
NULL
 && *pValToGet )

494 
	`cJSON_A¼ayFÜEach
Ğ
pc™em
, 
pcjsÚ
 )

496 
pName
 = 
pc™em
->
¡ršg
;

497 ifĞ!
	`cJSON_IsInv®id
Ğ
pc™em
 ) && 
pName
 )

499 
	`cÚv”tInv®idCh¬s
Ğ
pName
 );

500 ifĞ
	`¡r¡r
Ğ
pName
, 
pV®ToG‘
 ) )

502 
pName
 = 
pOuutV®
 + 
Ën
;

503 
»m_¥aû
 = 
maxËn
 - 
Ën
;

504 ifĞ
i
 && 
»m_¥aû
 >= 2 )

506 *
pName
++ = ',';

507 ++
Ën
;

508 --
»m_¥aû
;

510 ifĞ
»m_¥aû
 > 0 )

512 
i
 = 
	`g‘™emv®
Ğ
pc™em
, 
pName
, 
»m_¥aû
 );

513 
Ën
 +ğ
i
;

514 ifĞ
Ën
 >ğ
maxËn
 )

523 
	`SWLOG_ERROR
( "GetJsonValContaining: item is invalid\n" );

529 
	`SWLOG_ERROR
( "GetJsonValContaining: Error,‚o valueo get\n" );

534 
	`SWLOG_ERROR
( "GetJsonValContaining: Error,‚o json objecto search\n" );

539 
	`SWLOG_ERROR
( "GetJsonValContaining: Error,‚o…laceo store output\n" );

541  
Ën
;

542 
	}
}

554 * 
	$G‘JsÚ
Ğ*
f’ame_š
 )

556 
¡©
 
¡©buf
;

557 *
pJsÚ
 = 
NULL
;

558 *
pTmp
;

559 *
pM­
;

560 *
pc
;

561 
size_t
 
¡Fesize
;

562 
size_t
 
¡I
;

563 
fd
;

565 ifĞ
f’ame_š
 !ğ
NULL
 )

567 ifĞ(
fd
=
	`İ’
Ğ
f’ame_š
, 
O_RDONLY
)) != -1 )

569 ifĞ
	`f¡©
 (
fd
, &
¡©buf
) == 0 )

571 
¡Fesize
 = (
size_t
)
¡©buf
.
¡_size
;

572 ifĞ(
pM­
=(*)
	`mm­
Ğ
NULL
, 
¡Fesize
, 
PROT_READ
, 
MAP_PRIVATE
, 
fd
, 0 )è!ğ
MAP_FAILED
 )

574 
pTmp
 = 
pJsÚ
 = (*)
	`m®loc
Ğ(
¡Fesize
 + 1) * () );

575 ifĞ
pJsÚ
 !ğ
NULL
 )

577 *
pJsÚ
 = 0;

578 
pc
 = 
pM­
;

579 
¡I
 = 
¡Fesize
;

580  
¡I
-- && *
pc
 )

582 *
pTmp
++ = *
pc
++;

584 *
pTmp
 = 0;

588 
	`SWLOG_ERROR
( "GetJson: Unableo‡llocate memory\n" );

590 
	`munm­
Ğ
pM­
, 
¡Fesize
 );

594 
	`SWLOG_ERROR
Ğ"G‘JsÚ: UÇbËØü—‹ mm­ fÜ %s\n", 
f’ame_š
 );

599 
	`SWLOG_ERROR
Ğ"G‘JsÚ: UÇbËØ¡© %s\n", 
f’ame_š
 );

601 
	`şo£
Ğ
fd
 );

605 
	`SWLOG_ERROR
Ğ"G‘JsÚ: UÇbËØİ’ % fÜ„—dšg\n", 
f’ame_š
 );

610 
	`SWLOG_ERROR
( "GetJson: No input filename\n" );

613  
pJsÚ
;

614 
	}
}

625 
boŞ
 
	$IsJsÚA¼ay
Ğ
JSON
 *
pJsÚ
 )

627 Ğ(
boŞ
)
	`cJSON_IsA¼ay
Ğ(
cJSON
 *)
pJsÚ
 ) );

628 
	}
}

639 
	$G‘JsÚA¼aySize
Ğ
JSON
 *
pJsÚ
 )

641 
num
 = 0;

643 ifĞ
	`cJSON_IsA¼ay
Ğ(
cJSON
 *)
pJsÚ
 ) )

645 
num
 = ()
	`cJSON_G‘A¼aySize
Ğ(
cJSON
 *)
pJsÚ
 );

647  
num
;

648 
	}
}

661 
JSON
* 
	$G‘JsÚA¼ayI‹m
Ğ
JSON
 *
pJsÚ
, 
šdex
 )

664  (
JSON
*)
	`cJSON_G‘A¼ayI‹m
Ğ(
cJSON
 *)
pJsÚ
, 
šdex
 );

665 
	}
}

	@unittest/deviceutils/json_parse.h

19 #iâdeà
__JSON_PARSE_H_


20 
	#__JSON_PARSE_H_


	)

22 
	~<cjsÚ/cJSON.h
>

24 
cJSON
 
	tJSON
;

39 
S‘JsÚV¬s
(*
feIn
, *
feOut
, 
£‹nvv¬s
);

53 
JSON
 *
P¬£JsÚSŒ
(*
pJsÚSŒ
);

62 
F»eJsÚ
(
JSON
 *
pJsÚ
);

79 
JSON
* 
G‘JsÚI‹m
(JSON *
pJsÚ
, *
pV®ToG‘
);

101 
size_t
 
G‘JsÚV®FromSŒšg
(*
pJsÚSŒ
, *
pV®ToG‘
, *
pOuutV®
, size_ˆ
maxËn
);

123 
size_t
 
G‘JsÚV®
(
JSON
 *
pJsÚ
, *
pV®ToG‘
, *
pOuutV®
, size_ˆ
maxËn
);

147 
size_t
 
G‘JsÚV®CÚššgFromSŒšg
(*
pJsÚSŒ
, *
pV®ToG‘
, *
pOuutV®
, size_ˆ
maxËn
);

174 
size_t
 
G‘JsÚV®CÚššg
(
JSON
 *
pJsÚ
, *
pV®ToG‘
, *
pOuutV®
, size_ˆ
maxËn
);

186 * 
G‘JsÚ
(*
f’ame_š
);

197 
boŞ
 
IsJsÚA¼ay
(
JSON
 *
pJsÚ
);

208 
G‘JsÚA¼aySize
(
JSON
 *
pJsÚ
);

221 
JSON
* 
G‘JsÚA¼ayI‹m
(JSON *
pJsÚ
, 
šdex
);

	@unittest/fwdl_interface_gtest.cpp

19 
	~<g‹¡/g‹¡.h
>

20 
	~<gmock/gmock.h
>

21 
	~<io¡»am
>

22 
	~<uni¡d.h
>

25 
	~"rfcš‹rçû.h
"

26 
	~"ŸrmIÁ”çû.h
"

27 
	~"mocks/rbus_mock.h
"

28 
DwÆStİEv’tHªdËr
(cÚ¡ *
owÃr
, 
IARM_Ev’tId_t
 
ev’tId
, *
d©a
, 
size_t
 
Ën
);

30 
	~"mocks/š‹rçû_mock.h
"

32 
	#IMG_DWL_EVENT
 "ImageDwldEv’t"

	)

33 
	#FW_STATE_EVENT
 "Fœmw¬eS‹Ev’t"

	)

35 
	#GTEST_DEFAULT_RESULT_FILEPATH
 "/tmp/G‹¡_R•Üt/"

	)

36 
	#GTEST_DEFAULT_RESULT_FILENAME
 "RdkFwDwÆd_IÁ”çû_g‹¡_»pÜt.jsÚ"

	)

37 
	#GTEST_REPORT_FILEPATH_SIZE
 256

	)

39 
usšg
 
Çme¥aû
 
‹¡šg
;

40 
usšg
 
Çme¥aû
 
	g¡d
;

41 
	gusšg
 ::
‹¡šg
::
R‘uº
;

42 
	gusšg
 ::
‹¡šg
::
SŒEq
;

44 
FwDlIÁ”çûMock
 *
	gg_IÁ”çûMock
 = 
NULL
;

46 şas 
	cIÁ”çûTe¡Fixtu»
 : 
public
 ::
‹¡šg
::
Te¡
 {

47 
´Ùeùed
:

48 
FwDlIÁ”çûMock
 
mockfwdlIÁ”çû
;

50 
	$IÁ”çûTe¡Fixtu»
()

52 
g_IÁ”çûMock
 = &
mockfwdlIÁ”çû
;

54 
vœtu®
 ~
	$IÁ”çûTe¡Fixtu»
()

56 
g_IÁ”çûMock
 = 
NULL
;

57 
	}
}

59 
vœtu®
 
	$S‘Up
()

61 
	`´štf
("%s\n", 
__func__
);

62 
	}
}

64 
vœtu®
 
	$T—rDown
()

66 
	`´štf
("%s\n", 
__func__
);

67 
	}
}

69 
	$S‘UpTe¡Ca£
()

71 
	`´štf
("%s\n", 
__func__
);

72 
	}
}

74 
	$T—rDownTe¡Ca£
()

76 
	`´štf
("%s\n", 
__func__
);

77 
	}
}

80 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_»ad_RFCPrİ”tyNuÎ
)

92 
	`EXPECT_EQ
(
	`»ad_RFCPrİ”ty
(
NULL
, NULL, NULL, 0), -1);

93 
	}
}

94 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_»ad_RFCPrİ”tySucûss
)

96 
d©a
[16] = {0};

97 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`g‘RFCP¬am‘”
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(1));

98 
	`EXPECT_EQ
(
	`»ad_RFCPrİ”ty
("Inüem’lCDL", "rfccdl", 
d©a
, (data)), 1);

99 
	}
}

100 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_»ad_RFCPrİ”tyFa
)

102 
d©a
[16] = {0};

103 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`g‘RFCP¬am‘”
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

104 
	`EXPECT_EQ
(
	`»ad_RFCPrİ”ty
("Inüem’lCDL", "rfccdl", 
d©a
, (data)), -1);

105 
	}
}

106 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_wr™e_RFCPrİ”tyNuÎ
)

108 
	`EXPECT_EQ
(
	`wr™e_RFCPrİ”ty
(
NULL
, NULL, NULL, 0), -1);

109 
	}
}

110 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_wr™e_RFCPrİ”tySucûss
)

112 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`£tRFCP¬am‘”
(
_
, _, _,_)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(1));

113 
	`EXPECT_EQ
(
	`wr™e_RFCPrİ”ty
("int","fwdlrfc","true", 1), 1);

114 
	}
}

115 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_g‘RFCS‘tšgsSucûss
)

117 
Rfc_t
 
rfcv®ue
;

118 
	`mem£t
(&
rfcv®ue
, '\0', (rfcvalue));

119 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`g‘RFCP¬am‘”
(
_
, _, _)).
	`Times
(3).
	`WlR•—‹dly
(
	`R‘uº
(1));

120 
	`EXPECT_EQ
(
	`g‘RFCS‘tšgs
(&
rfcv®ue
), 0);

121 
	}
}

122 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_g‘RFCS‘tšgsFa
)

124 
Rfc_t
 
rfcv®ue
;

125 
	`mem£t
(&
rfcv®ue
, '\0', (rfcvalue));

126 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`g‘RFCP¬am‘”
(
_
, _, _)).
	`Times
(3).
	`WlR•—‹dly
(
	`R‘uº
(-1));

127 
	`EXPECT_EQ
(
	`g‘RFCS‘tšgs
(&
rfcv®ue
), 0);

128 
	}
}

129 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_wr™e_RFCPrİ”tySucûss2
)

131 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`£tRFCP¬am‘”
(
_
, _, _,_)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(1));

132 
	`EXPECT_EQ
(
	`wr™e_RFCPrİ”ty
("int","fwdlrfc","true", 2), 1);

133 
	}
}

134 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_wr™e_RFCPrİ”tySucûss3
)

136 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`£tRFCP¬am‘”
(
_
, _, _,_)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(1));

137 
	`EXPECT_EQ
(
	`wr™e_RFCPrİ”ty
("int","fwdlrfc","true", 3), 1);

138 
	}
}

139 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_wr™e_RFCPrİ”tyFa
)

141 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`£tRFCP¬am‘”
(
_
, _, _,_)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(-1));

142 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`g‘RFCE¼ÜSŒšg
(
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

143 
	`EXPECT_EQ
(
	`wr™e_RFCPrİ”ty
("int","fwdlrfc","true", 1), -1);

144 
	}
}

145 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_isMsEÇbËdSucûss
)

147 
	`EXPECT_EQ
(
	`isMsEÇbËd
("PLATCO"), 1);

148 
	}
}

149 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_isMsEÇbËdFa
)

151 
	`EXPECT_NE
(
	`isMsEÇbËd
("PLATCO"), 0);

152 
	}
}

154 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_isMmgbËNÙifyEÇbËdFa
)

156 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`g‘RFCP¬am‘”
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(-1));

157 
	`EXPECT_EQ
(
	`isMmgbËNÙifyEÇbËd
(), 
çl£
);

158 
	}
}

159 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_isMmgbËNÙifyEÇbËdSucûss
)

161 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`g‘RFCP¬am‘”
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(1));

162 
	`EXPECT_EQ
(
	`isMmgbËNÙifyEÇbËd
(), 
Œue
);

163 
	}
}

164 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_isDebugS”viûsEÇbËdFa
)

166 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`g‘RFCP¬am‘”
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(-1));

167 
	`EXPECT_EQ
(
	`isDebugS”viûsEÇbËd
(), 
çl£
);

168 
	}
}

169 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_isDebugS”viûsEÇbËSucûss
)

171 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`g‘RFCP¬am‘”
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(1));

172 
	`EXPECT_EQ
(
	`isDebugS”viûsEÇbËd
(), 
Œue
);

173 
	}
}

174 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_isInüem‘®CDLEÇbËSucûss
)

176 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`g‘RFCP¬am‘”
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(1));

178 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`feP»£ÁCheck
(
_
)).
	`WlOnû
(
	`R‘uº
(0));

179 
	`EXPECT_EQ
(
	`isInüem‘®CDLEÇbË
("/tmp/123.bin"), 1);

180 
	}
}

181 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_isInüem‘®CDLEÇbËFarfc
)

183 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`g‘RFCP¬am‘”
(
_
, _, _)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(-1));

186 
	`EXPECT_EQ
(
	`isInüem‘®CDLEÇbË
("/tmp/123.bin"), 0);

187 
	}
}

188 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_š™_ev’t_hªdËrSucûss
)

190 
cÚÃùd©a
[] = "0";

191 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`IARM_Bus_In™
(
_
)).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

192 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`IARM_Bus_CÚÃù
()).
	`WlOnû
(
	`R‘uº
(0));

193 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`IARM_Bus_Regi¡”Ev’tHªdËr
(
_
,_,_)).
	`WlOnû
(
	`R‘uº
(0));

194 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`IARM_Bus_IsCÚÃùed
(
_
, _))

195 .
	`Times
(2)

196 .
	`WlR•—‹dly
(
	`Invoke
([&
cÚÃùd©a
]ĞcÚ¡ *
Çme
, *
d©a
 ) {

197 ià(
d©a
 !ğ
NULL
) {

198 *
d©a
 = 
	`©oi
(
cÚÃùd©a
);

200 *
d©a
 = 0;

204 
	`EXPECT_EQ
(
	`š™_ev’t_hªdËr
(), 0);

205 
	}
}

206 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_š™_ev’t_hªdËrCÚÃùed
)

208 
cÚÃùd©a
[] = "1";

209 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`IARM_Bus_IsCÚÃùed
(
_
, _))

210 .
	`Times
(1)

211 .
	`WlR•—‹dly
(
	`Invoke
([&
cÚÃùd©a
]ĞcÚ¡ *
Çme
, *
d©a
 ) {

212 ià(
d©a
 !ğ
NULL
) {

213 *
d©a
 = 
	`©oi
(
cÚÃùd©a
);

215 *
d©a
 = 0;

219 
	`EXPECT_EQ
(
	`š™_ev’t_hªdËr
(), 0);

220 
	}
}

221 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_‹rm_ev’t_hªdËrSucûss
)

223 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`IARM_Bus_T”m
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

224 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`IARM_Bus_DiscÚÃù
()).
	`WlOnû
(
	`R‘uº
(0));

225 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`IARM_Bus_UnRegi¡”Ev’tHªdËr
(
_
,_)).
	`WlOnû
(
	`R‘uº
(0));

226 
	`EXPECT_EQ
(
	`‹rm_ev’t_hªdËr
(), 0);

227 
	}
}

228 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_DwÆStİEv’tHªdËrSucûss
)

230 
d©a
 = 1;

231 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`g‘AµMode
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(0));

232 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`š‹ru±DwÆ
(
_
)).
	`WlOnû
(
	`R‘uº
(0));

233 
	`DwÆStİEv’tHªdËr
("‹¡", 
IARM_BUS_RDKVFWUPGRADER_MODECHANGED
, &
d©a
, 0);

234 
	`EXPECT_EQ
(0, 0);

235 
	}
}

236 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_DwÆStİEv’tHªdËrSucûss1
)

238 
d©a
 = 1;

239 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`g‘AµMode
()).
	`Times
(1).
	`WlOnû
(
	`R‘uº
(1));

240 
	`DwÆStİEv’tHªdËr
("‹¡", 
IARM_BUS_RDKVFWUPGRADER_MODECHANGED
, &
d©a
, 0);

241 
	`EXPECT_EQ
(0, 0);

242 
	}
}

243 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_DwÆStİEv’tHªdËrNuÎ
)

245 
	`DwÆStİEv’tHªdËr
(
NULL
, 
IARM_BUS_RDKVFWUPGRADER_MODECHANGED
, NULL, 0);

246 
	`EXPECT_EQ
(0, 0);

247 
	}
}

248 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_ev’tMªag”NuÎ
)

250 
	`ev’tMªag”
(
NULL
, NULL);

251 
	`EXPECT_EQ
(0, 0);

252 
	}
}

253 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_ev’tMªag”Sucûss
)

255 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`IARM_Bus_Brßdÿ¡Ev’t
(
_
,_,_,_)).
	`WlOnû
(
	`R‘uº
(0));

256 
	`ev’tMªag”
(
IMG_DWL_EVENT
, "2");

257 
	`EXPECT_EQ
(0, 0);

258 
	}
}

259 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_ev’tMªag”Fa
)

261 
	`EXPECT_CALL
(*
g_IÁ”çûMock
, 
	`IARM_Bus_Brßdÿ¡Ev’t
(
_
,_,_,_)).
	`WlOnû
(
	`R‘uº
(1));

262 
	`ev’tMªag”
(
IMG_DWL_EVENT
, "2");

263 
	`EXPECT_EQ
(0, 0);

264 
	}
}

265 
	$TEST_F
(
IÁ”çûTe¡Fixtu»
, 
Te¡Name_švokeRbusDCMR•Üt
)

267 
rbusE¼Ü_t
 
¡©us
 = 
	`švokeRbusDCMR•Üt
();

268 
	`EXPECT_EQ
(
¡©us
, 
RBUS_ERROR_SUCCESS
);

269 
	}
}

271 
GTEST_API_
 
	$maš
(
¬gc
, *
¬gv
[]){

272 
‹¡»suÉs_fuÎf•©h
[
GTEST_REPORT_FILEPATH_SIZE
];

273 
bufãr
[
GTEST_REPORT_FILEPATH_SIZE
];

275 
	`mem£t
Ğ
‹¡»suÉs_fuÎf•©h
, 0, 
GTEST_REPORT_FILEPATH_SIZE
 );

276 
	`mem£t
Ğ
bufãr
, 0, 
GTEST_REPORT_FILEPATH_SIZE
 );

278 
	`¢´štf
Ğ
‹¡»suÉs_fuÎf•©h
, 
GTEST_REPORT_FILEPATH_SIZE
, "jsÚ:%s%s" , 
GTEST_DEFAULT_RESULT_FILEPATH
 , 
GTEST_DEFAULT_RESULT_FILENAME
);

279 ::
‹¡šg
::
	`GTEST_FLAG
(
ouut
èğ
‹¡»suÉs_fuÎf•©h
;

280 ::
‹¡šg
::
	`In™GoogËTe¡
(&
¬gc
, 
¬gv
);

282 
cout
 << "S¹šg„dkfw_š‹rçû_g‹¡ MAIN ===========================>" << 
’dl
;

283  
	`RUN_ALL_TESTS
();

284 
	}
}

	@unittest/miscellaneous.h

19 #iâdeà
_MISCELLANEOUS_H_


20 
	#_MISCELLANEOUS_H_


	)

25 
	#TLS_LOG_FILE
 "/İt/logs/sE¼Ü.log"

	)

26 
	#DEBUG_INI_NAME
 "/‘c/debug.ši"

	)

28 
	#TLS_LOG_ERR
 (1)

	)

29 
	#TLS_LOG_WARN
 (2)

	)

30 
	#TLS_LOG_INFO
 (3)

	)

31 
	#s_debug_Ëv–
 (3)

	)

34 
	#TLSLOG
(
Ëv–
, ...) do { \

35 ià(
Ëv–
 =ğ
TLS_LOG_ERR
) { \

36 
	`´štf
("ERROR: %s:%d:", 
__FILE__
, 
__LINE__
); \

37 } ià(
Ëv–
 =ğ
TLS_LOG_INFO
) { \

38 
	`´štf
("INFO: %s:%d:", 
__FILE__
, 
__LINE__
); \

40 
	`´štf
("DBG: %s:%d:", 
__FILE__
, 
__LINE__
); \

42 
	`´štf
(
__VA_ARGS__
); \

43 
	`´štf
( "\n"); \

44 } 0)

	)

46 
	#DWNL_FAIL
 -1

	)

47 
	#DWNL_SUCCESS
 1

	)

48 
	#DWNL_UNPAUSE_FAIL
 -2

	)

52 
	sdeviû´İ”ty
 {

53 
BUILDTYPE
 
	meBudTy³
;

54 
	mdev_Çme
[
MIN_BUFF_SIZE1
];

55 
	mdev_ty³
[
MIN_BUFF_SIZE1
];

56 
	mdifw_·th
[
MIN_BUFF_SIZE1
];

57 
	mlog_·th
[
MIN_BUFF_SIZE1
];

58 
	m³rsi¡’t_·th
[
MIN_BUFF_SIZE1
];

59 
	mmašt_¡©us
[
MIN_BUFF_SIZE1
];

60 
	mms
[
MIN_BUFF_SIZE1
];

61 
	mmod–
[
MIN_BUFF_SIZE1
];

62 
	msw_İtout
[
MIN_BUFF_SIZE1
];

63 }
	tDeviûPrİ”ty_t
;

68 
	mT2ERROR_SUCCESS
,

69 
	mT2ERROR_FAILURE


70 } 
	tT2ERROR
;

75 
	simaged‘as
 {

76 
	mcur_img_Çme
[
MIN_BUFF_SIZE
];

77 }
	tImageD‘as_t
;

	@unittest/miscellaneous_mock.cpp

19 
	~<gmock/gmock.h
>

20 
	~"misûÎªeous.h
"

21 
	~"rdkv_upg¿de.h
"

24 şas 
	cMockDowÆßdFe
 {

25 
	mpublic
:

26 
vœtu®
 ~
	$MockDowÆßdFe
() {}

27 
vœtu®
 
	`dowÆßdFe
Ğ
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, * 
pPo¡F›lds
, *
h‰pCode
 ) =0;

28 
vœtu®
 
	`codebigdowÆßdFe
Ğ
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, * 
pPo¡F›lds
, *
h‰pCode
 )=0;

29 
	}
};

32 şas 
	cMockDowÆßdFeOps
 {

33 
	mpublic
:

34 
MOCK_METHOD
(, 
dowÆßdFe
, (
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, * 
pPo¡F›lds
, *
h‰pCode
), ());

35 
MOCK_METHOD
(, 
codebigdowÆßdFe
, (
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, * 
pPo¡F›lds
, *
h‰pCode
), ());

38 
MockDowÆßdFeOps
* 
	gglob®_mockdowÆßdfeİs_±r
;

41 
dowÆßdFe
(
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, * 
pPo¡F›lds
, *
h‰pCode
, **
cu¾
, *
fÜû_ex™
, cÚ¡ *
immed_»boÙ_æag
, cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
, cÚ¡ *
Ï¡run
, cÚ¡ 
Rfc_t
 *
rfc_li¡
, *
di§bËStsUpd©e
) {

42  
glob®_mockdowÆßdfeİs_±r
->
dowÆßdFe
(
£rv”_ty³
, 
¬tiçùLoÿtiÚU¾
, 
loÿlDowÆßdLoÿtiÚ
, 
pPo¡F›lds
, 
h‰pCode
);

45 
codebigdowÆßdFe
(
£rv”_ty³
, cÚ¡ * 
¬tiçùLoÿtiÚU¾
, cÚ¡ * 
loÿlDowÆßdLoÿtiÚ
, * 
pPo¡F›lds
, *
h‰pCode
, **
cu¾
, *
fÜû_ex™
, cÚ¡ *
immed_»boÙ_æag
, cÚ¡ 
DeviûPrİ”ty_t
 *
deviû_šfo
, cÚ¡ *
Ï¡run
, cÚ¡ 
Rfc_t
 *
rfc_li¡
, *
di§bËStsUpd©e
) {

46  
glob®_mockdowÆßdfeİs_±r
->
codebigdowÆßdFe
(
£rv”_ty³
, 
¬tiçùLoÿtiÚU¾
, 
loÿlDowÆßdLoÿtiÚ
, 
pPo¡F›lds
, 
h‰pCode
);

50 şas 
	cMockEx‹º®
 {

51 
public
:

52 
MOCK_METHOD
(, 
doG‘DwÆBy‹s
, (*), ());

53 
MOCK_METHOD
(, 
doIÁ”u±DwÆ
, (*, ), ());

54 
MOCK_METHOD
(, 
£tFÜûStİ
, (), ());

55 
MOCK_METHOD
(
T2ERROR
, 
t2_ev’t_s
, (*, *), ());

56 
MOCK_METHOD
(
T2ERROR
, 
t2_ev’t_d
, (*, ), ());

57 
MOCK_METHOD
(, 
t2_š™
, (*), ());

58 
MOCK_METHOD
(, 
g‘DeviûPrİ”t›s
, (
DeviûPrİ”ty_t
*), ());

59 
MOCK_METHOD
(, 
g‘ImageD‘as
, (
ImageD‘as_t
*), ());

60 
MOCK_METHOD
(, 
ü—‹Dœ
, (const *), ());

61 
MOCK_METHOD
(, 
ü—‹Fe
, (const *), ());

62 
MOCK_METHOD
(, 
t2_unš™
, (), ());

63 
MOCK_METHOD
(, 
log_ex™
, (), ());

64 
MOCK_METHOD
(, 
doH‰pFeDowÆßd
, (*, 
FeDwÆ_t
*, 
MsAuth_t
*, , *, *), ());

65 
MOCK_METHOD
(, 
logFeD©a
, (const *), ());

66 
MOCK_METHOD
(
boŞ
, 
isMedŸCl›ÁDeviû
, (), ());

67 
MOCK_METHOD
(, 
doAuthH‰pFeDowÆßd
, (*, 
FeDwÆ_t
*, *), ());

68 
MOCK_METHOD
(, 
logMe¡Úe
, (const *), ());

69 
MOCK_METHOD
(, 
”a£FŞd”ExûP¿maFe
, (const *, const *, const *), ());

70 
MOCK_METHOD
(, 
doCu¾PutReque¡
, (*, 
FeDwÆ_t
*, *, *), ());

71 
MOCK_METHOD
(, 
checkAndEÁ”S‹Red
, (, const *), ());

72 
MOCK_METHOD
(, 
g‘RFCS‘tšgs
, (
Rfc_t
*), ());

73 
MOCK_METHOD
(, 
ev’tMªag”
, (const *, const *), ());

74 
MOCK_METHOD
(, 
upd©eFWDowÆßdStus
, (
FWDowÆßdStus
*, const *), ());

75 
MOCK_METHOD
(, 
š™_ev’t_hªdËr
, (), ());

76 
MOCK_METHOD
(, 
isDwÆBlock
, (), ());

77 
MOCK_METHOD
(
boŞ
, 
checkCodebigAcûss
, (), ());

78 
MOCK_METHOD
(, 
‹rm_ev’t_hªdËr
, (), ());

79 
MOCK_METHOD
(, 
isThrÙeEÇbËd
, (const *, const *, ), ());

80 
MOCK_METHOD
(, 
isOCSPEÇbË
, (), ());

81 
MOCK_METHOD
(, 
g‘Msû¹
, (
MsAuth_t
*), ());

82 
MOCK_METHOD
(, 
isInüem‘®CDLEÇbË
, (const *), ());

83 
MOCK_METHOD
(
boŞ
, 
isD–ayFWDowÆßdAùive
, (, const *, ), ());

84 
MOCK_METHOD
(
boŞ
, 
checkPDRIUpg¿de
, (const *), ());

85 
MOCK_METHOD
(
boŞ
, 
isUpg¿deInProg»ss
, (), ());

86 
MOCK_METHOD
(
boŞ
, 
isMmgbËNÙifyEÇbËd
, (), ());

87 
MOCK_METHOD
(
time_t
, 
g‘Cu¼’tSysTimeSec
, (), ());

88 
MOCK_METHOD
(, 
nÙifyDwÆStus
, (cÚ¡ *, cÚ¡ *, 
RFCVALDATATYPE
), ());

89 
MOCK_METHOD
(
boŞ
, 
upd©eOPTOUTFe
, (const *), ());

90 
MOCK_METHOD
(
boŞ
, 
CheckIProu‹CÚÃùiv™y
, (const *), ());

91 
MOCK_METHOD
(
boŞ
, 
isDnsResŞve
, (const *), ());

92 
MOCK_METHOD
(, 
un£tS‹Red
, (), ());

93 
MOCK_METHOD
(
boŞ
, 
checkFÜV®idPCIUpg¿de
, (, const *, const *, const *), ());

94 
MOCK_METHOD
(
boŞ
, 
isPDRIEÇbË
, (), ());

95 
MOCK_METHOD
(
boŞ
, 
Ï¡DwÆImg
, (*, 
size_t
), ());

96 
MOCK_METHOD
(
boŞ
, 
cu¼’tImg
, (*, 
size_t
), ());

97 
MOCK_METHOD
(
boŞ
, 
Cu¼’tRuÂšgIn¡
, (const *), ());

98 
MOCK_METHOD
(, 
”a£TGZI‹msM©chšg
, (const *, const *), ());

99 
MOCK_METHOD
(
boŞ
, 
´evFÏshedFe
, (*, 
size_t
), ());

100 
MOCK_METHOD
(, 
doCodeBigSignšg
, (, cÚ¡ *, *, 
size_t
, *, size_t), ());

103 
MOCK_METHOD
(*, 
®locDowndLßdD©aMem
, (
size_t
), ());

104 
MOCK_METHOD
(, 
G‘FeCÚ‹Ás
, (cÚ¡ *, **, 
size_t
*), ());

105 
MOCK_METHOD
(, 
G‘Fœmw¬eV”siÚ
, (*, 
size_t
), ());

106 
MOCK_METHOD
(, 
G‘BudTy³
, (*, 
size_t
), ());

107 
MOCK_METHOD
(, 
G‘MFRName
, (*, 
size_t
), ());

108 
MOCK_METHOD
(, 
G‘UTCTime
, (*, 
size_t
), ());

109 
MOCK_METHOD
(, 
G‘TimezÚe
, (*, 
size_t
), ());

110 
MOCK_METHOD
(, 
wa™FÜN
, (), ());

111 
MOCK_METHOD
(, 
G‘C­ab™›s
, (*, 
size_t
), ());

112 
MOCK_METHOD
(, 
¡ršv®idch¬
, (*), ());

113 
MOCK_METHOD
(, 
makeH‰pH‰ps
, (*), ());

116 
MockEx‹º®
* 
	gglob®_mockex‹º®_±r
;

119 
doG‘DwÆBy‹s
(*
š_cu¾
) {

120 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

123  
glob®_mockex‹º®_±r
->
doG‘DwÆBy‹s
(
š_cu¾
);

126 
doIÁ”u±DwÆ
(*
š_cu¾
, 
max_dwÆ_¥“d
) {

127 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

130  
glob®_mockex‹º®_±r
->
doIÁ”u±DwÆ
(
š_cu¾
, 
max_dwÆ_¥“d
);

133 
£tFÜûStİ
(
v®ue
) {

134 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

137 
glob®_mockex‹º®_±r
->
£tFÜûStİ
(
v®ue
);

140 
T2ERROR
 
t2_ev’t_s
(* 
m¬k”
, * 
v®ue
) {

141 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

142  
T2ERROR_SUCCESS
;

144  
glob®_mockex‹º®_±r
->
t2_ev’t_s
(
m¬k”
, 
v®ue
);

147 
T2ERROR
 
t2_ev’t_d
(* 
m¬k”
, 
v®ue
) {

148 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

149  
T2ERROR_SUCCESS
;

151  
glob®_mockex‹º®_±r
->
t2_ev’t_d
(
m¬k”
, 
v®ue
);

154 
t2_š™
(*
compÚ’t
) {

155 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

158 
glob®_mockex‹º®_±r
->
t2_š™
(
compÚ’t
);

161 
g‘ImageD‘as
(
ImageD‘as_t
 *
pImage_d‘as
) {

162 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

165  
glob®_mockex‹º®_±r
->
g‘ImageD‘as
(
pImage_d‘as
);

168 
ü—‹Dœ
(cÚ¡ *
dœÇme
) {

169 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

172  
glob®_mockex‹º®_±r
->
ü—‹Dœ
(
dœÇme
);

175 
ü—‹Fe
(cÚ¡ *
fe_Çme
) {

176 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

177 
FILE
 *
fe
 = 
fİ’
(
fe_Çme
, "w");

178 ià(
fe
 =ğ
NULL
) {

179 
´štf
("Failedo create file\n");

182 
fşo£
(
fe
);

185 
glob®_mockex‹º®_±r
->
ü—‹Fe
(
fe_Çme
);

188 
t2_unš™
() {

189 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

192 
glob®_mockex‹º®_±r
->
t2_unš™
();

195 
log_ex™
() {

196 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

199 
glob®_mockex‹º®_±r
->
log_ex™
();

202 
doH‰pFeDowÆßd
(*
š_cu¾
, 
FeDwÆ_t
 *
pfe_dwÆ
, 
MsAuth_t
 *
auth
, 
max_dwÆ_¥“d
, *
dÆ_¡¬t_pos
, *
out_h‰pCode
) {

203 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

206  
glob®_mockex‹º®_±r
->
doH‰pFeDowÆßd
(
š_cu¾
, 
pfe_dwÆ
, 
auth
, 
max_dwÆ_¥“d
, 
dÆ_¡¬t_pos
, 
out_h‰pCode
);

209 
logFeD©a
(cÚ¡ *
fe_·th
) {

210 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

213  
glob®_mockex‹º®_±r
->
logFeD©a
(
fe_·th
);

216 
boŞ
 
isMedŸCl›ÁDeviû
() {

217 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

218  
çl£
;

220  
glob®_mockex‹º®_±r
->
isMedŸCl›ÁDeviû
();

223 
doAuthH‰pFeDowÆßd
(*
š_cu¾
, 
FeDwÆ_t
 *
pfe_dwÆ
, *
out_h‰pCode
) {

224 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

227  
glob®_mockex‹º®_±r
->
doAuthH‰pFeDowÆßd
(
š_cu¾
, 
pfe_dwÆ
, 
out_h‰pCode
);

230 
logMe¡Úe
(cÚ¡ *
msg_code
) {

231 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

234 
glob®_mockex‹º®_±r
->
logMe¡Úe
(
msg_code
);

237 
”a£FŞd”ExûP¿maFe
(cÚ¡ *
fŞd”
, cÚ¡ * 
fe_Çme
, cÚ¡ *
mod–_num
) {

238 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

241  
glob®_mockex‹º®_±r
->
”a£FŞd”ExûP¿maFe
(
fŞd”
, 
fe_Çme
, 
mod–_num
);

244 
doCu¾PutReque¡
(*
š_cu¾
, 
FeDwÆ_t
 *
pfe_dwÆ
, *
jsÚ½c_auth_tok’
, *
out_h‰pCode
) {

245 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

248  
glob®_mockex‹º®_±r
->
doCu¾PutReque¡
(
š_cu¾
, 
pfe_dwÆ
, 
jsÚ½c_auth_tok’
, 
out_h‰pCode
);

251 
checkAndEÁ”S‹Red
(
cu¾»t
, const *) {

252 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

255 
glob®_mockex‹º®_±r
->
checkAndEÁ”S‹Red
(
cu¾»t
, "");

258 
g‘RFCS‘tšgs
(
Rfc_t
 *
rfc_li¡
) {

259 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

262  
glob®_mockex‹º®_±r
->
g‘RFCS‘tšgs
(
rfc_li¡
);

265 
g‘DeviûPrİ”t›s
(
DeviûPrİ”ty_t
 *
pDeviû_šfo
) {

266 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

269  
glob®_mockex‹º®_±r
->
g‘DeviûPrİ”t›s
(
pDeviû_šfo
);

273 
ev’tMªag”
(cÚ¡ *
cur_ev’t_Çme
, cÚ¡ *
ev’t_¡©us
) {

274 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

277 
glob®_mockex‹º®_±r
->
ev’tMªag”
(
cur_ev’t_Çme
, 
ev’t_¡©us
);

280 
upd©eFWDowÆßdStus
(
FWDowÆßdStus
 *
fwdls
, cÚ¡ *
di§bËStsUpd©e
) {

281 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

284  
glob®_mockex‹º®_±r
->
upd©eFWDowÆßdStus
(
fwdls
, 
di§bËStsUpd©e
);

287 
š™_ev’t_hªdËr
() {

288 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

291  
glob®_mockex‹º®_±r
->
š™_ev’t_hªdËr
();

294 
isDwÆBlock
(
ty³
) {

295 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

298  
glob®_mockex‹º®_±r
->
isDwÆBlock
(
ty³
);

301 
boŞ
 
checkCodebigAcûss
() {

302 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

303  
çl£
;

305  
glob®_mockex‹º®_±r
->
checkCodebigAcûss
();

308 
‹rm_ev’t_hªdËr
() {

309 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

312  
glob®_mockex‹º®_±r
->
‹rm_ev’t_hªdËr
();

315 
isThrÙeEÇbËd
(cÚ¡ *
deviû_Çme
, cÚ¡ *
»boÙ_immedŸ‹_æag
, 
­p_mode
) {

316 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

319  
glob®_mockex‹º®_±r
->
isThrÙeEÇbËd
(
deviû_Çme
, 
»boÙ_immedŸ‹_æag
, 
­p_mode
);

322 
isOCSPEÇbË
() {

323 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

326  
glob®_mockex‹º®_±r
->
isOCSPEÇbË
();

329 
g‘Msû¹
(
MsAuth_t
 *
£c
) {

330 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

333  
glob®_mockex‹º®_±r
->
g‘Msû¹
(
£c
);

336 
isInüem‘®CDLEÇbË
(cÚ¡ *
fe_Çme
) {

337 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

340  
glob®_mockex‹º®_±r
->
isInüem‘®CDLEÇbË
(
fe_Çme
);

343 
boŞ
 
isD–ayFWDowÆßdAùive
(
D–ayDowÆßdXcÚf
, cÚ¡ *
mašt
, 
Œigg”_ty³
) {

344 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

345  
çl£
;

347  
glob®_mockex‹º®_±r
->
isD–ayFWDowÆßdAùive
(
D–ayDowÆßdXcÚf
, 
mašt
, 
Œigg”_ty³
);

350 
boŞ
 
checkPDRIUpg¿de
(cÚ¡ *
dwÆ_pdri_img
) {

351 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

352  
çl£
;

354  
glob®_mockex‹º®_±r
->
checkPDRIUpg¿de
(
dwÆ_pdri_img
);

357 
boŞ
 
isUpg¿deInProg»ss
() {

358 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

359  
çl£
;

361  
glob®_mockex‹º®_±r
->
isUpg¿deInProg»ss
();

364 
boŞ
 
isMmgbËNÙifyEÇbËd
() {

365 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

366  
çl£
;

368  
glob®_mockex‹º®_±r
->
isMmgbËNÙifyEÇbËd
();

371 
time_t
 
g‘Cu¼’tSysTimeSec
() {

372 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

375  
glob®_mockex‹º®_±r
->
g‘Cu¼’tSysTimeSec
();

378 
nÙifyDwÆStus
(cÚ¡ *
key
, cÚ¡ *
v®ue
, 
RFCVALDATATYPE
 
d©©y³
) {

379 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

382  
glob®_mockex‹º®_±r
->
nÙifyDwÆStus
(
key
, 
v®ue
, 
d©©y³
);

384 
boŞ
 
upd©eOPTOUTFe
(cÚ¡ *
v®ue
) {

385 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

388  
glob®_mockex‹º®_±r
->
upd©eOPTOUTFe
(
v®ue
);

392 
boŞ
 
CheckIProu‹CÚÃùiv™y
(cÚ¡ *
fe_Çme
) {

393 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

394  
çl£
;

396  
glob®_mockex‹º®_±r
->
CheckIProu‹CÚÃùiv™y
(
fe_Çme
);

399 
boŞ
 
isDnsResŞve
(cÚ¡ *
dns_fe_Çme
) {

400 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

401  
çl£
;

403  
glob®_mockex‹º®_±r
->
isDnsResŞve
(
dns_fe_Çme
);

406 
un£tS‹Red
() {

407 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

410 
glob®_mockex‹º®_±r
->
un£tS‹Red
();

413 
boŞ
 
checkFÜV®idPCIUpg¿de
(
Œigg”_ty³
, cÚ¡ *
myfwv”siÚ
, cÚ¡ *
şoudFWV”siÚ
, cÚ¡ *
şoudFWFe
) {

414 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

415  
çl£
;

417  
glob®_mockex‹º®_±r
->
checkFÜV®idPCIUpg¿de
(
Œigg”_ty³
, 
myfwv”siÚ
, 
şoudFWV”siÚ
, 
şoudFWFe
);

420 
boŞ
 
isPDRIEÇbË
() {

421 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

422  
çl£
;

424  
glob®_mockex‹º®_±r
->
isPDRIEÇbË
();

427 
boŞ
 
Ï¡DwÆImg
(*
img_Çme
, 
size_t
 
img_Çme_size
) {

428 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

429  
çl£
;

431  
glob®_mockex‹º®_±r
->
Ï¡DwÆImg
(
img_Çme
, 
img_Çme_size
);

433 
boŞ
 
cu¼’tImg
(*
img_Çme
, 
size_t
 
img_Çme_size
) {

434 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

435  
çl£
;

437  
glob®_mockex‹º®_±r
->
cu¼’tImg
(
img_Çme
, 
img_Çme_size
);

440 
boŞ
 
Cu¼’tRuÂšgIn¡
(cÚ¡ *
fe
) {

441 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

442  
çl£
;

444  
glob®_mockex‹º®_±r
->
Cu¼’tRuÂšgIn¡
(
fe
);

447 
”a£TGZI‹msM©chšg
(cÚ¡ *
·th
, cÚ¡ *
·‰”n
) {

448 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

451 
glob®_mockex‹º®_±r
->
”a£TGZI‹msM©chšg
(
·th
, 
·‰”n
);

454 
boŞ
 
´evFÏshedFe
(*
img_Çme
, 
size_t
 
img_Çme_size
) {

455 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

456  
çl£
;

458  
glob®_mockex‹º®_±r
->
´evFÏshedFe
(
img_Çme
, 
img_Çme_size
);

461 
doCodeBigSignšg
(
£rv”_ty³
, cÚ¡ * 
SignIÅut
, *
signu¾
, 
size_t
 
signu¾size
, *
outhh—d”
, size_ˆ
outH—d”Size
) {

462 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

465  
glob®_mockex‹º®_±r
->
doCodeBigSignšg
(
£rv”_ty³
, 
SignIÅut
, 
signu¾
, 
signu¾size
, 
outhh—d”
, 
outH—d”Size
);

471 
®locDowndLßdD©aMem
(*
±r
, 
size
) {

473 
DowÆßdD©a
 *
pDwnD©a
 = (DowÆßdD©¨*)
±r
;

475 ià(
pDwnD©a
 =ğ
NULL
 || 
size
 <= 0) {

480 
pDwnD©a
->
pvOut
 = 
m®loc
(
size
);

481 ià(
pDwnD©a
->
pvOut
 =ğ
NULL
) {

485 
pDwnD©a
->
memsize
 = 
size
;

486 
pDwnD©a
->
d©asize
 = 0;

487 
mem£t
(
pDwnD©a
->
pvOut
, 0, 
size
);

492 
G‘FeCÚ‹Ás
(cÚ¡ *
f’ame
, **
bufãr
, 
size_t
 *
size
) {

493 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

496  
glob®_mockex‹º®_±r
->
G‘FeCÚ‹Ás
(
f’ame
, 
bufãr
, 
size
);

499 
G‘Fœmw¬eV”siÚ
(*
bufãr
, 
size_t
 
size
) {

500 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

501 
¢´štf
(
bufãr
, 
size
, "1.0.0.0");

504  
glob®_mockex‹º®_±r
->
G‘Fœmw¬eV”siÚ
(
bufãr
, 
size
);

507 
G‘BudTy³
(*
bufãr
, 
size_t
 
size
) {

508 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

509 
¢´štf
(
bufãr
, 
size
, "PROD");

512  
glob®_mockex‹º®_±r
->
G‘BudTy³
(
bufãr
, 
size
);

515 
G‘MFRName
(*
bufãr
, 
size_t
 
size
) {

516 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

517 
¢´štf
(
bufãr
, 
size
, "TestMFR");

520  
glob®_mockex‹º®_±r
->
G‘MFRName
(
bufãr
, 
size
);

523 
G‘UTCTime
(*
bufãr
, 
size_t
 
size
) {

524 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

525 
¢´štf
(
bufãr
, 
size
, "2025-10-31T00:00:00Z");

528  
glob®_mockex‹º®_±r
->
G‘UTCTime
(
bufãr
, 
size
);

531 
G‘TimezÚe
(*
bufãr
, 
size_t
 
size
) {

532 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

533 
¢´štf
(
bufãr
, 
size
, "UTC");

536  
glob®_mockex‹º®_±r
->
G‘TimezÚe
(
bufãr
, 
size
);

539 
wa™FÜN
() {

540 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

543 
glob®_mockex‹º®_±r
->
wa™FÜN
();

546 
G‘C­ab™›s
(*
bufãr
, 
size_t
 
size
) {

547 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

548 
¢´štf
(
bufãr
, 
size
, "capabilities");

551  
glob®_mockex‹º®_±r
->
G‘C­ab™›s
(
bufãr
, 
size
);

554 
¡ršv®idch¬
(*
¡r
) {

555 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

558  
glob®_mockex‹º®_±r
->
¡ršv®idch¬
(
¡r
);

561 
makeH‰pH‰ps
(*
u¾
) {

562 ià(
glob®_mockex‹º®_±r
 =ğ
nuÎ±r
) {

565  
glob®_mockex‹º®_±r
->
makeH‰pH‰ps
(
u¾
);

569 şas 
	cMockFunùiÚsIÁ”Çl
 {

570 
public
:

571 
MOCK_METHOD
(, 
RunCommªd
, (
commªd
, * 
¬g1
, * 
jsÚd©a
, 
size
));

572 
MOCK_METHOD
(, 
g‘JRPCTok’D©a
, (* 
tok’
, * 
jsÚd©a
, 
size
));

573 
MOCK_METHOD
(*, 
doCu¾In™
, ());

574 
MOCK_METHOD
(, 
doCu¾PutReque¡
, (* 
Cu¾_»q
, 
FeDwÆ_t
* 
»q_d©a
, * 
tok’_h—d”
, * 
h‰pCode
));

575 
MOCK_METHOD
(, 
doStİDowÆßd
, (* 
Cu¾_»q
));

576 
MOCK_METHOD
(
boŞ
, 
checkFÜV®idPCIUpg¿de
, (
Œigg”_ty³
, cÚ¡ * 
cur_img_Çme
, cÚ¡ * 
şoudFWV”siÚ
, cÚ¡ * 
şoudFWFe
));

577 
MOCK_METHOD
(, 
g‘OPTOUTV®ue
, (cÚ¡ * 
·th
));

578 
MOCK_METHOD
(, 
unš™Ÿlize
, (
¡©us
));

579 
MOCK_METHOD
(, 
rdkv_upg¿de_»que¡
, (cÚ¡ 
RdkUpg¿deCÚ‹xt_t
* 
cÚ‹xt
, ** 
cu¾
, * 
pH‰p_code
));

580 
MOCK_METHOD
(
boŞ
, 
isPDRIEÇbË
, ());

581 
MOCK_METHOD
(, 
feP»£ÁCheck
, (cÚ¡ * 
·th
));

582 
MOCK_METHOD
(, 
³rh”®_fœmw¬e_dndl
, (cÚ¡ * 
şoudFWLoÿtiÚ
, cÚ¡ * 
³rh”®Fœmw¬es
));

	@unittest/mocks/device_status_helper_mock.cpp

19 
	~"deviû_¡©us_h–³r_mock.h
"

20 
	~<io¡»am
>

22 
usšg
 
Çme¥aû
 
	g¡d
;

24 
DeviûStusMock
 *
g_DeviûStusMock
;

26 "C" 
	$g‘DeviûPrİ”tyD©a
(cÚ¡ *
mod–
, *
d©a
, 
size
)

28 ià(!
g_DeviûStusMock
)

30 
cout
 << "g_DeviûStusMock objeù i NULL" << 
’dl
;

33 
	`´štf
("Inside Mock Function getDevicePropertyData\n");

34 ià(0 =ğ(
	`¡ºcmp
(
mod–
, "CPU_ARCH", 8))) {

35 
	`¢´štf
(
d©a
, 
size
, "%s", "X86");

36 } ià(0 =ğ(
	`¡ºcmp
(
mod–
, "DEVICE_NAME", 11))) {

37 
	`¢´štf
(
d©a
, 
size
, "%s", "PLATCO");

38 } ià(0 =ğ(
	`¡ºcmp
(
mod–
, "PDRI_ENABLED", 12))){

39 
	`¢´štf
(
d©a
, 
size
, "%s", "true");

41  
g_DeviûStusMock
->
	`g‘DeviûPrİ”tyD©a
(
mod–
, 
d©a
, 
size
);

42 
	}
}

44 "C" 
size_t
 
	$G‘E¡bMac
(*
pE¡bMac
, 
size_t
 
szBufSize
)

46 ià(!
g_DeviûStusMock
)

48 
cout
 << "G‘E¡bMaøg_DeviûStusMock objeù i NULL" << 
’dl
;

51 
	`´štf
("Inside Mock Function GetEstbMac\n");

53  
g_DeviûStusMock
->
	`G‘E¡bMac
(
pE¡bMac
, 
szBufSize
);

54 
	}
}

55 "C" 
	$wr™e_RFCPrİ”ty
(cÚ¡ *
key
, cÚ¡ *
v®ue
, 
RFCVALDATATYPE
 
d©©y³
)

57 ià(!
g_DeviûStusMock
)

59 
cout
 << "G‘E¡bMaøg_DeviûStusMock objeù i NULL" << 
’dl
;

62 
	`´štf
("Inside Mock Function write_RFCProperty\n");

63  
g_DeviûStusMock
->
	`wr™e_RFCPrİ”ty
(
key
, 
v®ue
, 
d©©y³
);

64 
	}
}

66 "C" 
size_t
 
	$G‘Fœmw¬eV”siÚ
Ğ*
pFWV”siÚ
, 
size_t
 
szBufSize
 )

68 ià(!
g_DeviûStusMock
)

70 
cout
 << "G‘Fœmw¬eV”siÚ g_DeviûStusMock objeù i NULL" << 
’dl
;

73 
	`´štf
("Inside Mock Function GetFirmwareVersion\n");

74 
	`¢´štf
(
pFWV”siÚ
, 
szBufSize
, "%s", "123456_comcast.bin");

75  
g_DeviûStusMock
->
	`G‘Fœmw¬eV”siÚ
(
pFWV”siÚ
, 
szBufSize
);

76 
	}
}

78 "C" 
size_t
 
	$G‘Add™iÚ®FwV”Info
Ğ*
pAdd™iÚ®FwV”Info
, 
size_t
 
szBufSize
 )

80 ià(!
g_DeviûStusMock
)

82 
cout
 << "G‘Add™iÚ®FwV”InfØ g_DeviûStusMock objeù i NULL" << 
’dl
;

85  
g_DeviûStusMock
->
	`G‘Add™iÚ®FwV”Info
(
pAdd™iÚ®FwV”Info
, 
szBufSize
);

86 
	}
}

100 "C" 
size_t
 
	$G‘Mod–Num
Ğ*
pMod–Num
, 
size_t
 
szBufSize
 )

102 ià(!
g_DeviûStusMock
)

104 
cout
 << "G‘Mod–Num g_DeviûStusMock objeù i NULL" << 
’dl
;

107 
	`´štf
("Inside Mock Function GetModelNum\n");

108 
	`¢´štf
(
pMod–Num
, 
szBufSize
, "%s", "12345");

109  
g_DeviûStusMock
->
	`G‘Mod–Num
(
pMod–Num
, 
szBufSize
);

110 
	}
}

112 "C" 
size_t
 
	$G‘MFRName
Ğ*
pMFRName
, 
size_t
 
szBufSize
 )

114 ià(!
g_DeviûStusMock
)

116 
cout
 << "G‘MFRNam g_DeviûStusMock objeù i NULL" << 
’dl
;

119 
	`´štf
("Inside Mock Function GetMFRName\n");

120 
	`¢´štf
(
pMFRName
, 
szBufSize
, "%s", "unknown");

121  
g_DeviûStusMock
->
	`G‘MFRName
(
pMFRName
, 
szBufSize
);

122 
	}
}

124 "C" 
size_t
 
	$G‘P¬Š”Id
Ğ*
pP¬Š”Id
, 
size_t
 
szBufSize
 )

126 ià(!
g_DeviûStusMock
)

128 
cout
 << "G‘P¬Š”Id g_DeviûStusMock objeù i NULL" << 
’dl
;

131 
	`´štf
("Inside Mock Function GetPartnerId\n");

132 
	`¢´štf
(
pP¬Š”Id
, 
szBufSize
, "%s", "global");

133  
g_DeviûStusMock
->
	`G‘P¬Š”Id
(
pP¬Š”Id
, 
szBufSize
);

134 
	}
}

136 "C" 
size_t
 
	$G‘OsCÏss
Ğ*
pOsCÏss
, 
size_t
 
szBufSize
 )

138 ià(!
g_DeviûStusMock
)

140 
cout
 << "G‘OsCÏs  g_DeviûStusMock objeù i NULL" << 
’dl
;

143 
	`´štf
("Inside Mock Function GetOsClass\n");

144 
	`¢´štf
(
pOsCÏss
, 
szBufSize
, "%s", "NO");

145  
g_DeviûStusMock
->
	`G‘OsCÏss
(
pOsCÏss
, 
szBufSize
);

146 
	}
}

148 "C" 
size_t
 
	$G‘Ex³r›nû
Ğ*
pEx³r›nû
, 
size_t
 
szBufSize
 )

150 ià(!
g_DeviûStusMock
)

152 
cout
 << "G‘Ex³r›nû g_DeviûStusMock objeù i NULL" << 
’dl
;

155 
	`´štf
("Inside Mock Function GetExperience\n");

156 
	`¢´štf
(
pEx³r›nû
, 
szBufSize
, "%s", "NO");

157  
g_DeviûStusMock
->
	`G‘Ex³r›nû
(
pEx³r›nû
, 
szBufSize
);

158 
	}
}

160 "C" 
size_t
 
	$G‘Mig¿tiÚR—dy
Ğ*
pMig¿tiÚR—dy
, 
size_t
 
szBufSize
 )

162 ià(!
g_DeviûStusMock
)

164 
cout
 << "G‘Mig¿tiÚR—dy g_DeviûStusMock objeù i NULL" << 
’dl
;

167 
	`´štf
("Inside Mock Function GetMigrationReady\n");

168 
	`¢´štf
(
pMig¿tiÚR—dy
, 
szBufSize
, "%s", "NO");

169  
g_DeviûStusMock
->
	`G‘Mig¿tiÚR—dy
(
pMig¿tiÚR—dy
, 
szBufSize
);

170 
	}
}

172 "C" 
size_t
 
	$G‘AccouÁID
Ğ*
pAccouÁID
, 
size_t
 
szBufSize
 )

174 ià(!
g_DeviûStusMock
)

176 
cout
 << "G‘AccouÁID g_DeviûStusMock objeù i NULL" << 
’dl
;

179 
	`´štf
("Inside Mock Function GetAccountID\n");

180 
	`¢´štf
(
pAccouÁID
, 
szBufSize
, "%s", "123456789123456789");

181  
g_DeviûStusMock
->
	`G‘AccouÁID
(
pAccouÁID
, 
szBufSize
);

182 
	}
}

184 "C" 
size_t
 
	$G‘S”ŸlNum
Ğ*
pS”ŸlNum
, 
size_t
 
szBufSize
 )

186 ià(!
g_DeviûStusMock
)

188 
cout
 << "G‘S”ŸlNum g_DeviûStusMock objeù i NULL" << 
’dl
;

191 
	`´štf
("Inside Mock Function GetSerialNum\n");

192 
	`¢´štf
(
pS”ŸlNum
, 
szBufSize
, "%s", "123456789123456789");

193  
g_DeviûStusMock
->
	`G‘S”ŸlNum
(
pS”ŸlNum
, 
szBufSize
);

194 
	}
}

196 "C" 
size_t
 
	$G‘UTCTime
Ğ*
pUTCTime
, 
size_t
 
szBufSize
 )

198 ià(!
g_DeviûStusMock
)

200 
cout
 << "G‘UTCTim g_DeviûStusMock objeù i NULL" << 
’dl
;

203 
	`´štf
("Inside Mock Function GetUTCTime\n");

204 
	`¢´štf
(
pUTCTime
, 
szBufSize
, "%s", "GLOBAL");

205  
g_DeviûStusMock
->
	`G‘UTCTime
(
pUTCTime
, 
szBufSize
);

206 
	}
}

208 "C" 
size_t
 
	$G‘In¡®ËdBundËs
(*
pBundËs
, 
size_t
 
szBufSize
)

210 ià(!
g_DeviûStusMock
)

212 
cout
 << "G‘In¡®ËdBundË  g_DeviûStusMock objeù i NULL" << 
’dl
;

215 
	`´štf
("Inside Mock Function GetInstalledBundles\n");

216 
	`¢´štf
(
pBundËs
, 
szBufSize
, "%s", "castore");

217  
g_DeviûStusMock
->
	`G‘In¡®ËdBundËs
(
pBundËs
, 
szBufSize
);

218 
	}
}

219 "C" 
size_t
 
	$G‘RdmMªiã¡V”siÚ
Ğ*
pRdmMªiã¡V”siÚ
, 
size_t
 
szBufSize
 )

221 ià(!
g_DeviûStusMock
)

223 
cout
 << "G‘RdmMªiã¡V”siÚ g_DeviûStusMock objeù i NULL" << 
’dl
;

226 
	`´štf
("Inside Mock Function GetRdmManifestVersion\n");

227 
	`¢´štf
(
pRdmMªiã¡V”siÚ
, 
szBufSize
, "%s", "rdm_1.2.3.4.5.6.7.8");

228  
g_DeviûStusMock
->
	`G‘RdmMªiã¡V”siÚ
(
pRdmMªiã¡V”siÚ
, 
szBufSize
);

229 
	}
}

230 "C" 
size_t
 
	$G‘TimezÚe
Ğ*
pTimezÚe
, cÚ¡ *
ıuArch
, 
size_t
 
szBufSize
 )

232 ià(!
g_DeviûStusMock
)

234 
cout
 << "G‘TimezÚ g_DeviûStusMock objeù i NULL" << 
’dl
;

237 
	`´štf
("Inside Mock Function GetTimezone\n");

238 
	`¢´štf
(
pTimezÚe
, 
szBufSize
, "%s", "xglobal");

239  
g_DeviûStusMock
->
	`G‘TimezÚe
(
pTimezÚe
, "ARM", 
szBufSize
);

240 
	}
}

241 "C" 
size_t
 
	$G‘C­ab™›s
Ğ*
pC­ab™›s
, 
size_t
 
szBufSize
 )

243 ià(!
g_DeviûStusMock
)

245 
cout
 << "G‘C­ab™›  g_DeviûStusMock objeù i NULL" << 
’dl
;

248 
	`´štf
("Inside Mock Function GetCapabilities\n");

249 
	`¢´štf
(
pC­ab™›s
, 
szBufSize
, "%s", "NA");

250  
g_DeviûStusMock
->
	`G‘C­ab™›s
(
pC­ab™›s
, 
szBufSize
);

251 
	}
}

253 "C" 
	$feP»£ÁCheck
(cÚ¡ *
f’ame
)

255 ià(!
g_DeviûStusMock
)

257 
cout
 << "feP»£ÁCheck g_DeviûStusMock objeù i NULL" << 
’dl
;

260 
	`´štf
("Inside Mock Function filePresentCheck\n");

261  
g_DeviûStusMock
->
	`feP»£ÁCheck
(
f’ame
);

262 
	}
}

264 "C" 
boŞ
 
	$isCÚÃùedToIÁ”Ãt
 ()

266 ià(!
g_DeviûStusMock
)

268 
cout
 << "isCÚÃùedToIÁ”Ãˆ g_DeviûStusMock objeù i NULL" << 
’dl
;

271 
	`´štf
("Inside Mock Function isConnectedToInternet\n");

272  
g_DeviûStusMock
->
	`isCÚÃùedToIÁ”Ãt
();

273 
	}
}

275 "C" 
	$v_£cu»_sy¡em
(cÚ¡ *
¡r
)

277 ià(!
g_DeviûStusMock
)

279 
cout
 << "v_£cu»_sy¡em g_DeviûStusMock objeù i NULL" << 
’dl
;

282 
	`´štf
("Inside Mock Function v_secure_system\n");

283  
g_DeviûStusMock
->
	`v_£cu»_sy¡em
(
¡r
);

284 
	}
}

297 "C" 
	$unš™Ÿlize
(
v®ue
)

299 ià(!
g_DeviûStusMock
)

301 
cout
 << "unš™Ÿliz g_DeviûStusMock objeù i NULL" << 
’dl
;

304 
	`´štf
("Inside Mock Function uninitialize\n");

305  
g_DeviûStusMock
->
	`unš™Ÿlize
(
v®ue
);

306 
	}
}

308 "C" 
	$ev’tMªag”
(cÚ¡ *
cur_ev’t_Çme
, cÚ¡ *
ev’t_¡©us
)

310 ià(!
g_DeviûStusMock
)

312 
cout
 << "ev’tMªag” g_DeviûStusMock objeù i NULL" << 
’dl
;

315 
	`´štf
("Inside Mock FunctionƒventManager\n");

316  
g_DeviûStusMock
->
	`ev’tMªag”
(
cur_ev’t_Çme
, 
ev’t_¡©us
);

317 
	}
}

319 "C" 
size_t
 
	$G‘PDRIFeName
Ğ*
pPDRIF’ame
, 
size_t
 
szBufSize
 )

321 ià(!
g_DeviûStusMock
)

323 
cout
 << "G‘PDRIFeNam g_DeviûStusMock objeù i NULL" << 
’dl
;

326 
	`´štf
("Inside Mock Function GetPDRIFileName\n");

327  
g_DeviûStusMock
->
	`G‘PDRIFeName
(
pPDRIF’ame
, 
szBufSize
);

328 
	}
}

330 "C" 
	$upd©eUpg¿deFÏg
(
aùiÚ
)

332 ià(!
g_DeviûStusMock
)

334 
cout
 << "upd©eUpg¿deFÏg g_DeviûStusMock objeù i NULL" << 
’dl
;

337 
	`´štf
("Inside Mock Function updateUpgradeFlag\n");

338  
g_DeviûStusMock
->
	`upd©eUpg¿deFÏg
(
aùiÚ
);

339 
	}
}

341 "C" 
	$t2CouÁNÙify
(*
m¬k”
)

343 ià(!
g_DeviûStusMock
)

345 
cout
 << "t2CouÁNÙify g_DeviûStusMock objeù i NULL" << 
’dl
;

348 
	`´štf
("Inside Mock Function2CountNotify\n");

349  
g_DeviûStusMock
->
	`t2CouÁNÙify
(
m¬k”
);

350 
	}
}

352 "C" 
	$t2V®NÙify
(*
m¬k”
, *
v®
)

354 ià(!
g_DeviûStusMock
)

356 
cout
 << "t2V®NÙify g_DeviûStusMock objeù i NULL" << 
’dl
;

359 
	`´štf
("Inside Mock Function2ValNotify\n");

360  
g_DeviûStusMock
->
	`t2V®NÙify
(
m¬k”
, 
v®
);

361 
	}
}

364 "C" 
	$swLog
(
Ëv–
, cÚ¡ * 
fÜm©
, ...)

369 
	}
}

	@unittest/mocks/device_status_helper_mock.h

19 #iâdeà
DEVICE_STATUS_MOCK


20 
	#DEVICE_STATUS_MOCK


	)

21 
	~<g‹¡/g‹¡.h
>

22 
	~<gmock/gmock.h
>

24 
	~"rdkv_cdl_log_w¿µ”.h
"

25 
	~"rfcš‹rçû.h
"

27 
	#RDK_API_SUCCESS
 0

	)

29 şas 
	cDeviûStusIÁ”çû


31 
	mpublic
:

32 
vœtu®
 ~
	$DeviûStusIÁ”çû
() {}

34 
vœtu®
 
	`g‘DeviûPrİ”tyD©a
(cÚ¡ *
mod–
, *
d©a
, 
size
) = 0;

35 
vœtu®
 
size_t
 
	`G‘E¡bMac
(*
pE¡bMac
, size_ˆ
szBufSize
) = 0;

36 
vœtu®
 
size_t
 
	`G‘Fœmw¬eV”siÚ
Ğ*
pFWV”siÚ
, size_ˆ
szBufSize
 ) = 0;

37 
vœtu®
 
size_t
 
	`G‘Add™iÚ®FwV”Info
Ğ*
pAdd™iÚ®FwV”Info
, size_ˆ
szBufSize
 ) = 0;

38 
vœtu®
 
size_t
 
	`G‘BudTy³
Ğ*
pBudTy³
, size_ˆ
szBufSize
, 
BUILDTYPE
 *
³BudTy³Out
 ) = 0;

39 
vœtu®
 
size_t
 
	`G‘Mod–Num
Ğ*
pMod–Num
, size_ˆ
szBufSize
 ) = 0;

40 
vœtu®
 
size_t
 
	`G‘MFRName
Ğ*
pMFRName
, size_ˆ
szBufSize
 ) = 0;

41 
vœtu®
 
size_t
 
	`G‘P¬Š”Id
Ğ*
pP¬Š”Id
, size_ˆ
szBufSize
 ) = 0;

42 
vœtu®
 
size_t
 
	`G‘OsCÏss
Ğ*
pOsCÏss
, size_ˆ
szBufSize
 ) = 0;

43 
vœtu®
 
size_t
 
	`G‘Ex³r›nû
Ğ*
pEx³r›nû
, size_ˆ
szBufSize
 ) = 0;

44 
vœtu®
 
size_t
 
	`G‘Mig¿tiÚR—dy
Ğ*
pMig¿tiÚR—dy
, size_ˆ
szBufSize
 ) = 0;

45 
vœtu®
 
size_t
 
	`G‘AccouÁID
Ğ*
pAccouÁID
, size_ˆ
szBufSize
 ) = 0;

46 
vœtu®
 
size_t
 
	`G‘S”ŸlNum
Ğ*
pS”ŸlNum
, size_ˆ
szBufSize
 ) = 0;

47 
vœtu®
 
size_t
 
	`G‘UTCTime
Ğ*
pUTCTime
, size_ˆ
szBufSize
 ) = 0;

48 
vœtu®
 
size_t
 
	`G‘In¡®ËdBundËs
(*
pBundËs
, size_ˆ
szBufSize
) = 0;

49 
vœtu®
 
size_t
 
	`G‘RdmMªiã¡V”siÚ
Ğ*
pRdmMªiã¡V”siÚ
, size_ˆ
szBufSize
 ) = 0;

50 
vœtu®
 
size_t
 
	`G‘TimezÚe
Ğ*
pTimezÚe
, cÚ¡ *
ıuArch
, size_ˆ
szBufSize
 ) = 0;

51 
vœtu®
 
size_t
 
	`G‘C­ab™›s
Ğ*
pC­ab™›s
, size_ˆ
szBufSize
 ) = 0;

52 
vœtu®
 
	`feP»£ÁCheck
(cÚ¡ *
f’ame
) = 0;

53 
vœtu®
 
boŞ
 
	`isCÚÃùedToIÁ”Ãt
 () = 0;

55 
vœtu®
 
	`wr™e_RFCPrİ”ty
(cÚ¡ *
key
, cÚ¡ *
v®ue
, 
RFCVALDATATYPE
 
d©©y³
) = 0;

56 
vœtu®
 
	`unš™Ÿlize
(
d©a
) = 0;

57 
vœtu®
 
	`ev’tMªag”
(cÚ¡ *
cur_ev’t_Çme
, cÚ¡ *
ev’t_¡©us
) = 0;

58 
vœtu®
 
size_t
 
	`G‘PDRIFeName
Ğ*
pPDRIF’ame
, size_ˆ
szBufSize
 ) = 0;

59 
vœtu®
 
	`upd©eUpg¿deFÏg
(
aùiÚ
) = 0;

60 
vœtu®
 
	`t2CouÁNÙify
(*
m¬k”
) = 0;

61 
vœtu®
 
	`t2V®NÙify
(*
m¬k”
, *
v®
) = 0;

62 
vœtu®
 
	`v_£cu»_sy¡em
(cÚ¡ *
¡r
 ) = 0;

63 
	}
};

65 şas 
	cDeviûStusMock
: 
public
 
DeviûStusIÁ”çû


67 
public
:

68 
vœtu®
 ~
	$DeviûStusMock
() {}

70 
	`MOCK_METHOD
(, 
g‘DeviûPrİ”tyD©a
, (cÚ¡ *
mod–
, *
d©a
, 
size
), ());

71 
	`MOCK_METHOD
(
size_t
, 
G‘E¡bMac
, (*
pE¡bMac
, size_ˆ
szBufSize
), ());

72 
	`MOCK_METHOD
(
size_t
, 
G‘Fœmw¬eV”siÚ
, ( *
pFWV”siÚ
, size_ˆ
szBufSize
 ), ());

73 
	`MOCK_METHOD
(
size_t
, 
G‘Add™iÚ®FwV”Info
, ( *
pAdd™iÚ®FwV”Info
, size_ˆ
szBufSize
 ), ());

74 
	`MOCK_METHOD
(
size_t
, 
G‘BudTy³
, ( *
pBudTy³
, size_ˆ
szBufSize
, 
BUILDTYPE
 *
³BudTy³Out
 ), ());

75 
	`MOCK_METHOD
(
size_t
, 
G‘Mod–Num
, ( *
pMod–Num
, size_ˆ
szBufSize
 ), ());

76 
	`MOCK_METHOD
(
size_t
, 
G‘MFRName
, ( *
pMFRName
, size_ˆ
szBufSize
 ), ());

77 
	`MOCK_METHOD
(
size_t
, 
G‘P¬Š”Id
, ( *
pP¬Š”Id
, size_ˆ
szBufSize
 ), ());

78 
	`MOCK_METHOD
(
size_t
, 
G‘OsCÏss
, ( *
pOsCÏss
, size_ˆ
szBufSize
 ), ());

79 
	`MOCK_METHOD
(
size_t
, 
G‘Ex³r›nû
, ( *
pEx³r›nû
, size_ˆ
szBufSize
 ), ());

80 
	`MOCK_METHOD
(
size_t
, 
G‘Mig¿tiÚR—dy
, ( *
pMig¿tiÚR—dy
, size_ˆ
szBufSize
 ), ());

81 
	`MOCK_METHOD
(
size_t
, 
G‘AccouÁID
, ( *
pAccouÁID
, size_ˆ
szBufSize
 ), ());

82 
	`MOCK_METHOD
(
size_t
, 
G‘S”ŸlNum
, ( *
pS”ŸlNum
, size_ˆ
szBufSize
 ), ());

83 
	`MOCK_METHOD
(
size_t
, 
G‘UTCTime
, ( *
pUTCTime
, size_ˆ
szBufSize
 ), ());

84 
	`MOCK_METHOD
(
size_t
, 
G‘In¡®ËdBundËs
, (*
pBundËs
, size_ˆ
szBufSize
), ());

85 
	`MOCK_METHOD
(
size_t
, 
G‘RdmMªiã¡V”siÚ
, ( *
pRdmMªiã¡V”siÚ
, size_ˆ
szBufSize
 ), ());

86 
	`MOCK_METHOD
(
size_t
, 
G‘TimezÚe
, ( *
pTimezÚe
, cÚ¡ *
ıuArch
, size_ˆ
szBufSize
 ), ());

87 
	`MOCK_METHOD
(
size_t
, 
G‘C­ab™›s
, ( *
pC­ab™›s
, size_ˆ
szBufSize
 ), ());

88 
	`MOCK_METHOD
(, 
feP»£ÁCheck
, (cÚ¡ *
f’ame
 ), ());

89 
	`MOCK_METHOD
(
boŞ
, 
isCÚÃùedToIÁ”Ãt
, (), ());

90 
	`MOCK_METHOD
(, 
v_£cu»_sy¡em
, (cÚ¡ *
¡r
 ), ());

92 
	`MOCK_METHOD
(, 
wr™e_RFCPrİ”ty
, (cÚ¡ *
key
, cÚ¡ *
v®ue
, 
RFCVALDATATYPE
 
d©©y³
), ());

93 
	`MOCK_METHOD
(, 
unš™Ÿlize
, (
d©a
), ());

94 
	`MOCK_METHOD
(, 
ev’tMªag”
, (cÚ¡ *
cur_ev’t_Çme
, cÚ¡ *
ev’t_¡©us
), ());

95 
	`MOCK_METHOD
(
size_t
, 
G‘PDRIFeName
, ( *
pPDRIF’ame
, size_ˆ
szBufSize
 ), ());

96 
	`MOCK_METHOD
(, 
upd©eUpg¿deFÏg
, (
aùiÚ
), ());

97 
	`MOCK_METHOD
(, 
t2CouÁNÙify
, (*
m¬k”
), ());

98 
	`MOCK_METHOD
(, 
t2V®NÙify
, (*
m¬k”
, *
v®
), ());

99 
	}
};

	@unittest/mocks/deviceutils_mock.cpp

19 
	~"deviûuts_mock.h
"

20 
	~<io¡»am
>

22 
usšg
 
Çme¥aû
 
	g¡d
;

24 
DeviûUtsMock
 *
g_DeviûUtsMock
;

26 "C" 
	$v_£cu»_sy¡em
(cÚ¡ *
mode
, ...)

28 ià(!
g_DeviûUtsMock
)

30 
cout
 << "v_£cu»_sy¡em g_DeviûUtsMock objeù i NULL" << 
’dl
;

31  
NULL
;

33 
	`´štf
("Inside Mock Function v_secure_system\n");

34  
g_DeviûUtsMock
->
	`v_£cu»_sy¡em
(
mode
, 
NULL
, NULL);

35 
	}
}

37 "C" 
FILE
* 
	$v_£cu»_pİ’
(cÚ¡ *
mode
, ...)

39 ià(!
g_DeviûUtsMock
)

41 
cout
 << "v_£cu»_pİ’ g_DeviûUtsMock objeù i NULL" << 
’dl
;

42  
NULL
;

44 
	`´štf
("Inside Mock Function v_secure_popen\n");

45  
g_DeviûUtsMock
->
	`v_£cu»_pİ’
(
mode
, 
NULL
, NULL);

46 
	}
}

58 "C" 
	$v_£cu»_pşo£
(
FILE
 *
å
)

60 ià(!
g_DeviûUtsMock
)

62 
cout
 << "v_£cu»_pşo£ g_DeviûUtsMock objeù i NULL" << 
’dl
;

65 
	`´štf
("Inside Mock Function v_secure_pclose\n");

66  
g_DeviûUtsMock
->
	`v_£cu»_pşo£
(
å
);

67 
	}
}

69 "C" * 
	$doCu¾In™
()

71 ià(!
g_DeviûUtsMock
)

73 
cout
 << "doCu¾In™ g_DeviûUtsMock objeù i NULL" << 
’dl
;

76 
	`´štf
("Inside Mock Function doCurlInit\n");

77  
g_DeviûUtsMock
->
	`doCu¾In™
();

78 
	}
}

80 "C" 
	$g‘JsÚRpcD©a
(*
Cu¾_»q
, 
FeDwÆ_t
 *
»q_d©a
, 
tok’_h—d”
, 
h‰pCode
 )

82 ià(!
g_DeviûUtsMock
)

84 
cout
 << "g‘JsÚRpcD©¨g_DeviûUtsMock objeù i NULL" << 
’dl
;

87 
	`´štf
("Inside Mock Function getJsonRpcData\n");

88  
g_DeviûUtsMock
->
	`g‘JsÚRpcD©a
(
Cu¾_»q
, 
»q_d©a
,
tok’_h—d”
, 
h‰pCode
 );

89 
	}
}

91 "C" 
	$doStİDowÆßd
(*
cu¾
)

93 ià(!
g_DeviûUtsMock
)

95 
cout
 << "doStİDowÆßd g_DeviûUtsMock objeù i NULL" << 
’dl
;

98 
	`´štf
("Inside Mock Function doStopDownload\n");

99  
g_DeviûUtsMock
->
	`doStİDowÆßd
(
cu¾
);

100 
	}
}

102 "C" 
	$g‘DeviûPrİ”tyD©a
(cÚ¡ *
mod–
, *
d©a
, 
size
)

104 ià(!
g_DeviûUtsMock
)

106 
cout
 << "g_DeviûUtsMock objeù i NULL" << 
’dl
;

109 
	`´štf
("Inside Mock Function getDevicePropertyData\n");

110 ià(0 =ğ(
	`¡ºcmp
(
mod–
, "CPU_ARCH", 8))) {

111 
	`¢´štf
(
d©a
, 
size
, "%s", "X86");

112 } ià(0 =ğ(
	`¡ºcmp
(
mod–
, "DEVICE_NAME", 11))) {

113 
	`¢´štf
(
d©a
, 
size
, "%s", "PLATCO");

114 } ià(0 =ğ(
	`¡ºcmp
(
mod–
, "PDRI_ENABLED", 12))){

115 
	`¢´štf
(
d©a
, 
size
, "%s", "true");

116 } ià(0 =ğ(
	`¡ºcmp
(
mod–
, "STAGE2LOCKFILE", 13))) {

117 
	`¢´štf
(
d©a
, 
size
, "%s", "/tmp/stage2");

118 } ià(0 =ğ(
	`¡ºcmp
(
mod–
, "ESTB_INTERFACE", 14))) {

119 
	`¢´štf
(
d©a
, 
size
, "%s", "eth1");

121  
g_DeviûUtsMock
->
	`g‘DeviûPrİ”tyD©a
(
mod–
, 
d©a
, 
size
);

122 
	}
}

124 "C" 
	$»ad_RFCPrİ”ty
(* 
ty³
, cÚ¡ * 
key
, *
out_v®ue
, 
size_t
 
d©asize
)

126 ià(!
g_DeviûUtsMock
)

128 
cout
 << "g_DeviûUtsMock objeù i NULL" << 
’dl
;

131 
	`´štf
("Inside Mock Function„ead_RFCProperty\n");

132 ià(0 =ğ(
	`¡ºcmp
(
ty³
, "OsClass", 7))) {

133 
	`¢´štf
(
out_v®ue
, 
d©asize
, "%s", "true");

134 } ià(0 =ğ(
	`¡ºcmp
(
ty³
, "SerialNumber", 12))) {

135 
	`¢´štf
(
out_v®ue
, 
d©asize
, "%s", "123456789012345");

136 } ià(0 =ğ(
	`¡ºcmp
(
ty³
, "PDRI_ENABLED", 12))){

137 
	`¢´štf
(
out_v®ue
, 
d©asize
, "%s", "true");

138 } ià(0 =ğ(
	`¡ºcmp
(
ty³
, "AccountID", 9))) {

139 
	`¢´štf
(
out_v®ue
, 
d©asize
, "%s", "123456789");

141 
	`¢´štf
(
out_v®ue
, 
d©asize
, "%s", "default.com");

143  
g_DeviûUtsMock
->
	`»ad_RFCPrİ”ty
(
ty³
, 
key
, 
out_v®ue
, 
d©asize
);

144 
	}
}

146 "C" 
	$feP»£ÁCheck
(cÚ¡ *
f’ame
)

148 ià(!
g_DeviûUtsMock
)

150 
cout
 << "feP»£ÁCheck g_DeviûUtsMock objeù i NULL" << 
’dl
;

153 
	`´štf
("Inside Mock Function filePresentCheck\n");

154  
g_DeviûUtsMock
->
	`feP»£ÁCheck
(
f’ame
);

155 
	}
}

157 "C" 
	$g‘FeSize
(cÚ¡ *
fe
)

159 ià(!
g_DeviûUtsMock
)

161 
cout
 << "g‘FeSizg_DeviûUtsMock objeù i NULL" << 
’dl
;

164 
	`´štf
("Inside Mock Function getFileSize\n");

165  
g_DeviûUtsMock
->
	`g‘FeSize
(
fe
);

166 
	}
}

168 "C" 
boŞ
 
	$isInS‹Red
()

170 ià(!
g_DeviûUtsMock
)

172 
cout
 << "isInS‹Red g_DeviûUtsMock objeù i NULL" << 
’dl
;

173  
çl£
;

175 
	`´štf
("Inside Mock Function isInStateRed\n");

176  
g_DeviûUtsMock
->
	`isInS‹Red
();

177 
	}
}

179 "C" 
boŞ
 
	$isDebugS”viûsEÇbËd
() {

180 ià(!
g_DeviûUtsMock
) {

181 
cout
 << "isDebugS”viûsEÇbËd g_DeviûUtsMock objeù i NULL" << 
’dl
;

182  
çl£
;

184  
g_DeviûUtsMock
->
	`isDebugS”viûsEÇbËd
();

185 
	}
}

187 "C" 
size_t
 
	$G‘HwMacAdd»ss
Ğ*
içû
, *
pMac
, 
size_t
 
szBufSize
 )

189 ià(!
g_DeviûUtsMock
)

191 
cout
 << "G‘HwMacAdd»s g_DeviûUtsMock objeù i NULL" << 
’dl
;

194 
	`´štf
("Inside Mock Function GetHwMacAddress\n");

195  
g_DeviûUtsMock
->
	`G‘HwMacAdd»ss
(
içû
, 
pMac
, 
szBufSize
);

196 
	}
}

198 "C" 
size_t
 
	$G‘Mod–Num
Ğ*
pMod–Num
, 
size_t
 
szBufSize
 )

200 ià(!
g_DeviûUtsMock
)

202 
cout
 << "G‘BudTy³ g_DeviûStusMock objeù i NULL" << 
’dl
;

205 
	`´štf
("Inside Mock Function GetModelNum\n");

206 
	`¢´štf
(
pMod–Num
, 
szBufSize
, "%s", "12345");

207  
g_DeviûUtsMock
->
	`G‘Mod–Num
(
pMod–Num
, 
szBufSize
);

208 
	}
}

210 #ifdeà
DEVICE_API


211 "C" 
	$t2CouÁNÙify
(*
m¬k”
)

213 ià(!
g_DeviûUtsMock
)

215 
cout
 << "t2CouÁNÙify g_DeviûUtsMock objeù i NULL" << 
’dl
;

218 
	`´štf
("Inside Mock Function2CountNotify\n");

219  
g_DeviûUtsMock
->
	`t2CouÁNÙify
(
m¬k”
);

220 
	}
}

222 "C" 
	$t2V®NÙify
(*
m¬k”
, *
v®
)

224 ià(!
g_DeviûUtsMock
)

226 
cout
 << "t2V®NÙify g_DeviûUtsMock objeù i NULL" << 
’dl
;

229 
	`´štf
("Inside Mock Function2ValNotify\n");

230  
g_DeviûUtsMock
->
	`t2V®NÙify
(
m¬k”
, 
v®
);

231 
	}
}

300 "C" 
size_t
 
¡ršv®idch¬
(*
pIn
, size_ˆ
szIn
);

302 "C" 
size_t
 
	$G‘BudTy³
(*
pBudTy³
, 
size_t
 
szBufSize
, 
BUILDTYPE
 *
³BudTy³Out
)

307 
FILE
 *
å
;

308 *
pTmp
;

309 
size_t
 
i
 = 0;

310 
BUILDTYPE
 
eBudTy³
 = 
eUNKNOWN
;

311 
buf
[150];

313 ià(
pBudTy³
 !ğ
NULL
 && 
szBufSize
 > 0) {

314 *
pBudTy³
 = 0;

315 ià((
å
 = 
	`fİ’
("/tmp/deviû_g‹¡.´İ", "r")è!ğ
NULL
) {

316 
	`fg‘s
(
buf
, (buf), 
å
è!ğ
NULL
) {

317 
pTmp
 = 
	`¡r¡r
(
buf
, "BUILD_TYPE=");

318 ià(
pTmp
 &&…Tm°=ğ
buf
) {

319 
pTmp
 = 
	`¡rchr
(pTmp, '=');

320 ià(
pTmp
 !ğ
NULL
) {

321 ++
pTmp
;

322 
i
 = 
	`¢´štf
(
pBudTy³
, 
szBufSize
, "%s", 
pTmp
);

324 
i
 = 
	`¡ršv®idch¬
(
pBudTy³
, i);

326 *
pLow”
 = 
pBudTy³
;

327 *
pLow”
) {

328 *
pLow”
 = 
	`tŞow”
(*pLower);

329 ++
pLow”
;

334 
	`fşo£
(
å
);

338 ià(*
pBudTy³
 == 0) {

339 
i
 = 
	`¢´štf
(
pBudTy³
, 
szBufSize
, "prod");

340 
eBudTy³
 = 
ePROD
;

343 ià(
	`¡r¡r
(
pBudTy³
, "vbn"è!ğ
NULL
) {

344 
eBudTy³
 = 
eVBN
;

345 } ià(
	`¡r¡r
(
pBudTy³
, "´od"è!ğ
NULL
) {

346 
eBudTy³
 = 
ePROD
;

347 } ià(
	`¡r¡r
(
pBudTy³
, "qa"è!ğ
NULL
) {

348 
eBudTy³
 = 
eQA
;

349 } ià(
	`¡r¡r
(
pBudTy³
, "dev"è!ğ
NULL
) {

350 
eBudTy³
 = 
eDEV
;

354 ià(
³BudTy³Out
) {

355 *
³BudTy³Out
 = 
eBudTy³
;

357  
i
;

360 
	}
}

373 "C" 
	$makeH‰pH‰ps
(*
pSŒ
, 
Ën
)

378 ià(
pSŒ
 !ğ
NULL
 && 
Ën
 > 0) {

382 
	}
}

384 "C" 
	$swLog
(cÚ¡ *
fe
, cÚ¡ *
func
, 
lše
, 
Ëv–
, cÚ¡ *
fÜm©
, ...)

390 
	}
}

392 "C" 
	$®locDowndLßdD©aMem
(*
±r
, 
size
)

398 
	}
}

400 "C" 
size_t
 
	$¡ršv®idch¬
(*
pIn
, 
size_t
 
szIn
)

404 
size_t
 
i
 = 0;

406 ià(
pIn
 !ğ
NULL
)

408 *
pIn
 && 
szIn
)

410 ià(
	`is¥aû
(*
pIn
è|| 
	`isúŒl
(*pIn))

412 *
pIn
 = 0;

415 ++
pIn
;

416 --
szIn
;

417 ++
i
;

420  
i
;

421 
	}
}

	@unittest/mocks/deviceutils_mock.h

19 #iâdeà
DEVICE_UTILS_MOCK


20 
	#DEVICE_UTILS_MOCK


	)

21 
	~<g‹¡/g‹¡.h
>

22 
	~<gmock/gmock.h
>

24 
	~"rdkv_cdl_log_w¿µ”.h
"

26 
	#RDK_API_SUCCESS
 0

	)

28 şas 
	cDeviûUtsIÁ”çû


30 
	mpublic
:

31 
vœtu®
 ~
	$DeviûUtsIÁ”çû
() {}

32 
vœtu®
 
FILE
* 
	`v_£cu»_sy¡em
(cÚ¡ *
mode
,cÚ¡ *
cmd
, cÚ¡ *
İt
) = 0;

33 
vœtu®
 
FILE
* 
	`v_£cu»_pİ’
(cÚ¡ *
mode
,cÚ¡ *
cmd
, cÚ¡ *
İt
) = 0;

34 
vœtu®
 
	`v_£cu»_pşo£
(
FILE
 *
å
) = 0;

35 
vœtu®
 * 
	`doCu¾In™
() = 0;

36 
vœtu®
 
	`doStİDowÆßd
(*
cu¾
) = 0;

37 
vœtu®
 
	`g‘JsÚRpcD©a
(*
Cu¾_»q
, 
FeDwÆ_t
 *
»q_d©a
, 
tok’_h—d”
, 
h‰pCode
 ) = 0;

38 
vœtu®
 
	`g‘DeviûPrİ”tyD©a
(cÚ¡ *
mod–
, *
d©a
, 
size
) = 0;

39 
vœtu®
 
	`»ad_RFCPrİ”ty
(* 
ty³
, cÚ¡ * 
key
, *
out_v®ue
, 
size_t
 
d©asize
) = 0;

40 
vœtu®
 
	`feP»£ÁCheck
(cÚ¡ *
f’ame
) = 0;

41 
vœtu®
 
	`g‘FeSize
(cÚ¡ *
f’ame
) = 0;

42 
vœtu®
 
boŞ
 
	`isInS‹Red
() = 0;

43 
vœtu®
 
boŞ
 
	`isDebugS”viûsEÇbËd
() = 0;

44 
vœtu®
 
size_t
 
	`G‘HwMacAdd»ss
Ğ*
içû
, *
pMac
, size_ˆ
szBufSize
 ) = 0;

45 
vœtu®
 
size_t
 
	`G‘Mod–Num
Ğ*
pMod–Num
, size_ˆ
szBufSize
 ) = 0;

46 
vœtu®
 
	`t2CouÁNÙify
(*
m¬k”
) = 0;

47 
vœtu®
 
	`t2V®NÙify
(*
m¬k”
, *
v®
) = 0;

48 
	}
};

50 şas 
	cDeviûUtsMock
: 
public
 
DeviûUtsIÁ”çû


52 
public
:

53 
vœtu®
 ~
	$DeviûUtsMock
() {}

54 
	`MOCK_METHOD
(
FILE
*, 
v_£cu»_sy¡em
, (cÚ¡ *
mode
, cÚ¡ *
cmd
, cÚ¡ *
İt
 ), ());

55 
	`MOCK_METHOD
(
FILE
*, 
v_£cu»_pİ’
, (cÚ¡ *
mode
, cÚ¡ *
cmd
, cÚ¡ *
İt
 ), ());

56 
	`MOCK_METHOD
(, 
v_£cu»_pşo£
, (
FILE
 *
å
), ());

57 
	`MOCK_METHOD
(*, 
doCu¾In™
, (), ());

58 
	`MOCK_METHOD
(, 
doStİDowÆßd
, (*
cu¾
), ());

59 
	`MOCK_METHOD
(, 
g‘JsÚRpcD©a
, (*
Cu¾_»q
, 
FeDwÆ_t
 *
»q_d©a
, 
tok’_h—d”
, 
h‰pCode
 ), ());

60 
	`MOCK_METHOD
(, 
g‘DeviûPrİ”tyD©a
, (cÚ¡ *
mod–
, *
d©a
, 
size
), ());

61 
	`MOCK_METHOD
(, 
»ad_RFCPrİ”ty
, (* 
ty³
, cÚ¡ * 
key
, *
out_v®ue
, 
size_t
 
d©asize
), ());

62 
	`MOCK_METHOD
(, 
feP»£ÁCheck
, (cÚ¡ *
f’ame
 ), ());

63 
	`MOCK_METHOD
(, 
g‘FeSize
, (cÚ¡ *
f’ame
 ), ());

64 
	`MOCK_METHOD
(
boŞ
, 
isInS‹Red
, (), ());

65 
	`MOCK_METHOD
(
boŞ
, 
isDebugS”viûsEÇbËd
, (), ());

66 
	`MOCK_METHOD
(
size_t
, 
G‘HwMacAdd»ss
, (*
içû
, *
pMac
, size_ˆ
szBufSize
), ());

67 
	`MOCK_METHOD
(
size_t
, 
G‘Mod–Num
, ( *
pMod–Num
, size_ˆ
szBufSize
 ), ());

68 
	`MOCK_METHOD
(, 
t2CouÁNÙify
, (*
m¬k”
), ());

69 
	`MOCK_METHOD
(, 
t2V®NÙify
, (*
m¬k”
, *
v®
), ());

70 
	}
};

	@unittest/mocks/interface_mock.cpp

19 
	~"š‹rçû_mock.h
"

20 
	~<io¡»am
>

22 
usšg
 
Çme¥aû
 
	g¡d
;

24 
FwDlIÁ”çûMock
 *
g_IÁ”çûMock
;

26 "C" 
	$g‘RFCP¬am‘”
(* 
ty³
, cÚ¡ * 
key
, 
RFC_P¬amD©a_t
 *
·¿m
)

28 ià(!
g_IÁ”çûMock
)

30 
cout
 << "g‘RFCP¬am‘” g_IÁ”çûMock objeù i NULL" << 
’dl
;

33 
	`´štf
("Inside Mock Function getRFCParameter\n");

34 
	`¢´štf
(
·¿m
->
v®ue
,(param->value), "%s", "true");

35 
	`¢´štf
(
·¿m
->
Çme
,(param->name), "%s", "rfc");

36 
·¿m
->
ty³
 = 1;

37 
·¿m
->
¡©us
 = 1;

38  
g_IÁ”çûMock
->
	`g‘RFCP¬am‘”
(
ty³
,
key
,
·¿m
);

39 
	}
}

41 "C" 
	$£tRFCP¬am‘”
(* 
ty³
, cÚ¡ * 
key
, cÚ¡ *
v®ue
, 
d©©y³
)

43 ià(!
g_IÁ”çûMock
)

45 
cout
 << "£tRFCP¬am‘”g_IÁ”çûMock objeù i NULL" << 
’dl
;

48 
	`´štf
("Inside Mock Function setRFCParameter\n");

49  
g_IÁ”çûMock
->
	`£tRFCP¬am‘”
(
ty³
,
key
,
v®ue
,
d©©y³
);

50 
	}
}

52 "C" 
	$feP»£ÁCheck
(cÚ¡ *
f’ame
)

54 ià(!
g_IÁ”çûMock
)

56 
cout
 << "feP»£ÁCheck g_IÁ”çûMock objeù i NULL" << 
’dl
;

59 
	`´štf
("Inside Mock Function filePresentCheck\n");

60  
g_IÁ”çûMock
->
	`feP»£ÁCheck
(
f’ame
);

61 
	}
}

62 "C" 
	$g‘DeviûPrİ”tyD©a
(cÚ¡ *
mod–
, *
d©a
, 
size
)

64 ià(!
g_IÁ”çûMock
)

66 
cout
 << "g_IÁ”çûMock objeù i NULL" << 
’dl
;

69 
	`´štf
("Inside Mock Function getDevicePropertyData\n");

70 ià(0 =ğ(
	`¡ºcmp
(
mod–
, "CPU_ARCH", 8))) {

71 
	`¢´štf
(
d©a
, 
size
, "%s", "X86");

72 } ià(0 =ğ(
	`¡ºcmp
(
mod–
, "DEVICE_NAME", 11))) {

73 
	`¢´štf
(
d©a
, 
size
, "%s", "PLATCO");

74 } ià(0 =ğ(
	`¡ºcmp
(
mod–
, "PDRI_ENABLED", 12))){

75 
	`¢´štf
(
d©a
, 
size
, "%s", "true");

77  
g_IÁ”çûMock
->
	`g‘DeviûPrİ”tyD©a
(
mod–
, 
d©a
, 
size
);

78 
	}
}

79 "C" * 
	$g‘RFCE¼ÜSŒšg
(
¡©us
)

81 ià(!
g_IÁ”çûMock
)

83 
cout
 << "g_IÁ”çûMock objeù i NULL" << 
’dl
;

86 
	`´štf
("Inside Mock Function getRFCErrorString\n");

87  
g_IÁ”çûMock
->
	`g‘RFCE¼ÜSŒšg
(
¡©us
);

88 
	}
}

89 "C" 
	$g‘AµMode
()

91 ià(!
g_IÁ”çûMock
)

93 
cout
 << "g_IÁ”çûMock objeù i NULL" << 
’dl
;

96 
	`´štf
("Inside Mock Function getAppMode\n");

97  
g_IÁ”çûMock
->
	`g‘AµMode
();

98 
	}
}

99 "C" 
	$š‹ru±DwÆ
(
v®
)

101 ià(!
g_IÁ”çûMock
)

103 
cout
 << "g_IÁ”çûMock objeù i NULL" << 
’dl
;

106 
	`´štf
("Inside Mock Function interuptDwnl\n");

107  
g_IÁ”çûMock
->
	`š‹ru±DwÆ
(
v®
);

108 
	}
}

109 "C" 
	$IARM_Bus_IsCÚÃùed
(cÚ¡ *
¡r
, *
v®
)

111 ià(!
g_IÁ”çûMock
)

113 
cout
 << "g_IÁ”çûMock objeù i NULL" << 
’dl
;

116 
	`´štf
("Inside Mock Function IARM_Bus_IsConnected\n");

117  
g_IÁ”çûMock
->
	`IARM_Bus_IsCÚÃùed
(
¡r
, 
v®
);

118 
	}
}

119 "C" 
	$IARM_Bus_Brßdÿ¡Ev’t
(cÚ¡ *
Çme
, 
v®
, *
p
, 
size
)

121 ià(!
g_IÁ”çûMock
)

123 
cout
 << "g_IÁ”çûMock objeù i NULL" << 
’dl
;

126 
	`´štf
("Inside Mock Function IARM_Bus_BroadcastEvent\n");

127  
g_IÁ”çûMock
->
	`IARM_Bus_Brßdÿ¡Ev’t
(
Çme
, 
v®
, 
p
, 
size
);

128 
	}
}

129 "C" 
	$IARM_Bus_In™
(cÚ¡ *
Çme
)

131 ià(!
g_IÁ”çûMock
)

133 
cout
 << "g_IÁ”çûMock objeù i NULL" << 
’dl
;

136 
	`´štf
("Inside Mock Function IARM_Bus_Init\n");

137  
g_IÁ”çûMock
->
	`IARM_Bus_In™
(
Çme
);

138 
	}
}

139 "C" 
	$IARM_Bus_Regi¡”Ev’tHªdËr
(cÚ¡ *
Çme
, 
mode
, *
fun
)

141 ià(!
g_IÁ”çûMock
)

143 
cout
 << "g_IÁ”çûMock objeù i NULL" << 
’dl
;

146 
	`´štf
("Inside Mock Function IARM_Bus_RegisterEventHandler\n");

147  
g_IÁ”çûMock
->
	`IARM_Bus_Regi¡”Ev’tHªdËr
(
Çme
, 
mode
, 
fun
);

148 
	}
}

149 "C" 
	$IARM_Bus_CÚÃù
()

151 ià(!
g_IÁ”çûMock
)

153 
cout
 << "g_IÁ”çûMock objeù i NULL" << 
’dl
;

156 
	`´štf
("Inside Mock Function IARM_Bus_Connect\n");

157  
g_IÁ”çûMock
->
	`IARM_Bus_CÚÃù
();

158 
	}
}

159 "C" 
	$IARM_Bus_UnRegi¡”Ev’tHªdËr
(cÚ¡ *
Çme
, 
mode
)

161 ià(!
g_IÁ”çûMock
)

163 
cout
 << "g_IÁ”çûMock objeù i NULL" << 
’dl
;

166 
	`´štf
("Inside Mock Function IARM_Bus_UnRegisterEventHandler\n");

167  
g_IÁ”çûMock
->
	`IARM_Bus_UnRegi¡”Ev’tHªdËr
(
Çme
, 
mode
);

168 
	}
}

169 "C" 
	$IARM_Bus_DiscÚÃù
()

171 ià(!
g_IÁ”çûMock
)

173 
cout
 << "g_IÁ”çûMock objeù i NULL" << 
’dl
;

176 
	`´štf
("Inside Mock Function IARM_Bus_Disconnect\n");

177  
g_IÁ”çûMock
->
	`IARM_Bus_DiscÚÃù
();

178 
	}
}

179 "C" 
	$IARM_Bus_T”m
()

181 ià(!
g_IÁ”çûMock
)

183 
cout
 << "g_IÁ”çûMock objeù i NULL" << 
’dl
;

186 
	`´štf
("Inside Mock Function IARM_Bus_Term\n");

187  
g_IÁ”çûMock
->
	`IARM_Bus_T”m
();

188 
	}
}

190 "C" 
	$®locDowndLßdD©aMem
(*
±r
, 
size
)

192 ià(!
g_IÁ”çûMock
)

194 
cout
 << "g_IÁ”çûMock objeù i NULL" << 
’dl
;

197 
	`´štf
("Inside Mock Function‡llocDowndLoadDataMem\n");

198  
g_IÁ”çûMock
->
	`®locDowndLßdD©aMem
(
±r
, 
size
);

199 
	}
}

201 "C" 
	$g‘JsÚRpc
(*
d©a
, *
±r
)

203 ià(!
g_IÁ”çûMock
)

205 
cout
 << "g_IÁ”çûMock objeù i NULL" << 
’dl
;

208 
	`´štf
("Inside Mock Function getJsonRpc\n");

209  
g_IÁ”çûMock
->
	`g‘JsÚRpc
(
d©a
, 
±r
);

210 
	}
}

	@unittest/mocks/interface_mock.h

19 #iâdeà
INTERFACE_MOCK


20 
	#INTERFACE_MOCK


	)

21 
	~<g‹¡/g‹¡.h
>

22 
	~<gmock/gmock.h
>

27 
	~"rfcš‹rçû.h
"

30 şas 
	cFwDlIÁ”çû


32 
public
:

33 
vœtu®
 ~
	$FwDlIÁ”çû
() {}

34 
vœtu®
 
	`feP»£ÁCheck
(cÚ¡ *
f’ame
) = 0;

35 
vœtu®
 
	`g‘RFCP¬am‘”
(* 
ty³
, cÚ¡ * 
key
, 
RFC_P¬amD©a_t
 *
·¿m
) = 0;

36 
vœtu®
 
	`£tRFCP¬am‘”
(* 
ty³
, cÚ¡ * 
key
, cÚ¡ *
v®ue
, 
d©©y³
) = 0;

37 
vœtu®
 
	`g‘DeviûPrİ”tyD©a
(cÚ¡ *
mod–
, *
d©a
, 
size
) = 0;

38 
vœtu®
 * 
	`g‘RFCE¼ÜSŒšg
(
¡©us
) = 0;

39 
vœtu®
 
	`g‘AµMode
() = 0;

40 
vœtu®
 
	`š‹ru±DwÆ
(
v®
) = 0;

41 
vœtu®
 
	`IARM_Bus_IsCÚÃùed
(cÚ¡ *
¡r
, *
v®
) = 0;

42 
vœtu®
 
	`IARM_Bus_Brßdÿ¡Ev’t
(cÚ¡ *
Çme
, 
v®
, *
p
, 
size
) = 0;

43 
vœtu®
 
	`IARM_Bus_In™
(cÚ¡ *
Çme
) = 0;

44 
vœtu®
 
	`IARM_Bus_Regi¡”Ev’tHªdËr
(cÚ¡ *
Çme
, 
mode
, *
fun
) = 0;

45 
vœtu®
 
	`IARM_Bus_CÚÃù
() = 0;

46 
vœtu®
 
	`IARM_Bus_UnRegi¡”Ev’tHªdËr
(cÚ¡ *
Çme
, 
mode
) = 0;

47 
vœtu®
 
	`IARM_Bus_DiscÚÃù
() = 0;

48 
vœtu®
 
	`IARM_Bus_T”m
() = 0;

49 
vœtu®
 
	`®locDowndLßdD©aMem
(*
±r
, 
size
) = 0;

50 
vœtu®
 
	`g‘JsÚRpc
(*
d©a
, *
±r
) = 0;

51 
	}
};

53 şas 
	cFwDlIÁ”çûMock
: 
public
 
FwDlIÁ”çû


55 
public
:

56 
vœtu®
 ~
	$FwDlIÁ”çûMock
() {}

57 
	`MOCK_METHOD
(, 
feP»£ÁCheck
, (cÚ¡ *
f’ame
 ), ());

58 
	`MOCK_METHOD
(, 
g‘RFCP¬am‘”
, (* 
ty³
, cÚ¡ * 
key
, 
RFC_P¬amD©a_t
 *
·¿m
), ());

59 
	`MOCK_METHOD
(, 
£tRFCP¬am‘”
, (* 
ty³
, cÚ¡ * 
key
, cÚ¡ *
v®ue
, 
d©©y³
), ());

60 
	`MOCK_METHOD
(, 
g‘DeviûPrİ”tyD©a
, (cÚ¡ *
mod–
, *
d©a
, 
size
), ());

61 
	`MOCK_METHOD
(*, 
g‘RFCE¼ÜSŒšg
, (
¡©us
), ());

62 
	`MOCK_METHOD
(, 
g‘AµMode
, (), ());

63 
	`MOCK_METHOD
(, 
š‹ru±DwÆ
, (
v®
), ());

64 
	`MOCK_METHOD
(, 
IARM_Bus_IsCÚÃùed
, (cÚ¡ *
¡r
, *
v®
), ());

65 
	`MOCK_METHOD
(, 
IARM_Bus_Brßdÿ¡Ev’t
, (cÚ¡ *
Çme
, 
v®
, *
p
, 
size
), ());

66 
	`MOCK_METHOD
(, 
IARM_Bus_In™
, (cÚ¡ *
Çme
), ());

67 
	`MOCK_METHOD
(, 
IARM_Bus_Regi¡”Ev’tHªdËr
, (cÚ¡ *
Çme
, 
mode
, *
fun
), ());

68 
	`MOCK_METHOD
(, 
IARM_Bus_CÚÃù
, (), ());

69 
	`MOCK_METHOD
(, 
IARM_Bus_UnRegi¡”Ev’tHªdËr
, (cÚ¡ *
Çme
, 
mode
), ());

70 
	`MOCK_METHOD
(, 
IARM_Bus_DiscÚÃù
, (), ());

71 
	`MOCK_METHOD
(, 
IARM_Bus_T”m
, (), ());

72 
	`MOCK_METHOD
(, 
®locDowndLßdD©aMem
, (*
±r
, 
size
), ());

73 
	`MOCK_METHOD
(, 
g‘JsÚRpc
, (*
d©a
, *
±r
), ());

74 
	}
};

	@unittest/mocks/rbus_mock.c

18 
	~"rbus_mock.h
"

19 
	~<¡dio.h
>

20 
	~<¡ršg.h
>

23 
rbusHªdË_t
 
	gdummyHªdË
 = (rbusHandle_t)0x1234;

26 
	gu¶ßdStusV®ue
 = 1;

28 
rbusE¼Ü_t
 
	$rbus_İ’
(
rbusHªdË_t
* 
hªdË
, cÚ¡ * 
compÚ’tName
) {

29 
	`´štf
("Mock„bus_İ’ c®Ëd w™h‚ame: %s\n", 
compÚ’tName
);

30 *
hªdË
 = 
dummyHªdË
;

31  
RBUS_ERROR_SUCCESS
;

32 
	}
}

34 
rbusE¼Ü_t
 
	$rbus_şo£
(
rbusHªdË_t
 
hªdË
) {

35 
	`´štf
("Mock„bus_close called\n");

36  
RBUS_ERROR_SUCCESS
;

37 
	}
}

39 
rbusE¼Ü_t
 
	$rbusM‘hod_InvokeAsync
(
rbusHªdË_t
 
hªdË
, cÚ¡ * 
m‘hod
, 
rbusObjeù_t
 
šput
, 
rbusM‘hodAsyncRe¥HªdËr_t
 
hªdËr
, 
timeout
) {

40 
	`´štf
("Mock„busM‘hod_InvokeAsynøÿÎed w™h m‘hod: %s,imeout: %d\n", 
m‘hod
, 
timeout
);

41 ià(
hªdËr
) {

42 
	`hªdËr
();

44  
RBUS_ERROR_SUCCESS
;

45 
	}
}

47 
rbusV®ue_t
 
	$rbusObjeù_G‘V®ue
(
rbusObjeù_t
 
obj
, cÚ¡ * 
Çme
) {

48 
	`´štf
("Mock„busObjeù_G‘V®uÿÎed w™h‚ame: %s\n", 
Çme
);

49 ià(
	`¡rcmp
(
Çme
, "UPLOAD_STATUS") == 0) {

50  (
rbusV®ue_t
)&
u¶ßdStusV®ue
;

52  
NULL
;

53 
	}
}

55 cÚ¡ * 
	$rbusV®ue_G‘SŒšg
(
rbusV®ue_t
 
v®ue
, * 
unu£d
)

57 ()
unu£d
;

60 
	}
}

	@unittest/mocks/rbus_mock.h

18 #iâdeà
RBUS_MOCK_H


19 
	#RBUS_MOCK_H


	)

21 
	~"../rdkv_cdl_log_w¿µ”.h
"

23 #ifdeà
__ılu¥lus


27 
	#RBUS_ERROR_SUCCESS
 0

	)

28 
	#RBUS_ERROR_BUS_ERROR
 1

	)

30 
	#RDKFWUPGRADER_RBUS_HANDLE_NAME
 "rdkfwRbus"

	)

31 
	#T2_UPLOAD
 "Deviû.X_RDKCENTRAL-COM_T2.U¶ßdDCMR•Üt"

	)

33 
	trbusE¼Ü_t
;

35 
	s_rbusHªdË


39 
_rbusHªdË
 *
	trbusHªdË_t
;

41 
	s_rbusObjeù


44 
_rbusObjeù
 *
	trbusObjeù_t
;

46 
	s_rbusV®ue


49 
_rbusV®ue
 *
	trbusV®ue_t
;

51 (*
rbusM‘hodAsyncRe¥HªdËr_t
)();

53 
rbusE¼Ü_t
 
rbus_İ’
(
rbusHªdË_t
 *
hªdË
, cÚ¡ * 
compÚ’tName
);

54 
rbusE¼Ü_t
 
rbus_şo£
(
rbusHªdË_t
 
hªdË
);

55 
rbusE¼Ü_t
 
rbusM‘hod_InvokeAsync
(
rbusHªdË_t
 
hªdË
, cÚ¡ * 
m‘hod
, 
rbusObjeù_t
 
šput
, 
rbusM‘hodAsyncRe¥HªdËr_t
 
hªdËr
, 
timeout
);

56 
rbusV®ue_t
 
rbusObjeù_G‘V®ue
(
rbusObjeù_t
 
obj
, cÚ¡ * 
Çme
);

57 cÚ¡ * 
rbusV®ue_G‘SŒšg
(
rbusV®ue_t
 
v®ue
, * 
unu£d
);

58 
rbusE¼Ü_t
 
švokeRbusDCMR•Üt
();

59 #ifdeà
__ılu¥lus


	@unittest/mocks/rdkFwupdateMgr_mock.cpp

	@unittest/mocks/rdkFwupdateMgr_mock.h

19 #iâdeà
RDKFWUPDATEMGR_MOCK_H


20 
	#RDKFWUPDATEMGR_MOCK_H


	)

22 
	~<g‹¡/g‹¡.h
>

23 
	~<gmock/gmock.h
>

26 
	~"jsÚ_´oûss.h
"

27 
	~"rdkFwupd©eMgr_hªdËrs.h
"

28 
	~"dowÆßdUt.h
"

29 
	~"rfcš‹rçû.h
"

30 
	~"rdkv_upg¿de.h
"

37 şas 
	cRdkFwupd©eMgrIÁ”çû
 {

38 
public
:

39 
vœtu®
 ~
	$RdkFwupd©eMgrIÁ”çû
() {}

42 
vœtu®
 
	`g‘XcÚfRe¥D©a
(
XCONFRES
 *
pRe¥Ú£
, cÚ¡ *
jsÚD©a
) = 0;

43 
vœtu®
 
size_t
 
	`G‘S”vURL
(*
pS”vURL
, size_ˆ
szBufSize
) = 0;

44 
vœtu®
 
size_t
 
	`ü—‹JsÚSŒšg
(*
pJSONSŒ
, size_ˆ
szBufSize
) = 0;

45 
vœtu®
 
	`®locDowndLßdD©aMem
(
DowÆßdD©a
 *
pDwnLoc
, 
size_t
 
size
) = 0;

46 
vœtu®
 
	`ä“DownLßdMem
(
DowÆßdD©a
 *
pDwnLoc
) = 0;

49 
vœtu®
 
	`g‘RFCS‘tšgs
(
Rfc_t
 *
rfc_li¡
) = 0;

52 
vœtu®
 
size_t
 
	`cu¼’tImg
(*
pCurImg
, size_ˆ
szBufSize
) = 0;

53 
vœtu®
 
size_t
 
	`G‘Fœmw¬eV”siÚ
(*
pFWV”siÚ
, size_ˆ
szBufSize
) = 0;

56 
vœtu®
 
	`feP»£ÁCheck
(cÚ¡ *
f’ame
) = 0;

57 
vœtu®
 
boŞ
 
	`isCÚÃùedToIÁ”Ãt
() = 0;

60 
vœtu®
 
	`rdkv_upg¿de_»que¡
(
RdkUpg¿deCÚ‹xt_t
 *
cÚ‹xt
, cÚ¡ *
Ï¡run
,

61 
d–ay_dwÆ
, cÚ¡ *
immed_»boÙ_æag
,

62 *
di§bËStsUpd©e
, 
Rfc_t
 *
rfc_li¡
, 
fÜû_ex™
) = 0;

63 
	}
};

68 şas 
	cRdkFwupd©eMgrMock
 : 
public
 
RdkFwupd©eMgrIÁ”çû
 {

69 
public
:

70 
vœtu®
 ~
	$RdkFwupd©eMgrMock
() {}

72 
	`MOCK_METHOD
(, 
g‘XcÚfRe¥D©a
, (
XCONFRES
 *
pRe¥Ú£
, cÚ¡ *
jsÚD©a
), ());

73 
	`MOCK_METHOD
(
size_t
, 
G‘S”vURL
, (*
pS”vURL
, size_ˆ
szBufSize
), ());

74 
	`MOCK_METHOD
(
size_t
, 
ü—‹JsÚSŒšg
, (*
pJSONSŒ
, size_ˆ
szBufSize
), ());

75 
	`MOCK_METHOD
(, 
®locDowndLßdD©aMem
, (
DowÆßdD©a
 *
pDwnLoc
, 
size_t
 
size
), ());

76 
	`MOCK_METHOD
(, 
ä“DownLßdMem
, (
DowÆßdD©a
 *
pDwnLoc
), ());

77 
	`MOCK_METHOD
(, 
g‘RFCS‘tšgs
, (
Rfc_t
 *
rfc_li¡
), ());

78 
	`MOCK_METHOD
(
size_t
, 
cu¼’tImg
, (*
pCurImg
, size_ˆ
szBufSize
), ());

79 
	`MOCK_METHOD
(
size_t
, 
G‘Fœmw¬eV”siÚ
, (*
pFWV”siÚ
, size_ˆ
szBufSize
), ());

80 
	`MOCK_METHOD
(, 
feP»£ÁCheck
, (cÚ¡ *
f’ame
), ());

81 
	`MOCK_METHOD
(
boŞ
, 
isCÚÃùedToIÁ”Ãt
, (), ());

82 
	`MOCK_METHOD
(, 
rdkv_upg¿de_»que¡
,

83 (
RdkUpg¿deCÚ‹xt_t
 *
cÚ‹xt
, cÚ¡ *
Ï¡run
, 
d–ay_dwÆ
,

84 cÚ¡ *
immed_»boÙ_æag
, *
di§bËStsUpd©e
, 
Rfc_t
 *
rfc_li¡
,

85 
fÜû_ex™
), ());

86 
	}
};

89 
RdkFwupd©eMgrMock
 *
g_RdkFwupd©eMgrMock
;

	@unittest/rdkFwupdateMgr_handlers_gtest.cpp

19 
	~<g‹¡/g‹¡.h
>

20 
	~<gmock/gmock.h
>

21 
	~<c¡dio
>

22 
	~<c¡ršg
>

23 
	~<f¡»am
>

26 
	~"rdkFwupd©eMgr_hªdËrs.h
"

27 
	~"jsÚ_´oûss.h
"

30 
	~"mocks/rdkFwupd©eMgr_mock.h
"

32 
usšg
 
Çme¥aû
 
‹¡šg
;

33 
usšg
 
Çme¥aû
 
	g¡d
;

36 
	#TEST_XCONF_CACHE_FILE
 "/tmp/‹¡_xcÚf_»¥Ú£_thund”.txt"

	)

37 
	#TEST_XCONF_HTTP_CODE_FILE
 "/tmp/‹¡_xcÚf_h‰pcode_thund”.txt"

	)

40 cÚ¡ *
	gMOCK_XCONF_RESPONSE_UPDATE_AVAILABLE
 =

48 cÚ¡ *
	gMOCK_XCONF_RESPONSE_NO_UPDATE
 =

60 şas 
	cRdkFwupd©eMgrHªdËrsTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

61 
´Ùeùed
:

62 
RdkFwupd©eMgrMock
 
mockFwupd©eMgr
;

64 
	$RdkFwupd©eMgrHªdËrsTe¡
() {

65 
g_RdkFwupd©eMgrMock
 = &
mockFwupd©eMgr
;

68 
vœtu®
 ~
	$RdkFwupd©eMgrHªdËrsTe¡
() {

69 
g_RdkFwupd©eMgrMock
 = 
nuÎ±r
;

70 
	}
}

72 
vœtu®
 
	$S‘Up
(è
ov”ride
 {

73 
	`´štf
("%s\n", 
__func__
);

75 
¡d
::
	`»move
(
TEST_XCONF_CACHE_FILE
);

76 
¡d
::
	`»move
(
TEST_XCONF_HTTP_CODE_FILE
);

77 
	}
}

79 
vœtu®
 
	$T—rDown
(è
ov”ride
 {

80 
	`´štf
("%s\n", 
__func__
);

82 
¡d
::
	`»move
(
TEST_XCONF_CACHE_FILE
);

83 
¡d
::
	`»move
(
TEST_XCONF_HTTP_CODE_FILE
);

84 
	}
}

86 
	$S‘UpTe¡Ca£
() {

87 
	`´štf
("%s\n", 
__func__
);

88 
	}
}

90 
	$T—rDownTe¡Ca£
() {

91 
	`´štf
("%s\n", 
__func__
);

92 
	}
}

95 
	$C»©eMockCacheFe
(cÚ¡ *
cÚ‹Á
, 
h‰p_code
 = 200) {

96 
¡d
::
of¡»am
 
	`ÿche_fe
(
TEST_XCONF_CACHE_FILE
);

97 
ÿche_fe
 << 
cÚ‹Á
;

98 
ÿche_fe
.
	`şo£
();

100 
¡d
::
of¡»am
 
	`h‰p_fe
(
TEST_XCONF_HTTP_CODE_FILE
);

101 
h‰p_fe
 << 
h‰p_code
;

102 
h‰p_fe
.
	`şo£
();

103 
	}
}

106 
boŞ
 
	$CacheFeExi¡s
() {

107 
¡d
::
if¡»am
 
	`fe
(
TEST_XCONF_CACHE_FILE
);

108  
fe
.
	`good
();

109 
	}
}

116 
	$TEST_F
(
RdkFwupd©eMgrHªdËrsTe¡
, 
XcÚfCacheExi¡s_R‘uºsF®£Wh’CacheMissšg
) {

118 
¡d
::
	`»move
(
TEST_XCONF_CACHE_FILE
);

121 
	`EXPECT_FALSE
(
	`xcÚf_ÿche_exi¡s
());

122 
	}
}

124 
	$TEST_F
(
RdkFwupd©eMgrHªdËrsTe¡
, 
XcÚfCacheExi¡s_R‘uºsTrueWh’CacheP»£Á
) {

126 
	`C»©eMockCacheFe
(
MOCK_XCONF_RESPONSE_UPDATE_AVAILABLE
);

129 
	`EXPECT_TRUE
(
	`xcÚf_ÿche_exi¡s
());

130 
	}
}

136 
	$TEST_F
(
RdkFwupd©eMgrHªdËrsTe¡
, 
Checkupd©eRe¥Ú£F»e_HªdËsNuÎPoš‹rs
) {

137 
CheckUpd©eRe¥Ú£
 
»¥Ú£
 = {
UPDATE_ERROR
, 
nuÎ±r
,‚ullptr,‚ullptr,‚ullptr};

140 
	`EXPECT_NO_FATAL_FAILURE
({

141 
	`checkupd©e_»¥Ú£_ä“
(&
»¥Ú£
);

143 
	}
}

145 
	$TEST_F
(
RdkFwupd©eMgrHªdËrsTe¡
, 
Checkupd©eRe¥Ú£F»e_F»esAÎMemb”s
) {

146 
CheckUpd©eRe¥Ú£
 
»¥Ú£
;

147 
»¥Ú£
.
»suÉ_code
 = 
UPDATE_AVAILABLE
;

148 
»¥Ú£
.
cu¼’t_img_v”siÚ
 = 
	`g_¡rdup
("1.0.0");

149 
»¥Ú£
.
avaabË_v”siÚ
 = 
	`g_¡rdup
("2.0.0");

150 
»¥Ú£
.
upd©e_d‘as
 = 
	`g_¡rdup
("https://example.com/fw.bin");

151 
»¥Ú£
.
¡©us_mes§ge
 = 
	`g_¡rdup
("Update‡vailable");

154 
	`checkupd©e_»¥Ú£_ä“
(&
»¥Ú£
);

157 
	`EXPECT_EQ
(
»¥Ú£
.
cu¼’t_img_v”siÚ
, 
nuÎ±r
);

158 
	`EXPECT_EQ
(
»¥Ú£
.
avaabË_v”siÚ
, 
nuÎ±r
);

159 
	`EXPECT_EQ
(
»¥Ú£
.
upd©e_d‘as
, 
nuÎ±r
);

160 
	`EXPECT_EQ
(
»¥Ú£
.
¡©us_mes§ge
, 
nuÎ±r
);

161 
	}
}

163 
	$TEST_F
(
RdkFwupd©eMgrHªdËrsTe¡
, 
Checkupd©eRe¥Ú£F»e_HªdËsP¬tŸÎyIn™ŸlizedRe¥Ú£
) {

164 
CheckUpd©eRe¥Ú£
 
»¥Ú£
;

165 
»¥Ú£
.
»suÉ_code
 = 
UPDATE_AVAILABLE
;

166 
»¥Ú£
.
cu¼’t_img_v”siÚ
 = 
	`g_¡rdup
("1.0.0");

167 
»¥Ú£
.
avaabË_v”siÚ
 = 
nuÎ±r
;

168 
»¥Ú£
.
upd©e_d‘as
 = 
	`g_¡rdup
("https://example.com/fw.bin");

169 
»¥Ú£
.
¡©us_mes§ge
 = 
nuÎ±r
;

172 
	`EXPECT_NO_FATAL_FAILURE
({

173 
	`checkupd©e_»¥Ú£_ä“
(&
»¥Ú£
);

175 
	}
}

181 
	$TEST_F
(
RdkFwupd©eMgrHªdËrsTe¡
, 
EdgeCa£_V”yLÚgHªdËrID_HªdËdG¿ûfuÎy
) {

183 
¡d
::
¡ršg
 
	`lÚg_id
(1000, 'A');

186 
	`EXPECT_CALL
(
mockFwupd©eMgr
, 
	`G‘Fœmw¬eV”siÚ
(
_
, _))

187 .
	`Times
(
	`AnyNumb”
())

188 .
	`WlR•—‹dly
(
	`Invoke
([](*
pFWV”siÚ
, 
size_t
 
szBufSize
) {

189 
	`¡ºıy
(
pFWV”siÚ
, "1.0.0", 
szBufSize
 - 1);

190 
pFWV”siÚ
[
szBufSize
 - 1] = '\0';

191  
	`¡¾’
(
pFWV”siÚ
);

195 
	`EXPECT_NO_FATAL_FAILURE
({

196 
CheckUpd©eRe¥Ú£
 
»¥Ú£
 = 
	`rdkFwupd©eMgr_checkFÜUpd©e
(
lÚg_id
.
	`c_¡r
());

197 
	`checkupd©e_»¥Ú£_ä“
(&
»¥Ú£
);

199 
	}
}

201 
	$TEST_F
(
RdkFwupd©eMgrHªdËrsTe¡
, 
EdgeCa£_S³cŸlCh¬aù”sInHªdËrID_HªdËdG¿ûfuÎy
) {

203 cÚ¡ *
¥ecŸl_id
 = "Test!@#$%^&*()_+-={}[]|:;<>?,./";

206 
	`EXPECT_CALL
(
mockFwupd©eMgr
, 
	`G‘Fœmw¬eV”siÚ
(
_
, _))

207 .
	`Times
(
	`AnyNumb”
())

208 .
	`WlR•—‹dly
(
	`Invoke
([](*
pFWV”siÚ
, 
size_t
 
szBufSize
) {

209 
	`¡ºıy
(
pFWV”siÚ
, "1.0.0", 
szBufSize
 - 1);

210 
pFWV”siÚ
[
szBufSize
 - 1] = '\0';

211  
	`¡¾’
(
pFWV”siÚ
);

215 
	`EXPECT_NO_FATAL_FAILURE
({

216 
CheckUpd©eRe¥Ú£
 
»¥Ú£
 = 
	`rdkFwupd©eMgr_checkFÜUpd©e
(
¥ecŸl_id
);

217 
	`checkupd©e_»¥Ú£_ä“
(&
»¥Ú£
);

219 
	}
}

225 
	$maš
(
¬gc
, **
¬gv
) {

226 ::
‹¡šg
::
	`In™GoogËTe¡
(&
¬gc
, 
¬gv
);

227  
	`RUN_ALL_TESTS
();

228 
	}
}

	@unittest/rdkfwupdatemgr_gtest.cpp

1 
	~<g‹¡/g‹¡.h
>

2 
	~<c¡dio
>

3 
	~<c¡ršg
>

6 
	~"../¤c/dbus/rdkFwupd©eMgr_hªdËrs.h
"

12 şas 
	cRdkFwupd©eMgrTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

13 
´Ùeùed
:

14 
	$S‘Up
(è
ov”ride
 {

17 
	$T—rDown
(è
ov”ride
 {

19 
	}
}

23 
	$TEST_F
(
RdkFwupd©eMgrTe¡
, 
XcÚfCacheExi¡sCªBeC®Ëd
) {

25 
gboŞ—n
 
»suÉ
 = 
	`xcÚf_ÿche_exi¡s
();

27 
	`EXPECT_TRUE
(
»suÉ
 =ğ
TRUE
 ||„esuÉ =ğ
FALSE
);

28 
	}
}

31 
	$TEST_F
(
RdkFwupd©eMgrTe¡
, 
CheckFÜUpd©eCªBeC®Ëd
) {

32 cÚ¡ 
gch¬
 *
‹¡_hªdËr_id
 = "test_handler";

33 
CheckUpd©eRe¥Ú£
 
»¥Ú£
 = 
	`rdkFwupd©eMgr_checkFÜUpd©e
(
‹¡_hªdËr_id
);

37 
	`EXPECT_TRUE
(
»¥Ú£
.
»suÉ_code
 >= 0 &&„esponse.result_code <= 4);

40 
	`checkupd©e_»¥Ú£_ä“
(&
»¥Ú£
);

41 
	}
}

44 
	$TEST_F
(
RdkFwupd©eMgrTe¡
, 
Re¥Ú£F»eHªdËsNuÎ
) {

46 
	`checkupd©e_»¥Ú£_ä“
(
NULL
);

47 
	`SUCCEED
();

48 
	}
}

	@unittest/rdkv_cdl_log_wrapper.h

19 #iâdeà 
_RDKV_CDL_LOG_WRPPER_H_


20 
	#_RDKV_CDL_LOG_WRPPER_H_


	)

22 
	~<¡dboŞ.h
>

23 
	~<¡dlib.h
>

24 
	~<¡ršg.h
>

26 
	#SWLOG_INFO
(
fÜm©
, ...è
	`´štf
(fÜm©, ##
__VA_ARGS__
)

	)

27 
	#SWLOG_ERROR
(
fÜm©
, ...è
	`´štf
(fÜm©, ##
__VA_ARGS__
)

	)

29 
	#CURL_TLS_TIMEOUT
 7200L

	)

30 
	#CURL_PROGRESS_FILE
 "/İt/cu¾_´og»ss"

	)

32 
	#MAX_BUFF_SIZE
 512

	)

33 
	#MAX_BUFF_SIZE1
 256

	)

34 
	#MIN_BUFF_SIZE
 64

	)

35 
	#MIN_BUFF_SIZE1
 32

	)

36 
	#SMALL_SIZE_BUFF
 8

	)

37 
	#URL_MAX_LEN
 512

	)

38 
	#DWNL_PATH_FILE_LEN
 128

	)

39 
	#BIG_BUF_LEN
 1024

	)

40 
	#MAX_DEVICE_PROP_BUFF_SIZE
 32

	)

42 
	#DEVICE_PROPERTIES_FILE
 "/tmp/deviû_g‹¡.´İ"

	)

43 
	#UTILS_SUCCESS
 0

	)

44 
	#UTILS_FAIL
 -1

	)

46 
	süed’tŸl
 {

47 
	mû¹_Çme
[64];

48 
	mû¹_ty³
[16];

49 
	mkey_·s
[32];

50 }
	tMsAuth_t
;

54 
	sCommÚDowÆßdD©a
 {

55 * 
	mpvOut
;

56 
size_t
 
	md©asize
;

57 
size_t
 
	mmemsize
;

58 } 
	tDowÆßdD©a
;

62 
	shashP¬am
 {

63 *
	mhashv®ue
;

64 *
	mhashtime
;

65 }
	thashP¬am_t
;

67 
	sfedwÆ
 {

68 *
	mpPo¡F›lds
;

69 *
	mpH—d”D©a
;

70 
DowÆßdD©a
 *
	mpDlD©a
;

71 
DowÆßdD©a
 *
	mpDlH—d”D©a
;

72 
	mchunk_dwÆ_»Œy_time
;

73 
	mu¾
[
BIG_BUF_LEN
];

74 
	m·thÇme
[
DWNL_PATH_FILE_LEN
];

75 
boŞ
 
	ms¦v”ify
;

76 
hashP¬am_t
 *
	mhashD©a
;

77 }
	tFeDwÆ_t
;

81 
	meUNKNOWN
,

82 
	meDEV
,

83 
	meVBN
,

84 
	mePROD
,

85 
	meQA


86 } 
	tBUILDTYPE
;

	@/usr/include/cjson/cJSON.h

23 #iâdeà
cJSON__h


24 
	#cJSON__h


	)

26 #ifdeà
__ılu¥lus


31 #ià!
defšed
(
__WINDOWS__
è&& (defšed(
WIN32
è|| defšed(
WIN64
è|| defšed(
_MSC_VER
è|| defšed(
_WIN32
))

32 
	#__WINDOWS__


	)

35 #ifdeà
__WINDOWS__


55 
	#CJSON_CDECL
 
__cdeş


	)

56 
	#CJSON_STDCALL
 
__¡dÿÎ


	)

59 #ià!
defšed
(
CJSON_HIDE_SYMBOLS
è&& !defšed(
CJSON_IMPORT_SYMBOLS
è&& !defšed(
CJSON_EXPORT_SYMBOLS
)

60 
	#CJSON_EXPORT_SYMBOLS


	)

63 #ià
defšed
(
CJSON_HIDE_SYMBOLS
)

64 
	#CJSON_PUBLIC
(
ty³
èty³ 
CJSON_STDCALL


	)

65 #–ià
defšed
(
CJSON_EXPORT_SYMBOLS
)

66 
	#CJSON_PUBLIC
(
ty³
è
	`__deş¥ec
(
dÎexpÜt
èty³ 
CJSON_STDCALL


	)

67 #–ià
defšed
(
CJSON_IMPORT_SYMBOLS
)

68 
	#CJSON_PUBLIC
(
ty³
è
	`__deş¥ec
(
dÎimpÜt
èty³ 
CJSON_STDCALL


	)

71 
	#CJSON_CDECL


	)

72 
	#CJSON_STDCALL


	)

74 #ià(
defšed
(
__GNUC__
è|| defšed(
__SUNPRO_CC
è|| defšed (
__SUNPRO_C
)è&& defšed(
CJSON_API_VISIBILITY
)

75 
	#CJSON_PUBLIC
(
ty³
è
	`__©Œibu‹__
((
	`visib™y
("deçuÉ"))è
	)
type

77 
	#CJSON_PUBLIC
(
ty³
è
	)
type

82 
	#CJSON_VERSION_MAJOR
 1

	)

83 
	#CJSON_VERSION_MINOR
 7

	)

84 
	#CJSON_VERSION_PATCH
 15

	)

86 
	~<¡ddef.h
>

89 
	#cJSON_Inv®id
 (0)

	)

90 
	#cJSON_F®£
 (1 << 0)

	)

91 
	#cJSON_True
 (1 << 1)

	)

92 
	#cJSON_NULL
 (1 << 2)

	)

93 
	#cJSON_Numb”
 (1 << 3)

	)

94 
	#cJSON_SŒšg
 (1 << 4)

	)

95 
	#cJSON_A¼ay
 (1 << 5)

	)

96 
	#cJSON_Objeù
 (1 << 6)

	)

97 
	#cJSON_Raw
 (1 << 7è

	)

99 
	#cJSON_IsReã»nû
 256

	)

100 
	#cJSON_SŒšgIsCÚ¡
 512

	)

103 
	scJSON


106 
cJSON
 *
Ãxt
;

107 
cJSON
 *
´ev
;

109 
cJSON
 *
chd
;

112 
ty³
;

115 *
v®ue¡ršg
;

117 
v®uešt
;

119 
v®uedoubË
;

122 *
¡ršg
;

123 } 
	tcJSON
;

125 
	scJSON_Hooks


128 *(
CJSON_CDECL
 *
m®loc_â
)(
size_t
 
sz
);

129 (
CJSON_CDECL
 *
ä“_â
)(*
±r
);

130 } 
	tcJSON_Hooks
;

132 
	tcJSON_boŞ
;

136 #iâdeà
CJSON_NESTING_LIMIT


137 
	#CJSON_NESTING_LIMIT
 1000

	)

141 
CJSON_PUBLIC
(cÚ¡ *è
cJSON_V”siÚ
();

144 
CJSON_PUBLIC
(è
cJSON_In™Hooks
(
cJSON_Hooks
* 
hooks
);

148 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_P¬£
(cÚ¡ *
v®ue
);

149 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_P¬£W™hL’gth
(cÚ¡ *
v®ue
, 
size_t
 
bufãr_Ëngth
);

152 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_P¬£W™hO±s
(cÚ¡ *
v®ue
, cÚ¡ **
»tuº_·r£_’d
, 
cJSON_boŞ
 
»quœe_nuÎ_‹rmš©ed
);

153 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_P¬£W™hL’gthO±s
(cÚ¡ *
v®ue
, 
size_t
 
bufãr_Ëngth
, cÚ¡ **
»tuº_·r£_’d
, 
cJSON_boŞ
 
»quœe_nuÎ_‹rmš©ed
);

156 
CJSON_PUBLIC
(*è
cJSON_Pršt
(cÚ¡ 
cJSON
 *
™em
);

158 
CJSON_PUBLIC
(*è
cJSON_PrštUnfÜm©‹d
(cÚ¡ 
cJSON
 *
™em
);

160 
CJSON_PUBLIC
(*è
cJSON_PrštBufã»d
(cÚ¡ 
cJSON
 *
™em
, 
´ebufãr
, 
cJSON_boŞ
 
fmt
);

163 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_PrštP»®loÿ‹d
(
cJSON
 *
™em
, *
bufãr
, cÚ¡ 
Ëngth
, cÚ¡ cJSON_boŞ 
fÜm©
);

165 
CJSON_PUBLIC
(è
cJSON_D–‘e
(
cJSON
 *
™em
);

168 
CJSON_PUBLIC
(è
cJSON_G‘A¼aySize
(cÚ¡ 
cJSON
 *
¬¿y
);

170 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_G‘A¼ayI‹m
(cÚ¡ cJSON *
¬¿y
, 
šdex
);

172 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_G‘ObjeùI‹m
(cÚ¡ cJSON * cÚ¡ 
objeù
, cÚ¡ * cÚ¡ 
¡ršg
);

173 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_G‘ObjeùI‹mCa£S’s™ive
(cÚ¡ cJSON * cÚ¡ 
objeù
, cÚ¡ * cÚ¡ 
¡ršg
);

174 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_HasObjeùI‹m
(cÚ¡ 
cJSON
 *
objeù
, cÚ¡ *
¡ršg
);

176 
CJSON_PUBLIC
(cÚ¡ *è
cJSON_G‘E¼ÜPŒ
();

179 
CJSON_PUBLIC
(*è
cJSON_G‘SŒšgV®ue
(cÚ¡ 
cJSON
 * cÚ¡ 
™em
);

180 
CJSON_PUBLIC
(è
cJSON_G‘Numb”V®ue
(cÚ¡ 
cJSON
 * cÚ¡ 
™em
);

183 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_IsInv®id
(cÚ¡ 
cJSON
 * cÚ¡ 
™em
);

184 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_IsF®£
(cÚ¡ 
cJSON
 * cÚ¡ 
™em
);

185 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_IsTrue
(cÚ¡ 
cJSON
 * cÚ¡ 
™em
);

186 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_IsBoŞ
(cÚ¡ 
cJSON
 * cÚ¡ 
™em
);

187 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_IsNuÎ
(cÚ¡ 
cJSON
 * cÚ¡ 
™em
);

188 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_IsNumb”
(cÚ¡ 
cJSON
 * cÚ¡ 
™em
);

189 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_IsSŒšg
(cÚ¡ 
cJSON
 * cÚ¡ 
™em
);

190 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_IsA¼ay
(cÚ¡ 
cJSON
 * cÚ¡ 
™em
);

191 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_IsObjeù
(cÚ¡ 
cJSON
 * cÚ¡ 
™em
);

192 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_IsRaw
(cÚ¡ 
cJSON
 * cÚ¡ 
™em
);

195 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eNuÎ
();

196 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eTrue
();

197 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eF®£
();

198 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eBoŞ
(
cJSON_boŞ
 
boŞ—n
);

199 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eNumb”
(
num
);

200 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eSŒšg
(cÚ¡ *
¡ršg
);

202 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eRaw
(cÚ¡ *
¿w
);

203 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eA¼ay
();

204 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eObjeù
();

208 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eSŒšgReã»nû
(cÚ¡ *
¡ršg
);

211 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eObjeùReã»nû
(cÚ¡ cJSON *
chd
);

212 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eA¼ayReã»nû
(cÚ¡ cJSON *
chd
);

216 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eIÁA¼ay
(cÚ¡ *
numb”s
, 
couÁ
);

217 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eFlßtA¼ay
(cÚ¡ *
numb”s
, 
couÁ
);

218 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eDoubËA¼ay
(cÚ¡ *
numb”s
, 
couÁ
);

219 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_C»©eSŒšgA¼ay
(cÚ¡ *cÚ¡ *
¡ršgs
, 
couÁ
);

222 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_AddI‹mToA¼ay
(
cJSON
 *
¬¿y
, cJSON *
™em
);

223 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_AddI‹mToObjeù
(
cJSON
 *
objeù
, cÚ¡ *
¡ršg
, cJSON *
™em
);

227 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_AddI‹mToObjeùCS
(
cJSON
 *
objeù
, cÚ¡ *
¡ršg
, cJSON *
™em
);

229 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_AddI‹mReã»nûToA¼ay
(
cJSON
 *
¬¿y
, cJSON *
™em
);

230 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_AddI‹mReã»nûToObjeù
(
cJSON
 *
objeù
, cÚ¡ *
¡ršg
, cJSON *
™em
);

233 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_D‘achI‹mVŸPoš‹r
(cJSON *
·»Á
, cJSON * cÚ¡ 
™em
);

234 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_D‘achI‹mFromA¼ay
(cJSON *
¬¿y
, 
which
);

235 
CJSON_PUBLIC
(è
cJSON_D–‘eI‹mFromA¼ay
(
cJSON
 *
¬¿y
, 
which
);

236 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_D‘achI‹mFromObjeù
(cJSON *
objeù
, cÚ¡ *
¡ršg
);

237 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_D‘achI‹mFromObjeùCa£S’s™ive
(cJSON *
objeù
, cÚ¡ *
¡ršg
);

238 
CJSON_PUBLIC
(è
cJSON_D–‘eI‹mFromObjeù
(
cJSON
 *
objeù
, cÚ¡ *
¡ršg
);

239 
CJSON_PUBLIC
(è
cJSON_D–‘eI‹mFromObjeùCa£S’s™ive
(
cJSON
 *
objeù
, cÚ¡ *
¡ršg
);

242 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_In£¹I‹mInA¼ay
(
cJSON
 *
¬¿y
, 
which
, cJSON *
Ãw™em
);

243 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_R•ÏûI‹mVŸPoš‹r
(
cJSON
 * cÚ¡ 
·»Á
, cJSON * cÚ¡ 
™em
, cJSON * 
»¶aûm’t
);

244 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_R•ÏûI‹mInA¼ay
(
cJSON
 *
¬¿y
, 
which
, cJSON *
Ãw™em
);

245 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_R•ÏûI‹mInObjeù
(
cJSON
 *
objeù
,cÚ¡ *
¡ršg
,cJSON *
Ãw™em
);

246 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_R•ÏûI‹mInObjeùCa£S’s™ive
(
cJSON
 *
objeù
,cÚ¡ *
¡ršg
,cJSON *
Ãw™em
);

249 
CJSON_PUBLIC
(
cJSON
 *è
cJSON_Du¶iÿ‹
(cÚ¡ cJSON *
™em
, 
cJSON_boŞ
 
»cur£
);

255 
CJSON_PUBLIC
(
cJSON_boŞ
è
cJSON_Com·»
(cÚ¡ 
cJSON
 * cÚ¡ 
a
, cÚ¡ cJSON * cÚ¡ 
b
, cÚ¡ cJSON_boŞ 
ÿ£_£ns™ive
);

260 
CJSON_PUBLIC
(è
cJSON_Mšify
(*
jsÚ
);

264 
CJSON_PUBLIC
(
cJSON
*è
cJSON_AddNuÎToObjeù
(cJSON * cÚ¡ 
objeù
, cÚ¡ * cÚ¡ 
Çme
);

265 
CJSON_PUBLIC
(
cJSON
*è
cJSON_AddTrueToObjeù
(cJSON * cÚ¡ 
objeù
, cÚ¡ * cÚ¡ 
Çme
);

266 
CJSON_PUBLIC
(
cJSON
*è
cJSON_AddF®£ToObjeù
(cJSON * cÚ¡ 
objeù
, cÚ¡ * cÚ¡ 
Çme
);

267 
CJSON_PUBLIC
(
cJSON
*è
cJSON_AddBoŞToObjeù
(cJSON * cÚ¡ 
objeù
, cÚ¡ * cÚ¡ 
Çme
, cÚ¡ 
cJSON_boŞ
 
boŞ—n
);

268 
CJSON_PUBLIC
(
cJSON
*è
cJSON_AddNumb”ToObjeù
(cJSON * cÚ¡ 
objeù
, cÚ¡ * cÚ¡ 
Çme
, cÚ¡ 
numb”
);

269 
CJSON_PUBLIC
(
cJSON
*è
cJSON_AddSŒšgToObjeù
(cJSON * cÚ¡ 
objeù
, cÚ¡ * cÚ¡ 
Çme
, cÚ¡ * cÚ¡ 
¡ršg
);

270 
CJSON_PUBLIC
(
cJSON
*è
cJSON_AddRawToObjeù
(cJSON * cÚ¡ 
objeù
, cÚ¡ * cÚ¡ 
Çme
, cÚ¡ * cÚ¡ 
¿w
);

271 
CJSON_PUBLIC
(
cJSON
*è
cJSON_AddObjeùToObjeù
(cJSON * cÚ¡ 
objeù
, cÚ¡ * cÚ¡ 
Çme
);

272 
CJSON_PUBLIC
(
cJSON
*è
cJSON_AddA¼ayToObjeù
(cJSON * cÚ¡ 
objeù
, cÚ¡ * cÚ¡ 
Çme
);

275 
	#cJSON_S‘IÁV®ue
(
objeù
, 
numb”
è((objeùè? (objeù)->
v®uešt
 = (objeù)->
v®uedoubË
 = (numb”è: (numb”))

	)

277 
CJSON_PUBLIC
(è
cJSON_S‘Numb”H–³r
(
cJSON
 *
objeù
, 
numb”
);

278 
	#cJSON_S‘Numb”V®ue
(
objeù
, 
numb”
è((objeù !ğ
NULL
è? 
	`cJSON_S‘Numb”H–³r
(objeù, (êumb”è: (numb”))

	)

280 
CJSON_PUBLIC
(*è
cJSON_S‘V®ue¡ršg
(
cJSON
 *
objeù
, cÚ¡ *
v®ue¡ršg
);

283 
	#cJSON_A¼ayFÜEach
(
–em’t
, 
¬¿y
è–em’ˆğ×¼ay !ğ
NULL
è? (¬¿y)->
chd
 : NULL;ƒËm’ˆ!ğNULL;ƒËm’ˆğ–em’t->
Ãxt
)

	)

286 
CJSON_PUBLIC
(*è
cJSON_m®loc
(
size_t
 
size
);

287 
CJSON_PUBLIC
(è
cJSON_ä“
(*
objeù
);

289 #ifdeà
__ılu¥lus


	@/usr/include/ctype.h

22 #iâdef 
_CTYPE_H


23 
	#_CTYPE_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 
	g__BEGIN_DECLS


30 #iâdeà
_ISb™


39 
	~<b™s/’dŸn.h
>

40 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


41 
	#_ISb™
(
b™
è(1 << (b™))

	)

43 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

48 
	m_ISuµ”
 = 
_ISb™
 (0),

49 
	m_ISlow”
 = 
_ISb™
 (1),

50 
	m_IS®pha
 = 
_ISb™
 (2),

51 
	m_ISdig™
 = 
_ISb™
 (3),

52 
	m_ISxdig™
 = 
_ISb™
 (4),

53 
	m_IS¥aû
 = 
_ISb™
 (5),

54 
	m_IS´št
 = 
_ISb™
 (6),

55 
	m_ISg¿ph
 = 
_ISb™
 (7),

56 
	m_ISbÏnk
 = 
_ISb™
 (8),

57 
	m_ISúŒl
 = 
_ISb™
 (9),

58 
	m_ISpunù
 = 
_ISb™
 (10),

59 
	m_IS®num
 = 
_ISb™
 (11)

79 cÚ¡ **
	$__ùy³_b_loc
 ()

80 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

81 cÚ¡ 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

82 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

83 cÚ¡ 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

84 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

87 #iâdeà
__ılu¥lus


88 
	#__isùy³
(
c
, 
ty³
) \

89 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

90 #–ià
defšed
 
__USE_EXTERN_INLINES


91 
	#__isùy³_f
(
ty³
) \

92 
__ex‹º_šlše
 \

93 
is
##
	`ty³
 (
__c
è
__THROW
 \

95  (*
	`__ùy³_b_loc
 ())[(è(
__c
)] & (è
_IS
##
ty³
; \

96 
	}

	)
}

99 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

100 
	#__tßscii
(
c
è((cè& 0x7fè

	)

102 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

108 
__exùy³
 (
i§Êum
);

109 
__exùy³
 (
i§Íha
);

110 
__exùy³
 (
isúŒl
);

111 
__exùy³
 (
isdig™
);

112 
__exùy³
 (
i¦ow”
);

113 
__exùy³
 (
isg¿ph
);

114 
__exùy³
 (
i¥ršt
);

115 
__exùy³
 (
i¥unù
);

116 
__exùy³
 (
is¥aû
);

117 
__exùy³
 (
isuµ”
);

118 
__exùy³
 (
isxdig™
);

122 
	$tŞow”
 (
__c
è
__THROW
;

125 
	$touµ”
 (
__c
è
__THROW
;

129 #ifdef 
__USE_ISOC99


130 
	`__exùy³
 (
isbÏnk
);

133 #ifdeà
__USE_GNU


135 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

138 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


142 
	$i§scii
 (
__c
è
__THROW
;

146 
	$tßscii
 (
__c
è
__THROW
;

150 
	`__exùy³
 (
_touµ”
);

151 
	`__exùy³
 (
_tŞow”
);

155 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

156 (
__ex‹nsiÚ__
 \

157 ({ 
__»s
; \

158 ià( (
c
) > 1) \

160 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

162 
__c
 = (
c
); \

163 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

166 
__»s
 = 
f
 
¬gs
; \

169 
__»s
 = (
a
)[(è(
c
)]; \

170 
__»s
; 
	}
}))

	)

172 #ià!
defšed
 
__NO_CTYPE


173 #ifdeà
__isùy³_f


174 
	$__isùy³_f
 (
®num
)

175 
	$__isùy³_f
 (
®pha
)

176 
	$__isùy³_f
 (
úŒl
)

177 
	$__isùy³_f
 (
dig™
)

178 
	$__isùy³_f
 (
low”
)

179 
	$__isùy³_f
 (
g¿ph
)

180 
	$__isùy³_f
 (
´št
)

181 
	$__isùy³_f
 (
punù
)

182 
	$__isùy³_f
 (
¥aû
)

183 
	$__isùy³_f
 (
uµ”
)

184 
	$__isùy³_f
 (
xdig™
)

185 #ifdeà
__USE_ISOC99


186 
	$__isùy³_f
 (
bÏnk
)

188 #–ià
defšed
 
__isùy³


189 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

190 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

191 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

192 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

193 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

194 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

195 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

196 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

197 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

198 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

199 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

200 #ifdeà
__USE_ISOC99


201 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

205 #ifdeà
__USE_EXTERN_INLINES


206 
__ex‹º_šlše
 

207 
	`__NTH
 (
	$tŞow”
 (
__c
))

209  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

210 
	}
}

212 
__ex‹º_šlše
 

213 
__NTH
 (
	$touµ”
 (
__c
))

215  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

216 
	}
}

219 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


220 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

221 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

224 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


225 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

226 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

228 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

229 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

235 #ifdeà
__USE_XOPEN2K8


237 
	~<b™s/ty³s/loÿË_t.h
>

241 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

242 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

244 
	#__exùy³_l
(
Çme
) \

245 
	`Çme
 (, 
loÿË_t
è
__THROW


	)

251 
__exùy³_l
 (
i§Êum_l
);

252 
__exùy³_l
 (
i§Íha_l
);

253 
__exùy³_l
 (
isúŒl_l
);

254 
__exùy³_l
 (
isdig™_l
);

255 
__exùy³_l
 (
i¦ow”_l
);

256 
__exùy³_l
 (
isg¿ph_l
);

257 
__exùy³_l
 (
i¥ršt_l
);

258 
__exùy³_l
 (
i¥unù_l
);

259 
__exùy³_l
 (
is¥aû_l
);

260 
__exùy³_l
 (
isuµ”_l
);

261 
__exùy³_l
 (
isxdig™_l
);

263 
__exùy³_l
 (
isbÏnk_l
);

267 
	$__tŞow”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

268 
	$tŞow”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

271 
	$__touµ”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

272 
	$touµ”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

274 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


275 
	#__tŞow”_l
(
c
, 
loÿË
) \

276 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

277 
	#__touµ”_l
(
c
, 
loÿË
) \

278 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

279 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

280 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

284 #iâdeà
__NO_CTYPE


285 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

286 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

287 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

288 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

289 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

290 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

291 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

292 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

293 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

294 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

295 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

297 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

299 #ifdeà
__USE_MISC


300 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

301 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

304 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

305 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

306 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

307 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

308 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

309 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

310 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

311 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

312 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

313 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

314 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

316 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

318 #ifdeà
__USE_MISC


319 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

320 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

327 
__END_DECLS


	@/usr/include/dirent.h

22 #iâdef 
_DIRENT_H


23 
	#_DIRENT_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

31 #ifdeà
__USE_XOPEN


32 #iâdeà
__šo_t_defšed


33 #iâdeà
__USE_FILE_OFFSET64


34 
__šo_t
 
	tšo_t
;

36 
__šo64_t
 
	tšo_t
;

38 
	#__šo_t_defšed


	)

40 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__šo64_t_defšed


41 
__šo64_t
 
	tšo64_t
;

42 
	#__šo64_t_defšed


	)

61 
	~<b™s/dœ’t.h
>

63 #ià
defšed
 
__USE_MISC
 && !defšed 
d_f’o


64 
	#d_šo
 
d_f’o


	)

81 #ifdeà
_DIRENT_HAVE_D_NAMLEN


82 
	#_D_EXACT_NAMLEN
(
d
è((d)->
d_ÇmËn
)

	)

83 
	#_D_ALLOC_NAMLEN
(
d
è(
	`_D_EXACT_NAMLEN
 (dè+ 1)

	)

85 
	#_D_EXACT_NAMLEN
(
d
è(
	`¡¾’
 ((d)->
d_Çme
))

	)

86 #ifdeà
_DIRENT_HAVE_D_RECLEN


87 
	#_D_ALLOC_NAMLEN
(
d
è(((*è(dè+ (d)->
d_»ş’
è- &(d)->
d_Çme
[0])

	)

89 
	#_D_ALLOC_NAMLEN
(
d
è( (d)->
d_Çme
 > 1 ?  (d)->d_name \

90 : 
	`_D_EXACT_NAMLEN
 (
d
è+ 1)

	)

95 #ifdeà
__USE_MISC


99 
	mDT_UNKNOWN
 = 0,

100 
	#DT_UNKNOWN
 
DT_UNKNOWN


	)

101 
	mDT_FIFO
 = 1,

102 
	#DT_FIFO
 
DT_FIFO


	)

103 
	mDT_CHR
 = 2,

104 
	#DT_CHR
 
DT_CHR


	)

105 
	mDT_DIR
 = 4,

106 
	#DT_DIR
 
DT_DIR


	)

107 
	mDT_BLK
 = 6,

108 
	#DT_BLK
 
DT_BLK


	)

109 
	mDT_REG
 = 8,

110 
	#DT_REG
 
DT_REG


	)

111 
	mDT_LNK
 = 10,

112 
	#DT_LNK
 
DT_LNK


	)

113 
	mDT_SOCK
 = 12,

114 
	#DT_SOCK
 
DT_SOCK


	)

115 
	mDT_WHT
 = 14

116 
	#DT_WHT
 
DT_WHT


	)

120 
	#IFTODT
(
mode
è(((modeè& 0170000è>> 12)

	)

121 
	#DTTOIF
(
dœty³
è((dœty³è<< 12)

	)

127 
__dœ¡»am
 
	tDIR
;

134 
DIR
 *
	$İ’dœ
 (cÚ¡ *
__Çme
è
	`__nÚnuÎ
 ((1));

136 #ifdeà
__USE_XOPEN2K8


141 
DIR
 *
	`fdİ’dœ
 (
__fd
);

149 
	$şo£dœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

161 #iâdeà
__USE_FILE_OFFSET64


162 
dœ’t
 *
	$»addœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

164 #ifdeà
__REDIRECT


165 
dœ’t
 *
	`__REDIRECT
 (
»addœ
, (
DIR
 *
__dœp
), 
»addœ64
)

166 
	`__nÚnuÎ
 ((1));

168 
	#»addœ
 
»addœ64


	)

172 #ifdeà
__USE_LARGEFILE64


173 
dœ’t64
 *
	$»addœ64
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

176 #ifdeà
__USE_POSIX


182 #iâdeà
__USE_FILE_OFFSET64


183 
	$»addœ_r
 (
DIR
 *
__»¡riù
 
__dœp
,

184 
dœ’t
 *
__»¡riù
 
__’Œy
,

185 
dœ’t
 **
__»¡riù
 
__»suÉ
)

186 
	`__nÚnuÎ
 ((1, 2, 3)è
__©Œibu‹_d•»ÿ‹d__
;

188 #ifdeà
__REDIRECT


189 
	`__REDIRECT
 (
»addœ_r
,

190 (
DIR
 *
__»¡riù
 
__dœp
,

191 
dœ’t
 *
__»¡riù
 
__’Œy
,

192 
dœ’t
 **
__»¡riù
 
__»suÉ
),

193 
»addœ64_r
)

194 
	`__nÚnuÎ
 ((1, 2, 3)è
__©Œibu‹_d•»ÿ‹d__
;

196 
	#»addœ_r
 
»addœ64_r


	)

200 #ifdeà
__USE_LARGEFILE64


201 
	$»addœ64_r
 (
DIR
 *
__»¡riù
 
__dœp
,

202 
dœ’t64
 *
__»¡riù
 
__’Œy
,

203 
dœ’t64
 **
__»¡riù
 
__»suÉ
)

204 
	`__nÚnuÎ
 ((1, 2, 3)è
__©Œibu‹_d•»ÿ‹d__
;

209 
	$»wšddœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

211 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


212 
	~<b™s/ty³s.h
>

215 
	$£ekdœ
 (
DIR
 *
__dœp
, 
__pos
è
__THROW
 
	`__nÚnuÎ
 ((1));

218 
	$‹Îdœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

221 #ifdeà
__USE_XOPEN2K8


224 
	$dœfd
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

226 #ià
defšed
 
__OPTIMIZE__
 && defšed 
_DIR_dœfd


227 
	#dœfd
(
dœp
è
	`_DIR_dœfd
 (dœp)

	)

230 #ifdeà
__USE_MISC


231 #iâdeà
MAXNAMLEN


233 
	~<b™s/posix1_lim.h
>

236 #ifdeà
NAME_MAX


237 
	#MAXNAMLEN
 
NAME_MAX


	)

239 
	#MAXNAMLEN
 255

	)

244 
	#__Ãed_size_t


	)

245 
	~<¡ddef.h
>

254 #iâdeà
__USE_FILE_OFFSET64


255 
	$sÿndœ
 (cÚ¡ *
__»¡riù
 
__dœ
,

256 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

257 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

258 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

259 cÚ¡ 
dœ’t
 **))

260 
	`__nÚnuÎ
 ((1, 2));

262 #ifdeà
__REDIRECT


263 
	`__REDIRECT
 (
sÿndœ
,

264 (cÚ¡ *
__»¡riù
 
__dœ
,

265 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

266 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

267 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

268 cÚ¡ 
dœ’t
 **)),

269 
sÿndœ64
è
	`__nÚnuÎ
 ((1, 2));

271 
	#sÿndœ
 
sÿndœ64


	)

275 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


278 
	$sÿndœ64
 (cÚ¡ *
__»¡riù
 
__dœ
,

279 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

280 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

281 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

282 cÚ¡ 
dœ’t64
 **))

283 
	`__nÚnuÎ
 ((1, 2));

286 #ifdeà
__USE_GNU


292 #iâdeà
__USE_FILE_OFFSET64


293 
	$sÿndœ©
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

294 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

295 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

296 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

297 cÚ¡ 
dœ’t
 **))

298 
	`__nÚnuÎ
 ((2, 3));

300 #ifdeà
__REDIRECT


301 
	`__REDIRECT
 (
sÿndœ©
,

302 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

303 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

304 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

305 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

306 cÚ¡ 
dœ’t
 **)),

307 
sÿndœ©64
è
	`__nÚnuÎ
 ((2, 3));

309 
	#sÿndœ©
 
sÿndœ©64


	)

315 
	$sÿndœ©64
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

316 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

317 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

318 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

319 cÚ¡ 
dœ’t64
 **))

320 
	`__nÚnuÎ
 ((2, 3));

324 #iâdeà
__USE_FILE_OFFSET64


325 
	$®phasÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

326 cÚ¡ 
dœ’t
 **
__e2
)

327 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

329 #ifdeà
__REDIRECT


330 
	`__REDIRECT_NTH
 (
®phasÜt
,

331 (cÚ¡ 
dœ’t
 **
__e1
,

332 cÚ¡ 
dœ’t
 **
__e2
),

333 
®phasÜt64
è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

335 
	#®phasÜt
 
®phasÜt64


	)

339 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


340 
	$®phasÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

341 cÚ¡ 
dœ’t64
 **
__e2
)

342 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

347 #ifdeà
__USE_MISC


352 #iâdeà
__USE_FILE_OFFSET64


353 
__ssize_t
 
	$g‘dœ’Œ›s
 (
__fd
, *
__»¡riù
 
__buf
,

354 
size_t
 
__nby‹s
,

355 
__off_t
 *
__»¡riù
 
__ba£p
)

356 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

358 #ifdeà
__REDIRECT


359 
__ssize_t
 
	`__REDIRECT_NTH
 (
g‘dœ’Œ›s
,

360 (
__fd
, *
__»¡riù
 
__buf
,

361 
size_t
 
__nby‹s
,

362 
__off64_t
 *
__»¡riù
 
__ba£p
),

363 
g‘dœ’Œ›s64
è
	`__nÚnuÎ
 ((2, 4));

365 
	#g‘dœ’Œ›s
 
g‘dœ’Œ›s64


	)

369 #ifdeà
__USE_LARGEFILE64


370 
__ssize_t
 
	$g‘dœ’Œ›s64
 (
__fd
, *
__»¡riù
 
__buf
,

371 
size_t
 
__nby‹s
,

372 
__off64_t
 *
__»¡riù
 
__ba£p
)

373 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

377 #ifdeà
__USE_GNU


379 #iâdeà
__USE_FILE_OFFSET64


380 
	$v”siÚsÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

381 cÚ¡ 
dœ’t
 **
__e2
)

382 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

384 #ifdeà
__REDIRECT


385 
	`__REDIRECT_NTH
 (
v”siÚsÜt
,

386 (cÚ¡ 
dœ’t
 **
__e1
,

387 cÚ¡ 
dœ’t
 **
__e2
),

388 
v”siÚsÜt64
)

389 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

391 
	#v”siÚsÜt
 
v”siÚsÜt64


	)

395 #ifdeà
__USE_LARGEFILE64


396 
	$v”siÚsÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

397 cÚ¡ 
dœ’t64
 **
__e2
)

398 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

402 
__END_DECLS


404 
	~<b™s/dœ’t_ext.h
>

	@/usr/include/fcntl.h

22 #iâdef 
_FCNTL_H


23 
	#_FCNTL_H
 1

	)

25 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


31 
	~<b™s/ty³s.h
>

35 
	~<b™s/fú.h
>

39 #ifdeà
__O_TMPFILE


40 
	#__OPEN_NEEDS_MODE
(
oæag
) \

41 (((
oæag
è& 
O_CREAT
è!ğ0 || ((oæagè& 
__O_TMPFILE
è=ğ__O_TMPFILE)

	)

43 
	#__OPEN_NEEDS_MODE
(
oæag
è(((oæagè& 
O_CREAT
è!ğ0)

	)

49 #iâdeà
__mode_t_defšed


50 
__mode_t
 
	tmode_t
;

51 
	#__mode_t_defšed


	)

54 #iâdeà
__off_t_defšed


55 #iâdeà
__USE_FILE_OFFSET64


56 
__off_t
 
	toff_t
;

58 
__off64_t
 
	toff_t
;

60 
	#__off_t_defšed


	)

63 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


64 
__off64_t
 
	toff64_t
;

65 
	#__off64_t_defšed


	)

68 #iâdeà
__pid_t_defšed


69 
__pid_t
 
	tpid_t
;

70 
	#__pid_t_defšed


	)

74 #ifdeà
__USE_XOPEN2K8


75 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

77 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


78 
	~<b™s/¡©.h
>

80 
	#S_IFMT
 
__S_IFMT


	)

81 
	#S_IFDIR
 
__S_IFDIR


	)

82 
	#S_IFCHR
 
__S_IFCHR


	)

83 
	#S_IFBLK
 
__S_IFBLK


	)

84 
	#S_IFREG
 
__S_IFREG


	)

85 #ifdeà
__S_IFIFO


86 
	#S_IFIFO
 
__S_IFIFO


	)

88 #ifdeà
__S_IFLNK


89 
	#S_IFLNK
 
__S_IFLNK


	)

91 #ià(
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8
è&& defšed 
__S_IFSOCK


92 
	#S_IFSOCK
 
__S_IFSOCK


	)

97 
	#S_ISUID
 
__S_ISUID


	)

98 
	#S_ISGID
 
__S_ISGID


	)

100 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


102 
	#S_ISVTX
 
__S_ISVTX


	)

105 
	#S_IRUSR
 
__S_IREAD


	)

106 
	#S_IWUSR
 
__S_IWRITE


	)

107 
	#S_IXUSR
 
__S_IEXEC


	)

109 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

111 
	#S_IRGRP
 (
S_IRUSR
 >> 3è

	)

112 
	#S_IWGRP
 (
S_IWUSR
 >> 3è

	)

113 
	#S_IXGRP
 (
S_IXUSR
 >> 3è

	)

115 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

117 
	#S_IROTH
 (
S_IRGRP
 >> 3è

	)

118 
	#S_IWOTH
 (
S_IWGRP
 >> 3è

	)

119 
	#S_IXOTH
 (
S_IXGRP
 >> 3è

	)

121 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

124 #ifdef 
__USE_MISC


125 #iâdeà
R_OK


128 
	#R_OK
 4

	)

129 
	#W_OK
 2

	)

130 
	#X_OK
 1

	)

131 
	#F_OK
 0

	)

136 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


137 
	#SEEK_SET
 0

	)

138 
	#SEEK_CUR
 1

	)

139 
	#SEEK_END
 2

	)

147 #iâdeà
__USE_TIME_BITS64


148 #iâdeà
__USE_FILE_OFFSET64


149 
fú
 (
__fd
, 
__cmd
, ...);

151 #ifdeà
__REDIRECT


152 
__REDIRECT
 (
fú
, (
__fd
, 
__cmd
, ...), 
fú64
);

154 
	#fú
 
fú64


	)

157 #ifdeà
__USE_LARGEFILE64


158 
fú64
 (
__fd
, 
__cmd
, ...);

161 #ifdeà
__REDIRECT


162 
__REDIRECT_NTH
 (
fú
, (
__fd
, 
__»que¡
, ...),

163 
__fú_time64
);

164 
__REDIRECT_NTH
 (
fú64
, (
__fd
, 
__»que¡
, ...),

165 
__fú_time64
);

167 
	$__fú_time64
 (
__fd
, 
__»que¡
, ...è
__THROW
;

168 
	#fú64
 
__fú_time64


	)

169 
	#fú
 
__fú_time64


	)

180 #iâdeà
__USE_FILE_OFFSET64


181 
	$İ’
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

183 #ifdeà
__REDIRECT


184 
	`__REDIRECT
 (
İ’
, (cÚ¡ *
__fe
, 
__oæag
, ...), 
İ’64
)

185 
	`__nÚnuÎ
 ((1));

187 
	#İ’
 
İ’64


	)

190 #ifdeà
__USE_LARGEFILE64


191 
	$İ’64
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

194 #ifdeà
__USE_ATFILE


204 #iâdeà
__USE_FILE_OFFSET64


205 
	$İ’©
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

206 
	`__nÚnuÎ
 ((2));

208 #ifdeà
__REDIRECT


209 
	`__REDIRECT
 (
İ’©
, (
__fd
, cÚ¡ *
__fe
, 
__oæag
,

210 ...), 
İ’©64
è
	`__nÚnuÎ
 ((2));

212 
	#İ’©
 
İ’©64


	)

215 #ifdeà
__USE_LARGEFILE64


216 
	$İ’©64
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

217 
	`__nÚnuÎ
 ((2));

226 #iâdeà
__USE_FILE_OFFSET64


227 
	$ü—t
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

229 #ifdeà
__REDIRECT


230 
	`__REDIRECT
 (
ü—t
, (cÚ¡ *
__fe
, 
mode_t
 
__mode
),

231 
ü—t64
è
	`__nÚnuÎ
 ((1));

233 
	#ü—t
 
ü—t64


	)

236 #ifdeà
__USE_LARGEFILE64


237 
	$ü—t64
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

240 #ià!
defšed
 
F_LOCK
 && (defšed 
__USE_MISC
 || (defšed 
__USE_XOPEN_EXTENDED
 \

241 && !
defšed
 
__USE_POSIX
))

250 
	#F_ULOCK
 0

	)

251 
	#F_LOCK
 1

	)

252 
	#F_TLOCK
 2

	)

253 
	#F_TEST
 3

	)

255 #iâdeà
__USE_FILE_OFFSET64


256 
	`lockf
 (
__fd
, 
__cmd
, 
off_t
 
__Ën
);

258 #ifdeà
__REDIRECT


259 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
), 
lockf64
);

261 
	#lockf
 
lockf64


	)

264 #ifdeà
__USE_LARGEFILE64


265 
	`lockf64
 (
__fd
, 
__cmd
, 
off64_t
 
__Ën
);

269 #ifdeà
__USE_XOPEN2K


272 #iâdeà
__USE_FILE_OFFSET64


273 
	$posix_çdvi£
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
,

274 
__advi£
è
__THROW
;

276 #ifdeà
__REDIRECT_NTH


277 
	`__REDIRECT_NTH
 (
posix_çdvi£
, (
__fd
, 
__off64_t
 
__off£t
,

278 
__off64_t
 
__Ën
, 
__advi£
),

279 
posix_çdvi£64
);

281 
	#posix_çdvi£
 
posix_çdvi£64


	)

284 #ifdeà
__USE_LARGEFILE64


285 
	$posix_çdvi£64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
,

286 
__advi£
è
__THROW
;

294 #iâdeà
__USE_FILE_OFFSET64


295 
	`posix_çÎoÿ‹
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
);

297 #ifdeà
__REDIRECT


298 
	`__REDIRECT
 (
posix_çÎoÿ‹
, (
__fd
, 
__off64_t
 
__off£t
,

299 
__off64_t
 
__Ën
),

300 
posix_çÎoÿ‹64
);

302 
	#posix_çÎoÿ‹
 
posix_çÎoÿ‹64


	)

305 #ifdeà
__USE_LARGEFILE64


306 
	`posix_çÎoÿ‹64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
);

312 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ
 \

313 && 
defšed
 
__va_¬g_·ck_Ën


314 
	~<b™s/fú2.h
>

317 
__END_DECLS


	@/usr/include/gmock/gmock.h

37 #iâdeà
GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_H_


38 
	#GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_H_


	)

59 
	~"gmock/gmock-aùiÚs.h
"

60 
	~"gmock/gmock-ÿrdš®™›s.h
"

61 
	~"gmock/gmock-funùiÚ-mock”.h
"

62 
	~"gmock/gmock-m©ch”s.h
"

63 
	~"gmock/gmock-mÜe-aùiÚs.h
"

64 
	~"gmock/gmock-mÜe-m©ch”s.h
"

65 
	~"gmock/gmock-niû-¡riù.h
"

66 
	~"gmock/š‹º®/gmock-š‹º®-uts.h
"

68 
Çme¥aû
 
	g‹¡šg
 {

71 
GMOCK_DECLARE_boŞ_
(
ÿtch_Ëaked_mocks
);

72 
GMOCK_DECLARE_¡ršg_
(
v”bo£
);

73 
GMOCK_DECLARE_št32_
(
deçuÉ_mock_behaviÜ
);

86 
GTEST_API_
 
In™GoogËMock
(* 
¬gc
, ** 
¬gv
);

90 
GTEST_API_
 
In™GoogËMock
(* 
¬gc
, 
wch¬_t
** 
¬gv
);

94 
GTEST_API_
 
In™GoogËMock
();

	@/usr/include/gtest/gtest.h

52 #iâdeà
GOOGLETEST_INCLUDE_GTEST_GTEST_H_


53 
	#GOOGLETEST_INCLUDE_GTEST_GTEST_H_


	)

55 
	~<c¡ddef
>

56 
	~<lim™s
>

57 
	~<memÜy
>

58 
	~<o¡»am
>

59 
	~<ty³_Œa™s
>

60 
	~<veùÜ
>

62 
	~"g‹¡/š‹º®/g‹¡-š‹º®.h
"

63 
	~"g‹¡/š‹º®/g‹¡-¡ršg.h
"

64 
	~"g‹¡/g‹¡-d—th-‹¡.h
"

65 
	~"g‹¡/g‹¡-m©ch”s.h
"

66 
	~"g‹¡/g‹¡-mes§ge.h
"

67 
	~"g‹¡/g‹¡-·¿m-‹¡.h
"

68 
	~"g‹¡/g‹¡-´š‹rs.h
"

69 
	~"g‹¡/g‹¡_´od.h
"

70 
	~"g‹¡/g‹¡-‹¡-·¹.h
"

71 
	~"g‹¡/g‹¡-ty³d-‹¡.h
"

73 
GTEST_DISABLE_MSC_WARNINGS_PUSH_
(4251 \

76 
Çme¥aû
 
	g‹¡šg
 {

80 #ifdeà
_MSC_VER


81 #´agm¨
w¬nšg
(
push
)

82 #´agm¨
w¬nšg
(
di§bË
:4805)

83 #´agm¨
w¬nšg
(
di§bË
:4100)

90 
GTEST_DECLARE_boŞ_
(
®so_run_di§bËd_‹¡s
);

93 
GTEST_DECLARE_boŞ_
(
b»ak_Ú_çu»
);

97 
GTEST_DECLARE_boŞ_
(
ÿtch_exû±iÚs
);

102 
GTEST_DECLARE_¡ršg_
(
cŞÜ
);

106 
GTEST_DECLARE_boŞ_
(
ç_ç¡
);

110 
GTEST_DECLARE_¡ršg_
(
f‹r
);

114 
GTEST_DECLARE_boŞ_
(
š¡®l_çu»_sigÇl_hªdËr
);

118 
GTEST_DECLARE_boŞ_
(
li¡_‹¡s
);

122 
GTEST_DECLARE_¡ršg_
(
ouut
);

125 
GTEST_DECLARE_boŞ_
(
br›f
);

129 
GTEST_DECLARE_boŞ_
(
´št_time
);

132 
GTEST_DECLARE_boŞ_
(
´št_utf8
);

135 
GTEST_DECLARE_št32_
(
¿ndom_£ed
);

139 
GTEST_DECLARE_št32_
(
»³©
);

143 
GTEST_DECLARE_boŞ_
(
show_š‹º®_¡ack_äames
);

146 
GTEST_DECLARE_boŞ_
(
shufæe
);

150 
GTEST_DECLARE_št32_
(
¡ack_Œaû_d•th
);

155 
GTEST_DECLARE_boŞ_
(
throw_Ú_çu»
);

160 
GTEST_DECLARE_¡ršg_
(
¡»am_»suÉ_to
);

162 #ià
GTEST_USE_OWN_FLAGFILE_FLAG_


163 
GTEST_DECLARE_¡ršg_
(
æagfe
);

167 cÚ¡ 
	gkMaxSckT¿ûD•th
 = 100;

169 
Çme¥aû
 
	gš‹º®
 {

171 
şass
 
	gAs£¹H–³r
;

172 
şass
 
	gDeçuÉGlob®Te¡P¬tResuÉR•Ü‹r
;

173 
şass
 
	gExecD—thTe¡
;

174 
şass
 
	gNoExecD—thTe¡
;

175 
şass
 
	gFš®SucûssCheck”
;

176 
şass
 
	gGTe¡FÏgSav”
;

177 
şass
 
	gSŒ—mšgLi¡’”Te¡
;

178 
şass
 
	gTe¡ResuÉAcûssÜ
;

179 
şass
 
	gTe¡Ev’tLi¡’”sAcûssÜ
;

180 
şass
 
	gTe¡Ev’tR•—‹r
;

181 
şass
 
	gUn™Te¡RecÜdPrİ”tyTe¡H–³r
;

182 
şass
 
	gWšdowsD—thTe¡
;

183 
şass
 
	gFuchsŸD—thTe¡
;

184 
şass
 
Un™Te¡Im¶
* 
G‘Un™Te¡Im¶
();

185 
R•ÜtFau»InUnknownLoÿtiÚ
(
Te¡P¬tResuÉ
::
Ty³
 
»suÉ_ty³
,

186 cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
);

187 
	g¡d
::
£t
<
¡d
::
¡ršg
>* 
G‘IgnÜedP¬am‘”izedTe¡Su™es
();

194 
şass
 
	gTe¡
;

195 
şass
 
	gTe¡Su™e
;

198 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


199 
usšg
 
	gTe¡Ca£
 = 
Te¡Su™e
;

201 
şass
 
	gTe¡Info
;

202 
şass
 
	gUn™Te¡
;

283 şas 
	cGTEST_API_
 
	gAs£¹iÚResuÉ
 {

284 
	gpublic
:

287 
As£¹iÚResuÉ
(cÚ¡ As£¹iÚResuÉ& 
Ùh”
);

293 #ià
defšed
(
_MSC_VER
) && (_MSC_VER < 1910 || _MSC_VER >= 1920)

294 
GTEST_DISABLE_MSC_WARNINGS_PUSH_
(4800 )

304 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

305 
ex¶ic™
 
As£¹iÚResuÉ
(

306 cÚ¡ 
T
& 
sucûss
,

307 
ty³Çme
 
¡d
::
’abË_if
<

308 !
¡d
::
is_cÚv”tibË
<
T
, 
As£¹iÚResuÉ
>::
v®ue
>::
ty³
*

310 ğ
nuÎ±r
)

311 : 
sucûss_
(
sucûss
) {}

313 #ià
defšed
(
_MSC_VER
) && (_MSC_VER < 1910 || _MSC_VER >= 1920)

314 
GTEST_DISABLE_MSC_WARNINGS_POP_
()

318 
As£¹iÚResuÉ
& 
İ”©Ü
=(As£¹iÚResuÉ 
Ùh”
) {

319 
sw­
(
Ùh”
);

320  *
	gthis
;

324 
İ”©Ü
 
boŞ
(ècÚ¡ {  
	gsucûss_
; }

327 
As£¹iÚResuÉ
 
	gİ”©Ü
!() const;

333 cÚ¡ * 
mes§ge
() const {

334  
	gmes§ge_
.
g‘
(è!ğ
nuÎ±r
 ? 
mes§ge_
->
c_¡r
() : "";

337 cÚ¡ * 
çu»_mes§ge
(ècÚ¡ {  
mes§ge
(); }

340 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	gAs£¹iÚResuÉ
& 
	gİ”©Ü
<<(cÚ¡ T& 
	gv®ue
) {

341 
Aµ’dMes§ge
(
Mes§ge
(è<< 
v®ue
);

342  *
	gthis
;

347 
	gAs£¹iÚResuÉ
& 
	gİ”©Ü
<<(

348 ::
¡d
::
o¡»am
& (*
basic_mªuÏtÜ
)(::¡d::o¡»am& 
¡»am
)) {

349 
Aµ’dMes§ge
(
Mes§ge
(è<< 
basic_mªuÏtÜ
);

350  *
	gthis
;

353 
	g´iv©e
:

355 
Aµ’dMes§ge
(cÚ¡ 
Mes§ge
& 
a_mes§ge
) {

356 ià(
mes§ge_
.
g‘
(è=ğ
nuÎ±r
èmes§ge_.
»£t
(
Ãw
 ::
¡d
::
¡ršg
);

357 
	gmes§ge_
->
­³nd
(
a_mes§ge
.
G‘SŒšg
().
c_¡r
());

361 
sw­
(
As£¹iÚResuÉ
& 
Ùh”
);

364 
boŞ
 
	gsucûss_
;

369 
	g¡d
::
unique_±r
< ::
¡d
::
¡ršg
> 
mes§ge_
;

373 
GTEST_API_
 
As£¹iÚResuÉ
 
As£¹iÚSucûss
();

376 
GTEST_API_
 
As£¹iÚResuÉ
 
As£¹iÚFau»
();

380 
GTEST_API_
 
As£¹iÚResuÉ
 
As£¹iÚFau»
(cÚ¡ 
Mes§ge
& 
msg
);

387 
	~"g‹¡/g‹¡_´ed_im¶.h
"

389 
Çme¥aû
 
	g‹¡šg
 {

414 şas 
	cGTEST_API_
 
	gTe¡
 {

415 
	gpublic
:

416 
ä›nd
 
şass
 
Te¡Info
;

419 
	gvœtu®
 ~
Te¡
();

427 
S‘UpTe¡Su™e
() {}

435 
T—rDownTe¡Su™e
() {}

439 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


440 
T—rDownTe¡Ca£
() {}

441 
S‘UpTe¡Ca£
() {}

445 
boŞ
 
HasF©®Fau»
();

448 
boŞ
 
HasNÚçlFau»
();

451 
boŞ
 
IsSk³d
();

455 
boŞ
 
HasFau»
(è{  
HasF©®Fau»
(è|| 
HasNÚçlFau»
(); }

470 
RecÜdPrİ”ty
(cÚ¡ 
¡d
::
¡ršg
& 
key
, cÚ¡ std::¡ršg& 
v®ue
);

471 
RecÜdPrİ”ty
(cÚ¡ 
¡d
::
¡ršg
& 
key
, 
v®ue
);

473 
	g´Ùeùed
:

475 
Te¡
();

478 
vœtu®
 
S‘Up
();

481 
vœtu®
 
T—rDown
();

483 
	g´iv©e
:

486 
boŞ
 
HasSameFixtu»CÏss
();

494 
vœtu®
 
Te¡Body
() = 0;

497 
Run
();

501 
D–‘eS–f_
(è{ 
d–‘e
 
	gthis
; }

503 cÚ¡ 
	g¡d
::
unique_±r
<
GTEST_FLAG_SAVER_
> 
g‹¡_æag_§v”_
;

521 
	sS‘up_should_be_¥–Ëd_S‘Up
 {};

522 
vœtu®
 
S‘up_should_be_¥–Ëd_S‘Up
* 
S‘up
(è{  
	gnuÎ±r
; }

525 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Te¡
);

528 
	gš‹º®
::
	tTimeInMlis
 TimeInMillis;

534 şas 
	cTe¡Prİ”ty
 {

535 
	gpublic
:

539 
Te¡Prİ”ty
(cÚ¡ 
¡d
::
¡ršg
& 
a_key
, cÚ¡ std::¡ršg& 
a_v®ue
) :

540 
key_
(
a_key
), 
v®ue_
(
a_v®ue
) {

544 cÚ¡ * 
key
() const {

545  
	gkey_
.
c_¡r
();

549 cÚ¡ * 
v®ue
() const {

550  
	gv®ue_
.
c_¡r
();

554 
S‘V®ue
(cÚ¡ 
¡d
::
¡ršg
& 
Ãw_v®ue
) {

555 
v®ue_
 = 
Ãw_v®ue
;

558 
	g´iv©e
:

560 
¡d
::
¡ršg
 
key_
;

562 
	g¡d
::
¡ršg
 
v®ue_
;

571 şas 
	cGTEST_API_
 
	gTe¡ResuÉ
 {

572 
	gpublic
:

574 
Te¡ResuÉ
();

577 ~
Te¡ResuÉ
();

581 
tÙ®_·¹_couÁ
() const;

584 
‹¡_´İ”ty_couÁ
() const;

587 
boŞ
 
Pas£d
(ècÚ¡ {  !
Sk³d
(è&& !
Faed
(); }

590 
boŞ
 
Sk³d
() const;

593 
boŞ
 
Faed
() const;

596 
boŞ
 
HasF©®Fau»
() const;

599 
boŞ
 
HasNÚçlFau»
() const;

602 
TimeInMlis
 
–­£d_time
(ècÚ¡ {  
	g–­£d_time_
; }

606 
TimeInMlis
 
¡¬t_time¡amp
(ècÚ¡ {  
	g¡¬t_time¡amp_
; }

610 cÚ¡ 
	gTe¡P¬tResuÉ
& 
G‘Te¡P¬tResuÉ
(
i
) const;

615 cÚ¡ 
	gTe¡Prİ”ty
& 
G‘Te¡Prİ”ty
(
i
) const;

617 
	g´iv©e
:

618 
ä›nd
 
şass
 
Te¡Info
;

619 
ä›nd
 
şass
 
	gTe¡Su™e
;

620 
ä›nd
 
şass
 
	gUn™Te¡
;

621 
ä›nd
 
şass
 
	gš‹º®
::
DeçuÉGlob®Te¡P¬tResuÉR•Ü‹r
;

622 
ä›nd
 
şass
 
	gš‹º®
::
ExecD—thTe¡
;

623 
ä›nd
 
şass
 
	gš‹º®
::
Te¡ResuÉAcûssÜ
;

624 
ä›nd
 
şass
 
	gš‹º®
::
Un™Te¡Im¶
;

625 
ä›nd
 
şass
 
	gš‹º®
::
WšdowsD—thTe¡
;

626 
ä›nd
 
şass
 
	gš‹º®
::
FuchsŸD—thTe¡
;

629 cÚ¡ 
	g¡d
::
veùÜ
<
Te¡P¬tResuÉ
>& 
‹¡_·¹_»suÉs
() const {

630  
‹¡_·¹_»suÉs_
;

634 cÚ¡ 
	g¡d
::
veùÜ
<
Te¡Prİ”ty
>& 
‹¡_´İ”t›s
() const {

635  
‹¡_´İ”t›s_
;

639 
£t_¡¬t_time¡amp
(
TimeInMlis
 
¡¬t
è{ 
	g¡¬t_time¡amp_
 = start; }

642 
£t_–­£d_time
(
TimeInMlis
 
–­£d
è{ 
	g–­£d_time_
 =ƒlapsed; }

650 
RecÜdPrİ”ty
(cÚ¡ 
¡d
::
¡ršg
& 
xml_–em’t
,

651 cÚ¡ 
Te¡Prİ”ty
& 
‹¡_´İ”ty
);

656 
boŞ
 
V®id©eTe¡Prİ”ty
(cÚ¡ 
¡d
::
¡ršg
& 
xml_–em’t
,

657 cÚ¡ 
Te¡Prİ”ty
& 
‹¡_´İ”ty
);

660 
AddTe¡P¬tResuÉ
(cÚ¡ 
Te¡P¬tResuÉ
& 
‹¡_·¹_»suÉ
);

663 
d—th_‹¡_couÁ
(ècÚ¡ {  
	gd—th_‹¡_couÁ_
; }

666 
šüem’t_d—th_‹¡_couÁ
(è{  ++
	gd—th_‹¡_couÁ_
; }

669 
CË¬Te¡P¬tResuÉs
();

672 
CË¬
();

676 
	gš‹º®
::
Mu‹x
 
‹¡_´İ”t›s_mu‹x_
;

679 
	g¡d
::
veùÜ
<
Te¡P¬tResuÉ
> 
‹¡_·¹_»suÉs_
;

681 
	g¡d
::
veùÜ
<
Te¡Prİ”ty
> 
‹¡_´İ”t›s_
;

683 
	gd—th_‹¡_couÁ_
;

685 
TimeInMlis
 
	g¡¬t_time¡amp_
;

687 
TimeInMlis
 
	g–­£d_time_
;

690 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Te¡ResuÉ
);

704 şas 
	cGTEST_API_
 
	gTe¡Info
 {

705 
	gpublic
:

708 ~
Te¡Info
();

711 cÚ¡ * 
‹¡_su™e_Çme
(ècÚ¡ {  
	g‹¡_su™e_Çme_
.
c_¡r
(); }

714 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


715 cÚ¡ * 
‹¡_ÿ£_Çme
(ècÚ¡ {  
‹¡_su™e_Çme
(); }

719 cÚ¡ * 
Çme
(ècÚ¡ {  
	gÇme_
.
c_¡r
(); }

723 cÚ¡ * 
ty³_·¿m
() const {

724 ià(
	gty³_·¿m_
.
g‘
(è!ğ
nuÎ±r
è 
ty³_·¿m_
->
c_¡r
();

725  
	gnuÎ±r
;

730 cÚ¡ * 
v®ue_·¿m
() const {

731 ià(
	gv®ue_·¿m_
.
g‘
(è!ğ
nuÎ±r
è 
v®ue_·¿m_
->
c_¡r
();

732  
	gnuÎ±r
;

736 cÚ¡ * 
fe
(ècÚ¡ {  
	gloÿtiÚ_
.
	gfe
.
c_¡r
(); }

739 
lše
(ècÚ¡ {  
	gloÿtiÚ_
.
	glše
; }

742 
boŞ
 
is_š_ªÙh”_sh¬d
(ècÚ¡ {  
	gis_š_ªÙh”_sh¬d_
; }

760 
boŞ
 
should_run
(ècÚ¡ {  
	gshould_run_
; }

763 
boŞ
 
is_»pÜbË
() const {

766  
	gm©ches_f‹r_
 && !
	gis_š_ªÙh”_sh¬d_
;

770 cÚ¡ 
Te¡ResuÉ
* 
»suÉ
(ècÚ¡ {  &
	g»suÉ_
; }

772 
	g´iv©e
:

773 #ià
GTEST_HAS_DEATH_TEST


774 
ä›nd
 
şass
 
š‹º®
::
DeçuÉD—thTe¡FaùÜy
;

776 
ä›nd
 
şass
 
	gTe¡
;

777 
ä›nd
 
şass
 
	gTe¡Su™e
;

778 
ä›nd
 
şass
 
	gš‹º®
::
Un™Te¡Im¶
;

779 
ä›nd
 
şass
 
	gš‹º®
::
SŒ—mšgLi¡’”Te¡
;

780 
ä›nd
 
Te¡Info
* 
	gš‹º®
::
MakeAndRegi¡”Te¡Info
(

781 cÚ¡ * 
‹¡_su™e_Çme
, cÚ¡ * 
Çme
, cÚ¡ * 
ty³_·¿m
,

782 cÚ¡ * 
v®ue_·¿m
, 
š‹º®
::
CodeLoÿtiÚ
 
code_loÿtiÚ
,

783 
š‹º®
::
Ty³Id
 
fixtu»_şass_id
, iÁ”Çl::
S‘UpTe¡Su™eFunc
 
£t_up_tc
,

784 
š‹º®
::
T—rDownTe¡Su™eFunc
 
‹¬_down_tc
,

785 
š‹º®
::
Te¡FaùÜyBa£
* 
çùÜy
);

789 
Te¡Info
(cÚ¡ 
¡d
::
¡ršg
& 
‹¡_su™e_Çme
, cÚ¡ std::¡ršg& 
Çme
,

790 cÚ¡ * 
a_ty³_·¿m
,

791 cÚ¡ * 
a_v®ue_·¿m
,

792 
š‹º®
::
CodeLoÿtiÚ
 
a_code_loÿtiÚ
,

793 
š‹º®
::
Ty³Id
 
fixtu»_şass_id
,

794 
š‹º®
::
Te¡FaùÜyBa£
* 
çùÜy
);

798 
šüem’t_d—th_‹¡_couÁ
() {

799  
	g»suÉ_
.
šüem’t_d—th_‹¡_couÁ
();

804 
Run
();

807 
Sk
();

809 
CË¬Te¡ResuÉ
(
Te¡Info
* 
‹¡_šfo
) {

810 
	g‹¡_šfo
->
	g»suÉ_
.
CË¬
();

814 cÚ¡ 
	g¡d
::
¡ršg
 
‹¡_su™e_Çme_
;

815 cÚ¡ 
	g¡d
::
¡ršg
 
Çme_
;

818 cÚ¡ 
	g¡d
::
unique_±r
<cÚ¡ ::
¡d
::
¡ršg
> 
ty³_·¿m_
;

821 cÚ¡ 
	g¡d
::
unique_±r
<cÚ¡ ::
¡d
::
¡ršg
> 
v®ue_·¿m_
;

822 
	gš‹º®
::
CodeLoÿtiÚ
 
loÿtiÚ_
;

823 cÚ¡ 
	gš‹º®
::
Ty³Id
 
fixtu»_şass_id_
;

824 
boŞ
 
	gshould_run_
;

825 
boŞ
 
	gis_di§bËd_
;

826 
boŞ
 
	gm©ches_f‹r_
;

828 
boŞ
 
	gis_š_ªÙh”_sh¬d_
;

829 
	gš‹º®
::
Te¡FaùÜyBa£
* cÚ¡ 
çùÜy_
;

834 
Te¡ResuÉ
 
	g»suÉ_
;

836 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Te¡Info
);

842 şas 
	cGTEST_API_
 
	gTe¡Su™e
 {

843 
	gpublic
:

856 
Te¡Su™e
(cÚ¡ * 
Çme
, cÚ¡ * 
a_ty³_·¿m
,

857 
š‹º®
::
S‘UpTe¡Su™eFunc
 
£t_up_tc
,

858 
š‹º®
::
T—rDownTe¡Su™eFunc
 
‹¬_down_tc
);

861 
	gvœtu®
 ~
Te¡Su™e
();

864 cÚ¡ * 
Çme
(ècÚ¡ {  
	gÇme_
.
c_¡r
(); }

868 cÚ¡ * 
ty³_·¿m
() const {

869 ià(
	gty³_·¿m_
.
g‘
(è!ğ
nuÎ±r
è 
ty³_·¿m_
->
c_¡r
();

870  
	gnuÎ±r
;

874 
boŞ
 
should_run
(ècÚ¡ {  
	gshould_run_
; }

877 
sucûssful_‹¡_couÁ
() const;

880 
sk³d_‹¡_couÁ
() const;

883 
çed_‹¡_couÁ
() const;

886 
»pÜbË_di§bËd_‹¡_couÁ
() const;

889 
di§bËd_‹¡_couÁ
() const;

892 
»pÜbË_‹¡_couÁ
() const;

895 
‹¡_to_run_couÁ
() const;

898 
tÙ®_‹¡_couÁ
() const;

901 
boŞ
 
Pas£d
(ècÚ¡ {  !
Faed
(); }

904 
boŞ
 
Faed
() const {

905  
çed_‹¡_couÁ
(è> 0 || 
ad_hoc_‹¡_»suÉ
().
Faed
();

909 
TimeInMlis
 
–­£d_time
(ècÚ¡ {  
	g–­£d_time_
; }

913 
TimeInMlis
 
¡¬t_time¡amp
(ècÚ¡ {  
	g¡¬t_time¡amp_
; }

917 cÚ¡ 
Te¡Info
* 
G‘Te¡Info
(
i
) const;

921 cÚ¡ 
	gTe¡ResuÉ
& 
ad_hoc_‹¡_»suÉ
(ècÚ¡ {  
	gad_hoc_‹¡_»suÉ_
; }

923 
	g´iv©e
:

924 
ä›nd
 
şass
 
Te¡
;

925 
ä›nd
 
şass
 
	gš‹º®
::
Un™Te¡Im¶
;

928 
	g¡d
::
veùÜ
<
Te¡Info
*>& 
‹¡_šfo_li¡
(è{  
‹¡_šfo_li¡_
; }

931 cÚ¡ 
	g¡d
::
veùÜ
<
Te¡Info
*>& 
‹¡_šfo_li¡
() const {

932  
‹¡_šfo_li¡_
;

937 
Te¡Info
* 
G‘MubËTe¡Info
(
i
);

940 
£t_should_run
(
boŞ
 
should
è{ 
	gshould_run_
 = should; }

944 
AddTe¡Info
(
Te¡Info
 * 
‹¡_šfo
);

947 
CË¬ResuÉ
();

950 
CË¬Te¡Su™eResuÉ
(
Te¡Su™e
* 
‹¡_su™e
) {

951 
	g‹¡_su™e
->
CË¬ResuÉ
();

955 
Run
();

958 
Sk
();

962 
RunS‘UpTe¡Su™e
() {

963 ià(
	g£t_up_tc_
 !ğ
nuÎ±r
) {

964 (*
£t_up_tc_
)();

970 
RunT—rDownTe¡Su™e
() {

971 ià(
	g‹¬_down_tc_
 !ğ
nuÎ±r
) {

972 (*
‹¬_down_tc_
)();

977 
boŞ
 
Te¡Pas£d
(cÚ¡ 
Te¡Info
* 
‹¡_šfo
) {

978  
	g‹¡_šfo
->
should_run
(è&&e¡_šfo->
»suÉ
()->
Pas£d
();

982 
boŞ
 
Te¡Sk³d
(cÚ¡ 
Te¡Info
* 
‹¡_šfo
) {

983  
	g‹¡_šfo
->
should_run
(è&&e¡_šfo->
»suÉ
()->
Sk³d
();

987 
boŞ
 
Te¡Faed
(cÚ¡ 
Te¡Info
* 
‹¡_šfo
) {

988  
	g‹¡_šfo
->
should_run
(è&&e¡_šfo->
»suÉ
()->
Faed
();

993 
boŞ
 
Te¡R•ÜbËDi§bËd
(cÚ¡ 
Te¡Info
* 
‹¡_šfo
) {

994  
	g‹¡_šfo
->
is_»pÜbË
(è&&e¡_šfo->
	gis_di§bËd_
;

998 
boŞ
 
Te¡Di§bËd
(cÚ¡ 
Te¡Info
* 
‹¡_šfo
) {

999  
	g‹¡_šfo
->
	gis_di§bËd_
;

1003 
boŞ
 
Te¡R•ÜbË
(cÚ¡ 
Te¡Info
* 
‹¡_šfo
) {

1004  
	g‹¡_šfo
->
is_»pÜbË
();

1008 
boŞ
 
ShouldRunTe¡
(cÚ¡ 
Te¡Info
* 
‹¡_šfo
) {

1009  
	g‹¡_šfo
->
should_run
();

1013 
ShufæeTe¡s
(
š‹º®
::
Rªdom
* 
¿ndom
);

1016 
UnshufæeTe¡s
();

1019 
	g¡d
::
¡ršg
 
Çme_
;

1022 cÚ¡ 
	g¡d
::
unique_±r
<cÚ¡ ::
¡d
::
¡ršg
> 
ty³_·¿m_
;

1025 
	g¡d
::
veùÜ
<
Te¡Info
*> 
‹¡_šfo_li¡_
;

1029 
	g¡d
::
veùÜ
<> 
‹¡_šdiûs_
;

1031 
	gš‹º®
::
S‘UpTe¡Su™eFunc
 
£t_up_tc_
;

1033 
	gš‹º®
::
T—rDownTe¡Su™eFunc
 
‹¬_down_tc_
;

1035 
boŞ
 
	gshould_run_
;

1037 
TimeInMlis
 
	g¡¬t_time¡amp_
;

1039 
TimeInMlis
 
	g–­£d_time_
;

1042 
Te¡ResuÉ
 
	gad_hoc_‹¡_»suÉ_
;

1045 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Te¡Su™e
);

1062 şas 
	cEnvœÚm’t
 {

1063 
	gpublic
:

1065 
vœtu®
 ~
EnvœÚm’t
() {}

1068 
vœtu®
 
S‘Up
() {}

1071 
vœtu®
 
T—rDown
() {}

1072 
´iv©e
:

1075 
	sS‘up_should_be_¥–Ëd_S‘Up
 {};

1076 
vœtu®
 
S‘up_should_be_¥–Ëd_S‘Up
* 
S‘up
(è{  
	gnuÎ±r
; }

1079 #ià
GTEST_HAS_EXCEPTIONS


1082 şas 
	cGTEST_API_
 
	gAs£¹iÚExû±iÚ


1083 : 
public
 
š‹º®
::
GoogËTe¡Fau»Exû±iÚ
 {

1084 
public
:

1085 
ex¶ic™
 
As£¹iÚExû±iÚ
(cÚ¡ 
Te¡P¬tResuÉ
& 
»suÉ
)

1086 : 
GoogËTe¡Fau»Exû±iÚ
(
»suÉ
) {}

1093 şas 
	cTe¡Ev’tLi¡’”
 {

1094 
	gpublic
:

1095 
vœtu®
 ~
Te¡Ev’tLi¡’”
() {}

1098 
vœtu®
 
OnTe¡Prog¿mS¹
(cÚ¡ 
Un™Te¡
& 
un™_‹¡
) = 0;

1103 
vœtu®
 
OnTe¡I‹¿tiÚS¹
(cÚ¡ 
Un™Te¡
& 
un™_‹¡
,

1104 
™”©iÚ
) = 0;

1107 
vœtu®
 
OnEnvœÚm’tsS‘UpS¹
(cÚ¡ 
Un™Te¡
& 
un™_‹¡
) = 0;

1110 
vœtu®
 
OnEnvœÚm’tsS‘UpEnd
(cÚ¡ 
Un™Te¡
& 
un™_‹¡
) = 0;

1113 
vœtu®
 
OnTe¡Su™eS¹
(cÚ¡ 
Te¡Su™e
& ) {}

1116 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


1117 
vœtu®
 
OnTe¡Ca£S¹
(cÚ¡ 
Te¡Ca£
& ) {}

1121 
vœtu®
 
OnTe¡S¹
(cÚ¡ 
Te¡Info
& 
‹¡_šfo
) = 0;

1126 
vœtu®
 
OnTe¡P¬tResuÉ
(cÚ¡ 
Te¡P¬tResuÉ
& 
‹¡_·¹_»suÉ
) = 0;

1129 
vœtu®
 
OnTe¡End
(cÚ¡ 
Te¡Info
& 
‹¡_šfo
) = 0;

1132 
vœtu®
 
OnTe¡Su™eEnd
(cÚ¡ 
Te¡Su™e
& ) {}

1135 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


1136 
vœtu®
 
OnTe¡Ca£End
(cÚ¡ 
Te¡Ca£
& ) {}

1140 
vœtu®
 
OnEnvœÚm’tsT—rDownS¹
(cÚ¡ 
Un™Te¡
& 
un™_‹¡
) = 0;

1143 
vœtu®
 
OnEnvœÚm’tsT—rDownEnd
(cÚ¡ 
Un™Te¡
& 
un™_‹¡
) = 0;

1146 
vœtu®
 
OnTe¡I‹¿tiÚEnd
(cÚ¡ 
Un™Te¡
& 
un™_‹¡
,

1147 
™”©iÚ
) = 0;

1150 
vœtu®
 
OnTe¡Prog¿mEnd
(cÚ¡ 
Un™Te¡
& 
un™_‹¡
) = 0;

1158 şas 
	cEm±yTe¡Ev’tLi¡’”
 : 
public
 
Te¡Ev’tLi¡’”
 {

1159 
public
:

1160 
OnTe¡Prog¿mS¹
(cÚ¡ 
Un™Te¡
& ) 
ov”ride
 {}

1161 
OnTe¡I‹¿tiÚS¹
(cÚ¡ 
Un™Te¡
& ,

1162 è
	gov”ride
 {}

1163 
OnEnvœÚm’tsS‘UpS¹
(cÚ¡ 
Un™Te¡
& ) 
	gov”ride
 {}

1164 
OnEnvœÚm’tsS‘UpEnd
(cÚ¡ 
Un™Te¡
& ) 
	gov”ride
 {}

1165 
OnTe¡Su™eS¹
(cÚ¡ 
Te¡Su™e
& ) 
	gov”ride
 {}

1167 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


1168 
OnTe¡Ca£S¹
(cÚ¡ 
Te¡Ca£
& ) 
	gov”ride
 {}

1171 
OnTe¡S¹
(cÚ¡ 
Te¡Info
& ) 
	gov”ride
 {}

1172 
OnTe¡P¬tResuÉ
(cÚ¡ 
Te¡P¬tResuÉ
& ) 
	gov”ride
 {}

1173 
OnTe¡End
(cÚ¡ 
Te¡Info
& ) 
	gov”ride
 {}

1174 
OnTe¡Su™eEnd
(cÚ¡ 
Te¡Su™e
& ) 
	gov”ride
 {}

1175 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


1176 
OnTe¡Ca£End
(cÚ¡ 
Te¡Ca£
& ) 
	gov”ride
 {}

1179 
OnEnvœÚm’tsT—rDownS¹
(cÚ¡ 
Un™Te¡
& ) 
	gov”ride
 {}

1180 
OnEnvœÚm’tsT—rDownEnd
(cÚ¡ 
Un™Te¡
& ) 
	gov”ride
 {}

1181 
OnTe¡I‹¿tiÚEnd
(cÚ¡ 
Un™Te¡
& ,

1182 è
	gov”ride
 {}

1183 
OnTe¡Prog¿mEnd
(cÚ¡ 
Un™Te¡
& ) 
	gov”ride
 {}

1187 şas 
	cGTEST_API_
 
	gTe¡Ev’tLi¡’”s
 {

1188 
	gpublic
:

1189 
Te¡Ev’tLi¡’”s
();

1190 ~
Te¡Ev’tLi¡’”s
();

1195 
Aµ’d
(
Te¡Ev’tLi¡’”
* 
li¡’”
);

1200 
Te¡Ev’tLi¡’”
* 
R–—£
(Te¡Ev’tLi¡’”* 
li¡’”
);

1207 
Te¡Ev’tLi¡’”
* 
deçuÉ_»suÉ_´š‹r
() const {

1208  
	gdeçuÉ_»suÉ_´š‹r_
;

1218 
Te¡Ev’tLi¡’”
* 
deçuÉ_xml_g’”©Ü
() const {

1219  
	gdeçuÉ_xml_g’”©Ü_
;

1222 
	g´iv©e
:

1223 
ä›nd
 
şass
 
Te¡Su™e
;

1224 
ä›nd
 
şass
 
	gTe¡Info
;

1225 
ä›nd
 
şass
 
	gš‹º®
::
DeçuÉGlob®Te¡P¬tResuÉR•Ü‹r
;

1226 
ä›nd
 
şass
 
	gš‹º®
::
NoExecD—thTe¡
;

1227 
ä›nd
 
şass
 
	gš‹º®
::
Te¡Ev’tLi¡’”sAcûssÜ
;

1228 
ä›nd
 
şass
 
	gš‹º®
::
Un™Te¡Im¶
;

1232 
Te¡Ev’tLi¡’”
* 
»³©”
();

1239 
S‘DeçuÉResuÉPrš‹r
(
Te¡Ev’tLi¡’”
* 
li¡’”
);

1246 
S‘DeçuÉXmlG’”©Ü
(
Te¡Ev’tLi¡’”
* 
li¡’”
);

1250 
boŞ
 
Ev’tFÜw¬dšgEÇbËd
() const;

1251 
Suµ»ssEv’tFÜw¬dšg
();

1254 
	gš‹º®
::
Te¡Ev’tR•—‹r
* 
»³©”_
;

1256 
Te¡Ev’tLi¡’”
* 
	gdeçuÉ_»suÉ_´š‹r_
;

1258 
Te¡Ev’tLi¡’”
* 
	gdeçuÉ_xml_g’”©Ü_
;

1261 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Te¡Ev’tLi¡’”s
);

1274 şas 
	cGTEST_API_
 
	gUn™Te¡
 {

1275 
	gpublic
:

1279 
Un™Te¡
* 
G‘In¡ªû
();

1287 
Run
(è
	gGTEST_MUST_USE_RESULT_
;

1291 cÚ¡ * 
Üigš®_wÜkšg_dœ
() const;

1295 cÚ¡ 
Te¡Su™e
* 
cu¼’t_‹¡_su™e
(ècÚ¡ 
GTEST_LOCK_EXCLUDED_
(
mu‹x_
);

1298 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


1299 cÚ¡ 
Te¡Ca£
* 
cu¼’t_‹¡_ÿ£
(ècÚ¡ 
GTEST_LOCK_EXCLUDED_
(
mu‹x_
);

1304 cÚ¡ 
Te¡Info
* 
cu¼’t_‹¡_šfo
() const

1305 
GTEST_LOCK_EXCLUDED_
(
mu‹x_
);

1308 
¿ndom_£ed
() const;

1314 
	gš‹º®
::
P¬am‘”izedTe¡Su™eRegi¡ry
& 
·¿m‘”ized_‹¡_»gi¡ry
()

1315 
GTEST_LOCK_EXCLUDED_
(
mu‹x_
);

1318 
sucûssful_‹¡_su™e_couÁ
() const;

1321 
çed_‹¡_su™e_couÁ
() const;

1324 
tÙ®_‹¡_su™e_couÁ
() const;

1328 
‹¡_su™e_to_run_couÁ
() const;

1331 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


1332 
sucûssful_‹¡_ÿ£_couÁ
() const;

1333 
çed_‹¡_ÿ£_couÁ
() const;

1334 
tÙ®_‹¡_ÿ£_couÁ
() const;

1335 
‹¡_ÿ£_to_run_couÁ
() const;

1339 
sucûssful_‹¡_couÁ
() const;

1342 
sk³d_‹¡_couÁ
() const;

1345 
çed_‹¡_couÁ
() const;

1348 
»pÜbË_di§bËd_‹¡_couÁ
() const;

1351 
di§bËd_‹¡_couÁ
() const;

1354 
»pÜbË_‹¡_couÁ
() const;

1357 
tÙ®_‹¡_couÁ
() const;

1360 
‹¡_to_run_couÁ
() const;

1364 
TimeInMlis
 
¡¬t_time¡amp
() const;

1367 
TimeInMlis
 
–­£d_time
() const;

1371 
boŞ
 
Pas£d
() const;

1375 
boŞ
 
Faed
() const;

1379 cÚ¡ 
Te¡Su™e
* 
G‘Te¡Su™e
(
i
) const;

1382 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


1383 cÚ¡ 
Te¡Ca£
* 
G‘Te¡Ca£
(
i
) const;

1388 cÚ¡ 
	gTe¡ResuÉ
& 
ad_hoc_‹¡_»suÉ
() const;

1392 
	gTe¡Ev’tLi¡’”s
& 
li¡’”s
();

1394 
	g´iv©e
:

1404 
EnvœÚm’t
* 
AddEnvœÚm’t
(EnvœÚm’t* 
’v
);

1410 
AddTe¡P¬tResuÉ
(
Te¡P¬tResuÉ
::
Ty³
 
»suÉ_ty³
,

1411 cÚ¡ * 
fe_Çme
,

1412 
lše_numb”
,

1413 cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
,

1414 cÚ¡ 
¡d
::
¡ršg
& 
os_¡ack_Œaû
)

1415 
GTEST_LOCK_EXCLUDED_
(
mu‹x_
);

1422 
RecÜdPrİ”ty
(cÚ¡ 
¡d
::
¡ršg
& 
key
, cÚ¡ std::¡ršg& 
v®ue
);

1426 
Te¡Su™e
* 
G‘MubËTe¡Su™e
(
i
);

1429 
	gš‹º®
::
Un™Te¡Im¶
* 
im¶
(è{  
im¶_
; }

1430 cÚ¡ 
	gš‹º®
::
Un™Te¡Im¶
* 
im¶
(ècÚ¡ {  
im¶_
; }

1434 
ä›nd
 
şass
 
	gScİedT¿û
;

1435 
ä›nd
 
şass
 
	gTe¡
;

1436 
ä›nd
 
şass
 
	gš‹º®
::
As£¹H–³r
;

1437 
ä›nd
 
şass
 
	gš‹º®
::
SŒ—mšgLi¡’”Te¡
;

1438 
ä›nd
 
şass
 
	gš‹º®
::
Un™Te¡RecÜdPrİ”tyTe¡H–³r
;

1439 
ä›nd
 
EnvœÚm’t
* 
AddGlob®Te¡EnvœÚm’t
(EnvœÚm’t* 
’v
);

1440 
ä›nd
 
	g¡d
::
£t
<
¡d
::
¡ršg
>* 
š‹º®
::
G‘IgnÜedP¬am‘”izedTe¡Su™es
();

1441 
ä›nd
 
	gš‹º®
::
Un™Te¡Im¶
* 
š‹º®
::
G‘Un™Te¡Im¶
();

1442 
ä›nd
 
	gš‹º®
::
R•ÜtFau»InUnknownLoÿtiÚ
(

1443 
Te¡P¬tResuÉ
::
Ty³
 
»suÉ_ty³
,

1444 cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
);

1447 
Un™Te¡
();

1450 
	gvœtu®
 ~
Un™Te¡
();

1454 
PushGTe¡T¿û
(cÚ¡ 
š‹º®
::
T¿ûInfo
& 
Œaû
)

1455 
GTEST_LOCK_EXCLUDED_
(
mu‹x_
);

1458 
PİGTe¡T¿û
()

1459 
GTEST_LOCK_EXCLUDED_
(
mu‹x_
);

1463 
mubË
 
	gš‹º®
::
Mu‹x
 
mu‹x_
;

1469 
	gš‹º®
::
Un™Te¡Im¶
* 
im¶_
;

1472 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Un™Te¡
);

1493 
šlše
 
EnvœÚm’t
* 
	$AddGlob®Te¡EnvœÚm’t
(
EnvœÚm’t
* 
’v
) {

1494  
Un™Te¡
::
	`G‘In¡ªû
()->
	`AddEnvœÚm’t
(
’v
);

1495 
	}
}

1506 
GTEST_API_
 
In™GoogËTe¡
(* 
¬gc
, ** 
¬gv
);

1510 
GTEST_API_
 
In™GoogËTe¡
(* 
¬gc
, 
wch¬_t
** 
¬gv
);

1514 
GTEST_API_
 
In™GoogËTe¡
();

1516 
Çme¥aû
 
	gš‹º®
 {

1521 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
>

1522 
As£¹iÚResuÉ
 
CmpH–³rEQFau»
(cÚ¡ * 
lhs_ex´essiÚ
,

1523 cÚ¡ * 
rhs_ex´essiÚ
,

1524 cÚ¡ 
T1
& 
lhs
, cÚ¡ 
T2
& 
rhs
) {

1525  
EqFau»
(
lhs_ex´essiÚ
,

1526 
rhs_ex´essiÚ
,

1527 
FÜm©FÜCom·risÚFau»Mes§ge
(
lhs
, 
rhs
),

1528 
FÜm©FÜCom·risÚFau»Mes§ge
(
rhs
, 
lhs
),

1529 
çl£
);

1535 
	sçk‘y³
 {};

1536 
šlše
 
boŞ
 
	gİ”©Ü
==(
çk‘y³
, 
	gçk‘y³
è{  
	gŒue
; }

1537 
šlše
 
boŞ
 
	gİ”©Ü
!=(
çk‘y³
, 
	gçk‘y³
è{  
	gçl£
; }

1540 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
>

1541 
As£¹iÚResuÉ
 
CmpH–³rEQ
(cÚ¡ * 
lhs_ex´essiÚ
,

1542 cÚ¡ * 
rhs_ex´essiÚ
,

1543 cÚ¡ 
T1
& 
lhs
,

1544 cÚ¡ 
T2
& 
rhs
) {

1545 ià(
	glhs
 =ğ
rhs
) {

1546  
As£¹iÚSucûss
();

1549  
CmpH–³rEQFau»
(
lhs_ex´essiÚ
, 
rhs_ex´essiÚ
, 
lhs
, 
rhs
);

1552 şas 
	cEqH–³r
 {

1553 
	gpublic
:

1555 
‹m¶©e
 <

1556 
ty³Çme
 
T1
,y³Çm
	gT2
,

1559 
ty³Çme
 
	g¡d
::
’abË_if
<!
¡d
::
is_š‹g¿l
<
T1
>::
v®ue
 ||

1560 !
¡d
::
is_poš‹r
<
T2
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

1561 
As£¹iÚResuÉ
 
Com·»
(cÚ¡ * 
lhs_ex´essiÚ
,

1562 cÚ¡ * 
rhs_ex´essiÚ
, cÚ¡ 
T1
& 
lhs
,

1563 cÚ¡ 
T2
& 
rhs
) {

1564  
CmpH–³rEQ
(
lhs_ex´essiÚ
, 
rhs_ex´essiÚ
, 
lhs
, 
rhs
);

1573 
As£¹iÚResuÉ
 
Com·»
(cÚ¡ * 
lhs_ex´essiÚ
,

1574 cÚ¡ * 
rhs_ex´essiÚ
,

1575 
Bigge¡IÁ
 
lhs
,

1576 
Bigge¡IÁ
 
rhs
) {

1577  
CmpH–³rEQ
(
lhs_ex´essiÚ
, 
rhs_ex´essiÚ
, 
lhs
, 
rhs
);

1580 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1581 
As£¹iÚResuÉ
 
Com·»
(

1582 cÚ¡ * 
lhs_ex´essiÚ
, cÚ¡ * 
rhs_ex´essiÚ
,

1584 
¡d
::
nuÎ±r_t
 , 
T
* 
rhs
) {

1586  
CmpH–³rEQ
(
lhs_ex´essiÚ
, 
rhs_ex´essiÚ
, 
¡©ic_ÿ¡
<
T
*>(
nuÎ±r
),

1587 
rhs
);

1594 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
>

1595 
As£¹iÚResuÉ
 
CmpH–³rOpFau»
(cÚ¡ * 
ex´1
, cÚ¡ * 
ex´2
,

1596 cÚ¡ 
T1
& 
v®1
, cÚ¡ 
T2
& 
v®2
,

1597 cÚ¡ * 
İ
) {

1598  
As£¹iÚFau»
()

1599 << "Ex³ùed: (" << 
	gex´1
 << "è" << 
	gİ
 << " (" << 
	gex´2


1600 << "),‡ùu®: " << 
FÜm©FÜCom·risÚFau»Mes§ge
(
v®1
, 
v®2
)

1601 << " v " << 
FÜm©FÜCom·risÚFau»Mes§ge
(
v®2
, 
v®1
);

1610 
	#GTEST_IMPL_CMP_HELPER_
(
İ_Çme
, 
İ
)\

1611 
‹m¶©e
 <
ty³Çme
 
T1
,y³Çm
T2
>\

1612 
As£¹iÚResuÉ
 
CmpH–³r
##
	`İ_Çme
(cÚ¡ * 
ex´1
, cÚ¡ * 
ex´2
, \

1613 cÚ¡ 
T1
& 
v®1
, cÚ¡ 
T2
& 
v®2
) {\

1614 ià(
v®1
 
İ
 
v®2
) {\

1615  
	`As£¹iÚSucûss
();\

1617  
	`CmpH–³rOpFau»
(
ex´1
, 
ex´2
, 
v®1
, 
v®2
, #op);\

1619 }

	)

1624 
GTEST_IMPL_CMP_HELPER_
(
NE
, !=)

1626 
GTEST_IMPL_CMP_HELPER_
(
LE
, <=)

1628 
GTEST_IMPL_CMP_HELPER_
(
LT
, <)

1630 
GTEST_IMPL_CMP_HELPER_
(
GE
, >=)

1632 
GTEST_IMPL_CMP_HELPER_
(
GT
, >)

1634 #undeà
GTEST_IMPL_CMP_HELPER_


1639 
GTEST_API_
 
As£¹iÚResuÉ
 
CmpH–³rSTREQ
(cÚ¡ * 
s1_ex´essiÚ
,

1640 cÚ¡ * 
s2_ex´essiÚ
,

1641 cÚ¡ * 
s1
,

1642 cÚ¡ * 
s2
);

1647 
GTEST_API_
 
As£¹iÚResuÉ
 
CmpH–³rSTRCASEEQ
(cÚ¡ * 
s1_ex´essiÚ
,

1648 cÚ¡ * 
s2_ex´essiÚ
,

1649 cÚ¡ * 
s1
,

1650 cÚ¡ * 
s2
);

1655 
GTEST_API_
 
As£¹iÚResuÉ
 
CmpH–³rSTRNE
(cÚ¡ * 
s1_ex´essiÚ
,

1656 cÚ¡ * 
s2_ex´essiÚ
,

1657 cÚ¡ * 
s1
,

1658 cÚ¡ * 
s2
);

1663 
GTEST_API_
 
As£¹iÚResuÉ
 
CmpH–³rSTRCASENE
(cÚ¡ * 
s1_ex´essiÚ
,

1664 cÚ¡ * 
s2_ex´essiÚ
,

1665 cÚ¡ * 
s1
,

1666 cÚ¡ * 
s2
);

1672 
GTEST_API_
 
As£¹iÚResuÉ
 
CmpH–³rSTREQ
(cÚ¡ * 
s1_ex´essiÚ
,

1673 cÚ¡ * 
s2_ex´essiÚ
,

1674 cÚ¡ 
wch¬_t
* 
s1
,

1675 cÚ¡ 
wch¬_t
* 
s2
);

1680 
GTEST_API_
 
As£¹iÚResuÉ
 
CmpH–³rSTRNE
(cÚ¡ * 
s1_ex´essiÚ
,

1681 cÚ¡ * 
s2_ex´essiÚ
,

1682 cÚ¡ 
wch¬_t
* 
s1
,

1683 cÚ¡ 
wch¬_t
* 
s2
);

1695 
GTEST_API_
 
As£¹iÚResuÉ
 
IsSub¡ršg
(

1696 cÚ¡ * 
ÃedË_ex´
, cÚ¡ * 
hay¡ack_ex´
,

1697 cÚ¡ * 
ÃedË
, cÚ¡ * 
hay¡ack
);

1698 
GTEST_API_
 
As£¹iÚResuÉ
 
IsSub¡ršg
(

1699 cÚ¡ * 
ÃedË_ex´
, cÚ¡ * 
hay¡ack_ex´
,

1700 cÚ¡ 
wch¬_t
* 
ÃedË
, cÚ¡ wch¬_t* 
hay¡ack
);

1701 
GTEST_API_
 
As£¹iÚResuÉ
 
IsNÙSub¡ršg
(

1702 cÚ¡ * 
ÃedË_ex´
, cÚ¡ * 
hay¡ack_ex´
,

1703 cÚ¡ * 
ÃedË
, cÚ¡ * 
hay¡ack
);

1704 
GTEST_API_
 
As£¹iÚResuÉ
 
IsNÙSub¡ršg
(

1705 cÚ¡ * 
ÃedË_ex´
, cÚ¡ * 
hay¡ack_ex´
,

1706 cÚ¡ 
wch¬_t
* 
ÃedË
, cÚ¡ wch¬_t* 
hay¡ack
);

1707 
GTEST_API_
 
As£¹iÚResuÉ
 
IsSub¡ršg
(

1708 cÚ¡ * 
ÃedË_ex´
, cÚ¡ * 
hay¡ack_ex´
,

1709 cÚ¡ ::
¡d
::
¡ršg
& 
ÃedË
, cÚ¡ ::¡d::¡ršg& 
hay¡ack
);

1710 
GTEST_API_
 
As£¹iÚResuÉ
 
IsNÙSub¡ršg
(

1711 cÚ¡ * 
ÃedË_ex´
, cÚ¡ * 
hay¡ack_ex´
,

1712 cÚ¡ ::
¡d
::
¡ršg
& 
ÃedË
, cÚ¡ ::¡d::¡ršg& 
hay¡ack
);

1714 #ià
GTEST_HAS_STD_WSTRING


1715 
GTEST_API_
 
As£¹iÚResuÉ
 
IsSub¡ršg
(

1716 cÚ¡ * 
ÃedË_ex´
, cÚ¡ * 
hay¡ack_ex´
,

1717 cÚ¡ ::
¡d
::
w¡ršg
& 
ÃedË
, cÚ¡ ::¡d::w¡ršg& 
hay¡ack
);

1718 
GTEST_API_
 
As£¹iÚResuÉ
 
IsNÙSub¡ršg
(

1719 cÚ¡ * 
ÃedË_ex´
, cÚ¡ * 
hay¡ack_ex´
,

1720 cÚ¡ ::
¡d
::
w¡ršg
& 
ÃedË
, cÚ¡ ::¡d::w¡ršg& 
hay¡ack
);

1723 
Çme¥aû
 
	gš‹º®
 {

1732 
	g‹m¶©e
 <
ty³Çme
 
	gRawTy³
>

1733 
As£¹iÚResuÉ
 
CmpH–³rFlßtšgPoštEQ
(cÚ¡ * 
lhs_ex´essiÚ
,

1734 cÚ¡ * 
rhs_ex´essiÚ
,

1735 
RawTy³
 
lhs_v®ue
,

1736 
RawTy³
 
rhs_v®ue
) {

1737 cÚ¡ 
	gFlßtšgPošt
<
	gRawTy³
> 
lhs
(
lhs_v®ue
), 
rhs
(
rhs_v®ue
);

1739 ià(
	glhs
.
Almo¡Equ®s
(
rhs
)) {

1740  
As£¹iÚSucûss
();

1743 ::
¡d
::
¡ršg¡»am
 
lhs_ss
;

1744 
	glhs_ss
 << 
	g¡d
::
£»cisiÚ
(
¡d
::
num”ic_lim™s
<
RawTy³
>::
dig™s10
 + 2)

1745 << 
lhs_v®ue
;

1747 ::
¡d
::
¡ršg¡»am
 
rhs_ss
;

1748 
	grhs_ss
 << 
	g¡d
::
£»cisiÚ
(
¡d
::
num”ic_lim™s
<
RawTy³
>::
dig™s10
 + 2)

1749 << 
rhs_v®ue
;

1751  
EqFau»
(
lhs_ex´essiÚ
,

1752 
rhs_ex´essiÚ
,

1753 
SŒšgSŒ—mToSŒšg
(&
lhs_ss
),

1754 
SŒšgSŒ—mToSŒšg
(&
rhs_ss
),

1755 
çl£
);

1761 
GTEST_API_
 
As£¹iÚResuÉ
 
DoubËN—rP»dFÜm©
(cÚ¡ * 
ex´1
,

1762 cÚ¡ * 
ex´2
,

1763 cÚ¡ * 
abs_”rÜ_ex´
,

1764 
v®1
,

1765 
v®2
,

1766 
abs_”rÜ
);

1770 şas 
	cGTEST_API_
 
	gAs£¹H–³r
 {

1771 
	gpublic
:

1773 
As£¹H–³r
(
Te¡P¬tResuÉ
::
Ty³
 
ty³
,

1774 cÚ¡ * 
fe
,

1775 
lše
,

1776 cÚ¡ * 
mes§ge
);

1777 ~
As£¹H–³r
();

1781 
	gİ”©Ü
=(cÚ¡ 
Mes§ge
& 
mes§ge
) const;

1783 
	g´iv©e
:

1788 
	sAs£¹H–³rD©a
 {

1789 
As£¹H–³rD©a
(
Te¡P¬tResuÉ
::
Ty³
 
t
,

1790 cÚ¡ * 
¤cfe
,

1791 
lše_num
,

1792 cÚ¡ * 
msg
)

1793 : 
ty³
(
t
), 
fe
(
¤cfe
), 
lše
(
lše_num
), 
mes§ge
(
msg
) { }

1795 
	gTe¡P¬tResuÉ
::
Ty³
 cÚ¡ 
ty³
;

1796 cÚ¡ * cÚ¡ 
	gfe
;

1797 cÚ¡ 
	glše
;

1798 
	g¡d
::
¡ršg
 cÚ¡ 
mes§ge
;

1800 
	g´iv©e
:

1801 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
As£¹H–³rD©a
);

1804 
As£¹H–³rD©a
* cÚ¡ 
	gd©a_
;

1806 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
As£¹H–³r
);

1845 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1846 şas 
	cW™hP¬amIÁ”çû
 {

1847 
	gpublic
:

1848 
T
 
	tP¬amTy³
;

1849 
	gvœtu®
 ~
W™hP¬amIÁ”çû
() {}

1853 cÚ¡ 
	gP¬amTy³
& 
G‘P¬am
() {

1854 
GTEST_CHECK_
(
·¿m‘”_
 !ğ
nuÎ±r
)

1857  *
	g·¿m‘”_
;

1860 
	g´iv©e
:

1863 
S‘P¬am
(cÚ¡ 
P¬amTy³
* 
·¿m‘”
) {

1864 
·¿m‘”_
 = 
·¿m‘”
;

1868 cÚ¡ 
P¬amTy³
* 
	g·¿m‘”_
;

1871 
	g‹m¶©e
 <
şass
 
	gTe¡CÏss
> 
ä›nd
 cÏs 
	gš‹º®
::
P¬am‘”izedTe¡FaùÜy
;

1874 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1875 cÚ¡ 
T
* 
	gW™hP¬amIÁ”çû
<
	gT
>::
·¿m‘”_
 = 
nuÎ±r
;

1880 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1881 
şass
 
	gTe¡W™hP¬am
 : 
public
 
Te¡
,…ubliø
	gW™hP¬amIÁ”çû
<
	gT
> {

1889 
	#GTEST_SKIP
(è
	`GTEST_SKIP_
("")

	)

1909 
	#ADD_FAILURE
(è
	`GTEST_NONFATAL_FAILURE_
("Faed")

	)

1913 
	#ADD_FAILURE_AT
(
fe
, 
lše
) \

1914 
	`GTEST_MESSAGE_AT_
(
fe
, 
lše
, "Failed", \

1915 ::
‹¡šg
::
Te¡P¬tResuÉ
::
kNÚF©®Fau»
)

	)

1918 
	#GTEST_FAIL
(è
	`GTEST_FATAL_FAILURE_
("Faed")

	)

1921 
	#GTEST_FAIL_AT
(
fe
, 
lše
) \

1922 
	`GTEST_MESSAGE_AT_
(
fe
, 
lše
, "Failed", \

1923 ::
‹¡šg
::
Te¡P¬tResuÉ
::
kF©®Fau»
)

	)

1927 #ià!
GTEST_DONT_DEFINE_FAIL


1928 
	#FAIL
(è
	$GTEST_FAIL
()

	)

1932 
	#GTEST_SUCCEED
(è
	`GTEST_SUCCESS_
("Sucûeded")

	)

1936 #ià!
GTEST_DONT_DEFINE_SUCCEED


1937 
	#SUCCEED
(è
	$GTEST_SUCCEED
()

	)

1949 
	#EXPECT_THROW
(
¡©em’t
, 
ex³ùed_exû±iÚ
) \

1950 
	$GTEST_TEST_THROW_
(
¡©em’t
, 
ex³ùed_exû±iÚ
, 
GTEST_NONFATAL_FAILURE_
)

	)

1951 
	#EXPECT_NO_THROW
(
¡©em’t
) \

1952 
	$GTEST_TEST_NO_THROW_
(
¡©em’t
, 
GTEST_NONFATAL_FAILURE_
)

	)

1953 
	#EXPECT_ANY_THROW
(
¡©em’t
) \

1954 
	$GTEST_TEST_ANY_THROW_
(
¡©em’t
, 
GTEST_NONFATAL_FAILURE_
)

	)

1955 
	#ASSERT_THROW
(
¡©em’t
, 
ex³ùed_exû±iÚ
) \

1956 
	$GTEST_TEST_THROW_
(
¡©em’t
, 
ex³ùed_exû±iÚ
, 
GTEST_FATAL_FAILURE_
)

	)

1957 
	#ASSERT_NO_THROW
(
¡©em’t
) \

1958 
	$GTEST_TEST_NO_THROW_
(
¡©em’t
, 
GTEST_FATAL_FAILURE_
)

	)

1959 
	#ASSERT_ANY_THROW
(
¡©em’t
) \

1960 
	$GTEST_TEST_ANY_THROW_
(
¡©em’t
, 
GTEST_FATAL_FAILURE_
)

	)

1965 
	#GTEST_EXPECT_TRUE
(
cÚd™iÚ
) \

1966 
	`GTEST_TEST_BOOLEAN_
(
cÚd™iÚ
, #cÚd™iÚ, 
çl£
, 
Œue
, \

1967 
GTEST_NONFATAL_FAILURE_
)

	)

1968 
	#GTEST_EXPECT_FALSE
(
cÚd™iÚ
) \

1969 
	`GTEST_TEST_BOOLEAN_
(!(
cÚd™iÚ
), #cÚd™iÚ, 
Œue
, 
çl£
, \

1970 
GTEST_NONFATAL_FAILURE_
)

	)

1971 
	#GTEST_ASSERT_TRUE
(
cÚd™iÚ
) \

1972 
	`GTEST_TEST_BOOLEAN_
(
cÚd™iÚ
, #cÚd™iÚ, 
çl£
, 
Œue
, \

1973 
GTEST_FATAL_FAILURE_
)

	)

1974 
	#GTEST_ASSERT_FALSE
(
cÚd™iÚ
) \

1975 
	`GTEST_TEST_BOOLEAN_
(!(
cÚd™iÚ
), #cÚd™iÚ, 
Œue
, 
çl£
, \

1976 
GTEST_FATAL_FAILURE_
)

	)

1981 #ià!
GTEST_DONT_DEFINE_EXPECT_TRUE


1982 
	#EXPECT_TRUE
(
cÚd™iÚ
è
	$GTEST_EXPECT_TRUE
(
cÚd™iÚ
)

	)

1985 #ià!
GTEST_DONT_DEFINE_EXPECT_FALSE


1986 
	#EXPECT_FALSE
(
cÚd™iÚ
è
	$GTEST_EXPECT_FALSE
(
cÚd™iÚ
)

	)

1989 #ià!
GTEST_DONT_DEFINE_ASSERT_TRUE


1990 
	#ASSERT_TRUE
(
cÚd™iÚ
è
	$GTEST_ASSERT_TRUE
(
cÚd™iÚ
)

	)

1993 #ià!
GTEST_DONT_DEFINE_ASSERT_FALSE


1994 
	#ASSERT_FALSE
(
cÚd™iÚ
è
	$GTEST_ASSERT_FALSE
(
cÚd™iÚ
)

	)

2043 
	#EXPECT_EQ
(
v®1
, 
v®2
) \

2044 
	$EXPECT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
EqH–³r
::
Com·»
, 
v®1
, 
v®2
)

	)

2045 
	#EXPECT_NE
(
v®1
, 
v®2
) \

2046 
	$EXPECT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rNE
, 
v®1
, 
v®2
)

	)

2047 
	#EXPECT_LE
(
v®1
, 
v®2
) \

2048 
	$EXPECT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rLE
, 
v®1
, 
v®2
)

	)

2049 
	#EXPECT_LT
(
v®1
, 
v®2
) \

2050 
	$EXPECT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rLT
, 
v®1
, 
v®2
)

	)

2051 
	#EXPECT_GE
(
v®1
, 
v®2
) \

2052 
	$EXPECT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rGE
, 
v®1
, 
v®2
)

	)

2053 
	#EXPECT_GT
(
v®1
, 
v®2
) \

2054 
	$EXPECT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rGT
, 
v®1
, 
v®2
)

	)

2056 
	#GTEST_ASSERT_EQ
(
v®1
, 
v®2
) \

2057 
	$ASSERT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
EqH–³r
::
Com·»
, 
v®1
, 
v®2
)

	)

2058 
	#GTEST_ASSERT_NE
(
v®1
, 
v®2
) \

2059 
	$ASSERT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rNE
, 
v®1
, 
v®2
)

	)

2060 
	#GTEST_ASSERT_LE
(
v®1
, 
v®2
) \

2061 
	$ASSERT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rLE
, 
v®1
, 
v®2
)

	)

2062 
	#GTEST_ASSERT_LT
(
v®1
, 
v®2
) \

2063 
	$ASSERT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rLT
, 
v®1
, 
v®2
)

	)

2064 
	#GTEST_ASSERT_GE
(
v®1
, 
v®2
) \

2065 
	$ASSERT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rGE
, 
v®1
, 
v®2
)

	)

2066 
	#GTEST_ASSERT_GT
(
v®1
, 
v®2
) \

2067 
	$ASSERT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rGT
, 
v®1
, 
v®2
)

	)

2072 #ià!
GTEST_DONT_DEFINE_ASSERT_EQ


2073 
	#ASSERT_EQ
(
v®1
, 
v®2
è
	$GTEST_ASSERT_EQ
(
v®1
, 
v®2
)

	)

2076 #ià!
GTEST_DONT_DEFINE_ASSERT_NE


2077 
	#ASSERT_NE
(
v®1
, 
v®2
è
	$GTEST_ASSERT_NE
(
v®1
, 
v®2
)

	)

2080 #ià!
GTEST_DONT_DEFINE_ASSERT_LE


2081 
	#ASSERT_LE
(
v®1
, 
v®2
è
	$GTEST_ASSERT_LE
(
v®1
, 
v®2
)

	)

2084 #ià!
GTEST_DONT_DEFINE_ASSERT_LT


2085 
	#ASSERT_LT
(
v®1
, 
v®2
è
	$GTEST_ASSERT_LT
(
v®1
, 
v®2
)

	)

2088 #ià!
GTEST_DONT_DEFINE_ASSERT_GE


2089 
	#ASSERT_GE
(
v®1
, 
v®2
è
	$GTEST_ASSERT_GE
(
v®1
, 
v®2
)

	)

2092 #ià!
GTEST_DONT_DEFINE_ASSERT_GT


2093 
	#ASSERT_GT
(
v®1
, 
v®2
è
	$GTEST_ASSERT_GT
(
v®1
, 
v®2
)

	)

2112 
	#EXPECT_STREQ
(
s1
, 
s2
) \

2113 
	$EXPECT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rSTREQ
, 
s1
, 
s2
)

	)

2114 
	#EXPECT_STRNE
(
s1
, 
s2
) \

2115 
	$EXPECT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rSTRNE
, 
s1
, 
s2
)

	)

2116 
	#EXPECT_STRCASEEQ
(
s1
, 
s2
) \

2117 
	$EXPECT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rSTRCASEEQ
, 
s1
, 
s2
)

	)

2118 
	#EXPECT_STRCASENE
(
s1
, 
s2
)\

2119 
	$EXPECT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rSTRCASENE
, 
s1
, 
s2
)

	)

2121 
	#ASSERT_STREQ
(
s1
, 
s2
) \

2122 
	$ASSERT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rSTREQ
, 
s1
, 
s2
)

	)

2123 
	#ASSERT_STRNE
(
s1
, 
s2
) \

2124 
	$ASSERT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rSTRNE
, 
s1
, 
s2
)

	)

2125 
	#ASSERT_STRCASEEQ
(
s1
, 
s2
) \

2126 
	$ASSERT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rSTRCASEEQ
, 
s1
, 
s2
)

	)

2127 
	#ASSERT_STRCASENE
(
s1
, 
s2
)\

2128 
	$ASSERT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rSTRCASENE
, 
s1
, 
s2
)

	)

2144 
	#EXPECT_FLOAT_EQ
(
v®1
, 
v®2
)\

2145 
	`EXPECT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rFlßtšgPoštEQ
<>, \

2146 
v®1
, 
v®2
)

	)

2148 
	#EXPECT_DOUBLE_EQ
(
v®1
, 
v®2
)\

2149 
	`EXPECT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rFlßtšgPoštEQ
<>, \

2150 
v®1
, 
v®2
)

	)

2152 
	#ASSERT_FLOAT_EQ
(
v®1
, 
v®2
)\

2153 
	`ASSERT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rFlßtšgPoštEQ
<>, \

2154 
v®1
, 
v®2
)

	)

2156 
	#ASSERT_DOUBLE_EQ
(
v®1
, 
v®2
)\

2157 
	`ASSERT_PRED_FORMAT2
(::
‹¡šg
::
š‹º®
::
CmpH–³rFlßtšgPoštEQ
<>, \

2158 
v®1
, 
v®2
)

	)

2160 
	#EXPECT_NEAR
(
v®1
, 
v®2
, 
abs_”rÜ
)\

2161 
	`EXPECT_PRED_FORMAT3
(::
‹¡šg
::
š‹º®
::
DoubËN—rP»dFÜm©
, \

2162 
v®1
, 
v®2
, 
abs_”rÜ
)

	)

2164 
	#ASSERT_NEAR
(
v®1
, 
v®2
, 
abs_”rÜ
)\

2165 
	`ASSERT_PRED_FORMAT3
(::
‹¡šg
::
š‹º®
::
DoubËN—rP»dFÜm©
, \

2166 
v®1
, 
v®2
, 
abs_”rÜ
)

	)

2175 
GTEST_API_
 
As£¹iÚResuÉ
 
	`FlßtLE
(cÚ¡ * 
ex´1
, cÚ¡ * 
ex´2
,

2176 
v®1
, 
v®2
);

2177 
GTEST_API_
 
As£¹iÚResuÉ
 
	`DoubËLE
(cÚ¡ * 
ex´1
, cÚ¡ * 
ex´2
,

2178 
v®1
, 
v®2
);

2181 #ià
GTEST_OS_WINDOWS


2192 
	#EXPECT_HRESULT_SUCCEEDED
(
ex´
) \

2193 
	`EXPECT_PRED_FORMAT1
(::
‹¡šg
::
š‹º®
::
IsHRESULTSucûss
, (
ex´
))

	)

2195 
	#ASSERT_HRESULT_SUCCEEDED
(
ex´
) \

2196 
	`ASSERT_PRED_FORMAT1
(::
‹¡šg
::
š‹º®
::
IsHRESULTSucûss
, (
ex´
))

	)

2198 
	#EXPECT_HRESULT_FAILED
(
ex´
) \

2199 
	`EXPECT_PRED_FORMAT1
(::
‹¡šg
::
š‹º®
::
IsHRESULTFau»
, (
ex´
))

	)

2201 
	#ASSERT_HRESULT_FAILED
(
ex´
) \

2202 
	`ASSERT_PRED_FORMAT1
(::
‹¡šg
::
š‹º®
::
IsHRESULTFau»
, (
ex´
))

	)

2216 
	#ASSERT_NO_FATAL_FAILURE
(
¡©em’t
) \

2217 
	$GTEST_TEST_NO_FATAL_FAILURE_
(
¡©em’t
, 
GTEST_FATAL_FAILURE_
)

	)

2218 
	#EXPECT_NO_FATAL_FAILURE
(
¡©em’t
) \

2219 
	$GTEST_TEST_NO_FATAL_FAILURE_
(
¡©em’t
, 
GTEST_NONFATAL_FAILURE_
)

	)

2231 şas 
	cGTEST_API_
 
ScİedT¿û
 {

2232 
public
:

2238 
‹m¶©e
 <
ty³Çme
 
T
>

2239 
	`ScİedT¿û
(cÚ¡ * 
fe
, 
lše
, cÚ¡ 
T
& 
mes§ge
) {

2240 
	`PushT¿û
(
fe
, 
lše
, (
	`Mes§ge
(è<< 
mes§ge
).
	`G‘SŒšg
());

2244 
	`ScİedT¿û
(cÚ¡ * 
fe
, 
lše
, cÚ¡ * 
mes§ge
) {

2245 
	`PushT¿û
(
fe
, 
lše
, 
mes§ge
 ? message : "(null)");

2248 
	`ScİedT¿û
(cÚ¡ * 
fe
, 
lše
, cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
) {

2249 
	`PushT¿û
(
fe
, 
lše
, 
mes§ge
);

2256 ~
	`ScİedT¿û
();

2258 
´iv©e
:

2259 
	`PushT¿û
(cÚ¡ * 
fe
, 
lše
, 
¡d
::
¡ršg
 
mes§ge
);

2261 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
ScİedT¿û
);

2262 
	}
} 
	gGTEST_ATTRIBUTE_UNUSED_
;

2281 
	#SCOPED_TRACE
(
mes§ge
) \

2282 ::
‹¡šg
::
ScİedT¿û
 
	`GTEST_CONCAT_TOKEN_
(
g‹¡_Œaû_
, 
__LINE__
)(\

2283 
__FILE__
, 
__LINE__
, (
mes§ge
))

	)

2315 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
>

2316 
cÚ¡ex´
 
boŞ
 
	$SticAs£¹Ty³Eq
(è
nÛxû±
 {

2317 
	`¡©ic_as£¹
(
¡d
::
is_§me
<
T1
, 
T2
>::
v®ue
, "T1‡nd T2‡re‚othe sameype");

2318  
Œue
;

2319 
	}
}

2346 
	#GTEST_TEST
(
‹¡_su™e_Çme
, 
‹¡_Çme
) \

2347 
	`GTEST_TEST_
(
‹¡_su™e_Çme
, 
‹¡_Çme
, ::
‹¡šg
::
Te¡
, \

2348 ::
‹¡šg
::
š‹º®
::
	$G‘Te¡Ty³Id
())

	)

2352 #ià!
GTEST_DONT_DEFINE_TEST


2353 
	#TEST
(
‹¡_su™e_Çme
, 
‹¡_Çme
è
	$GTEST_TEST
(
‹¡_su™e_Çme
, 
‹¡_Çme
)

	)

2383 #ià!
GTEST_DONT_DEFINE_TEST


2384 
	#TEST_F
(
‹¡_fixtu»
, 
‹¡_Çme
)\

2385 
	`GTEST_TEST_
(
‹¡_fixtu»
, 
‹¡_Çme
,est_fixture, \

2386 ::
‹¡šg
::
š‹º®
::
G‘Ty³Id
<
‹¡_fixtu»
>())

	)

2391 
GTEST_API_
 
¡d
::
¡ršg
 
	`TempDœ
();

2393 #ifdeà
_MSC_VER


2394 #´agm¨
	$w¬nšg
(
pİ
)

2454 
‹m¶©e
 <&... 
Ex¶ic™P¬am‘”B¬r›r
, 
ty³Çme
 
FaùÜy
>

2455 
Te¡Info
* 
	$Regi¡”Te¡
(cÚ¡ * 
‹¡_su™e_Çme
, cÚ¡ * 
‹¡_Çme
,

2456 cÚ¡ * 
ty³_·¿m
, cÚ¡ * 
v®ue_·¿m
,

2457 cÚ¡ * 
fe
, 
lše
, 
FaùÜy
 
çùÜy
) {

2458 
usšg
 
Te¡T
 = 
ty³Çme
 
¡d
::
»move_poš‹r
<
	`deşty³
(
	`çùÜy
())>::
ty³
;

2460 şas 
	cFaùÜyIm¶
 : 
public
 
š‹º®
::
Te¡FaùÜyBa£
 {

2461 
public
:

2462 
ex¶ic™
 
	`FaùÜyIm¶
(
FaùÜy
 
f
è: 
	`çùÜy_
(
¡d
::
	`move
(f)) {}

2463 
Te¡
* 
	`C»©eTe¡
(è
ov”ride
 {  
	`çùÜy_
(); }

2465 
´iv©e
:

2466 
FaùÜy
 
çùÜy_
;

2469  
š‹º®
::
	`MakeAndRegi¡”Te¡Info
(

2470 
‹¡_su™e_Çme
, 
‹¡_Çme
, 
ty³_·¿m
, 
v®ue_·¿m
,

2471 
š‹º®
::
	`CodeLoÿtiÚ
(
fe
, 
lše
), iÁ”Çl::
G‘Ty³Id
<
Te¡T
>(),

2472 
š‹º®
::
Su™eApiResŞv”
<
Te¡T
>::
	`G‘S‘UpCa£OrSu™e
(
fe
, 
lše
),

2473 
š‹º®
::
Su™eApiResŞv”
<
Te¡T
>::
	`G‘T—rDownCa£OrSu™e
(
fe
, 
lše
),

2474 
Ãw
 
FaùÜyIm¶
{
¡d
::
	`move
(
çùÜy
)});

2475 
	}
}

2487 
	$RUN_ALL_TESTS
(è
GTEST_MUST_USE_RESULT_
;

2489 
šlše
 
	$RUN_ALL_TESTS
() {

2490  ::
‹¡šg
::
Un™Te¡
::
	`G‘In¡ªû
()->
	`Run
();

2491 
	}
}

2493 
	$GTEST_DISABLE_MSC_WARNINGS_POP_
()

	@/usr/include/inttypes.h

22 #iâdeà
_INTTYPES_H


23 
	#_INTTYPES_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	~<¡dšt.h
>

30 #iâdeà
____gwch¬_t_defšed


31 #ifdeà
__ılu¥lus


32 
	#__gwch¬_t
 
wch¬_t


	)

33 #–ià
defšed
 
__WCHAR_TYPE__


34 
__WCHAR_TYPE__
 
	t__gwch¬_t
;

36 
	#__Ãed_wch¬_t


	)

37 
	~<¡ddef.h
>

38 
wch¬_t
 
	t__gwch¬_t
;

40 
	#____gwch¬_t_defšed
 1

	)

43 #ià
__WORDSIZE
 == 64

44 
	#__PRI64_PREFIX
 "l"

	)

45 
	#__PRIPTR_PREFIX
 "l"

	)

47 
	#__PRI64_PREFIX
 "Î"

	)

48 
	#__PRIPTR_PREFIX


	)

54 
	#PRId8
 "d"

	)

55 
	#PRId16
 "d"

	)

56 
	#PRId32
 "d"

	)

57 
	#PRId64
 
__PRI64_PREFIX
 "d"

	)

59 
	#PRIdLEAST8
 "d"

	)

60 
	#PRIdLEAST16
 "d"

	)

61 
	#PRIdLEAST32
 "d"

	)

62 
	#PRIdLEAST64
 
__PRI64_PREFIX
 "d"

	)

64 
	#PRIdFAST8
 "d"

	)

65 
	#PRIdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

66 
	#PRIdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

67 
	#PRIdFAST64
 
__PRI64_PREFIX
 "d"

	)

70 
	#PRIi8
 "i"

	)

71 
	#PRIi16
 "i"

	)

72 
	#PRIi32
 "i"

	)

73 
	#PRIi64
 
__PRI64_PREFIX
 "i"

	)

75 
	#PRIiLEAST8
 "i"

	)

76 
	#PRIiLEAST16
 "i"

	)

77 
	#PRIiLEAST32
 "i"

	)

78 
	#PRIiLEAST64
 
__PRI64_PREFIX
 "i"

	)

80 
	#PRIiFAST8
 "i"

	)

81 
	#PRIiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

82 
	#PRIiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

83 
	#PRIiFAST64
 
__PRI64_PREFIX
 "i"

	)

86 
	#PRIo8
 "o"

	)

87 
	#PRIo16
 "o"

	)

88 
	#PRIo32
 "o"

	)

89 
	#PRIo64
 
__PRI64_PREFIX
 "o"

	)

91 
	#PRIoLEAST8
 "o"

	)

92 
	#PRIoLEAST16
 "o"

	)

93 
	#PRIoLEAST32
 "o"

	)

94 
	#PRIoLEAST64
 
__PRI64_PREFIX
 "o"

	)

96 
	#PRIoFAST8
 "o"

	)

97 
	#PRIoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

98 
	#PRIoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

99 
	#PRIoFAST64
 
__PRI64_PREFIX
 "o"

	)

102 
	#PRIu8
 "u"

	)

103 
	#PRIu16
 "u"

	)

104 
	#PRIu32
 "u"

	)

105 
	#PRIu64
 
__PRI64_PREFIX
 "u"

	)

107 
	#PRIuLEAST8
 "u"

	)

108 
	#PRIuLEAST16
 "u"

	)

109 
	#PRIuLEAST32
 "u"

	)

110 
	#PRIuLEAST64
 
__PRI64_PREFIX
 "u"

	)

112 
	#PRIuFAST8
 "u"

	)

113 
	#PRIuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

114 
	#PRIuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

115 
	#PRIuFAST64
 
__PRI64_PREFIX
 "u"

	)

118 
	#PRIx8
 "x"

	)

119 
	#PRIx16
 "x"

	)

120 
	#PRIx32
 "x"

	)

121 
	#PRIx64
 
__PRI64_PREFIX
 "x"

	)

123 
	#PRIxLEAST8
 "x"

	)

124 
	#PRIxLEAST16
 "x"

	)

125 
	#PRIxLEAST32
 "x"

	)

126 
	#PRIxLEAST64
 
__PRI64_PREFIX
 "x"

	)

128 
	#PRIxFAST8
 "x"

	)

129 
	#PRIxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

130 
	#PRIxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

131 
	#PRIxFAST64
 
__PRI64_PREFIX
 "x"

	)

134 
	#PRIX8
 "X"

	)

135 
	#PRIX16
 "X"

	)

136 
	#PRIX32
 "X"

	)

137 
	#PRIX64
 
__PRI64_PREFIX
 "X"

	)

139 
	#PRIXLEAST8
 "X"

	)

140 
	#PRIXLEAST16
 "X"

	)

141 
	#PRIXLEAST32
 "X"

	)

142 
	#PRIXLEAST64
 
__PRI64_PREFIX
 "X"

	)

144 
	#PRIXFAST8
 "X"

	)

145 
	#PRIXFAST16
 
__PRIPTR_PREFIX
 "X"

	)

146 
	#PRIXFAST32
 
__PRIPTR_PREFIX
 "X"

	)

147 
	#PRIXFAST64
 
__PRI64_PREFIX
 "X"

	)

151 
	#PRIdMAX
 
__PRI64_PREFIX
 "d"

	)

152 
	#PRIiMAX
 
__PRI64_PREFIX
 "i"

	)

153 
	#PRIoMAX
 
__PRI64_PREFIX
 "o"

	)

154 
	#PRIuMAX
 
__PRI64_PREFIX
 "u"

	)

155 
	#PRIxMAX
 
__PRI64_PREFIX
 "x"

	)

156 
	#PRIXMAX
 
__PRI64_PREFIX
 "X"

	)

160 
	#PRIdPTR
 
__PRIPTR_PREFIX
 "d"

	)

161 
	#PRIiPTR
 
__PRIPTR_PREFIX
 "i"

	)

162 
	#PRIoPTR
 
__PRIPTR_PREFIX
 "o"

	)

163 
	#PRIuPTR
 
__PRIPTR_PREFIX
 "u"

	)

164 
	#PRIxPTR
 
__PRIPTR_PREFIX
 "x"

	)

165 
	#PRIXPTR
 
__PRIPTR_PREFIX
 "X"

	)

171 
	#SCNd8
 "hhd"

	)

172 
	#SCNd16
 "hd"

	)

173 
	#SCNd32
 "d"

	)

174 
	#SCNd64
 
__PRI64_PREFIX
 "d"

	)

176 
	#SCNdLEAST8
 "hhd"

	)

177 
	#SCNdLEAST16
 "hd"

	)

178 
	#SCNdLEAST32
 "d"

	)

179 
	#SCNdLEAST64
 
__PRI64_PREFIX
 "d"

	)

181 
	#SCNdFAST8
 "hhd"

	)

182 
	#SCNdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

183 
	#SCNdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

184 
	#SCNdFAST64
 
__PRI64_PREFIX
 "d"

	)

187 
	#SCNi8
 "hhi"

	)

188 
	#SCNi16
 "hi"

	)

189 
	#SCNi32
 "i"

	)

190 
	#SCNi64
 
__PRI64_PREFIX
 "i"

	)

192 
	#SCNiLEAST8
 "hhi"

	)

193 
	#SCNiLEAST16
 "hi"

	)

194 
	#SCNiLEAST32
 "i"

	)

195 
	#SCNiLEAST64
 
__PRI64_PREFIX
 "i"

	)

197 
	#SCNiFAST8
 "hhi"

	)

198 
	#SCNiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

199 
	#SCNiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

200 
	#SCNiFAST64
 
__PRI64_PREFIX
 "i"

	)

203 
	#SCNu8
 "hhu"

	)

204 
	#SCNu16
 "hu"

	)

205 
	#SCNu32
 "u"

	)

206 
	#SCNu64
 
__PRI64_PREFIX
 "u"

	)

208 
	#SCNuLEAST8
 "hhu"

	)

209 
	#SCNuLEAST16
 "hu"

	)

210 
	#SCNuLEAST32
 "u"

	)

211 
	#SCNuLEAST64
 
__PRI64_PREFIX
 "u"

	)

213 
	#SCNuFAST8
 "hhu"

	)

214 
	#SCNuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

215 
	#SCNuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

216 
	#SCNuFAST64
 
__PRI64_PREFIX
 "u"

	)

219 
	#SCNo8
 "hho"

	)

220 
	#SCNo16
 "ho"

	)

221 
	#SCNo32
 "o"

	)

222 
	#SCNo64
 
__PRI64_PREFIX
 "o"

	)

224 
	#SCNoLEAST8
 "hho"

	)

225 
	#SCNoLEAST16
 "ho"

	)

226 
	#SCNoLEAST32
 "o"

	)

227 
	#SCNoLEAST64
 
__PRI64_PREFIX
 "o"

	)

229 
	#SCNoFAST8
 "hho"

	)

230 
	#SCNoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

231 
	#SCNoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

232 
	#SCNoFAST64
 
__PRI64_PREFIX
 "o"

	)

235 
	#SCNx8
 "hhx"

	)

236 
	#SCNx16
 "hx"

	)

237 
	#SCNx32
 "x"

	)

238 
	#SCNx64
 
__PRI64_PREFIX
 "x"

	)

240 
	#SCNxLEAST8
 "hhx"

	)

241 
	#SCNxLEAST16
 "hx"

	)

242 
	#SCNxLEAST32
 "x"

	)

243 
	#SCNxLEAST64
 
__PRI64_PREFIX
 "x"

	)

245 
	#SCNxFAST8
 "hhx"

	)

246 
	#SCNxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

247 
	#SCNxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

248 
	#SCNxFAST64
 
__PRI64_PREFIX
 "x"

	)

252 
	#SCNdMAX
 
__PRI64_PREFIX
 "d"

	)

253 
	#SCNiMAX
 
__PRI64_PREFIX
 "i"

	)

254 
	#SCNoMAX
 
__PRI64_PREFIX
 "o"

	)

255 
	#SCNuMAX
 
__PRI64_PREFIX
 "u"

	)

256 
	#SCNxMAX
 
__PRI64_PREFIX
 "x"

	)

259 
	#SCNdPTR
 
__PRIPTR_PREFIX
 "d"

	)

260 
	#SCNiPTR
 
__PRIPTR_PREFIX
 "i"

	)

261 
	#SCNoPTR
 
__PRIPTR_PREFIX
 "o"

	)

262 
	#SCNuPTR
 
__PRIPTR_PREFIX
 "u"

	)

263 
	#SCNxPTR
 
__PRIPTR_PREFIX
 "x"

	)

266 
	g__BEGIN_DECLS


268 #ià
__WORDSIZE
 == 64

273 
	mquÙ
;

274 
	m»m
;

275 } 
	timaxdiv_t
;

282 
__ex‹nsiÚ__
 
	mquÙ
;

283 
__ex‹nsiÚ__
 
	m»m
;

284 } 
	timaxdiv_t
;

290 
štmax_t
 
	$imaxabs
 (
štmax_t
 
__n
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

293 
imaxdiv_t
 
	$imaxdiv
 (
štmax_t
 
__num”
, iÁmax_ˆ
__d’om
)

294 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

297 
štmax_t
 
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

298 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

301 
uštmax_t
 
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

302 ** 
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

305 
štmax_t
 
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

306 
__gwch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

307 
__THROW
;

310 
uštmax_t
 
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

311 
__gwch¬_t
 ** 
__»¡riù
 
__’d±r
, 
__ba£
)

312 
__THROW
;

314 
__END_DECLS


	@/usr/include/pthread.h

18 #iâdeà
_PTHREAD_H


19 
	#_PTHREAD_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<sched.h
>

23 
	~<time.h
>

25 
	~<b™s/’dŸn.h
>

26 
	~<b™s/±h»adty³s.h
>

27 
	~<b™s/£tjmp.h
>

28 
	~<b™s/wÜdsize.h
>

29 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

30 
	~<b™s/ty³s/__sig£t_t.h
>

31 
	~<b™s/ty³s/¡ruù___jmp_buf_g.h
>

32 #ifdeà
__USE_MISC


33 
	~<b™s/±h»ad_¡ack_mš-dyÇmic.h
>

39 
	mPTHREAD_CREATE_JOINABLE
,

40 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

41 
	mPTHREAD_CREATE_DETACHED


42 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

49 
	mPTHREAD_MUTEX_TIMED_NP
,

50 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

51 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

52 
	mPTHREAD_MUTEX_ADAPTIVE_NP


53 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


55 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

56 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

57 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

58 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


60 #ifdeà
__USE_GNU


62 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


67 #ifdeà
__USE_XOPEN2K


71 
	mPTHREAD_MUTEX_STALLED
,

72 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

73 
	mPTHREAD_MUTEX_ROBUST
,

74 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


79 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


83 
	mPTHREAD_PRIO_NONE
,

84 
	mPTHREAD_PRIO_INHERIT
,

85 
	mPTHREAD_PRIO_PROTECT


90 
	#PTHREAD_MUTEX_INITIALIZER
 \

91 { { 
	`__PTHREAD_MUTEX_INITIALIZER
 (
PTHREAD_MUTEX_TIMED_NP
è} }

	)

92 #ifdeà
__USE_GNU


93 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

94 { { 
	`__PTHREAD_MUTEX_INITIALIZER
 (
PTHREAD_MUTEX_RECURSIVE_NP
è} }

	)

95 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

96 { { 
	`__PTHREAD_MUTEX_INITIALIZER
 (
PTHREAD_MUTEX_ERRORCHECK_NP
è} }

	)

97 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

98 { { 
	`__PTHREAD_MUTEX_INITIALIZER
 (
PTHREAD_MUTEX_ADAPTIVE_NP
è} }

	)

103 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


106 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

107 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

108 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

109 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


114 
	#PTHREAD_RWLOCK_INITIALIZER
 \

115 { { 
	`__PTHREAD_RWLOCK_INITIALIZER
 (
PTHREAD_RWLOCK_DEFAULT_NP
è} }

	)

116 #ifdeà
__USE_GNU


117 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

118 { { 
	`__PTHREAD_RWLOCK_INITIALIZER
 (
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
è} }

	)

126 
	mPTHREAD_INHERIT_SCHED
,

127 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

128 
	mPTHREAD_EXPLICIT_SCHED


129 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

136 
	mPTHREAD_SCOPE_SYSTEM
,

137 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

138 
	mPTHREAD_SCOPE_PROCESS


139 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

146 
	mPTHREAD_PROCESS_PRIVATE
,

147 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

148 
	mPTHREAD_PROCESS_SHARED


149 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

155 
	#PTHREAD_COND_INITIALIZER
 { { {0}, {0}, {0, 0}, {0, 0}, 0, 0, {0, 0} } }

	)

159 
	s_±h»ad_ş—nup_bufãr


161 (*
	m__routše
) (*);

162 *
	m__¬g
;

163 
	m__ÿnûÉy³
;

164 
_±h»ad_ş—nup_bufãr
 *
	m__´ev
;

170 
	mPTHREAD_CANCEL_ENABLE
,

171 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

172 
	mPTHREAD_CANCEL_DISABLE


173 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

177 
	mPTHREAD_CANCEL_DEFERRED
,

178 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

179 
	mPTHREAD_CANCEL_ASYNCHRONOUS


180 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

182 
	#PTHREAD_CANCELED
 ((*è-1)

	)

186 
	#PTHREAD_ONCE_INIT
 0

	)

189 #ifdeà
__USE_XOPEN2K


193 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

197 
__BEGIN_DECLS


202 
	$±h»ad_ü—‹
 (
±h»ad_t
 *
__»¡riù
 
__Ãwth»ad
,

203 cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

204 *(*
__¡¬t_routše
) (*),

205 *
__»¡riù
 
__¬g
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 3));

211 
	$±h»ad_ex™
 (*
__»tv®
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

219 
	`±h»ad_još
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
);

221 #ifdeà
__USE_GNU


224 
	$±h»ad_Œyjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
è
__THROW
;

226 #iâdeà
__USE_TIME_BITS64


233 
	`±h»ad_timedjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

234 cÚ¡ 
time¥ec
 *
__ab¡ime
);

243 
	`±h»ad_şockjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

244 
şockid_t
 
__şockid
,

245 cÚ¡ 
time¥ec
 *
__ab¡ime
);

247 #ifdeà
__REDIRECT


248 
	`__REDIRECT
 (
±h»ad_timedjoš_Å
,

249 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

250 cÚ¡ 
time¥ec
 *
__ab¡ime
),

251 
__±h»ad_timedjoš_Å64
);

253 
	`__REDIRECT
 (
±h»ad_şockjoš_Å
,

254 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

255 
şockid_t
 
__şockid
,

256 cÚ¡ 
time¥ec
 *
__ab¡ime
),

257 
__±h»ad_şockjoš_Å64
);

259 
	#±h»ad_timedjoš_Å
 
__±h»ad_timedjoš_Å64


	)

260 
	#±h»ad_şockjoš_Å
 
__±h»ad_şockjoš_Å64


	)

269 
	$±h»ad_d‘ach
 (
±h»ad_t
 
__th
è
__THROW
;

273 
±h»ad_t
 
	$±h»ad_£lf
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

276 
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
)

277 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

285 
	$±h»ad_©Œ_š™
 (
±h»ad_©Œ_t
 *
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

288 
	$±h»ad_©Œ_de¡roy
 (
±h»ad_©Œ_t
 *
__©Œ
)

289 
__THROW
 
	`__nÚnuÎ
 ((1));

292 
	$±h»ad_©Œ_g‘d‘ach¡©e
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

293 *
__d‘ach¡©e
)

294 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

297 
	$±h»ad_©Œ_£td‘ach¡©e
 (
±h»ad_©Œ_t
 *
__©Œ
,

298 
__d‘ach¡©e
)

299 
__THROW
 
	`__nÚnuÎ
 ((1));

303 
	$±h»ad_©Œ_g‘gu¬dsize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

304 
size_t
 *
__gu¬dsize
)

305 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

308 
	$±h»ad_©Œ_£tgu¬dsize
 (
±h»ad_©Œ_t
 *
__©Œ
,

309 
size_t
 
__gu¬dsize
)

310 
__THROW
 
	`__nÚnuÎ
 ((1));

314 
	$±h»ad_©Œ_g‘sched·¿m
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

315 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

316 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

319 
	$±h»ad_©Œ_£tsched·¿m
 (
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

320 cÚ¡ 
sched_·¿m
 *
__»¡riù


321 
__·¿m
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

324 
	$±h»ad_©Œ_g‘schedpŞicy
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


325 
__©Œ
, *
__»¡riù
 
__pŞicy
)

326 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

329 
	$±h»ad_©Œ_£tschedpŞicy
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__pŞicy
)

330 
__THROW
 
	`__nÚnuÎ
 ((1));

333 
	$±h»ad_©Œ_g‘šh”™sched
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


334 
__©Œ
, *
__»¡riù
 
__šh”™
)

335 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

338 
	$±h»ad_©Œ_£tšh”™sched
 (
±h»ad_©Œ_t
 *
__©Œ
,

339 
__šh”™
)

340 
__THROW
 
	`__nÚnuÎ
 ((1));

344 
	$±h»ad_©Œ_g‘scİe
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

345 *
__»¡riù
 
__scİe
)

346 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

349 
	$±h»ad_©Œ_£tscİe
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__scİe
)

350 
__THROW
 
	`__nÚnuÎ
 ((1));

353 
	$±h»ad_©Œ_g‘¡ackaddr
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


354 
__©Œ
, **
__»¡riù
 
__¡ackaddr
)

355 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__©Œibu‹_d•»ÿ‹d__
;

361 
	$±h»ad_©Œ_£t¡ackaddr
 (
±h»ad_©Œ_t
 *
__©Œ
,

362 *
__¡ackaddr
)

363 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
;

366 
	$±h»ad_©Œ_g‘¡acksize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


367 
__©Œ
, 
size_t
 *
__»¡riù
 
__¡acksize
)

368 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

373 
	$±h»ad_©Œ_£t¡acksize
 (
±h»ad_©Œ_t
 *
__©Œ
,

374 
size_t
 
__¡acksize
)

375 
__THROW
 
	`__nÚnuÎ
 ((1));

377 #ifdeà
__USE_XOPEN2K


379 
	$±h»ad_©Œ_g‘¡ack
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

380 **
__»¡riù
 
__¡ackaddr
,

381 
size_t
 *
__»¡riù
 
__¡acksize
)

382 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

387 
	$±h»ad_©Œ_£t¡ack
 (
±h»ad_©Œ_t
 *
__©Œ
, *
__¡ackaddr
,

388 
size_t
 
__¡acksize
è
__THROW
 
	`__nÚnuÎ
 ((1));

391 #ifdeà
__USE_GNU


394 
	$±h»ad_©Œ_£ffš™y_Å
 (
±h»ad_©Œ_t
 *
__©Œ
,

395 
size_t
 
__ıu£tsize
,

396 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

397 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

401 
	$±h»ad_©Œ_g‘affš™y_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

402 
size_t
 
__ıu£tsize
,

403 
ıu_£t_t
 *
__ıu£t
)

404 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

407 
	$±h»ad_g‘©Œ_deçuÉ_Å
 (
±h»ad_©Œ_t
 *
__©Œ
)

408 
__THROW
 
	`__nÚnuÎ
 ((1));

411 
	`±h»ad_©Œ_£tsigmask_Å
 (
±h»ad_©Œ_t
 *
__©Œ
,

412 cÚ¡ 
__sig£t_t
 *
sigmask
);

417 
	`±h»ad_©Œ_g‘sigmask_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

418 
__sig£t_t
 *
sigmask
);

422 
	#PTHREAD_ATTR_NO_SIGMASK_NP
 (-1)

	)

426 
	$±h»ad_£‰r_deçuÉ_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
)

427 
__THROW
 
	`__nÚnuÎ
 ((1));

432 
	$±h»ad_g‘©Œ_Å
 (
±h»ad_t
 
__th
, 
±h»ad_©Œ_t
 *
__©Œ
)

433 
__THROW
 
	`__nÚnuÎ
 ((2));

441 
	$±h»ad_£tsched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
, 
__pŞicy
,

442 cÚ¡ 
sched_·¿m
 *
__·¿m
)

443 
__THROW
 
	`__nÚnuÎ
 ((3));

446 
	$±h»ad_g‘sched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
,

447 *
__»¡riù
 
__pŞicy
,

448 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

449 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

452 
	$±h»ad_£tsched´io
 (
±h»ad_t
 
__rg‘_th»ad
, 
__´io
)

453 
__THROW
;

456 #ifdeà
__USE_GNU


458 
	$±h»ad_g‘Çme_Å
 (
±h»ad_t
 
__rg‘_th»ad
, *
__buf
,

459 
size_t
 
__buæ’
)

460 
__THROW
 
	`__nÚnuÎ
 ((2));

463 
	$±h»ad_£Šame_Å
 (
±h»ad_t
 
__rg‘_th»ad
, cÚ¡ *
__Çme
)

464 
__THROW
 
	`__nÚnuÎ
 ((2));

468 #ifdeà
__USE_UNIX98


470 
	$±h»ad_g‘cÚcu¼’cy
 (è
__THROW
;

473 
	$±h»ad_£tcÚcu¼’cy
 (
__Ëv–
è
__THROW
;

476 #ifdeà
__USE_GNU


477 
	$±h»ad_y›ld
 (è
__THROW
;

478 #ifdeà
__REDIRECT_NTH


479 
	`__REDIRECT_NTH
 (
±h»ad_y›ld
, (), 
sched_y›ld
)

480 
	`__©Œibu‹_d•»ÿ‹d_msg__
 ("\
_yield is deprecated, use sched_yield instead");

483 
	#±h»ad_y›ld
 
sched_y›ld


	)

489 
	$±h»ad_£ffš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

490 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

491 
__THROW
 
	`__nÚnuÎ
 ((3));

494 
	$±h»ad_g‘affš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

495 
ıu_£t_t
 *
__ıu£t
)

496 
__THROW
 
	`__nÚnuÎ
 ((3));

509 
	$±h»ad_Úû
 (
±h»ad_Úû_t
 *
__Úû_cÚŒŞ
,

510 (*
__š™_routše
è()è
	`__nÚnuÎ
 ((1, 2));

521 
	`±h»ad_£tÿnûl¡©e
 (
__¡©e
, *
__Şd¡©e
);

525 
	`±h»ad_£tÿnûÉy³
 (
__ty³
, *
__Şdty³
);

528 
	`±h»ad_ÿnûl
 (
±h»ad_t
 
__th
);

533 
	`±h»ad_‹¡ÿnûl
 ();

538 
	s__ÿnûl_jmp_buf_g


540 
__jmp_buf
 
__ÿnûl_jmp_buf
;

541 
__mask_was_§ved
;

546 
__ÿnûl_jmp_buf_g
 
__ÿnûl_jmp_buf
[1];

547 *
__·d
[4];

548 } 
	t__±h»ad_unwšd_buf_t
 
	t__©Œibu‹__
 ((
	t__®igÃd__
));

551 #iâdeà
__ş—nup_fù_©Œibu‹


552 
	#__ş—nup_fù_©Œibu‹


	)

557 
	s__±h»ad_ş—nup_äame


559 (*
__ÿnûl_routše
) (*);

560 *
__ÿnûl_¬g
;

561 
__do_™
;

562 
__ÿnûl_ty³
;

565 #ià
defšed
 
__GNUC__
 && defšed 
__EXCEPTIONS


566 #ifdeà
__ılu¥lus


568 şas 
	c__±h»ad_ş—nup_şass


570 (*
__ÿnûl_routše
) (*);

571 *
__ÿnûl_¬g
;

572 
__do_™
;

573 
__ÿnûl_ty³
;

575 
public
:

576 
	$__±h»ad_ş—nup_şass
 ((*
__fù
è(*), *
__¬g
)

577 : 
	`__ÿnûl_routše
 (
__fù
), 
	`__ÿnûl_¬g
 (
__¬g
), 
	$__do_™
 (1) { }

578 ~
	$__±h»ad_ş—nup_şass
 (è{ ià(
__do_™
è
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); 
	}
}

579 
	$__£tdo™
 (
__Ãwv®
è{ 
__do_™
 = __Ãwv®; 
	}
}

580 
	$__deãr
 (è{ 
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
,

581 &
__ÿnûl_ty³
); 
	}
}

582 
	$__»¡Üe
 (ècÚ¡ { 
	`±h»ad_£tÿnûÉy³
 (
__ÿnûl_ty³
, 0); 
	}
}

592 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

594 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
)

	)

598 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

599 
__şäame
.
	`__£tdo™
 (
execu‹
); \

600 } 0)

	)

602 #ifdeà
__USE_GNU


606 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

608 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
); \

609 
__şäame
.
	`__deãr
 ()

	)

614 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

615 
__şäame
.
	`__»¡Üe
 (); \

616 
__şäame
.
	`__£tdo™
 (
execu‹
); \

617 } 0)

	)

624 
__ex‹º_šlše
 

625 
	$__±h»ad_ş—nup_routše
 (
__±h»ad_ş—nup_äame
 *
__äame
)

627 ià(
__äame
->
__do_™
)

628 
__äame
->
	`__ÿnûl_routše
 (__äame->
__ÿnûl_¬g
);

629 
	}
}

638 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

640 
__±h»ad_ş—nup_äame
 
__şäame
 \

641 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

642 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

643 .
__do_™
 = 1 };

	)

647 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

648 
__şäame
.
__do_™
 = (
execu‹
); \

649 } 0)

	)

651 #ifdeà
__USE_GNU


655 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

657 
__±h»ad_ş—nup_äame
 
__şäame
 \

658 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

659 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

660 .
__do_™
 = 1 }; \

661 (è
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
, \

662 &
__şäame
.
__ÿnûl_ty³
)

	)

667 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

668 (è
	`±h»ad_£tÿnûÉy³
 (
__şäame
.
__ÿnûl_ty³
, 
NULL
); \

669 
__şäame
.
__do_™
 = (
execu‹
); \

670 } 0)

	)

681 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

683 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

684 (*
__ÿnûl_routše
è(*èğ(
routše
); \

685 *
__ÿnûl_¬g
 = (
¬g
); \

686 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp_ÿnûl
 (
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, \

688 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

690 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

691 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

695 
	`__±h»ad_»gi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

696 dØ{

	)

697 
__±h»ad_»gi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

698 
__ş—nup_fù_©Œibu‹
;

702 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

705 
	`__±h»ad_uÄegi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

706 ià(
execu‹
) \

707 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

708 } 0)

	)

709 
	$__±h»ad_uÄegi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

710 
__ş—nup_fù_©Œibu‹
;

712 #ifdeà
__USE_GNU


716 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

718 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

719 (*
__ÿnûl_routše
è(*èğ(
routše
); \

720 *
__ÿnûl_¬g
 = (
¬g
); \

721 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp_ÿnûl
 (
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, \

723 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

725 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

726 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

730 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (&
__ÿnûl_buf
); \

731 dØ{

	)

732 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

733 
__ş—nup_fù_©Œibu‹
;

738 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

741 
	`__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (&
__ÿnûl_buf
); \

742 ià(
execu‹
) \

743 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

744 
	}
} 0)

	)

745 
	$__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

746 
__ş—nup_fù_©Œibu‹
;

750 
	$__±h»ad_unwšd_Ãxt
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

751 
__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
))

752 #iâdeà
SHARED


753 
	`__©Œibu‹__
 ((
__w—k__
))

765 #ià
	`__GNUC_PREREQ
 (11, 0)

766 
	`__REDIRECT_NTHNL
 (
__sig£tjmp_ÿnûl
,

767 (
__ÿnûl_jmp_buf_g
 
__’v
[1],

768 
__§vemask
),

769 
__sig£tjmp
è
__©Œibu‹_»tuºs_twiû__
;

771 
	#__sig£tjmp_ÿnûl
(
’v
, 
§vemask
) \

772 
	`__sig£tjmp
 ((
__jmp_buf_g
 *è(*è(
’v
), (
§vemask
))

	)

773 
	$__sig£tjmp
 (
__jmp_buf_g
 
__’v
[1],

774 
__§vemask
è
__THROWNL
;

781 
	$±h»ad_mu‹x_š™
 (
±h»ad_mu‹x_t
 *
__mu‹x
,

782 cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__mu‹x©Œ
)

783 
__THROW
 
	`__nÚnuÎ
 ((1));

786 
	$±h»ad_mu‹x_de¡roy
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

787 
__THROW
 
	`__nÚnuÎ
 ((1));

790 
	$±h»ad_mu‹x_Œylock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

791 
__THROWNL
 
	`__nÚnuÎ
 ((1));

794 
	$±h»ad_mu‹x_lock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

795 
__THROWNL
 
	`__nÚnuÎ
 ((1));

797 #ifdeà
__USE_XOPEN2K


799 #iâdeà
__USE_TIME_BITS64


800 
	$±h»ad_mu‹x_timedlock
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

801 cÚ¡ 
time¥ec
 *
__»¡riù


802 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

804 #ifdeà
__REDIRECT_NTHNL


805 
	`__REDIRECT_NTHNL
 (
±h»ad_mu‹x_timedlock
,

806 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

807 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

808 
__±h»ad_mu‹x_timedlock64
è
	`__nÚnuÎ
 ((1, 2));

810 
	#±h»ad_mu‹x_timedlock
 
__±h»ad_mu‹x_timedlock64


	)

815 #ifdeà
__USE_GNU


816 #iâdeà
__USE_TIME_BITS64


817 
	$±h»ad_mu‹x_şocklock
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

818 
şockid_t
 
__şockid
,

819 cÚ¡ 
time¥ec
 *
__»¡riù


820 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 3));

822 #ifdeà
__REDIRECT_NTHNL


823 
	`__REDIRECT_NTHNL
 (
±h»ad_mu‹x_şocklock
,

824 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

825 
şockid_t
 
__şockid
,

826 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

827 
__±h»ad_mu‹x_şocklock64
è
	`__nÚnuÎ
 ((1, 3));

829 
	#±h»ad_mu‹x_şocklock
 
__±h»ad_mu‹x_şocklock64


	)

835 
	$±h»ad_mu‹x_uÆock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

836 
__THROWNL
 
	`__nÚnuÎ
 ((1));

840 
	$±h»ad_mu‹x_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x_t
 *

841 
__»¡riù
 
__mu‹x
,

842 *
__»¡riù
 
__´ioûšg
)

843 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

847 
	$±h»ad_mu‹x_£rioûšg
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

848 
__´ioûšg
,

849 *
__»¡riù
 
__Şd_ûšg
)

850 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

853 #ifdeà
__USE_XOPEN2K8


855 
	$±h»ad_mu‹x_cÚsi¡’t
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

856 
__THROW
 
	`__nÚnuÎ
 ((1));

857 #ifdeà
__USE_GNU


858 #ifdeà
__REDIRECT_NTH


859 
	`__REDIRECT_NTH
 (
±h»ad_mu‹x_cÚsi¡’t_Å
, (
±h»ad_mu‹x_t
 *),

860 
±h»ad_mu‹x_cÚsi¡’t
è
	`__nÚnuÎ
 ((1))

861 
	`__©Œibu‹_d•»ÿ‹d_msg__
 ("\
_mutex_consistent_np is deprecated, use…thread_mutex_consistent");

864 
	#±h»ad_mu‹x_cÚsi¡’t_Å
 
±h»ad_mu‹x_cÚsi¡’t


	)

874 
	$±h»ad_mu‹x©Œ_š™
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

875 
__THROW
 
	`__nÚnuÎ
 ((1));

878 
	$±h»ad_mu‹x©Œ_de¡roy
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

879 
__THROW
 
	`__nÚnuÎ
 ((1));

882 
	$±h»ad_mu‹x©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

883 
__»¡riù
 
__©Œ
,

884 *
__»¡riù
 
__psh¬ed
)

885 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

888 
	$±h»ad_mu‹x©Œ_£sh¬ed
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

889 
__psh¬ed
)

890 
__THROW
 
	`__nÚnuÎ
 ((1));

892 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


894 
	$±h»ad_mu‹x©Œ_g‘ty³
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__»¡riù


895 
__©Œ
, *
__»¡riù
 
__kšd
)

896 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

901 
	$±h»ad_mu‹x©Œ_£‰y³
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
, 
__kšd
)

902 
__THROW
 
	`__nÚnuÎ
 ((1));

906 
	$±h»ad_mu‹x©Œ_g‘´ÙocŞ
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

907 
__»¡riù
 
__©Œ
,

908 *
__»¡riù
 
__´ÙocŞ
)

909 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

913 
	$±h»ad_mu‹x©Œ_£rÙocŞ
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

914 
__´ÙocŞ
)

915 
__THROW
 
	`__nÚnuÎ
 ((1));

918 
	$±h»ad_mu‹x©Œ_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

919 
__»¡riù
 
__©Œ
,

920 *
__»¡riù
 
__´ioûšg
)

921 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

924 
	$±h»ad_mu‹x©Œ_£rioûšg
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

925 
__´ioûšg
)

926 
__THROW
 
	`__nÚnuÎ
 ((1));

928 #ifdeà
__USE_XOPEN2K


930 
	$±h»ad_mu‹x©Œ_g‘robu¡
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

931 *
__robu¡Ãss
)

932 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

933 #ifdeà
__USE_GNU


934 #ifdeà
__REDIRECT_NTH


935 
	`__REDIRECT_NTH
 (
±h»ad_mu‹x©Œ_g‘robu¡_Å
,

936 (
±h»ad_mu‹x©Œ_t
 *, *),

937 
±h»ad_mu‹x©Œ_g‘robu¡
è
	`__nÚnuÎ
 ((1))

938 
	`__©Œibu‹_d•»ÿ‹d_msg__
 ("\
_mutexattr_getrobust_np is deprecated, use…thread_mutexattr_getrobust");

941 
	#±h»ad_mu‹x©Œ_g‘robu¡_Å
 
±h»ad_mu‹x©Œ_g‘robu¡


	)

946 
	$±h»ad_mu‹x©Œ_£Œobu¡
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

947 
__robu¡Ãss
)

948 
__THROW
 
	`__nÚnuÎ
 ((1));

949 #ifdeà
__USE_GNU


950 #ifdeà
__REDIRECT_NTH


951 
	`__REDIRECT_NTH
 (
±h»ad_mu‹x©Œ_£Œobu¡_Å
,

952 (
±h»ad_mu‹x©Œ_t
 *, ),

953 
±h»ad_mu‹x©Œ_£Œobu¡
è
	`__nÚnuÎ
 ((1))

954 
	`__©Œibu‹_d•»ÿ‹d_msg__
 ("\
_mutexattr_setrobust_np is deprecated, use…thread_mutexattr_setrobust");

957 
	#±h»ad_mu‹x©Œ_£Œobu¡_Å
 
±h»ad_mu‹x©Œ_£Œobu¡


	)

962 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


967 
	$±h»ad_rwlock_š™
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

968 cÚ¡ 
±h»ad_rwlock©Œ_t
 *
__»¡riù


969 
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

972 
	$±h»ad_rwlock_de¡roy
 (
±h»ad_rwlock_t
 *
__rwlock
)

973 
__THROW
 
	`__nÚnuÎ
 ((1));

976 
	$±h»ad_rwlock_rdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

977 
__THROWNL
 
	`__nÚnuÎ
 ((1));

980 
	$±h»ad_rwlock_Œyrdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

981 
__THROWNL
 
	`__nÚnuÎ
 ((1));

983 #ifdeà
__USE_XOPEN2K


985 #iâdeà
__USE_TIME_BITS64


986 
	$±h»ad_rwlock_timedrdlock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

987 cÚ¡ 
time¥ec
 *
__»¡riù


988 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

990 #ifdeà
__REDIRECT_NTHNL


991 
	`__REDIRECT_NTHNL
 (
±h»ad_rwlock_timedrdlock
,

992 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

993 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

994 
__±h»ad_rwlock_timedrdlock64
)

995 
	`__nÚnuÎ
 ((1, 2));

997 
	#±h»ad_rwlock_timedrdlock
 
__±h»ad_rwlock_timedrdlock64


	)

1002 #ifdeà
__USE_GNU


1003 #iâdeà
__USE_TIME_BITS64


1004 
	$±h»ad_rwlock_şockrdlock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

1005 
şockid_t
 
__şockid
,

1006 cÚ¡ 
time¥ec
 *
__»¡riù


1007 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 3));

1009 #ifdeà
__REDIRECT_NTHNL


1010 
	`__REDIRECT_NTHNL
 (
±h»ad_rwlock_şockrdlock
,

1011 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

1012 
şockid_t
 
__şockid
,

1013 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

1014 
__±h»ad_rwlock_şockrdlock64
)

1015 
	`__nÚnuÎ
 ((1, 3));

1017 
	#±h»ad_rwlock_şockrdlock
 
__±h»ad_rwlock_şockrdlock64


	)

1023 
	$±h»ad_rwlock_w¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

1024 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1027 
	$±h»ad_rwlock_Œyw¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

1028 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1030 #ifdeà
__USE_XOPEN2K


1032 #iâdeà
__USE_TIME_BITS64


1033 
	$±h»ad_rwlock_timedw¾ock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

1034 cÚ¡ 
time¥ec
 *
__»¡riù


1035 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

1037 #ifdeà
__REDIRECT_NTHNL


1038 
	`__REDIRECT_NTHNL
 (
±h»ad_rwlock_timedw¾ock
,

1039 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

1040 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

1041 
__±h»ad_rwlock_timedw¾ock64
)

1042 
	`__nÚnuÎ
 ((1, 2));

1044 
	#±h»ad_rwlock_timedw¾ock
 
__±h»ad_rwlock_timedw¾ock64


	)

1049 #ifdeà
__USE_GNU


1050 #iâdeà
__USE_TIME_BITS64


1051 
	$±h»ad_rwlock_şockw¾ock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

1052 
şockid_t
 
__şockid
,

1053 cÚ¡ 
time¥ec
 *
__»¡riù


1054 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 3));

1057 #ifdeà
__REDIRECT_NTHNL


1058 
	`__REDIRECT_NTHNL
 (
±h»ad_rwlock_şockw¾ock
,

1059 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

1060 
şockid_t
 
__şockid
,

1061 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

1062 
__±h»ad_rwlock_şockw¾ock64
)

1063 
	`__nÚnuÎ
 ((1, 3));

1065 
	#±h»ad_rwlock_şockw¾ock
 
__±h»ad_rwlock_şockw¾ock64


	)

1071 
	$±h»ad_rwlock_uÆock
 (
±h»ad_rwlock_t
 *
__rwlock
)

1072 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1078 
	$±h»ad_rwlock©Œ_š™
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

1079 
__THROW
 
	`__nÚnuÎ
 ((1));

1082 
	$±h»ad_rwlock©Œ_de¡roy
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

1083 
__THROW
 
	`__nÚnuÎ
 ((1));

1086 
	$±h»ad_rwlock©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

1087 
__»¡riù
 
__©Œ
,

1088 *
__»¡riù
 
__psh¬ed
)

1089 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1092 
	$±h»ad_rwlock©Œ_£sh¬ed
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

1093 
__psh¬ed
)

1094 
__THROW
 
	`__nÚnuÎ
 ((1));

1097 
	$±h»ad_rwlock©Œ_g‘kšd_Å
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

1098 
__»¡riù
 
__©Œ
,

1099 *
__»¡riù
 
__´ef
)

1100 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1103 
	$±h»ad_rwlock©Œ_£tkšd_Å
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

1104 
__´ef
è
__THROW
 
	`__nÚnuÎ
 ((1));

1112 
	$±h»ad_cÚd_š™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1113 cÚ¡ 
±h»ad_cÚd©Œ_t
 *
__»¡riù
 
__cÚd_©Œ
)

1114 
__THROW
 
	`__nÚnuÎ
 ((1));

1117 
	$±h»ad_cÚd_de¡roy
 (
±h»ad_cÚd_t
 *
__cÚd
)

1118 
__THROW
 
	`__nÚnuÎ
 ((1));

1121 
	$±h»ad_cÚd_sigÇl
 (
±h»ad_cÚd_t
 *
__cÚd
)

1122 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1125 
	$±h»ad_cÚd_brßdÿ¡
 (
±h»ad_cÚd_t
 *
__cÚd
)

1126 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1133 
	$±h»ad_cÚd_wa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1134 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
)

1135 
	`__nÚnuÎ
 ((1, 2));

1144 #iâdeà
__USE_TIME_BITS64


1145 
	$±h»ad_cÚd_timedwa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1146 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

1147 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
)

1148 
	`__nÚnuÎ
 ((1, 2, 3));

1150 #ifdeà
__REDIRECT


1151 
	`__REDIRECT
 (
±h»ad_cÚd_timedwa™
,

1152 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1153 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

1154 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

1155 
__±h»ad_cÚd_timedwa™64
)

1156 
	`__nÚnuÎ
 ((1, 2, 3));

1158 
	#±h»ad_cÚd_timedwa™
 
__±h»ad_cÚd_timedwa™64


	)

1162 #ifdeà
__USE_GNU


1170 #iâdeà
__USE_TIME_BITS64


1171 
	$±h»ad_cÚd_şockwa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1172 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

1173 
__şockid_t
 
__şock_id
,

1174 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
)

1175 
	`__nÚnuÎ
 ((1, 2, 4));

1177 #ifdeà
__REDIRECT


1178 
	`__REDIRECT
 (
±h»ad_cÚd_şockwa™
,

1179 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1180 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

1181 
__şockid_t
 
__şock_id
,

1182 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
),

1183 
__±h»ad_cÚd_şockwa™64
)

1184 
	`__nÚnuÎ
 ((1, 2, 4));

1186 
	#±h»ad_cÚd_şockwa™
 
__±h»ad_cÚd_şockwa™64


	)

1194 
	$±h»ad_cÚd©Œ_š™
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1195 
__THROW
 
	`__nÚnuÎ
 ((1));

1198 
	$±h»ad_cÚd©Œ_de¡roy
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1199 
__THROW
 
	`__nÚnuÎ
 ((1));

1202 
	$±h»ad_cÚd©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1203 
__»¡riù
 
__©Œ
,

1204 *
__»¡riù
 
__psh¬ed
)

1205 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1208 
	$±h»ad_cÚd©Œ_£sh¬ed
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1209 
__psh¬ed
è
__THROW
 
	`__nÚnuÎ
 ((1));

1211 #ifdeà
__USE_XOPEN2K


1213 
	$±h»ad_cÚd©Œ_g‘şock
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1214 
__»¡riù
 
__©Œ
,

1215 
__şockid_t
 *
__»¡riù
 
__şock_id
)

1216 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1219 
	$±h»ad_cÚd©Œ_£tşock
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1220 
__şockid_t
 
__şock_id
)

1221 
__THROW
 
	`__nÚnuÎ
 ((1));

1225 #ifdeà
__USE_XOPEN2K


1230 
	$±h»ad_¥š_š™
 (
±h»ad_¥šlock_t
 *
__lock
, 
__psh¬ed
)

1231 
__THROW
 
	`__nÚnuÎ
 ((1));

1234 
	$±h»ad_¥š_de¡roy
 (
±h»ad_¥šlock_t
 *
__lock
)

1235 
__THROW
 
	`__nÚnuÎ
 ((1));

1238 
	$±h»ad_¥š_lock
 (
±h»ad_¥šlock_t
 *
__lock
)

1239 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1242 
	$±h»ad_¥š_Œylock
 (
±h»ad_¥šlock_t
 *
__lock
)

1243 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1246 
	$±h»ad_¥š_uÆock
 (
±h»ad_¥šlock_t
 *
__lock
)

1247 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1254 
	$±h»ad_b¬r›r_š™
 (
±h»ad_b¬r›r_t
 *
__»¡riù
 
__b¬r›r
,

1255 cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *
__»¡riù


1256 
__©Œ
, 
__couÁ
)

1257 
__THROW
 
	`__nÚnuÎ
 ((1));

1260 
	$±h»ad_b¬r›r_de¡roy
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1261 
__THROW
 
	`__nÚnuÎ
 ((1));

1264 
	$±h»ad_b¬r›r_wa™
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1265 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1269 
	$±h»ad_b¬r›¿‰r_š™
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1270 
__THROW
 
	`__nÚnuÎ
 ((1));

1273 
	$±h»ad_b¬r›¿‰r_de¡roy
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1274 
__THROW
 
	`__nÚnuÎ
 ((1));

1277 
	$±h»ad_b¬r›¿‰r_g‘psh¬ed
 (cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *

1278 
__»¡riù
 
__©Œ
,

1279 *
__»¡riù
 
__psh¬ed
)

1280 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1283 
	$±h»ad_b¬r›¿‰r_£sh¬ed
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
,

1284 
__psh¬ed
)

1285 
__THROW
 
	`__nÚnuÎ
 ((1));

1297 
	$±h»ad_key_ü—‹
 (
±h»ad_key_t
 *
__key
,

1298 (*
__de¡r_funùiÚ
) (*))

1299 
__THROW
 
	`__nÚnuÎ
 ((1));

1302 
	$±h»ad_key_d–‘e
 (
±h»ad_key_t
 
__key
è
__THROW
;

1305 *
	$±h»ad_g‘¥ecific
 (
±h»ad_key_t
 
__key
è
__THROW
;

1308 
	$±h»ad_£t¥ecific
 (
±h»ad_key_t
 
__key
,

1309 cÚ¡ *
__poš‹r
)

1310 
__THROW
 
	`__©Œ_acûss_nÚe
 (2);

1313 #ifdeà
__USE_XOPEN2K


1315 
	$±h»ad_g‘ıuşockid
 (
±h»ad_t
 
__th»ad_id
,

1316 
__şockid_t
 *
__şock_id
)

1317 
__THROW
 
	`__nÚnuÎ
 ((2));

1332 
	$±h»ad_©fÜk
 ((*
__´•¬e
) (),

1333 (*
__·»Á
) (),

1334 (*
__chd
è()è
__THROW
;

1337 #ifdeà
__USE_EXTERN_INLINES


1339 
__ex‹º_šlše
 

1340 
	`__NTH
 (
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
))

1342  
__th»ad1
 =ğ
__th»ad2
;

1343 
	}
}

1346 
	g__END_DECLS


	@/usr/include/signal.h

22 #iâdef 
_SIGNAL_H


23 
	#_SIGNAL_H


	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

30 
	~<b™s/signum-g’”ic.h
>

32 
	~<b™s/ty³s/sig_©omic_t.h
>

34 #ià
defšed
 
__USE_POSIX


35 
	~<b™s/ty³s/sig£t_t.h
>

38 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


39 #iâdeà
__pid_t_defšed


40 
__pid_t
 
	tpid_t
;

41 
	#__pid_t_defšed


	)

43 #ifdeà
__USE_XOPEN


45 #iâdeà
__uid_t_defšed


46 
__uid_t
 
	tuid_t
;

47 
	#__uid_t_defšed


	)

51 #ifdeà
__USE_POSIX199309


53 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

56 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_XOPEN_EXTENDED


57 
	~<b™s/ty³s/sigšfo_t.h
>

58 
	~<b™s/sigšfo-cÚ¡s.h
>

61 #ifdeà
__USE_MISC


62 
	~<b™s/ty³s/sigv®_t.h
>

65 #ifdeà
__USE_POSIX199309


66 
	~<b™s/ty³s/sigev’t_t.h
>

67 
	~<b™s/sigev’t-cÚ¡s.h
>

72 (*
	t__sighªdËr_t
) ();

77 
__sighªdËr_t
 
	$__sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

78 
__THROW
;

79 #ifdeà
__USE_GNU


80 
__sighªdËr_t
 
	$sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

81 
__THROW
;

87 #ifdeà
__USE_MISC


88 
__sighªdËr_t
 
	$sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

89 
__THROW
;

92 #ifdeà
__REDIRECT_NTH


93 
__sighªdËr_t
 
	`__REDIRECT_NTH
 (
sigÇl
,

94 (
__sig
, 
__sighªdËr_t
 
__hªdËr
),

95 
__sysv_sigÇl
);

97 
	#sigÇl
 
__sysv_sigÇl


	)

101 #ià
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8


104 
__sighªdËr_t
 
	$bsd_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

105 
__THROW
;

111 #ifdeà
__USE_POSIX


112 
	$kl
 (
__pid_t
 
__pid
, 
__sig
è
__THROW
;

115 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


119 
	$kÍg
 (
__pid_t
 
__pg½
, 
__sig
è
__THROW
;

123 
	$¿i£
 (
__sig
è
__THROW
;

125 #ifdeà
__USE_MISC


127 
__sighªdËr_t
 
	$ssigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

128 
__THROW
;

129 
	$gsigÇl
 (
__sig
è
__THROW
;

132 #ifdeà
__USE_XOPEN2K8


134 
	`psigÇl
 (
__sig
, cÚ¡ *
__s
);

137 
	`psigšfo
 (cÚ¡ 
sigšfo_t
 *
__pšfo
, cÚ¡ *
__s
);

149 #ifdeà
__USE_XOPEN_EXTENDED


150 #ifdeà
__GNUC__


151 
	$sig·u£
 (
__sig
è
	`__asm__
 ("__xpg_sigpause")

152 
	`__©Œibu‹_d•»ÿ‹d_msg__
 ("Usehe sigsuspend function instead");

154 
	`__sig·u£
 (
__sig_Ü_mask
, 
__is_sig
);

156 
	#sig·u£
(
sig
è
	`__sig·u£
 ((sig), 1)

	)

161 #ifdeà
__USE_MISC


168 
	#sigmask
(
sig
) \

169 
	`__glibc_maüo_w¬nšg
 ("sigmask is deprecated") \

170 (()(1u << ((
sig
è- 1)))

	)

173 
	$sigblock
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

176 
	$sig£tmask
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

179 
	$sigg‘mask
 (è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

183 #ifdeà
__USE_MISC


184 
	#NSIG
 
_NSIG


	)

187 #ifdeà
__USE_GNU


188 
__sighªdËr_t
 
	tsighªdËr_t
;

192 #ifdeà
__USE_MISC


193 
__sighªdËr_t
 
	tsig_t
;

196 #ifdeà
__USE_POSIX


199 
	$sigem±y£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

202 
	$sigfl£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

205 
	$sigadd£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

208 
	$sigd–£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

211 
	$sigismemb”
 (cÚ¡ 
sig£t_t
 *
__£t
, 
__signo
)

212 
__THROW
 
	`__nÚnuÎ
 ((1));

214 #ifdeà
__USE_GNU


216 
	$sigi£m±y£t
 (cÚ¡ 
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

219 
	$sigªd£t
 (
sig£t_t
 *
__£t
, cÚ¡ sig£t_ˆ*
__Ëá
,

220 cÚ¡ 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

223 
	$sigÜ£t
 (
sig£t_t
 *
__£t
, cÚ¡ sig£t_ˆ*
__Ëá
,

224 cÚ¡ 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

229 
	~<b™s/sigaùiÚ.h
>

232 
	$sig´ocmask
 (
__how
, cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

233 
sig£t_t
 *
__»¡riù
 
__o£t
è
__THROW
;

240 
	$sigsu¥’d
 (cÚ¡ 
sig£t_t
 *
__£t
è
	`__nÚnuÎ
 ((1));

243 
	$sigaùiÚ
 (
__sig
, cÚ¡ 
sigaùiÚ
 *
__»¡riù
 
__aù
,

244 
sigaùiÚ
 *
__»¡riù
 
__ßù
è
__THROW
;

247 
	$sig³ndšg
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

250 #ifdeà
__USE_POSIX199506


255 
	$sigwa™
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
, *__»¡riù 
__sig
)

256 
	`__nÚnuÎ
 ((1, 2));

259 #ifdeà
__USE_POSIX199309


264 
	$sigwa™šfo
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

265 
sigšfo_t
 *
__»¡riù
 
__šfo
è
	`__nÚnuÎ
 ((1));

272 #iâdeà
__USE_TIME_BITS64


273 
	$sigtimedwa™
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

274 
sigšfo_t
 *
__»¡riù
 
__šfo
,

275 cÚ¡ 
time¥ec
 *
__»¡riù
 
__timeout
)

276 
	`__nÚnuÎ
 ((1));

278 #ifdeà
__REDIRECT


279 
	`__REDIRECT
 (
sigtimedwa™
,

280 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

281 
sigšfo_t
 *
__»¡riù
 
__šfo
,

282 cÚ¡ 
time¥ec
 *
__»¡riù
 
__timeout
),

283 
__sigtimedwa™64
)

284 
	`__nÚnuÎ
 ((1));

286 
	#sigtimedwa™
 
__sigtimedwa™64


	)

292 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, cÚ¡ 
sigv®
 
__v®
)

293 
__THROW
;

298 #ifdeà
__USE_MISC


301 
	~<b™s/sigcÚ‹xt.h
>

304 
	$sig»tuº
 (
sigcÚ‹xt
 *
__sı
è
__THROW
;

309 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


310 
	#__Ãed_size_t


	)

311 
	~<¡ddef.h
>

313 
	~<b™s/ty³s/¡ack_t.h
>

314 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


316 
	~<sys/ucÚ‹xt.h
>

320 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_MISC


324 
	$sigš‹¼u±
 (
__sig
, 
__š‹¼u±
è
__THROW


325 
	`__©Œibu‹_d•»ÿ‹d_msg__
 ("Use sigaction with SA_RESTART instead");

327 
	~<b™s/sig¡ack.h
>

328 
	~<b™s/sig¡ksz.h
>

329 
	~<b™s/ss_æags.h
>

333 
	$sig®t¡ack
 (cÚ¡ 
¡ack_t
 *
__»¡riù
 
__ss
,

334 
¡ack_t
 *
__»¡riù
 
__oss
è
__THROW
;

337 #ià((
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

338 || 
defšed
 
__USE_MISC
)

339 
	~<b™s/ty³s/¡ruù_sig¡ack.h
>

342 #ià((
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

343 || 
defšed
 
__USE_MISC
)

347 
	$sig¡ack
 (
sig¡ack
 *
__ss
, sig¡ack *
__oss
)

348 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

351 #ifdeà
__USE_XOPEN_EXTENDED


355 
	$sighŞd
 (
__sig
è
__THROW


356 
	`__©Œibu‹_d•»ÿ‹d_msg__
 ("Usehe sigprocmask function instead");

359 
	$sig»l£
 (
__sig
è
__THROW


360 
	`__©Œibu‹_d•»ÿ‹d_msg__
 ("Usehe sigprocmask function instead");

363 
	$sigignÜe
 (
__sig
è
__THROW


364 
	`__©Œibu‹_d•»ÿ‹d_msg__
 ("Usehe signal function instead");

367 
__sighªdËr_t
 
	$sig£t
 (
__sig
, 
__sighªdËr_t
 
__di¥
è
__THROW


368 
__©Œibu‹_d•»ÿ‹d_msg__


372 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


375 
	~<b™s/±h»adty³s.h
>

376 
	~<b™s/sigth»ad.h
>

383 
	$__libc_cu¼’t_sig¹mš
 (è
__THROW
;

385 
	$__libc_cu¼’t_sig¹max
 (è
__THROW
;

387 
	#SIGRTMIN
 (
	`__libc_cu¼’t_sig¹mš
 ())

	)

388 
	#SIGRTMAX
 (
	`__libc_cu¼’t_sig¹max
 ())

	)

391 
	~<b™s/sigÇl_ext.h
>

393 
__END_DECLS


	@/usr/include/stdio.h

23 #iâdeà
_STDIO_H


24 
	#_STDIO_H
 1

	)

26 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

27 
	~<b™s/libc-h—d”-¡¬t.h
>

29 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	#__Ãed___va_li¡


	)

36 
	~<¡d¬g.h
>

38 
	~<b™s/ty³s.h
>

39 
	~<b™s/ty³s/__åos_t.h
>

40 
	~<b™s/ty³s/__åos64_t.h
>

41 
	~<b™s/ty³s/__FILE.h
>

42 
	~<b™s/ty³s/FILE.h
>

43 
	~<b™s/ty³s/¡ruù_FILE.h
>

45 #ifdeà
__USE_GNU


46 
	~<b™s/ty³s/cook›_io_funùiÚs_t.h
>

49 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


50 #ifdeà
__GNUC__


51 #iâdeà
_VA_LIST_DEFINED


52 
__gnuc_va_li¡
 
	tva_li¡
;

53 
	#_VA_LIST_DEFINED


	)

56 
	~<¡d¬g.h
>

60 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


61 #iâdeà
__off_t_defšed


62 #iâdeà
__USE_FILE_OFFSET64


63 
__off_t
 
	toff_t
;

65 
__off64_t
 
	toff_t
;

67 
	#__off_t_defšed


	)

69 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


70 
__off64_t
 
	toff64_t
;

71 
	#__off64_t_defšed


	)

75 #ifdeà
__USE_XOPEN2K8


76 #iâdeà
__ssize_t_defšed


77 
__ssize_t
 
	tssize_t
;

78 
	#__ssize_t_defšed


	)

83 #iâdeà
__USE_FILE_OFFSET64


84 
__åos_t
 
	tåos_t
;

86 
__åos64_t
 
	tåos_t
;

88 #ifdeà
__USE_LARGEFILE64


89 
__åos64_t
 
	tåos64_t
;

93 
	#_IOFBF
 0

	)

94 
	#_IOLBF
 1

	)

95 
	#_IONBF
 2

	)

99 
	#BUFSIZ
 8192

	)

104 
	#EOF
 (-1)

	)

109 
	#SEEK_SET
 0

	)

110 
	#SEEK_CUR
 1

	)

111 
	#SEEK_END
 2

	)

112 #ifdeà
__USE_GNU


113 
	#SEEK_DATA
 3

	)

114 
	#SEEK_HOLE
 4

	)

118 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


120 
	#P_tmpdœ
 "/tmp"

	)

133 
	~<b™s/¡dio_lim.h
>

136 #ià
__GLIBC_USE
 (
ISOC2X
)

138 
	#_PRINTF_NAN_LEN_MAX
 4

	)

143 
FILE
 *
¡dš
;

144 
FILE
 *
¡dout
;

145 
FILE
 *
¡d”r
;

147 
	#¡dš
 
¡dš


	)

148 
	#¡dout
 
¡dout


	)

149 
	#¡d”r
 
¡d”r


	)

152 
	$»move
 (cÚ¡ *
__f’ame
è
__THROW
;

154 
	$»Çme
 (cÚ¡ *
__Şd
, cÚ¡ *
__Ãw
è
__THROW
;

156 #ifdeà
__USE_ATFILE


158 
	$»Çm—t
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

159 cÚ¡ *
__Ãw
è
__THROW
;

162 #ifdeà
__USE_GNU


164 
	#RENAME_NOREPLACE
 (1 << 0)

	)

165 
	#RENAME_EXCHANGE
 (1 << 1)

	)

166 
	#RENAME_WHITEOUT
 (1 << 2)

	)

170 
	$»Çm—t2
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

171 cÚ¡ *
__Ãw
, 
__æags
è
__THROW
;

178 
	`fşo£
 (
FILE
 *
__¡»am
);

180 #undeà
__©Œ_d—Îoc_fşo£


181 
	#__©Œ_d—Îoc_fşo£
 
	`__©Œ_d—Îoc
 (
fşo£
, 1)

	)

187 #iâdeà
__USE_FILE_OFFSET64


188 
FILE
 *
	$tmpfe
 ()

189 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

191 #ifdeà
__REDIRECT


192 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
)

193 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

195 
	#tmpfe
 
tmpfe64


	)

199 #ifdeà
__USE_LARGEFILE64


200 
FILE
 *
	$tmpfe64
 ()

201 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

205 *
	$tm²am
 ([
L_tm²am
]è
__THROW
 
__wur
;

207 #ifdeà
__USE_MISC


210 *
	$tm²am_r
 (
__s
[
L_tm²am
]è
__THROW
 
__wur
;

214 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


222 *
	$‹m²am
 (cÚ¡ *
__dœ
, cÚ¡ *
__pfx
)

223 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
 
__©Œ_d—Îoc_ä“
;

230 
	`fæush
 (
FILE
 *
__¡»am
);

232 #ifdeà
__USE_MISC


239 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

242 #ifdeà
__USE_GNU


249 
	`fşo£®l
 ();

253 #iâdeà
__USE_FILE_OFFSET64


258 
FILE
 *
	$fİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

259 cÚ¡ *
__»¡riù
 
__modes
)

260 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

265 
FILE
 *
	$äeİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

266 cÚ¡ *
__»¡riù
 
__modes
,

267 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

269 #ifdeà
__REDIRECT


270 
FILE
 *
	`__REDIRECT
 (
fİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

271 cÚ¡ *
__»¡riù
 
__modes
), 
fİ’64
)

272 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

273 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

274 cÚ¡ *
__»¡riù
 
__modes
,

275 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

276 
__wur
;

278 
	#fİ’
 
fİ’64


	)

279 
	#äeİ’
 
äeİ’64


	)

282 #ifdeà
__USE_LARGEFILE64


283 
FILE
 *
	$fİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

284 cÚ¡ *
__»¡riù
 
__modes
)

285 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

286 
FILE
 *
	$äeİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

287 cÚ¡ *
__»¡riù
 
__modes
,

288 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

291 #ifdef 
__USE_POSIX


293 
FILE
 *
	$fdİ’
 (
__fd
, cÚ¡ *
__modes
è
__THROW


294 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

297 #ifdef 
__USE_GNU


300 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

301 cÚ¡ *
__»¡riù
 
__modes
,

302 
cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW


303 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

306 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

308 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, cÚ¡ *
__modes
)

309 
__THROW
 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

314 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW


315 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
 
__wur
;

317 #ifdeà
_WCHAR_H


321 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW


322 
__©Œibu‹_m®loc__
 
__©Œ_d—Îoc_fşo£
;

328 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

332 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

333 
__modes
, 
size_t
 
__n
è
__THROW
;

335 #ifdef 
__USE_MISC


338 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

339 
size_t
 
__size
è
__THROW
;

342 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

350 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

351 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

356 
	`´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

358 
	$¥rštf
 (*
__»¡riù
 
__s
,

359 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROWNL
;

365 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

366 
__gnuc_va_li¡
 
__¬g
);

371 
	`v´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
__gnuc_va_li¡
 
__¬g
);

373 
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

374 
__gnuc_va_li¡
 
__¬g
è
__THROWNL
;

376 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_UNIX98


378 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

379 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

380 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

382 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

383 cÚ¡ *
__»¡riù
 
__fÜm©
, 
__gnuc_va_li¡
 
__¬g
)

384 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

387 #ià
	`__GLIBC_USE
 (
LIB_EXT2
)

390 
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__f
,

391 
__gnuc_va_li¡
 
__¬g
)

392 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

393 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

394 cÚ¡ *
__»¡riù
 
__fmt
, ...)

395 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

396 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

397 cÚ¡ *
__»¡riù
 
__fmt
, ...)

398 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

401 #ifdeà
__USE_XOPEN2K8


403 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
,

404 
__gnuc_va_li¡
 
__¬g
)

405 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

406 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

407 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

415 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

416 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

421 
	$sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

423 
	$ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

424 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

430 
	~<b™s/æßŠ.h
>

431 #ià!
	`__GLIBC_USE
 (
DEPRECATED_SCANF
è&& !
defšed
 
__LDBL_COMPAT
 \

432 && 
__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
 == 0

433 #ifdeà
__REDIRECT


434 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

435 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

436 
__isoc99_fsÿnf
è
__wur
;

437 
	`__REDIRECT
 (
sÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

438 
__isoc99_sÿnf
è
__wur
;

439 
	`__REDIRECT_NTH
 (
ssÿnf
, (cÚ¡ *
__»¡riù
 
__s
,

440 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

441 
__isoc99_ssÿnf
);

443 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

444 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

445 
	$__isoc99_sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

446 
	$__isoc99_ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

447 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

448 
	#fsÿnf
 
__isoc99_fsÿnf


	)

449 
	#sÿnf
 
__isoc99_sÿnf


	)

450 
	#ssÿnf
 
__isoc99_ssÿnf


	)

454 #ifdef 
__USE_ISOC99


459 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

460 
__gnuc_va_li¡
 
__¬g
)

461 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

467 
	$vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
__gnuc_va_li¡
 
__¬g
)

468 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

471 
	$vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

472 cÚ¡ *
__»¡riù
 
__fÜm©
, 
__gnuc_va_li¡
 
__¬g
)

473 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

476 #ià!
	`__GLIBC_USE
 (
DEPRECATED_SCANF
)

477 #ià
defšed
 
__REDIRECT
 && !defšed 
__LDBL_COMPAT
 \

478 && 
__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
 == 0

479 
	`__REDIRECT
 (
vfsÿnf
,

480 (
FILE
 *
__»¡riù
 
__s
,

481 cÚ¡ *
__»¡riù
 
__fÜm©
, 
__gnuc_va_li¡
 
__¬g
),

482 
__isoc99_vfsÿnf
)

483 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

484 
	`__REDIRECT
 (
vsÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
,

485 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

486 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

487 
	`__REDIRECT_NTH
 (
vssÿnf
,

488 (cÚ¡ *
__»¡riù
 
__s
,

489 cÚ¡ *
__»¡riù
 
__fÜm©
,

490 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vssÿnf
)

491 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

492 #–ià!
defšed
 
__REDIRECT


493 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

494 cÚ¡ *
__»¡riù
 
__fÜm©
,

495 
__gnuc_va_li¡
 
__¬g
è
__wur
;

496 
	$__isoc99_vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
,

497 
__gnuc_va_li¡
 
__¬g
è
__wur
;

498 
	$__isoc99_vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

499 cÚ¡ *
__»¡riù
 
__fÜm©
,

500 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

501 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

502 
	#vsÿnf
 
__isoc99_vsÿnf


	)

503 
	#vssÿnf
 
__isoc99_vssÿnf


	)

513 
	`fg‘c
 (
FILE
 *
__¡»am
);

514 
	`g‘c
 (
FILE
 *
__¡»am
);

520 
	`g‘ch¬
 ();

522 #ifdeà
__USE_POSIX199506


527 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

528 
	`g‘ch¬_uÆocked
 ();

531 #ifdeà
__USE_MISC


538 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

549 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

550 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

556 
	`putch¬
 (
__c
);

558 #ifdeà
__USE_MISC


565 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

568 #ifdeà
__USE_POSIX199506


573 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

574 
	`putch¬_uÆocked
 (
__c
);

578 #ià
defšed
 
__USE_MISC
 \

579 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

581 
	`g‘w
 (
FILE
 *
__¡»am
);

584 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

592 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

593 
__wur
 
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 1, 2);

595 #ià
	`__GLIBC_USE
 (
DEPRECATED_GETS
)

605 *
	$g‘s
 (*
__s
è
__wur
 
__©Œibu‹_d•»ÿ‹d__
;

608 #ifdeà
__USE_GNU


615 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

616 
FILE
 *
__»¡riù
 
__¡»am
è
__wur


617 
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 1, 2);

621 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

632 
__ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

633 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

634 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

635 
__ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

636 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

637 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

645 
__ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

646 
size_t
 *
__»¡riù
 
__n
,

647 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

655 
	`åuts
 (cÚ¡ *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

661 
	`puts
 (cÚ¡ *
__s
);

668 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

675 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

676 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

681 
size_t
 
	`fwr™e
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

682 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
);

684 #ifdeà
__USE_GNU


691 
	`åuts_uÆocked
 (cÚ¡ *
__»¡riù
 
__s
,

692 
FILE
 *
__»¡riù
 
__¡»am
);

695 #ifdeà
__USE_MISC


702 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

703 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

704 
size_t
 
	`fwr™e_uÆocked
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

705 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
);

713 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

718 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

723 
	`»wšd
 (
FILE
 *
__¡»am
);

730 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


731 #iâdeà
__USE_FILE_OFFSET64


736 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

741 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

743 #ifdeà
__REDIRECT


744 
	`__REDIRECT
 (
f£eko
,

745 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

746 
f£eko64
);

747 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

749 
	#f£eko
 
f£eko64


	)

750 
	#á–lo
 
á–lo64


	)

755 #iâdeà
__USE_FILE_OFFSET64


760 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

765 
	`f£os
 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
);

767 #ifdeà
__REDIRECT


768 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

769 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

770 
	`__REDIRECT
 (
f£os
,

771 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
), 
f£os64
);

773 
	#fg‘pos
 
fg‘pos64


	)

774 
	#f£os
 
f£os64


	)

778 #ifdeà
__USE_LARGEFILE64


779 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

780 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

781 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

782 
	`f£os64
 (
FILE
 *
__¡»am
, cÚ¡ 
åos64_t
 *
__pos
);

786 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

788 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

790 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

792 #ifdeà
__USE_MISC


794 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

795 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

796 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

804 
	`³¼Ü
 (cÚ¡ *
__s
);

807 #ifdef 
__USE_POSIX


809 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

812 #ifdeà
__USE_MISC


814 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

818 #ifdeà
__USE_POSIX2


823 
	`pşo£
 (
FILE
 *
__¡»am
);

829 
FILE
 *
	$pİ’
 (cÚ¡ *
__commªd
, cÚ¡ *
__modes
)

830 
__©Œibu‹_m®loc__
 
	$__©Œ_d—Îoc
 (
pşo£
, 1è
__wur
;

835 #ifdef 
__USE_POSIX


837 *
	$ù”mid
 (*
__s
è
__THROW


838 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1));

842 #ià(
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
è|| defšed 
__USE_GNU


844 *
	$cu£rid
 (*
__s
)

845 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1));

849 #ifdef 
__USE_GNU


850 
ob¡ack
;

853 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

854 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

855 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

856 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

857 cÚ¡ *
__»¡riù
 
__fÜm©
,

858 
__gnuc_va_li¡
 
__¬gs
)

859 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

863 #ifdeà
__USE_POSIX199506


867 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

871 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

874 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

877 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


880 
	~<b™s/g‘İt_posix.h
>

885 
	`__uæow
 (
FILE
 *);

886 
	`__ov”æow
 (
FILE
 *, );

890 #ifdeà
__USE_EXTERN_INLINES


891 
	~<b™s/¡dio.h
>

893 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


894 
	~<b™s/¡dio2.h
>

897 
	~<b™s/æßŠ.h
>

898 #ià
defšed
 
__LDBL_COMPAT
 || 
__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
 == 1

899 
	~<b™s/¡dio-ldbl.h
>

902 
__END_DECLS


	@/usr/include/stdlib.h

23 #iâdef 
_STDLIB_H


25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

29 
	#__Ãed_size_t


	)

30 
	#__Ãed_wch¬_t


	)

31 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

34 
	g__BEGIN_DECLS


36 
	#_STDLIB_H
 1

	)

38 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


40 
	~<b™s/wa™æags.h
>

41 
	~<b™s/wa™¡©us.h
>

44 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (¡©us)

	)

45 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (¡©us)

	)

46 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (¡©us)

	)

47 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (¡©us)

	)

48 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (¡©us)

	)

49 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (¡©us)

	)

50 #ifdeà
__WIFCONTINUED


51 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (¡©us)

	)

56 
	~<b™s/æßŠ.h
>

61 
	mquÙ
;

62 
	m»m
;

63 } 
	tdiv_t
;

66 #iâdeà
__ldiv_t_defšed


69 
	mquÙ
;

70 
	m»m
;

71 } 
	tldiv_t
;

72 
	#__ldiv_t_defšed
 1

	)

75 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


77 
__ex‹nsiÚ__
 struct

79 
	mquÙ
;

80 
	m»m
;

81 } 
	tÎdiv_t
;

82 
	#__Îdiv_t_defšed
 1

	)

87 
	#RAND_MAX
 2147483647

	)

92 
	#EXIT_FAILURE
 1

	)

93 
	#EXIT_SUCCESS
 0

	)

97 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

98 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

102 
	$©of
 (cÚ¡ *
__ÅŒ
)

103 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

105 
	$©oi
 (cÚ¡ *
__ÅŒ
)

106 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

108 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

109 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

111 #ifdeà
__USE_ISOC99


113 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

114 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

118 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

119 **
__»¡riù
 
__’d±r
)

120 
__THROW
 
	`__nÚnuÎ
 ((1));

122 #ifdef 
__USE_ISOC99


124 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

125 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

127 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

128 **
__»¡riù
 
__’d±r
)

129 
__THROW
 
	`__nÚnuÎ
 ((1));

134 #ià
__HAVE_FLOAT16
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

135 
_Flßt16
 
	$¡¹of16
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

136 **
__»¡riù
 
__’d±r
)

137 
__THROW
 
	`__nÚnuÎ
 ((1));

140 #ià
__HAVE_FLOAT32
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

141 
_Flßt32
 
	$¡¹of32
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

142 **
__»¡riù
 
__’d±r
)

143 
__THROW
 
	`__nÚnuÎ
 ((1));

146 #ià
__HAVE_FLOAT64
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

147 
_Flßt64
 
	$¡¹of64
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

148 **
__»¡riù
 
__’d±r
)

149 
__THROW
 
	`__nÚnuÎ
 ((1));

152 #ià
__HAVE_FLOAT128
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

153 
_Flßt128
 
	$¡¹of128
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

154 **
__»¡riù
 
__’d±r
)

155 
__THROW
 
	`__nÚnuÎ
 ((1));

158 #ià
__HAVE_FLOAT32X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

159 
_Flßt32x
 
	$¡¹of32x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

160 **
__»¡riù
 
__’d±r
)

161 
__THROW
 
	`__nÚnuÎ
 ((1));

164 #ià
__HAVE_FLOAT64X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

165 
_Flßt64x
 
	$¡¹of64x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

166 **
__»¡riù
 
__’d±r
)

167 
__THROW
 
	`__nÚnuÎ
 ((1));

170 #ià
__HAVE_FLOAT128X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

171 
_Flßt128x
 
	$¡¹of128x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

172 **
__»¡riù
 
__’d±r
)

173 
__THROW
 
	`__nÚnuÎ
 ((1));

177 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

178 **
__»¡riù
 
__’d±r
, 
__ba£
)

179 
__THROW
 
	`__nÚnuÎ
 ((1));

181 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

182 **
__»¡riù
 
__’d±r
, 
__ba£
)

183 
__THROW
 
	`__nÚnuÎ
 ((1));

185 #ifdeà
__USE_MISC


187 
__ex‹nsiÚ__


188 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

189 **
__»¡riù
 
__’d±r
, 
__ba£
)

190 
__THROW
 
	`__nÚnuÎ
 ((1));

192 
__ex‹nsiÚ__


193 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

194 **
__»¡riù
 
__’d±r
, 
__ba£
)

195 
__THROW
 
	`__nÚnuÎ
 ((1));

198 #ifdeà
__USE_ISOC99


200 
__ex‹nsiÚ__


201 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

202 **
__»¡riù
 
__’d±r
, 
__ba£
)

203 
__THROW
 
	`__nÚnuÎ
 ((1));

205 
__ex‹nsiÚ__


206 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

207 **
__»¡riù
 
__’d±r
, 
__ba£
)

208 
__THROW
 
	`__nÚnuÎ
 ((1));

212 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT_C2X
)

213 
	$¡räomd
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

214 
__f
)

215 
__THROW
 
	`__nÚnuÎ
 ((3));

217 
	$¡räomf
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

218 
__f
)

219 
__THROW
 
	`__nÚnuÎ
 ((3));

221 
	$¡räoml
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

222 
__f
)

223 
__THROW
 
	`__nÚnuÎ
 ((3));

226 #ià
__HAVE_FLOAT16
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

227 
	$¡räomf16
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

228 
_Flßt16
 
__f
)

229 
__THROW
 
	`__nÚnuÎ
 ((3));

232 #ià
__HAVE_FLOAT32
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

233 
	$¡räomf32
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

234 
_Flßt32
 
__f
)

235 
__THROW
 
	`__nÚnuÎ
 ((3));

238 #ià
__HAVE_FLOAT64
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

239 
	$¡räomf64
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

240 
_Flßt64
 
__f
)

241 
__THROW
 
	`__nÚnuÎ
 ((3));

244 #ià
__HAVE_FLOAT128
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

245 
	$¡räomf128
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

246 
_Flßt128
 
__f
)

247 
__THROW
 
	`__nÚnuÎ
 ((3));

250 #ià
__HAVE_FLOAT32X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

251 
	$¡räomf32x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

252 
_Flßt32x
 
__f
)

253 
__THROW
 
	`__nÚnuÎ
 ((3));

256 #ià
__HAVE_FLOAT64X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

257 
	$¡räomf64x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

258 
_Flßt64x
 
__f
)

259 
__THROW
 
	`__nÚnuÎ
 ((3));

262 #ià
__HAVE_FLOAT128X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

263 
	$¡räomf128x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

264 
_Flßt128x
 
__f
)

265 
__THROW
 
	`__nÚnuÎ
 ((3));

269 #ifdeà
__USE_GNU


273 
	~<b™s/ty³s/loÿË_t.h
>

275 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

276 **
__»¡riù
 
__’d±r
, 
__ba£
,

277 
loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

279 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

280 **
__»¡riù
 
__’d±r
,

281 
__ba£
, 
loÿË_t
 
__loc
)

282 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

284 
__ex‹nsiÚ__


285 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

286 **
__»¡riù
 
__’d±r
, 
__ba£
,

287 
loÿË_t
 
__loc
)

288 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

290 
__ex‹nsiÚ__


291 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

292 **
__»¡riù
 
__’d±r
,

293 
__ba£
, 
loÿË_t
 
__loc
)

294 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

296 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

297 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

298 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

300 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

301 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

302 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

304 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

305 **
__»¡riù
 
__’d±r
,

306 
loÿË_t
 
__loc
)

307 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

309 #ià
__HAVE_FLOAT16


310 
_Flßt16
 
	$¡¹of16_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

311 **
__»¡riù
 
__’d±r
,

312 
loÿË_t
 
__loc
)

313 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

316 #ià
__HAVE_FLOAT32


317 
_Flßt32
 
	$¡¹of32_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

318 **
__»¡riù
 
__’d±r
,

319 
loÿË_t
 
__loc
)

320 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

323 #ià
__HAVE_FLOAT64


324 
_Flßt64
 
	$¡¹of64_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

325 **
__»¡riù
 
__’d±r
,

326 
loÿË_t
 
__loc
)

327 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

330 #ià
__HAVE_FLOAT128


331 
_Flßt128
 
	$¡¹of128_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

332 **
__»¡riù
 
__’d±r
,

333 
loÿË_t
 
__loc
)

334 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

337 #ià
__HAVE_FLOAT32X


338 
_Flßt32x
 
	$¡¹of32x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

339 **
__»¡riù
 
__’d±r
,

340 
loÿË_t
 
__loc
)

341 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

344 #ià
__HAVE_FLOAT64X


345 
_Flßt64x
 
	$¡¹of64x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

346 **
__»¡riù
 
__’d±r
,

347 
loÿË_t
 
__loc
)

348 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

351 #ià
__HAVE_FLOAT128X


352 
_Flßt128x
 
	$¡¹of128x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

353 **
__»¡riù
 
__’d±r
,

354 
loÿË_t
 
__loc
)

355 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

360 #ifdeà
__USE_EXTERN_INLINES


361 
__ex‹º_šlše
 

362 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

364  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

365 
	}
}

366 
__ex‹º_šlše
 

367 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

369  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

370 
	}
}

372 #ifdeà
__USE_ISOC99


373 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

374 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

376  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

377 
	}
}

382 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


386 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

389 
	$a64l
 (cÚ¡ *
__s
)

390 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

394 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


395 
	~<sys/ty³s.h
>

402 
	$¿ndom
 (è
__THROW
;

405 
	$¤ªdom
 (
__£ed
è
__THROW
;

411 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

412 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

416 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

419 #ifdeà
__USE_MISC


424 
	s¿ndom_d©a


426 
št32_t
 *
åŒ
;

427 
št32_t
 *
½Œ
;

428 
št32_t
 *
¡©e
;

429 
¿nd_ty³
;

430 
¿nd_deg
;

431 
¿nd_£p
;

432 
št32_t
 *
’d_±r
;

435 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

436 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

438 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

439 
__THROW
 
	`__nÚnuÎ
 ((2));

441 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

442 
size_t
 
__¡©–’
,

443 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

444 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

446 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

447 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

448 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

454 
	$¿nd
 (è
__THROW
;

456 
	$¤ªd
 (
__£ed
è
__THROW
;

458 #ifdeà
__USE_POSIX199506


460 
	$¿nd_r
 (*
__£ed
è
__THROW
;

464 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


468 
	$d¿nd48
 (è
__THROW
;

469 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

472 
	$Ìªd48
 (è
__THROW
;

473 
	$Äªd48
 (
__xsubi
[3])

474 
__THROW
 
	`__nÚnuÎ
 ((1));

477 
	$m¿nd48
 (è
__THROW
;

478 
	$j¿nd48
 (
__xsubi
[3])

479 
__THROW
 
	`__nÚnuÎ
 ((1));

482 
	$¤ªd48
 (
__£edv®
è
__THROW
;

483 *
	$£ed48
 (
__£ed16v
[3])

484 
__THROW
 
	`__nÚnuÎ
 ((1));

485 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

487 #ifdeà
__USE_MISC


491 
	sd¿nd48_d©a


493 
__x
[3];

494 
__Şd_x
[3];

495 
__c
;

496 
__š™
;

497 
__ex‹nsiÚ__
 
__a
;

502 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

503 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

504 
	$”ªd48_r
 (
__xsubi
[3],

505 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

506 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

509 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

510 *
__»¡riù
 
__»suÉ
)

511 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

512 
	$Äªd48_r
 (
__xsubi
[3],

513 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

514 *
__»¡riù
 
__»suÉ
)

515 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

518 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

519 *
__»¡riù
 
__»suÉ
)

520 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

521 
	$j¿nd48_r
 (
__xsubi
[3],

522 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

523 *
__»¡riù
 
__»suÉ
)

524 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

527 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

528 
__THROW
 
	`__nÚnuÎ
 ((2));

530 
	$£ed48_r
 (
__£ed16v
[3],

531 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

533 
	$lcÚg48_r
 (
__·¿m
[7],

534 
d¿nd48_d©a
 *
__bufãr
)

535 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

540 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__


541 
	`__©Œibu‹_®loc_size__
 ((1)è
__wur
;

543 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

544 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_size__
 ((1, 2)è
__wur
;

551 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

552 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
 
	`__©Œibu‹_®loc_size__
 ((2));

555 
	$ä“
 (*
__±r
è
__THROW
;

557 #ifdeà
__USE_MISC


563 *
	$»®loÿ¼ay
 (*
__±r
, 
size_t
 
__nmemb
, size_ˆ
__size
)

564 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__


565 
	`__©Œibu‹_®loc_size__
 ((2, 3))

566 
__©Œ_d—Îoc_ä“
;

569 *
	$»®loÿ¼ay
 (*
__±r
, 
size_t
 
__nmemb
, size_ˆ
__size
)

570 
__THROW
 
	`__©Œ_d—Îoc
 (
»®loÿ¼ay
, 1);

573 #ifdeà
__USE_MISC


574 
	~<®loÿ.h
>

577 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

578 || 
defšed
 
__USE_MISC


580 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__


581 
	`__©Œibu‹_®loc_size__
 ((1)è
__wur
;

584 #ifdeà
__USE_XOPEN2K


586 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

587 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

590 #ifdeà
__USE_ISOC11


592 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

593 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_®ign__
 ((1))

594 
	`__©Œibu‹_®loc_size__
 ((2)è
__wur
;

598 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

602 
	$©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

604 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


606 #ifdeà
__ılu¥lus


607 "C++" 
	$©_quick_ex™
 ((*
__func
) ())

608 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

610 
	$©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

614 #ifdef 
__USE_MISC


617 
	$Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

618 
__THROW
 
	`__nÚnuÎ
 ((1));

624 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

626 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


630 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

633 #ifdeà
__USE_ISOC99


636 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

641 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

643 #ifdeà
__USE_GNU


646 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

647 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

650 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


654 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

657 #ifdeà
__USE_XOPEN2K


660 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

661 
__THROW
 
	`__nÚnuÎ
 ((2));

664 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

667 #ifdef 
__USE_MISC


671 
	$ş—»nv
 (è
__THROW
;

675 #ià
defšed
 
__USE_MISC
 \

676 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

682 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

685 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


694 #iâdeà
__USE_FILE_OFFSET64


695 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

697 #ifdeà
__REDIRECT


698 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

699 
	`__nÚnuÎ
 ((1)è
__wur
;

701 
	#mk¡emp
 
mk¡emp64


	)

704 #ifdeà
__USE_LARGEFILE64


705 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

709 #ifdeà
__USE_MISC


716 #iâdeà
__USE_FILE_OFFSET64


717 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

719 #ifdeà
__REDIRECT


720 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

721 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

723 
	#mk¡emps
 
mk¡emps64


	)

726 #ifdeà
__USE_LARGEFILE64


727 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

728 
	`__nÚnuÎ
 ((1)è
__wur
;

732 #ifdeà
__USE_XOPEN2K8


738 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

741 #ifdeà
__USE_GNU


748 #iâdeà
__USE_FILE_OFFSET64


749 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

751 #ifdeà
__REDIRECT


752 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

753 
	`__nÚnuÎ
 ((1)è
__wur
;

755 
	#mko¡emp
 
mko¡emp64


	)

758 #ifdeà
__USE_LARGEFILE64


759 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

768 #iâdeà
__USE_FILE_OFFSET64


769 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

770 
	`__nÚnuÎ
 ((1)è
__wur
;

772 #ifdeà
__REDIRECT


773 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

774 
__æags
), 
mko¡emps64
)

775 
	`__nÚnuÎ
 ((1)è
__wur
;

777 
	#mko¡emps
 
mko¡emps64


	)

780 #ifdeà
__USE_LARGEFILE64


781 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

782 
	`__nÚnuÎ
 ((1)è
__wur
;

791 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

794 #ifdef 
__USE_GNU


797 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

798 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_m®loc__


799 
__©Œ_d—Îoc_ä“
 
__wur
;

802 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


808 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

809 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

814 #iâdeà
__COMPAR_FN_T


815 
	#__COMPAR_FN_T


	)

816 (*
	t__com·r_â_t
) (const *, const *);

818 #ifdef 
__USE_GNU


819 
__com·r_â_t
 
	tcom·risÚ_â_t
;

822 #ifdeà
__USE_GNU


823 (*
	t__com·r_d_â_t
) (const *, const *, *);

828 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

829 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

830 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

832 #ifdeà
__USE_EXTERN_INLINES


833 
	~<b™s/¡dlib-b£¬ch.h
>

838 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

839 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

840 #ifdeà
__USE_GNU


841 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

842 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

843 
	`__nÚnuÎ
 ((1, 4));

848 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

849 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

851 #ifdeà
__USE_ISOC99


852 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

853 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

860 
div_t
 
	$div
 (
__num”
, 
__d’om
)

861 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

862 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

863 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

865 #ifdeà
__USE_ISOC99


866 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

867 
__d’om
)

868 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

872 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

873 || 
defšed
 
__USE_MISC


880 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

881 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

886 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

887 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

892 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

893 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

896 #ifdeà
__USE_MISC


898 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

899 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

900 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

901 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

902 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

903 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

904 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

905 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

910 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

911 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

912 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

913 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

914 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

915 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

917 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

918 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

919 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

920 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

921 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

922 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

923 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

924 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

930 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
;

933 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

934 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

937 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
;

941 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

942 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW


943 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 2));

945 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

946 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

947 
__THROW


948 
	$__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 1, 3)

949 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 2));

951 #ifdeà
__USE_MISC


956 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

960 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


967 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

968 *cÚ¡ *
__»¡riù
 
__tok’s
,

969 **
__»¡riù
 
__v®u•
)

970 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

976 #ifdeà
__USE_XOPEN2KXSI


978 
	$posix_İ’±
 (
__oæag
è
__wur
;

981 #ifdeà
__USE_XOPEN_EXTENDED


986 
	$g¿Á±
 (
__fd
è
__THROW
;

990 
	$uÆock±
 (
__fd
è
__THROW
;

995 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

998 #ifdeà
__USE_GNU


1002 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

1003 
__THROW
 
	`__nÚnuÎ
 ((2)è
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 2, 3);

1006 
	`g‘±
 ();

1009 #ifdeà
__USE_MISC


1013 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

1014 
__THROW
 
	`__nÚnuÎ
 ((1));

1017 #ià
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K


1020 
	$‰y¦Ù
 (è
__THROW
;

1023 
	~<b™s/¡dlib-æßt.h
>

1026 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1027 
	~<b™s/¡dlib.h
>

1030 
	~<b™s/æßŠ.h
>

1031 #ià
defšed
 
__LDBL_COMPAT
 || 
__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
 == 1

1032 
	~<b™s/¡dlib-ldbl.h
>

1035 
__END_DECLS


	@/usr/include/string.h

22 #iâdef 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

28 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

36 #ià
defšed
 
__ılu¥lus
 && (
__GNUC_PREREQ
 (4, 4) \

37 || 
	$__glibc_şªg_´”eq
 (3, 5))

38 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

43 *
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

44 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

47 *
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

48 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

53 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN
 || 
	`__GLIBC_USE
 (
ISOC2X
)

54 *
	$memcıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

55 
__c
, 
size_t
 
__n
)

56 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1, 4));

61 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

64 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

65 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

80 
	$__memcm³q
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

81 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

84 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


87 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

88 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

89 cÚ¡ *
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

90 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

92 #ifdeà
__OPTIMIZE__


93 
__ex‹º_®ways_šlše
 *

94 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


96  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

99 
__ex‹º_®ways_šlše
 const *

100 
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


102  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

105 
	}
}

107 *
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

108 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

111 #ifdeà
__USE_GNU


114 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


115 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

116 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

117 "C++" cÚ¡ *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

118 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

120 *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

121 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

125 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


126 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

127 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1))

128 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 1, 3));

129 "C++" cÚ¡ *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

130 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1))

131 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 1, 3));

133 *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

134 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1))

135 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 1, 3));

141 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

142 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

144 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

145 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

146 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

149 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

150 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

152 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

153 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

156 
	$¡rcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

157 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

159 
	$¡ºcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

160 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

163 
	$¡rcŞl
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

164 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

166 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

167 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

168 
__THROW
 
	`__nÚnuÎ
 ((2)è
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1, 3));

170 #ifdeà
__USE_XOPEN2K8


172 
	~<b™s/ty³s/loÿË_t.h
>

175 
	$¡rcŞl_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
loÿË_t
 
__l
)

176 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

179 
size_t
 
	$¡rxäm_l
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

180 
loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4))

181 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1, 3));

184 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8
 \

185 || 
	`__GLIBC_USE
 (
LIB_EXT2
è|| 
	$__GLIBC_USE
 (
ISOC2X
))

187 *
	$¡rdup
 (cÚ¡ *
__s
)

188 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

194 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
è|| __GLIBC_USE (
ISOC2X
)

195 *
	$¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

196 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

199 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


201 
	#¡rdu·
(
s
) \

202 (
__ex‹nsiÚ__
 \

204 cÚ¡ *
__Şd
 = (
s
); \

205 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

206 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

207 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

208 
	}
}))

	)

211 
	#¡ºdu·
(
s
, 
n
) \

212 (
__ex‹nsiÚ__
 \

214 cÚ¡ *
__Şd
 = (
s
); \

215 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

216 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

217 
__Ãw
[
__Ën
] = '\0'; \

218 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

219 }))

	)

223 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


226 *
¡rchr
 (*
__s
, 
__c
)

227 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

228 cÚ¡ *
¡rchr
 (cÚ¡ *
__s
, 
__c
)

229 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

231 #ifdeà
__OPTIMIZE__


232 
__ex‹º_®ways_šlše
 *

233 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


235  
__butš_¡rchr
 (
__s
, 
__c
);

238 
__ex‹º_®ways_šlše
 const *

239 
¡rchr
 (cÚ¡ *
__s
, 
__c
è
	g__THROW


241  
__butš_¡rchr
 (
__s
, 
__c
);

246 *
	$¡rchr
 (cÚ¡ *
__s
, 
__c
)

247 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

250 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


253 *
	`¡¼chr
 (*
__s
, 
__c
)

254 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

255 cÚ¡ *
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
)

256 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

258 #ifdeà
__OPTIMIZE__


259 
__ex‹º_®ways_šlše
 *

260 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


262  
	`__butš_¡¼chr
 (
__s
, 
__c
);

265 
__ex‹º_®ways_šlše
 const *

266 
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
è
__THROW


268  
	`__butš_¡¼chr
 (
__s
, 
__c
);

271 
	}
}

273 *
	$¡¼chr
 (cÚ¡ *
__s
, 
__c
)

274 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

277 #ifdeà
__USE_GNU


280 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


281 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

282 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

283 "C++" cÚ¡ *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

284 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

286 *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

287 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

293 
size_t
 
	$¡rc¥n
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

294 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

297 
size_t
 
	$¡r¥n
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

298 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

300 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


303 *
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
)

304 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

305 cÚ¡ *
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

306 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

308 #ifdeà
__OPTIMIZE__


309 
__ex‹º_®ways_šlše
 *

310 
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
è
__THROW


312  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

315 
__ex‹º_®ways_šlše
 const *

316 
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
è
__THROW


318  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

321 
	}
}

323 *
	$¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

324 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

327 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


330 *
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

331 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

332 cÚ¡ *
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

333 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

335 #ifdeà
__OPTIMIZE__


336 
__ex‹º_®ways_šlše
 *

337 
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


339  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

342 
__ex‹º_®ways_šlše
 const *

343 
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


345  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

348 
	}
}

350 *
	$¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

351 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

356 *
	$¡¹ok
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
)

357 
__THROW
 
	`__nÚnuÎ
 ((2));

361 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

362 cÚ¡ *
__»¡riù
 
__d–im
,

363 **
__»¡riù
 
__§ve_±r
)

364 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

365 #ifdeà
__USE_POSIX


366 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
,

367 **
__»¡riù
 
__§ve_±r
)

368 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

371 #ifdeà
__USE_GNU


373 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


374 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

375 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

376 "C++" cÚ¡ *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
,

377 cÚ¡ *
__ÃedË
)

378 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

380 *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

381 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

385 #ifdeà
__USE_GNU


389 *
	$memmem
 (cÚ¡ *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

390 cÚ¡ *
__ÃedË
, 
size_t
 
__ÃedËËn
)

391 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3))

392 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 1, 2))

393 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 3, 4));

397 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

398 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

399 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

400 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

401 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

402 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

407 
size_t
 
	$¡¾’
 (cÚ¡ *
__s
)

408 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

410 #ifdef 
__USE_XOPEN2K8


413 
size_t
 
	$¡ºËn
 (cÚ¡ *
__¡ršg
, 
size_t
 
__maxËn
)

414 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

419 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

420 #ifdeà
__USE_XOPEN2K


428 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


431 #ifdeà
__REDIRECT_NTH


432 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

433 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

434 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2))

435 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 2, 3));

437 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

438 
__THROW
 
	`__nÚnuÎ
 ((2)è
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 2, 3));

439 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

444 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

445 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 2, 3));

448 #ifdeà
__USE_GNU


450 cÚ¡ *
	$¡»¼Üdesc_Å
 (
__”r
è
__THROW
;

452 cÚ¡ *
	$¡»¼ÜÇme_Å
 (
__”r
è
__THROW
;

456 #ifdeà
__USE_XOPEN2K8


458 *
	$¡»¼Ü_l
 (
__”ºum
, 
loÿË_t
 
__l
è
__THROW
;

461 #ifdeà
__USE_MISC


462 
	~<¡ršgs.h
>

466 
	$ex¶ic™_bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1))

467 
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 1, 2);

471 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

472 cÚ¡ *
__»¡riù
 
__d–im
)

473 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

476 #ifdef 
__USE_XOPEN2K8


478 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

480 #ifdeà
__USE_GNU


482 cÚ¡ *
	$sigabb»v_Å
 (
__sig
è
__THROW
;

485 cÚ¡ *
	$sigdesü_Å
 (
__sig
è
__THROW
;

489 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

490 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

491 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

492 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

496 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

497 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

498 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

499 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

500 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

501 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

504 #ifdef 
__USE_GNU


506 
	$¡rv”scmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

507 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

510 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

513 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1))

514 
	`__©Œ_acûss
 ((
__»ad_wr™e__
, 1, 2));

516 #iâdeà
ba£Çme


521 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


522 "C++" *
	$ba£Çme
 (*
__f’ame
)

523 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

524 "C++" cÚ¡ *
	$ba£Çme
 (cÚ¡ *
__f’ame
)

525 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

527 *
	$ba£Çme
 (cÚ¡ *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

532 #ià
	`__GNUC_PREREQ
 (3,4)

533 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


535 
	~<b™s/¡ršg_fÜtif›d.h
>

539 
__END_DECLS


	@/usr/include/strings.h

18 #iâdef 
_STRINGS_H


19 
	#_STRINGS_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	#__Ãed_size_t


	)

23 
	~<¡ddef.h
>

26 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

27 
	#__CORRECT_ISO_CPP_STRINGS_H_PROTO


	)

30 
	g__BEGIN_DECLS


32 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8


34 
	$bcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

35 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

38 
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__n
)

39 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

42 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

45 #ifdeà
__CORRECT_ISO_CPP_STRINGS_H_PROTO


48 *
	`šdex
 (*
__s
, 
__c
)

49 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

50 cÚ¡ *
	`šdex
 (cÚ¡ *
__s
, 
__c
)

51 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

53 #ià
defšed
 
__OPTIMIZE__


54 
__ex‹º_®ways_šlše
 *

55 
	`šdex
 (*
__s
, 
__c
è
__THROW


57  
	`__butš_šdex
 (
__s
, 
__c
);

60 
__ex‹º_®ways_šlše
 const *

61 
	`šdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


63  
	`__butš_šdex
 (
__s
, 
__c
);

66 
	}
}

68 *
	$šdex
 (cÚ¡ *
__s
, 
__c
)

69 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

73 #ifdeà
__CORRECT_ISO_CPP_STRINGS_H_PROTO


76 *
	`ršdex
 (*
__s
, 
__c
)

77 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

78 cÚ¡ *
	`ršdex
 (cÚ¡ *
__s
, 
__c
)

79 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

81 #ià
defšed
 
__OPTIMIZE__


82 
__ex‹º_®ways_šlše
 *

83 
	`ršdex
 (*
__s
, 
__c
è
__THROW


85  
	`__butš_ršdex
 (
__s
, 
__c
);

88 
__ex‹º_®ways_šlše
 const *

89 
	`ršdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


91  
	`__butš_ršdex
 (
__s
, 
__c
);

94 
	}
}

96 *
	$ršdex
 (cÚ¡ *
__s
, 
__c
)

97 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

101 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8
 || defšed 
__USE_XOPEN2K8XSI


104 
	$ffs
 (
__i
è
__THROW
 
__©Œibu‹_cÚ¡__
;

109 #ifdef 
__USE_MISC


110 
	$ff¦
 (
__l
è
__THROW
 
__©Œibu‹_cÚ¡__
;

111 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

112 
__THROW
 
__©Œibu‹_cÚ¡__
;

116 
	$¡rÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

117 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

120 
	$¡ºÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

121 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

123 #ifdef 
__USE_XOPEN2K8


125 
	~<b™s/ty³s/loÿË_t.h
>

128 
	$¡rÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
loÿË_t
 
__loc
)

129 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

133 
	$¡ºÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

134 
size_t
 
__n
, 
loÿË_t
 
__loc
)

135 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

138 
__END_DECLS


140 #ià
	`__GNUC_PREREQ
 (3,4è&& 
__USE_FORTIFY_LEVEL
 > 0 \

141 && 
defšed
 
__fÜtify_funùiÚ


143 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8


144 
	~<b™s/¡ršgs_fÜtif›d.h
>

	@/usr/include/time.h

22 #iâdef 
_TIME_H


23 
	#_TIME_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 
	#__Ãed_NULL


	)

29 
	~<¡ddef.h
>

33 
	~<b™s/time.h
>

37 
	~<b™s/ty³s/şock_t.h
>

38 
	~<b™s/ty³s/time_t.h
>

39 
	~<b™s/ty³s/¡ruù_tm.h
>

41 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_ISOC11


42 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

45 #ifdeà
__USE_POSIX199309


46 
	~<b™s/ty³s/şockid_t.h
>

47 
	~<b™s/ty³s/tim”_t.h
>

48 
	~<b™s/ty³s/¡ruù_™im”¥ec.h
>

49 
	gsigev’t
;

52 #ifdeà
__USE_XOPEN2K


53 #iâdeà
__pid_t_defšed


54 
__pid_t
 
	tpid_t
;

55 
	#__pid_t_defšed


	)

59 #ifdeà
__USE_XOPEN2K8


60 
	~<b™s/ty³s/loÿË_t.h
>

63 #ifdeà
__USE_ISOC11


65 
	#TIME_UTC
 1

	)

68 
__BEGIN_DECLS


72 
şock_t
 
	$şock
 (è
__THROW
;

74 #iâdeà
__USE_TIME_BITS64


76 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

79 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

80 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

83 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

85 #ifdeà
__REDIRECT_NTH


86 
time_t
 
	`__REDIRECT_NTH
 (
time
, (time_ˆ*
__tim”
), 
__time64
);

87 
	`__REDIRECT_NTH
 (
difáime
, (
time_t
 
__time1
,ime_ˆ
__time0
),

88 
__difáime64
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

89 
time_t
 
	`__REDIRECT_NTH
 (
mktime
, (
tm
 *
__
), 
__mktime64
);

91 
	#time
 
__time64


	)

92 
	#difáime
 
__difáime64


	)

93 
	#mktime
 
__mktime64


	)

100 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

101 cÚ¡ *
__»¡riù
 
__fÜm©
,

102 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

104 #ifdeà
__USE_XOPEN


107 *
	$¡½time
 (cÚ¡ *
__»¡riù
 
__s
,

108 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
)

109 
__THROW
;

112 #ifdeà
__USE_XOPEN2K8


116 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

117 cÚ¡ *
__»¡riù
 
__fÜm©
,

118 cÚ¡ 
tm
 *
__»¡riù
 
__
,

119 
loÿË_t
 
__loc
è
__THROW
;

122 #ifdeà
__USE_GNU


123 *
	$¡½time_l
 (cÚ¡ *
__»¡riù
 
__s
,

124 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
,

125 
loÿË_t
 
__loc
è
__THROW
;

129 #iâdeà
__USE_TIME_BITS64


132 
tm
 *
	$gmtime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

136 
tm
 *
	$loÿÉime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

139 #ifdeà
__REDIRECT_NTH


140 
tm
*
	`__REDIRECT_NTH
 (
gmtime
, (cÚ¡ 
time_t
 *
__tim”
), 
__gmtime64
);

141 
tm
 *
	`__REDIRECT_NTH
 (
loÿÉime
, (cÚ¡ 
time_t
 *
__tim”
),

142 
__loÿÉime64
);

144 
	#gmtime
 
__gmtime64


	)

145 
	#loÿÉime
 
__loÿÉime64


	)

150 #ià
defšed
 
__USE_POSIX
 || 
	`__GLIBC_USE
 (
ISOC2X
)

151 #iâdeà
__USE_TIME_BITS64


154 
tm
 *
	$gmtime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

155 
tm
 *
__»¡riù
 
__
è
__THROW
;

159 
tm
 *
	$loÿÉime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

160 
tm
 *
__»¡riù
 
__
è
__THROW
;

162 #ifdeà
__REDIRECT_NTH


163 
tm
*
	`__REDIRECT_NTH
 (
gmtime_r
, (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

164 
tm
 *
__»¡riù
 
__
),

165 
__gmtime64_r
);

167 
tm
*
	`__REDIRECT_NTH
 (
loÿÉime_r
, (cÚ¡ 
time_t
 *
__»¡riù
 
__t
,

168 
tm
 *
__»¡riù
 
__
),

169 
__loÿÉime64_r
);

171 
	#gmtime_r
 
__gmtime64_r


	)

172 
	#loÿÉime_r
 
__loÿÉime_r


	)

179 *
	$asùime
 (cÚ¡ 
tm
 *
__
è
__THROW
;

182 #iâdeà
__USE_TIME_BITS64


183 *
	$ùime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

185 #ifdeà
__REDIRECT_NTH


186 *
	`__REDIRECT_NTH
 (
ùime
, (cÚ¡ 
time_t
 *
__tim”
), 
__ùime64
);

188 
	#ùime
 
__ùime64


	)

192 #ifdeà
__USE_POSIX


197 *
	$asùime_r
 (cÚ¡ 
tm
 *
__»¡riù
 
__
,

198 *
__»¡riù
 
__buf
è
__THROW
;

201 #iâdeà
__USE_TIME_BITS64


202 *
	$ùime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

203 *
__»¡riù
 
__buf
è
__THROW
;

205 #ifdeà
__REDIRECT_NTH


206 *
	`__REDIRECT_NTH
 (
ùime_r
, (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

207 *
__»¡riù
 
__buf
), 
__ùime64_r
);

209 
	#ùime_r
 
__ùime64_r


	)

217 *
__tzÇme
[2];

218 
__daylight
;

219 
__timezÚe
;

222 #ifdef 
__USE_POSIX


224 *
tzÇme
[2];

228 
	$tz£t
 (è
__THROW
;

231 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


232 
daylight
;

233 
timezÚe
;

239 
	#__i¦—p
(
y—r
) \

240 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

243 #ifdeà
__USE_MISC


247 #iâdeà
__USE_TIME_BITS64


249 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

251 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

253 #ifdeà
__REDIRECT_NTH


254 
time_t
 
	`__REDIRECT_NTH
 (
timegm
, (
tm
 *
__
), 
__timegm64
);

255 
time_t
 
	`__REDIRECT_NTH
 (
tim–oÿl
, (
tm
 *
__
), 
__mktime64
);

257 
	#timegm
 
__timegm64


	)

262 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

266 #ifdeà
__USE_POSIX199309


267 #iâdeà
__USE_TIME_BITS64


272 
	`Çno¦“p
 (cÚ¡ 
time¥ec
 *
__»que¡ed_time
,

273 
time¥ec
 *
__»maššg
);

276 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

279 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

282 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, cÚ¡ 
time¥ec
 *
__
)

283 
__THROW
;

285 #ifdeà
__REDIRECT


286 
	`__REDIRECT
 (
Çno¦“p
, (cÚ¡ 
time¥ec
 *
__»que¡ed_time
,

287 
time¥ec
 *
__»maššg
),

288 
__Çno¦“p64
);

289 
	`__REDIRECT_NTH
 (
şock_g‘»s
, (
şockid_t
 
__şock_id
,

290 
time¥ec
 *
__»s
),

291 
__şock_g‘»s64
);

292 
	`__REDIRECT_NTH
 (
şock_g‘time
, (
şockid_t
 
__şock_id
, 

293 
time¥ec
 *
__
), 
__şock_g‘time64
);

294 
	`__REDIRECT_NTH
 (
şock_£‰ime
, (
şockid_t
 
__şock_id
, const 

295 
time¥ec
 *
__
), 
__şock_£‰ime64
);

297 
	#Çno¦“p
 
__Çno¦“p64


	)

298 
	#şock_g‘»s
 
__şock_g‘»s64


	)

299 
	#şock_g‘time
 
__şock_g‘time64


	)

300 
	#şock_£‰ime
 
__şock_£‰ime64


	)

305 #ifdeà
__USE_XOPEN2K


310 #iâdeà
__USE_TIME_BITS64


311 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

312 cÚ¡ 
time¥ec
 *
__»q
,

313 
time¥ec
 *
__»m
);

315 #ifdeà
__REDIRECT


316 
	`__REDIRECT
 (
şock_Çno¦“p
, (
şockid_t
 
__şock_id
, 
__æags
,

317 cÚ¡ 
time¥ec
 *
__»q
,

318 
time¥ec
 *
__»m
),

319 
__şock_Çno¦“p_time64
);

321 
	#şock_Çno¦“p
 
__şock_Çno¦“p_time64


	)

326 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

331 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

332 
sigev’t
 *
__»¡riù
 
__evp
,

333 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

336 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

339 #iâdeà
__USE_TIME_BITS64


340 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

341 cÚ¡ 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

342 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

345 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

346 
__THROW
;

348 #ifdeà
__REDIRECT_NTH


349 
	`__REDIRECT_NTH
 (
tim”_£‰ime
, (
tim”_t
 
__tim”id
, 
__æags
,

350 cÚ¡ 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

351 
™im”¥ec
 *
__»¡riù
 
__ov®ue
),

352 
__tim”_£‰ime64
);

354 
	`__REDIRECT_NTH
 (
tim”_g‘time
, (
tim”_t
 
__tim”id
,

355 
™im”¥ec
 *
__v®ue
),

356 
__tim”_g‘time64
);

358 
	#tim”_£‰ime
 
__tim”_£‰ime64


	)

359 
	#tim”_g‘time
 
__tim”_g‘time64


	)

364 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

368 #ifdeà
__USE_ISOC11


369 #iâdeà
__USE_TIME_BITS64


371 
	$time¥ec_g‘
 (
time¥ec
 *
__ts
, 
__ba£
)

372 
__THROW
 
	`__nÚnuÎ
 ((1));

374 #ifdeà
__REDIRECT_NTH


375 
	`__REDIRECT_NTH
 (
time¥ec_g‘
, (
time¥ec
 *
__ts
, 
__ba£
),

376 
__time¥ec_g‘64
è
	`__nÚnuÎ
 ((1));

378 
	#time¥ec_g‘
 
__time¥ec_g‘64


	)

384 #ià
	`__GLIBC_USE
 (
ISOC2X
)

385 #iâdeà
__USE_TIME_BITS64


387 
	$time¥ec_g‘»s
 (
time¥ec
 *
__ts
, 
__ba£
)

388 
__THROW
;

390 #ifdeà
__REDIRECT_NTH


391 
	`__REDIRECT_NTH
 (
time¥ec_g‘»s
, (
time¥ec
 *
__ts
,

392 
__ba£
),

393 
__time¥ec_g‘»s64
);

395 
	#time¥ec_g‘»s
 
__time¥ec_g‘»s64


	)

401 #ifdeà
__USE_XOPEN_EXTENDED


413 
g‘d©e_”r
;

422 
tm
 *
	`g‘d©e
 (cÚ¡ *
__¡ršg
);

425 #ifdeà
__USE_GNU


436 
	`g‘d©e_r
 (cÚ¡ *
__»¡riù
 
__¡ršg
,

437 
tm
 *
__»¡riù
 
__»sbuå
);

440 
__END_DECLS


	@/usr/include/unistd.h

22 #iâdef 
_UNISTD_H


23 
	#_UNISTD_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


32 #ifdeà
__USE_XOPEN2K8


34 
	#_POSIX_VERSION
 200809L

	)

35 #–ià
defšed
 
__USE_XOPEN2K


37 
	#_POSIX_VERSION
 200112L

	)

38 #–ià
defšed
 
__USE_POSIX199506


40 
	#_POSIX_VERSION
 199506L

	)

41 #–ià
defšed
 
__USE_POSIX199309


43 
	#_POSIX_VERSION
 199309L

	)

46 
	#_POSIX_VERSION
 199009L

	)

52 #ifdeà
__USE_XOPEN2K8


53 
	#__POSIX2_THIS_VERSION
 200809L

	)

55 #–ià
defšed
 
__USE_XOPEN2K


57 
	#__POSIX2_THIS_VERSION
 200112L

	)

58 #–ià
defšed
 
__USE_POSIX199506


60 
	#__POSIX2_THIS_VERSION
 199506L

	)

63 
	#__POSIX2_THIS_VERSION
 199209L

	)

67 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

70 
	#_POSIX2_C_VERSION
 
__POSIX2_THIS_VERSION


	)

74 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

78 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

82 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

86 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

89 #ifdeà
__USE_XOPEN2K8


90 
	#_XOPEN_VERSION
 700

	)

91 #–ià
defšed
 
__USE_XOPEN2K


92 
	#_XOPEN_VERSION
 600

	)

93 #–ià
defšed
 
__USE_UNIX98


94 
	#_XOPEN_VERSION
 500

	)

96 
	#_XOPEN_VERSION
 4

	)

100 
	#_XOPEN_XCU_VERSION
 4

	)

103 
	#_XOPEN_XPG2
 1

	)

104 
	#_XOPEN_XPG3
 1

	)

105 
	#_XOPEN_XPG4
 1

	)

108 
	#_XOPEN_UNIX
 1

	)

112 
	#_XOPEN_ENH_I18N
 1

	)

115 
	#_XOPEN_LEGACY
 1

	)

202 
	~<b™s/posix_İt.h
>

205 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


206 
	~<b™s/’vœÚm’ts.h
>

210 
	#STDIN_FILENO
 0

	)

211 
	#STDOUT_FILENO
 1

	)

212 
	#STDERR_FILENO
 2

	)

217 
	~<b™s/ty³s.h
>

219 #iâdef 
__ssize_t_defšed


220 
__ssize_t
 
	tssize_t
;

221 
	#__ssize_t_defšed


	)

224 
	#__Ãed_size_t


	)

225 
	#__Ãed_NULL


	)

226 
	~<¡ddef.h
>

228 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


231 #iâdeà
__gid_t_defšed


232 
__gid_t
 
	tgid_t
;

233 
	#__gid_t_defšed


	)

236 #iâdeà
__uid_t_defšed


237 
__uid_t
 
	tuid_t
;

238 
	#__uid_t_defšed


	)

241 #iâdeà
__off_t_defšed


242 #iâdeà
__USE_FILE_OFFSET64


243 
__off_t
 
	toff_t
;

245 
__off64_t
 
	toff_t
;

247 
	#__off_t_defšed


	)

249 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


250 
__off64_t
 
	toff64_t
;

251 
	#__off64_t_defšed


	)

254 #iâdeà
__u£cÚds_t_defšed


255 
__u£cÚds_t
 
	tu£cÚds_t
;

256 
	#__u£cÚds_t_defšed


	)

259 #iâdeà
__pid_t_defšed


260 
__pid_t
 
	tpid_t
;

261 
	#__pid_t_defšed


	)

265 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


266 #iâdeà
__šŒ_t_defšed


267 
__šŒ_t
 
	tšŒ_t
;

268 
	#__šŒ_t_defšed


	)

272 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


273 #iâdeà
__sockËn_t_defšed


274 
__sockËn_t
 
	tsockËn_t
;

275 
	#__sockËn_t_defšed


	)

281 
	#R_OK
 4

	)

282 
	#W_OK
 2

	)

283 
	#X_OK
 1

	)

284 
	#F_OK
 0

	)

287 
	$acûss
 (cÚ¡ *
__Çme
, 
__ty³
è
__THROW
 
	`__nÚnuÎ
 ((1));

289 #ifdeà
__USE_GNU


292 
	$euidacûss
 (cÚ¡ *
__Çme
, 
__ty³
)

293 
__THROW
 
	`__nÚnuÎ
 ((1));

296 
	$—cûss
 (cÚ¡ *
__Çme
, 
__ty³
)

297 
__THROW
 
	`__nÚnuÎ
 ((1));

300 
	$execv—t
 (
__fd
, cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[],

301 *cÚ¡ 
__’vp
[], 
__æags
)

302 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

305 #ifdeà
__USE_ATFILE


309 
	$çcûs§t
 (
__fd
, cÚ¡ *
__fe
, 
__ty³
, 
__æag
)

310 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

315 #iâdef 
_STDIO_H


316 
	#SEEK_SET
 0

	)

317 
	#SEEK_CUR
 1

	)

318 
	#SEEK_END
 2

	)

319 #ifdeà
__USE_GNU


320 
	#SEEK_DATA
 3

	)

321 
	#SEEK_HOLE
 4

	)

325 #ià
defšed
 
__USE_MISC
 && !defšed 
L_SET


327 
	#L_SET
 
SEEK_SET


	)

328 
	#L_INCR
 
SEEK_CUR


	)

329 
	#L_XTND
 
SEEK_END


	)

338 #iâdeà
__USE_FILE_OFFSET64


339 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__wh’û
è
__THROW
;

341 #ifdeà
__REDIRECT_NTH


342 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

343 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
),

344 
l£ek64
);

346 
	#l£ek
 
l£ek64


	)

349 #ifdeà
__USE_LARGEFILE64


350 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
)

351 
__THROW
;

358 
	`şo£
 (
__fd
);

360 #ifdeà
__USE_MISC


363 
	$şo£äom
 (
__lowfd
è
__THROW
;

371 
ssize_t
 
	$»ad
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
è
__wur


372 
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 2, 3);

378 
ssize_t
 
	$wr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
è
__wur


379 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 2, 3));

381 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


382 #iâdeà
__USE_FILE_OFFSET64


389 
ssize_t
 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

390 
__off_t
 
__off£t
è
__wur


391 
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 2, 3);

398 
ssize_t
 
	$pwr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

399 
__off_t
 
__off£t
è
__wur


400 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 2, 3));

403 #ifdeà
__REDIRECT


404 
ssize_t
 
	`__REDIRECT
 (
´—d
, (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

405 
__off64_t
 
__off£t
),

406 
´—d64
è
__wur


407 
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 2, 3);

408 
ssize_t
 
	`__REDIRECT
 (
pwr™e
, (
__fd
, cÚ¡ *
__buf
,

409 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
),

410 
pwr™e64
è
__wur


411 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 2, 3));

413 
	#´—d
 
´—d64


	)

414 
	#pwr™e
 
pwr™e64


	)

418 #ifdeà
__USE_LARGEFILE64


422 
ssize_t
 
	$´—d64
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

423 
__off64_t
 
__off£t
è
__wur


424 
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 2, 3);

427 
ssize_t
 
	$pwr™e64
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

428 
__off64_t
 
__off£t
è
__wur


429 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 2, 3));

437 
	$pe
 (
__pedes
[2]è
__THROW
 
__wur
;

439 #ifdeà
__USE_GNU


442 
	$pe2
 (
__pedes
[2], 
__æags
è
__THROW
 
__wur
;

452 
	$®¬m
 (
__£cÚds
è
__THROW
;

464 
	`¦“p
 (
__£cÚds
);

466 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

467 || 
defšed
 
__USE_MISC


472 
__u£cÚds_t
 
	$u®¬m
 (
__u£cÚds_t
 
__v®ue
, __u£cÚds_ˆ
__š‹rv®
)

473 
__THROW
;

480 
	`u¦“p
 (
__u£cÚds_t
 
__u£cÚds
);

489 
	`·u£
 ();

493 
	$chown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

494 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

496 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


498 
	$fchown
 (
__fd
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
è
__THROW
 
__wur
;

503 
	$lchown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

504 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

508 #ifdeà
__USE_ATFILE


511 
	$fchowÇt
 (
__fd
, cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
,

512 
__gid_t
 
__group
, 
__æag
)

513 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

517 
	$chdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

519 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


521 
	$fchdœ
 (
__fd
è
__THROW
 
__wur
;

531 *
	$g‘cwd
 (*
__buf
, 
size_t
 
__size
è
__THROW
 
__wur
;

533 #ifdef 
__USE_GNU


537 *
	$g‘_cu¼’t_dœ_Çme
 (è
__THROW
;

540 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

541 || 
defšed
 
__USE_MISC


545 *
	$g‘wd
 (*
__buf
)

546 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
 
__wur


547 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1));

552 
	$dup
 (
__fd
è
__THROW
 
__wur
;

555 
	$dup2
 (
__fd
, 
__fd2
è
__THROW
;

557 #ifdeà
__USE_GNU


560 
	$dup3
 (
__fd
, 
__fd2
, 
__æags
è
__THROW
;

564 **
__’vœÚ
;

565 #ifdeà
__USE_GNU


566 **
’vœÚ
;

572 
	$execve
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[],

573 *cÚ¡ 
__’vp
[]è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

575 #ifdeà
__USE_XOPEN2K8


578 
	$ãxecve
 (
__fd
, *cÚ¡ 
__¬gv
[], *cÚ¡ 
__’vp
[])

579 
__THROW
 
	`__nÚnuÎ
 ((2));

584 
	$execv
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[])

585 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

589 
	$exeşe
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

590 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

594 
	$exeş
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

595 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

599 
	$execvp
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[])

600 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

605 
	$exeşp
 (cÚ¡ *
__fe
, cÚ¡ *
__¬g
, ...)

606 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

608 #ifdeà
__USE_GNU


611 
	$execv³
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[],

612 *cÚ¡ 
__’vp
[])

613 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

617 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


619 
	$niû
 (
__šc
è
__THROW
 
__wur
;

624 
	$_ex™
 (
__¡©us
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

630 
	~<b™s/cÚâame.h
>

633 
	$·thcÚf
 (cÚ¡ *
__·th
, 
__Çme
)

634 
__THROW
 
	`__nÚnuÎ
 ((1));

637 
	$å©hcÚf
 (
__fd
, 
__Çme
è
__THROW
;

640 
	$syscÚf
 (
__Çme
è
__THROW
;

642 #ifdef 
__USE_POSIX2


644 
size_t
 
	$cÚf¡r
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
è
__THROW


645 
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 2, 3);

650 
__pid_t
 
	$g‘pid
 (è
__THROW
;

653 
__pid_t
 
	$g‘µid
 (è
__THROW
;

656 
__pid_t
 
	$g‘pg½
 (è
__THROW
;

659 
__pid_t
 
	$__g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

660 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


661 
__pid_t
 
	$g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

668 
	$£gid
 (
__pid_t
 
__pid
, __pid_ˆ
__pgid
è
__THROW
;

670 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


682 
	$£g½
 (è
__THROW
;

689 
__pid_t
 
	$£tsid
 (è
__THROW
;

691 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


693 
__pid_t
 
	$g‘sid
 (
__pid_t
 
__pid
è
__THROW
;

697 
__uid_t
 
	$g‘uid
 (è
__THROW
;

700 
__uid_t
 
	$g‘euid
 (è
__THROW
;

703 
__gid_t
 
	$g‘gid
 (è
__THROW
;

706 
__gid_t
 
	$g‘egid
 (è
__THROW
;

711 
	$g‘groups
 (
__size
, 
__gid_t
 
__li¡
[]è
__THROW
 
__wur


712 
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 2, 1);

713 #ifdef 
__USE_GNU


715 
	$group_memb”
 (
__gid_t
 
__gid
è
__THROW
;

722 
	$£tuid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

724 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


727 
	$£Œeuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
è
__THROW
 
__wur
;

730 #ifdeà
__USE_XOPEN2K


732 
	$£‹uid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

739 
	$£tgid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

741 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


744 
	$£Œegid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
è
__THROW
 
__wur
;

747 #ifdeà
__USE_XOPEN2K


749 
	$£‹gid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

752 #ifdeà
__USE_GNU


755 
	$g‘»suid
 (
__uid_t
 *
__ruid
, __uid_ˆ*
__euid
, __uid_ˆ*
__suid
)

756 
__THROW
;

760 
	$g‘»sgid
 (
__gid_t
 *
__rgid
, __gid_ˆ*
__egid
, __gid_ˆ*
__sgid
)

761 
__THROW
;

765 
	$£Œesuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
, __uid_ˆ
__suid
)

766 
__THROW
 
__wur
;

770 
	$£Œesgid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
, __gid_ˆ
__sgid
)

771 
__THROW
 
__wur
;

778 
__pid_t
 
	$fÜk
 (è
__THROWNL
;

780 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

781 || 
defšed
 
__USE_MISC


786 
__pid_t
 
	$vfÜk
 (è
__THROW
;

789 #ifdeà
__USE_GNU


793 
__pid_t
 
	$_FÜk
 (è
__THROW
;

799 *
	$‰yÇme
 (
__fd
è
__THROW
;

803 
	$‰yÇme_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

804 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur


805 
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 2, 3);

809 
	$i§‰y
 (
__fd
è
__THROW
;

811 #ifdeà
__USE_MISC


814 
	$‰y¦Ù
 (è
__THROW
;

819 
	$lšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

820 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

822 #ifdeà
__USE_ATFILE


825 
	$lšk©
 (
__äomfd
, cÚ¡ *
__äom
, 
__tofd
,

826 cÚ¡ *
__to
, 
__æags
)

827 
__THROW
 
	`__nÚnuÎ
 ((2, 4)è
__wur
;

830 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


832 
	$symlšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

833 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

838 
ssize_t
 
	$»adlšk
 (cÚ¡ *
__»¡riù
 
__·th
,

839 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

840 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur


841 
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 2, 3);

845 #ifdeà
__USE_ATFILE


847 
	$symlšk©
 (cÚ¡ *
__äom
, 
__tofd
,

848 cÚ¡ *
__to
è
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

851 
ssize_t
 
	$»adlšk©
 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

852 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

853 
__THROW
 
	`__nÚnuÎ
 ((2, 3)è
__wur


854 
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 3, 4);

858 
	$uÆšk
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

860 #ifdeà
__USE_ATFILE


862 
	$uÆšk©
 (
__fd
, cÚ¡ *
__Çme
, 
__æag
)

863 
__THROW
 
	`__nÚnuÎ
 ((2));

867 
	$rmdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1));

871 
__pid_t
 
	$tcg‘pg½
 (
__fd
è
__THROW
;

874 
	$tc£g½
 (
__fd
, 
__pid_t
 
__pg½_id
è
__THROW
;

881 *
	`g‘logš
 ();

882 #ifdeà
__USE_POSIX199506


889 
	$g‘logš_r
 (*
__Çme
, 
size_t
 
__Çme_Ën
è
	`__nÚnuÎ
 ((1))

890 
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 1, 2);

893 #ifdef 
__USE_MISC


895 
	$£ogš
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

899 #ifdef 
__USE_POSIX2


903 
	~<b™s/g‘İt_posix.h
>

907 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


911 
	$g‘ho¡Çme
 (*
__Çme
, 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((1))

912 
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 1, 2);

916 #ià
defšed
 
__USE_MISC


919 
	$£tho¡Çme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

920 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 1, 2));

924 
	$£tho¡id
 (
__id
è
__THROW
 
__wur
;

930 
	$g‘domašÇme
 (*
__Çme
, 
size_t
 
__Ën
)

931 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur


932 
	`__fÜtif›d_©Œ_acûss
 (
__wr™e_Úly__
, 1, 2);

933 
	$£tdomašÇme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

934 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 1, 2));

939 
	$vhªgup
 (è
__THROW
;

942 
	$»voke
 (cÚ¡ *
__fe
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

950 
	$´of
 (*
__§m¶e_bufãr
, 
size_t
 
__size
,

951 
size_t
 
__off£t
, 
__sÿË
)

952 
__THROW
 
	`__nÚnuÎ
 ((1));

958 
	$acù
 (cÚ¡ *
__Çme
è
__THROW
;

962 *
	$g‘u£rsh–l
 (è
__THROW
;

963 
	$’du£rsh–l
 (è
__THROW
;

964 
	$£tu£rsh–l
 (è
__THROW
;

970 
	$d«mÚ
 (
__nochdœ
, 
__noşo£
è
__THROW
 
__wur
;

974 #ià
defšed
 
__USE_MISC
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

977 
	$chroÙ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

981 *
	$g‘·ss
 (cÚ¡ *
__´om±
è
	`__nÚnuÎ
 ((1));

989 
	`fsync
 (
__fd
);

992 #ifdeà
__USE_GNU


995 
	$syncfs
 (
__fd
è
__THROW
;

999 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


1002 
	`g‘ho¡id
 ();

1005 
	$sync
 (è
__THROW
;

1008 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K


1011 
	$g‘·gesize
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

1016 
	$g‘dbËsize
 (è
__THROW
;

1022 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


1025 #iâdeà
__USE_FILE_OFFSET64


1026 
	$Œunÿ‹
 (cÚ¡ *
__fe
, 
__off_t
 
__Ëngth
)

1027 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1029 #ifdeà
__REDIRECT_NTH


1030 
	`__REDIRECT_NTH
 (
Œunÿ‹
,

1031 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
),

1032 
Œunÿ‹64
è
	`__nÚnuÎ
 ((1)è
__wur
;

1034 
	#Œunÿ‹
 
Œunÿ‹64


	)

1037 #ifdeà
__USE_LARGEFILE64


1038 
	$Œunÿ‹64
 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
)

1039 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1044 #ià
defšed
 
__USE_POSIX199309
 \

1045 || 
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


1048 #iâdeà
__USE_FILE_OFFSET64


1049 
	$árunÿ‹
 (
__fd
, 
__off_t
 
__Ëngth
è
__THROW
 
__wur
;

1051 #ifdeà
__REDIRECT_NTH


1052 
	`__REDIRECT_NTH
 (
árunÿ‹
, (
__fd
, 
__off64_t
 
__Ëngth
),

1053 
árunÿ‹64
è
__wur
;

1055 
	#árunÿ‹
 
árunÿ‹64


	)

1058 #ifdeà
__USE_LARGEFILE64


1059 
	$árunÿ‹64
 (
__fd
, 
__off64_t
 
__Ëngth
è
__THROW
 
__wur
;

1065 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

1066 || 
defšed
 
__USE_MISC


1070 
	$brk
 (*
__addr
è
__THROW
 
__wur
;

1076 *
	$sbrk
 (
šŒ_t
 
__d–
è
__THROW
;

1080 #ifdeà
__USE_MISC


1091 
	$sysÿÎ
 (
__sy¢o
, ...è
__THROW
;

1096 #ià(
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
è&& !defšed 
F_LOCK


1108 
	#F_ULOCK
 0

	)

1109 
	#F_LOCK
 1

	)

1110 
	#F_TLOCK
 2

	)

1111 
	#F_TEST
 3

	)

1113 #iâdeà
__USE_FILE_OFFSET64


1114 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Ën
è
__wur
;

1116 #ifdeà
__REDIRECT


1117 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
),

1118 
lockf64
è
__wur
;

1120 
	#lockf
 
lockf64


	)

1123 #ifdeà
__USE_LARGEFILE64


1124 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
è
__wur
;

1129 #ifdeà
__USE_GNU


1134 
	#TEMP_FAILURE_RETRY
(
ex´essiÚ
) \

1135 (
__ex‹nsiÚ__
 \

1136 ({ 
__»suÉ
; \

1137 dØ
__»suÉ
 = (è(
ex´essiÚ
); \

1138 
__»suÉ
 =ğ-1L && 
”ºo
 =ğ
EINTR
); \

1139 
__»suÉ
; 
	}
}))

	)

1142 
ssize_t
 
cİy_fe_¿nge
 (
__šfd
, 
__off64_t
 *
__pšoff
,

1143 
__outfd
, 
__off64_t
 *
__poutoff
,

1144 
size_t
 
__Ëngth
, 
__æags
);

1147 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_UNIX98


1150 
fd©async
 (
__fdes
);

1153 #ifdeà
__USE_MISC


1159 *
	$üy±
 (cÚ¡ *
__key
, cÚ¡ *
__§É
)

1160 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1163 #ifdef 
__USE_XOPEN


1168 
	$swab
 (cÚ¡ *
__»¡riù
 
__äom
, *__»¡riù 
__to
,

1169 
ssize_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2))

1170 
	`__©Œ_acûss
 ((
__»ad_Úly__
, 1, 3))

1171 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 2, 3));

1178 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K


1180 *
	$ù”mid
 (*
__s
è
__THROW
;

1183 *
	`cu£rid
 (*
__s
);

1189 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_XOPEN2K


1190 
	$±h»ad_©fÜk
 ((*
__´•¬e
) (),

1191 (*
__·»Á
) (),

1192 (*
__chd
è()è
__THROW
;

1195 #ifdeà
__USE_MISC


1198 
	$g‘’Œİy
 (*
__bufãr
, 
size_t
 
__Ëngth
è
__wur


1199 
	`__©Œ_acûss
 ((
__wr™e_Úly__
, 1, 2));

1202 #ifdeà
__USE_GNU


1208 
	$şo£_¿nge
 (
__fd
, 
__max_fd
,

1209 
__æags
è
__THROW
;

1213 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1214 
	~<b™s/uni¡d.h
>

1218 
	~<b™s/uni¡d_ext.h
>

1220 
__END_DECLS


	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

126 #undeà
__USE_ISOC11


127 #undeà
__USE_ISOC99


128 #undeà
__USE_ISOC95


129 #undeà
__USE_ISOCXX11


130 #undeà
__USE_POSIX


131 #undeà
__USE_POSIX2


132 #undeà
__USE_POSIX199309


133 #undeà
__USE_POSIX199506


134 #undeà
__USE_XOPEN


135 #undeà
__USE_XOPEN_EXTENDED


136 #undeà
__USE_UNIX98


137 #undeà
__USE_XOPEN2K


138 #undeà
__USE_XOPEN2KXSI


139 #undeà
__USE_XOPEN2K8


140 #undeà
__USE_XOPEN2K8XSI


141 #undeà
__USE_LARGEFILE


142 #undeà
__USE_LARGEFILE64


143 #undeà
__USE_FILE_OFFSET64


144 #undeà
__USE_MISC


145 #undeà
__USE_ATFILE


146 #undeà
__USE_DYNAMIC_STACK_SIZE


147 #undeà
__USE_GNU


148 #undeà
__USE_FORTIFY_LEVEL


149 #undeà
__KERNEL_STRICT_NAMES


150 #undeà
__GLIBC_USE_ISOC2X


151 #undeà
__GLIBC_USE_DEPRECATED_GETS


152 #undeà
__GLIBC_USE_DEPRECATED_SCANF


156 #iâdeà
_LOOSE_KERNEL_NAMES


157 
	#__KERNEL_STRICT_NAMES


	)

167 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


168 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

169 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

171 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

178 #ià
defšed
 
__şªg_majÜ__
 && defšed 
__şªg_mšÜ__


179 
	#__glibc_şªg_´”eq
(
maj
, 
mš
) \

180 ((
__şªg_majÜ__
 << 16è+ 
__şªg_mšÜ__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

182 
	#__glibc_şªg_´”eq
(
maj
, 
mš
è0

	)

186 
	#__GLIBC_USE
(
F
è
__GLIBC_USE_
 ## 
	)
F

192 #ià(
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE
) \

193 && !
defšed
 
	g_DEFAULT_SOURCE


195 #undeà
_DEFAULT_SOURCE


196 
	#_DEFAULT_SOURCE
 1

	)

200 #ifdeà
_GNU_SOURCE


201 #undeà
_ISOC95_SOURCE


202 
	#_ISOC95_SOURCE
 1

	)

203 #undeà
_ISOC99_SOURCE


204 
	#_ISOC99_SOURCE
 1

	)

205 #undeà
_ISOC11_SOURCE


206 
	#_ISOC11_SOURCE
 1

	)

207 #undeà
_ISOC2X_SOURCE


208 
	#_ISOC2X_SOURCE
 1

	)

209 #undeà
_POSIX_SOURCE


210 
	#_POSIX_SOURCE
 1

	)

211 #undeà
_POSIX_C_SOURCE


212 
	#_POSIX_C_SOURCE
 200809L

	)

213 #undeà
_XOPEN_SOURCE


214 
	#_XOPEN_SOURCE
 700

	)

215 #undeà
_XOPEN_SOURCE_EXTENDED


216 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

217 #undeà
_LARGEFILE64_SOURCE


218 
	#_LARGEFILE64_SOURCE
 1

	)

219 #undeà
_DEFAULT_SOURCE


220 
	#_DEFAULT_SOURCE
 1

	)

221 #undeà
_ATFILE_SOURCE


222 
	#_ATFILE_SOURCE
 1

	)

223 #undeà
_DYNAMIC_STACK_SIZE_SOURCE


224 
	#_DYNAMIC_STACK_SIZE_SOURCE
 1

	)

229 #ià(
defšed
 
_DEFAULT_SOURCE
 \

230 || (!
defšed
 
	g__STRICT_ANSI__
 \

231 && !
defšed
 
	g_ISOC99_SOURCE
 && !defšed 
	g_ISOC11_SOURCE
 \

232 && !
defšed
 
	g_ISOC2X_SOURCE
 \

233 && !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 \

234 && !
defšed
 
	g_XOPEN_SOURCE
))

235 #undeà
_DEFAULT_SOURCE


236 
	#_DEFAULT_SOURCE
 1

	)

240 #ià(
defšed
 
_ISOC2X_SOURCE
 \

241 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ > 201710L))

242 
	#__GLIBC_USE_ISOC2X
 1

	)

244 
	#__GLIBC_USE_ISOC2X
 0

	)

248 #ià(
defšed
 
_ISOC11_SOURCE
 || defšed 
_ISOC2X_SOURCE
 \

249 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

250 
	#__USE_ISOC11
 1

	)

254 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

255 || 
defšed
 
_ISOC2X_SOURCE
 \

256 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

257 
	#__USE_ISOC99
 1

	)

261 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

262 || 
defšed
 
_ISOC2X_SOURCE
 \

263 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

264 
	#__USE_ISOC95
 1

	)

267 #ifdeà
__ılu¥lus


269 #ià
__ılu¥lus
 >= 201703L

270 
	#__USE_ISOC11
 1

	)

274 #ià
__ılu¥lus
 >ğ201103L || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__


275 
	#__USE_ISOCXX11
 1

	)

276 
	#__USE_ISOC99
 1

	)

283 #ifdeà
_DEFAULT_SOURCE


284 #ià!
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE


285 
	#__USE_POSIX_IMPLICITLY
 1

	)

287 #undeà
_POSIX_SOURCE


288 
	#_POSIX_SOURCE
 1

	)

289 #undeà
_POSIX_C_SOURCE


290 
	#_POSIX_C_SOURCE
 200809L

	)

293 #ià((!
defšed
 
__STRICT_ANSI__
 \

294 || (
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) >= 500)) \

295 && !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

296 
	#_POSIX_SOURCE
 1

	)

297 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

298 
	#_POSIX_C_SOURCE
 2

	)

299 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

300 
	#_POSIX_C_SOURCE
 199506L

	)

301 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

302 
	#_POSIX_C_SOURCE
 200112L

	)

304 
	#_POSIX_C_SOURCE
 200809L

	)

306 
	#__USE_POSIX_IMPLICITLY
 1

	)

315 #ià((!
defšed
 
_POSIX_C_SOURCE
 || (_POSIX_C_SOURCE - 0) < 199506L) \

316 && (
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE
))

317 
	#_POSIX_SOURCE
 1

	)

318 #undeà
_POSIX_C_SOURCE


319 
	#_POSIX_C_SOURCE
 199506L

	)

322 #ià(
defšed
 
_POSIX_SOURCE
 \

323 || (
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >= 1) \

324 || 
defšed
 
_XOPEN_SOURCE
)

325 
	#__USE_POSIX
 1

	)

328 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


329 
	#__USE_POSIX2
 1

	)

332 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199309L

333 
	#__USE_POSIX199309
 1

	)

336 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199506L

337 
	#__USE_POSIX199506
 1

	)

340 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200112L

341 
	#__USE_XOPEN2K
 1

	)

342 #undeà
__USE_ISOC95


343 
	#__USE_ISOC95
 1

	)

344 #undeà
__USE_ISOC99


345 
	#__USE_ISOC99
 1

	)

348 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200809L

349 
	#__USE_XOPEN2K8
 1

	)

350 #undeà
_ATFILE_SOURCE


351 
	#_ATFILE_SOURCE
 1

	)

354 #ifdef 
_XOPEN_SOURCE


355 
	#__USE_XOPEN
 1

	)

356 #ià(
_XOPEN_SOURCE
 - 0) >= 500

357 
	#__USE_XOPEN_EXTENDED
 1

	)

358 
	#__USE_UNIX98
 1

	)

359 #undeà
_LARGEFILE_SOURCE


360 
	#_LARGEFILE_SOURCE
 1

	)

361 #ià(
_XOPEN_SOURCE
 - 0) >= 600

362 #ià(
_XOPEN_SOURCE
 - 0) >= 700

363 
	#__USE_XOPEN2K8
 1

	)

364 
	#__USE_XOPEN2K8XSI
 1

	)

366 
	#__USE_XOPEN2K
 1

	)

367 
	#__USE_XOPEN2KXSI
 1

	)

368 #undeà
__USE_ISOC95


369 
	#__USE_ISOC95
 1

	)

370 #undeà
__USE_ISOC99


371 
	#__USE_ISOC99
 1

	)

374 #ifdeà
_XOPEN_SOURCE_EXTENDED


375 
	#__USE_XOPEN_EXTENDED
 1

	)

380 #ifdeà
_LARGEFILE_SOURCE


381 
	#__USE_LARGEFILE
 1

	)

384 #ifdeà
_LARGEFILE64_SOURCE


385 
	#__USE_LARGEFILE64
 1

	)

388 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

389 
	#__USE_FILE_OFFSET64
 1

	)

392 
	~<ã©u»s-time64.h
>

394 #ià
defšed
 
_DEFAULT_SOURCE


395 
	#__USE_MISC
 1

	)

398 #ifdef 
_ATFILE_SOURCE


399 
	#__USE_ATFILE
 1

	)

402 #ifdef 
_DYNAMIC_STACK_SIZE_SOURCE


403 
	#__USE_DYNAMIC_STACK_SIZE
 1

	)

406 #ifdef 
_GNU_SOURCE


407 
	#__USE_GNU
 1

	)

410 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0

411 #ià!
defšed
 
__OPTIMIZE__
 || __OPTIMIZE__ <= 0

412 #–ià!
__GNUC_PREREQ
 (4, 1)

413 #–ià
_FORTIFY_SOURCE
 > 2 && (
__glibc_şªg_´”eq
 (9, 0) \

414 || 
	$__GNUC_PREREQ
 (12, 0))

416 #ià
_FORTIFY_SOURCE
 > 3

418 
	#__USE_FORTIFY_LEVEL
 3

	)

419 #–ià
_FORTIFY_SOURCE
 > 1

420 #ià
_FORTIFY_SOURCE
 > 2

422 
	#__USE_FORTIFY_LEVEL
 2

	)

424 
	#__USE_FORTIFY_LEVEL
 1

	)

427 #iâdeà
__USE_FORTIFY_LEVEL


428 
	#__USE_FORTIFY_LEVEL
 0

	)

435 #ià
defšed
 
__ılu¥lus
 ? __ılu¥lu >ğ201402L : defšed 
__USE_ISOC11


436 
	#__GLIBC_USE_DEPRECATED_GETS
 0

	)

438 
	#__GLIBC_USE_DEPRECATED_GETS
 1

	)

453 #ià(
defšed
 
__USE_GNU
 \

454 && (
defšed
 
__ılu¥lus
 \

455 ? (
__ılu¥lus
 < 201103L && !
defšed
 
__GXX_EXPERIMENTAL_CXX0X__
) \

456 : (!
defšed
 
__STDC_VERSION__
 || __STDC_VERSION__ < 199901L)))

457 
	#__GLIBC_USE_DEPRECATED_SCANF
 1

	)

459 
	#__GLIBC_USE_DEPRECATED_SCANF
 0

	)

464 
	~<¡dc-´edef.h
>

472 #undeà
__GNU_LIBRARY__


473 
	#__GNU_LIBRARY__
 6

	)

477 
	#__GLIBC__
 2

	)

478 
	#__GLIBC_MINOR__
 35

	)

480 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

481 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

484 #iâdeà
__ASSEMBLER__


485 #iâdeà
_SYS_CDEFS_H


486 
	~<sys/cdefs.h
>

491 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


492 
	#__USE_LARGEFILE
 1

	)

493 
	#__USE_LARGEFILE64
 1

	)

499 #ià
	`__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

500 && !
defšed
 
__OPTIMIZE_SIZE__
 && !defšed 
__NO_INLINE__
 \

501 && 
defšed
 
__ex‹º_šlše


502 
	#__USE_EXTERN_INLINES
 1

	)

510 
	~<gnu/¡ubs.h
>

	@/usr/include/gmock/gmock-actions.h

130 #iâdeà
GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_ACTIONS_H_


131 
	#GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_ACTIONS_H_


	)

133 #iâdeà
_WIN32_WCE


134 
	~<”ºo.h
>

137 
	~<®gÜ™hm
>

138 
	~<funùiÚ®
>

139 
	~<memÜy
>

140 
	~<¡ršg
>

141 
	~<tu¶e
>

142 
	~<ty³_Œa™s
>

143 
	~<ut™y
>

145 
	~"gmock/š‹º®/gmock-š‹º®-uts.h
"

146 
	~"gmock/š‹º®/gmock-pÜt.h
"

147 
	~"gmock/š‹º®/gmock-µ.h
"

149 #ifdeà
_MSC_VER


150 #´agm¨
w¬nšg
(
push
)

151 #´agm¨
w¬nšg
(
di§bË
:4100)

154 
Çme¥aû
 
	g‹¡šg
 {

165 
Çme¥aû
 
	gš‹º®
 {

172 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
boŞ
 
	gkDeçuÉCÚ¡ruùibË
>

173 
	sButInDeçuÉV®ueG‘‹r
 {

174 
T
 
G‘
() {  T(); }

176 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

177 
	gButInDeçuÉV®ueG‘‹r
<
	gT
, 
	gçl£
> {

178 
T
 
G‘
() {

179 
As£¹
(
çl£
, 
__FILE__
, 
__LINE__
,

181  
	gš‹º®
::
Inv®id
<
T
>();

194 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

195 şas 
	cButInDeçuÉV®ue
 {

196 
	gpublic
:

199 
boŞ
 
Exi¡s
() {

200  ::
¡d
::
is_deçuÉ_cÚ¡ruùibË
<
T
>::
v®ue
;

203 
T
 
G‘
() {

204  
	gButInDeçuÉV®ueG‘‹r
<

205 
	gT
, ::
¡d
::
is_deçuÉ_cÚ¡ruùibË
<
T
>::
v®ue
>::
G‘
();

211 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

212 
şass
 
	gButInDeçuÉV®ue
<cÚ¡ 
	gT
> {

213 
	gpublic
:

214 
boŞ
 
Exi¡s
(è{  
ButInDeçuÉV®ue
<
T
>::Exists(); }

215 
T
 
G‘
(è{  
	gButInDeçuÉV®ue
<
	gT
>::Get(); }

220 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

221 
şass
 
	gButInDeçuÉV®ue
<
	gT
*> {

222 
	gpublic
:

223 
boŞ
 
Exi¡s
(è{  
Œue
; }

224 
T
* 
G‘
(è{  
	gnuÎ±r
; }

229 
	#GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(
ty³
, 
v®ue
) \

230 
‹m¶©e
 <> \

231 
şass
 
ButInDeçuÉV®ue
<
ty³
> { \

232 
public
: \

233 
boŞ
 
	`Exi¡s
(è{  
Œue
; } \

234 
ty³
 
	`G‘
(è{  
v®ue
; } \

235 }

	)

237 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(, );

238 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(::
¡d
::
¡ršg
, "");

239 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(
boŞ
, 
çl£
);

240 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(, '\0');

241 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(signed , '\0');

242 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(, '\0');

250 #ià
GMOCK_WCHAR_T_IS_NATIVE_


251 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(
wch¬_t
, 0U);

254 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(, 0U);

255 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(signed , 0);

256 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(, 0U);

257 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(signed , 0);

258 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(, 0UL);

259 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(signed , 0L);

260 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(, 0);

261 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(signed , 0);

262 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(, 0);

263 
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_
(, 0);

265 #undeà
GMOCK_DEFINE_DEFAULT_ACTION_FOR_RETURN_TYPE_


268 
	g‹m¶©e
 <
ty³Çme
 
	gP
,y³Çm
	gQ
>

269 
usšg
 
	gdisjunùiÚ
 = 
ty³Çme
 ::
¡d
::
cÚd™iÚ®
<
P
::
v®ue
, 
	gP
, 
	gQ
>::
ty³
;

286 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

287 şas 
	cDeçuÉV®ue
 {

288 
	gpublic
:

291 
S‘
(
T
 
x
) {

292 
d–‘e
 
´oduûr_
;

293 
	g´oduûr_
 = 
Ãw
 
FixedV®ueProduûr
(
x
);

299 
T
 (*
	tFaùÜyFunùiÚ
)();

300 
S‘FaùÜy
(
FaùÜyFunùiÚ
 
çùÜy
) {

301 
d–‘e
 
	g´oduûr_
;

302 
	g´oduûr_
 = 
Ãw
 
FaùÜyV®ueProduûr
(
çùÜy
);

306 
CË¬
() {

307 
d–‘e
 
	g´oduûr_
;

308 
	g´oduûr_
 = 
nuÎ±r
;

312 
boŞ
 
IsS‘
(è{  
	g´oduûr_
 !ğ
nuÎ±r
; }

316 
boŞ
 
Exi¡s
() {

317  
IsS‘
(è|| 
	gš‹º®
::
ButInDeçuÉV®ue
<
T
>::
Exi¡s
();

323 
T
 
G‘
() {

324  
	g´oduûr_
 =ğ
nuÎ±r
 ? 
š‹º®
::
ButInDeçuÉV®ue
<
T
>::
G‘
()

325 : 
´oduûr_
->
Produû
();

328 
	g´iv©e
:

329 şas 
	cV®ueProduûr
 {

330 
public
:

331 
vœtu®
 ~
V®ueProduûr
() {}

332 
vœtu®
 
T
 
Produû
() = 0;

335 şas 
	cFixedV®ueProduûr
 : 
public
 
V®ueProduûr
 {

336 
public
:

337 
ex¶ic™
 
FixedV®ueProduûr
(
T
 
v®ue
è: 
v®ue_
(value) {}

338 
T
 
Produû
(è
ov”ride
 {  
v®ue_
; }

340 
	g´iv©e
:

341 cÚ¡ 
T
 
v®ue_
;

342 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
FixedV®ueProduûr
);

345 şas 
	cFaùÜyV®ueProduûr
 : 
public
 
V®ueProduûr
 {

346 
public
:

347 
ex¶ic™
 
FaùÜyV®ueProduûr
(
FaùÜyFunùiÚ
 
çùÜy
)

348 : 
çùÜy_
(
çùÜy
) {}

349 
T
 
Produû
(è
ov”ride
 {  
çùÜy_
(); }

351 
	g´iv©e
:

352 cÚ¡ 
FaùÜyFunùiÚ
 
çùÜy_
;

353 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
FaùÜyV®ueProduûr
);

356 
V®ueProduûr
* 
	g´oduûr_
;

361 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

362 
şass
 
	gDeçuÉV®ue
<
	gT
&> {

363 
	gpublic
:

365 
S‘
(
T
& 
x
) {

366 
add»ss_
 = &
x
;

370 
CË¬
(è{ 
	gadd»ss_
 = 
nuÎ±r
; }

373 
boŞ
 
IsS‘
(è{  
	gadd»ss_
 !ğ
nuÎ±r
; }

377 
boŞ
 
Exi¡s
() {

378  
IsS‘
(è|| 
	gš‹º®
::
ButInDeçuÉV®ue
<
T
&>::
Exi¡s
();

384 
	gT
& 
G‘
() {

385  
	gadd»ss_
 =ğ
nuÎ±r
 ? 
š‹º®
::
ButInDeçuÉV®ue
<
T
&>::
G‘
()

386 : *
add»ss_
;

389 
	g´iv©e
:

390 
T
* 
add»ss_
;

395 
	g‹m¶©e
 <>

396 
şass
 
	gDeçuÉV®ue
<> {

397 
	gpublic
:

398 
boŞ
 
Exi¡s
(è{  
Œue
; }

399 
G‘
() {}

403 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

404 
ty³Çme
 
	gDeçuÉV®ue
<
	gT
>::
V®ueProduûr
* 
DeçuÉV®ue
<
T
>::
´oduûr_
 = 
nuÎ±r
;

407 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

408 
T
* 
	gDeçuÉV®ue
<
	gT
&>::
add»ss_
 = 
nuÎ±r
;

411 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

412 şas 
	cAùiÚIÁ”çû
 {

413 
	gpublic
:

414 
ty³Çme
 
	tš‹º®
::
	tFunùiÚ
<
	tF
>::
	tResuÉ
 Result;

415 
ty³Çme
 
	tš‹º®
::
	tFunùiÚ
<
	tF
>::
	tArgum’tTu¶e
 ArgumentTuple;

417 
AùiÚIÁ”çû
() {}

418 
	gvœtu®
 ~
AùiÚIÁ”çû
() {}

424 
vœtu®
 
ResuÉ
 
P”fÜm
(cÚ¡ 
Argum’tTu¶e
& 
¬gs
) = 0;

426 
	g´iv©e
:

427 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
AùiÚIÁ”çû
);

437 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

438 şas 
	cAùiÚ
 {

441 
	sAùiÚAd­‹r
 {

443 ::
¡d
::
sh¬ed_±r
<
AùiÚIÁ”çû
<
F
>> 
im¶_
;

445 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

446 
ty³Çme
 
	gš‹º®
::
FunùiÚ
<
F
>::
ResuÉ
 
İ”©Ü
()(
Args
&&... 
¬gs
) {

447  
im¶_
->
P”fÜm
(

448 ::
¡d
::
fÜw¬d_as_tu¶e
(::¡d::
fÜw¬d
<
Args
>(
¬gs
)...));

452 
	g‹m¶©e
 <
ty³Çme
 
	gG
>

453 
usšg
 
	gIsCom·tibËFunùÜ
 = 
¡d
::
is_cÚ¡ruùibË
<¡d::
funùiÚ
<
F
>, 
	gG
>;

455 
	gpublic
:

456 
ty³Çme
 
	tš‹º®
::
	tFunùiÚ
<
	tF
>::
	tResuÉ
 Result;

457 
ty³Çme
 
	tš‹º®
::
	tFunùiÚ
<
	tF
>::
	tArgum’tTu¶e
 ArgumentTuple;

461 
AùiÚ
() {}

466 
	g‹m¶©e
 <

467 
ty³Çme
 
	gG
,

468 
	gty³Çme
 = 
ty³Çme
 
¡d
::
’abË_if
<
š‹º®
::
disjunùiÚ
<

469 
IsCom·tibËFunùÜ
<
G
>, 
	g¡d
::
is_cÚ¡ruùibË
<
¡d
::
funùiÚ
<
ResuÉ
()>,

470 
	gG
>>::
v®ue
>::
ty³
>

471 
AùiÚ
(
G
&& 
fun
) {

472 
In™
(::
¡d
::
fÜw¬d
<
G
>(
fun
), 
IsCom·tibËFunùÜ
<G>());

476 
ex¶ic™
 
AùiÚ
(
AùiÚIÁ”çû
<
F
>* 
im¶
)

477 : 
fun_
(
AùiÚAd­‹r
{::
¡d
::
sh¬ed_±r
<
AùiÚIÁ”çû
<
F
>>(
im¶
)}) {}

482 
‹m¶©e
 <
ty³Çme
 
Func
>

483 
ex¶ic™
 
AùiÚ
(cÚ¡ AùiÚ<
Func
>& 
aùiÚ
è: 
fun_
(action.fun_) {}

486 
boŞ
 
IsDoDeçuÉ
(ècÚ¡ {  
fun_
 =ğ
nuÎ±r
; }

494 
ResuÉ
 
P”fÜm
(
Argum’tTu¶e
 
¬gs
) const {

495 ià(
IsDoDeçuÉ
()) {

496 
	gš‹º®
::
IÎeg®DoDeçuÉ
(
__FILE__
, 
__LINE__
);

498  
	gš‹º®
::
Aµly
(
fun_
, ::
¡d
::
move
(
¬gs
));

501 
	g´iv©e
:

502 
‹m¶©e
 <
ty³Çme
 
G
>

503 
ä›nd
 
şass
 
AùiÚ
;

505 
	g‹m¶©e
 <
ty³Çme
 
	gG
>

506 
In™
(
G
&& 
g
, ::
¡d
::
Œue_ty³
) {

507 
fun_
 = ::
¡d
::
fÜw¬d
<
G
>(
g
);

510 
	g‹m¶©e
 <
ty³Çme
 
	gG
>

511 
In™
(
G
&& 
g
, ::
¡d
::
çl£_ty³
) {

512 
fun_
 = 
IgnÜeArgs
<
ty³Çme
 ::
¡d
::
deÿy
<
G
>::
ty³
>{::¡d::
fÜw¬d
<G>(
g
)};

515 
	g‹m¶©e
 <
ty³Çme
 
	gFunùiÚIm¶
>

516 
	sIgnÜeArgs
 {

517 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

518 
ResuÉ
 
İ”©Ü
()(cÚ¡ 
	gArgs
&...) const {

519  
funùiÚ_im¶
();

522 
FunùiÚIm¶
 
	gfunùiÚ_im¶
;

526 ::
¡d
::
funùiÚ
<
F
> 
fun_
;

550 
	g‹m¶©e
 <
ty³Çme
 
	gIm¶
>

551 şas 
	cPŞymÜphicAùiÚ
 {

552 
	gpublic
:

553 
ex¶ic™
 
PŞymÜphicAùiÚ
(cÚ¡ 
Im¶
& 
im¶
è: 
im¶_
(impl) {}

555 
‹m¶©e
 <
ty³Çme
 
F
>

556 
İ”©Ü
 
AùiÚ
<
F
>() const {

557  
AùiÚ
<
F
>(
Ãw
 
MÚomÜphicIm¶
<F>(
im¶_
));

560 
	g´iv©e
:

561 
‹m¶©e
 <
ty³Çme
 
F
>

562 
şass
 
MÚomÜphicIm¶
 : 
public
 
AùiÚIÁ”çû
<
F
> {

563 
public
:

564 
ty³Çme
 
	tš‹º®
::
	tFunùiÚ
<
	tF
>::
	tResuÉ
 Result;

565 
ty³Çme
 
	tš‹º®
::
	tFunùiÚ
<
	tF
>::
	tArgum’tTu¶e
 ArgumentTuple;

567 
ex¶ic™
 
MÚomÜphicIm¶
(cÚ¡ 
Im¶
& 
im¶
è: 
im¶_
(impl) {}

569 
ResuÉ
 
P”fÜm
(cÚ¡ 
Argum’tTu¶e
& 
¬gs
è
ov”ride
 {

570  
im¶_
.
‹m¶©e
 
P”fÜm
<
ResuÉ
>(
¬gs
);

573 
	g´iv©e
:

574 
Im¶
 
im¶_
;

577 
Im¶
 
	gim¶_
;

582 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

583 
	gAùiÚ
<
	gF
> 
MakeAùiÚ
(
AùiÚIÁ”çû
<
F
>* 
im¶
) {

584  
	gAùiÚ
<
	gF
>(
	gim¶
);

594 
	g‹m¶©e
 <
ty³Çme
 
	gIm¶
>

595 
šlše
 
	gPŞymÜphicAùiÚ
<
	gIm¶
> 
	$MakePŞymÜphicAùiÚ
(cÚ¡ 
Im¶
& 
im¶
) {

596  
PŞymÜphicAùiÚ
<
Im¶
>(
im¶
);

597 
	}
}

599 
Çme¥aû
 
	gš‹º®
 {

603 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

604 
	sByMoveW¿µ”
 {

605 
ex¶ic™
 
ByMoveW¿µ”
(
T
 
v®ue
è: 
·ylßd
(
¡d
::
move
(value)) {}

606 
T
 
·ylßd
;

636 
	g‹m¶©e
 <
ty³Çme
 
	gR
>

637 şas 
	cR‘uºAùiÚ
 {

638 
	gpublic
:

642 
ex¶ic™
 
R‘uºAùiÚ
(
R
 
v®ue
è: 
v®ue_
(
Ãw
 R(
¡d
::
move
(value))) {}

646 
‹m¶©e
 <
ty³Çme
 
F
>

647 
İ”©Ü
 
AùiÚ
<
F
>() const {

656 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tResuÉ
 Result;

657 
GTEST_COMPILE_ASSERT_
(

658 !
¡d
::
is_»ã»nû
<
ResuÉ
>::
v®ue
,

659 
u£_R‘uºRef_š¡—d_of_R‘uº_to_»tuº_a_»ã»nû
);

660 
¡©ic_as£¹
(!
¡d
::
is_void
<
ResuÉ
>::
v®ue
,

662  
	gAùiÚ
<
	gF
>(
Ãw
 
	gIm¶
<
	gR
, F>(
	gv®ue_
));

665 
	g´iv©e
:

667 
‹m¶©e
 <
ty³Çme
 
R_
,y³Çm
	gF
>

668 
şass
 
	gIm¶
 : 
public
 
AùiÚIÁ”çû
<
F
> {

669 
public
:

670 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tResuÉ
 Result;

671 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tArgum’tTu¶e
 ArgumentTuple;

680 
ex¶ic™
 
Im¶
(cÚ¡ 
¡d
::
sh¬ed_±r
<
R
>& 
v®ue
)

681 : 
v®ue_befÜe_ÿ¡_
(*
v®ue
),

682 
v®ue_
(
Im¶ic™Ca¡_
<
ResuÉ
>(
v®ue_befÜe_ÿ¡_
)) {}

684 
ResuÉ
 
P”fÜm
(cÚ¡ 
Argum’tTu¶e
&è
	gov”ride
 {  
	gv®ue_
; }

686 
	g´iv©e
:

687 
GTEST_COMPILE_ASSERT_
(!
¡d
::
is_»ã»nû
<
ResuÉ
>::
v®ue
,

688 
ResuÉ_ÿÂÙ_be_a_»ã»nû_ty³
);

691 
R
 
	gv®ue_befÜe_ÿ¡_
;

692 
ResuÉ
 
	gv®ue_
;

694 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Im¶
);

699 
	g‹m¶©e
 <
ty³Çme
 
	gR_
,y³Çm
	gF
>

700 
şass
 
	gIm¶
<
	gByMoveW¿µ”
<
	gR_
>, 
	gF
> : 
public
 
AùiÚIÁ”çû
<
F
> {

701 
public
:

702 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tResuÉ
 Result;

703 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tArgum’tTu¶e
 ArgumentTuple;

705 
ex¶ic™
 
Im¶
(cÚ¡ 
¡d
::
sh¬ed_±r
<
R
>& 
w¿µ”
)

706 : 
³rfÜmed_
(
çl£
), 
w¿µ”_
(
w¿µ”
) {}

708 
ResuÉ
 
P”fÜm
(cÚ¡ 
Argum’tTu¶e
&è
	gov”ride
 {

709 
GTEST_CHECK_
(!
³rfÜmed_
)

711 
	g³rfÜmed_
 = 
Œue
;

712  
	g¡d
::
move
(
w¿µ”_
->
·ylßd
);

715 
	g´iv©e
:

716 
boŞ
 
³rfÜmed_
;

717 cÚ¡ 
	g¡d
::
sh¬ed_±r
<
R
> 
w¿µ”_
;

720 cÚ¡ 
	g¡d
::
sh¬ed_±r
<
R
> 
v®ue_
;

724 şas 
	cR‘uºNuÎAùiÚ
 {

725 
	gpublic
:

729 
‹m¶©e
 <
ty³Çme
 
ResuÉ
,y³Çm
	gArgum’tTu¶e
>

730 
ResuÉ
 
P”fÜm
(cÚ¡ 
Argum’tTu¶e
&) {

731  
	gnuÎ±r
;

736 şas 
	cR‘uºVoidAùiÚ
 {

737 
	gpublic
:

739 
‹m¶©e
 <
ty³Çme
 
ResuÉ
,y³Çm
	gArgum’tTu¶e
>

740 
P”fÜm
(cÚ¡ 
Argum’tTu¶e
&) {

741 
¡©ic_as£¹
(
¡d
::
is_void
<
ResuÉ
>::
v®ue
, "Result should be void.");

748 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

749 şas 
	cR‘uºRefAùiÚ
 {

750 
	gpublic
:

752 
ex¶ic™
 
R‘uºRefAùiÚ
(
T
& 
»f
è: 
»f_
(ref) {}

756 
‹m¶©e
 <
ty³Çme
 
F
>

757 
İ”©Ü
 
AùiÚ
<
F
>() const {

758 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tResuÉ
 Result;

762 
GTEST_COMPILE_ASSERT_
(
¡d
::
is_»ã»nû
<
ResuÉ
>::
v®ue
,

763 
u£_R‘uº_š¡—d_of_R‘uºRef_to_»tuº_a_v®ue
);

764  
	gAùiÚ
<
	gF
>(
Ãw
 
	gIm¶
<F>(
	g»f_
));

767 
	g´iv©e
:

769 
‹m¶©e
 <
ty³Çme
 
F
>

770 
şass
 
Im¶
 : 
public
 
AùiÚIÁ”çû
<
F
> {

771 
public
:

772 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tResuÉ
 Result;

773 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tArgum’tTu¶e
 ArgumentTuple;

775 
ex¶ic™
 
Im¶
(
T
& 
»f
è: 
»f_
(ref) {}

777 
ResuÉ
 
P”fÜm
(cÚ¡ 
Argum’tTu¶e
&è
ov”ride
 {  
»f_
; }

779 
	g´iv©e
:

780 
T
& 
»f_
;

783 
	gT
& 
	g»f_
;

789 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

790 şas 
	cR‘uºRefOfCİyAùiÚ
 {

791 
	gpublic
:

794 
ex¶ic™
 
R‘uºRefOfCİyAùiÚ
(cÚ¡ 
T
& 
v®ue
è: 
v®ue_
(value) {}

798 
‹m¶©e
 <
ty³Çme
 
F
>

799 
İ”©Ü
 
AùiÚ
<
F
>() const {

800 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tResuÉ
 Result;

804 
GTEST_COMPILE_ASSERT_
(

805 
¡d
::
is_»ã»nû
<
ResuÉ
>::
v®ue
,

806 
u£_R‘uº_š¡—d_of_R‘uºRefOfCİy_to_»tuº_a_v®ue
);

807  
	gAùiÚ
<
	gF
>(
Ãw
 
	gIm¶
<F>(
	gv®ue_
));

810 
	g´iv©e
:

812 
‹m¶©e
 <
ty³Çme
 
F
>

813 
şass
 
Im¶
 : 
public
 
AùiÚIÁ”çû
<
F
> {

814 
public
:

815 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tResuÉ
 Result;

816 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tArgum’tTu¶e
 ArgumentTuple;

818 
ex¶ic™
 
Im¶
(cÚ¡ 
T
& 
v®ue
è: 
v®ue_
(value) {}

820 
ResuÉ
 
P”fÜm
(cÚ¡ 
Argum’tTu¶e
&è
ov”ride
 {  
v®ue_
; }

822 
	g´iv©e
:

823 
T
 
v®ue_
;

826 cÚ¡ 
T
 
	gv®ue_
;

831 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

832 şas 
	cR‘uºRoundRobšAùiÚ
 {

833 
	gpublic
:

834 
ex¶ic™
 
R‘uºRoundRobšAùiÚ
(
¡d
::
veùÜ
<
T
> 
v®ues
) {

835 
GTEST_CHECK_
(!
v®ues
.
em±y
())

837 
	g¡©e_
->
	gv®ues
 = 
¡d
::
move
(
v®ues
);

840 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

841 
T
 
İ”©Ü
()(
	gArgs
&&...) const {

842  
	g¡©e_
->
Next
();

845 
	g´iv©e
:

846 
	sS‹
 {

847 
T
 
Next
() {

848 
T
 
»t_v®
 = 
v®ues
[
i
++];

849 ià(
	gi
 =ğ
v®ues
.
size
()è
i
 = 0;

850  
	g»t_v®
;

853 
	g¡d
::
veùÜ
<
T
> 
v®ues
;

854 
size_t
 
	gi
 = 0;

856 
	g¡d
::
sh¬ed_±r
<
S‹
> 
¡©e_
 = 
¡d
::
make_sh¬ed
<State>();

860 şas 
	cDoDeçuÉAùiÚ
 {

861 
	gpublic
:

864 
‹m¶©e
 <
ty³Çme
 
F
>

865 
İ”©Ü
 
AùiÚ
<
F
>() const {  Action<F>(); }

870 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
>

871 şas 
	cAssignAùiÚ
 {

872 
	gpublic
:

873 
AssignAùiÚ
(
T1
* 
±r
, 
T2
 
v®ue
è: 
±r_
ÕŒ), 
v®ue_
(value) {}

875 
	g‹m¶©e
 <
ty³Çme
 
	gResuÉ
,y³Çm
	gArgum’tTu¶e
>

876 
P”fÜm
(cÚ¡ 
Argum’tTu¶e
& ) const {

877 *
	g±r_
 = 
v®ue_
;

880 
	g´iv©e
:

881 
T1
* cÚ¡ 
±r_
;

882 cÚ¡ 
T2
 
	gv®ue_
;

885 #ià!
GTEST_OS_WINDOWS_MOBILE


889 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

890 şas 
	cS‘E¼noAndR‘uºAùiÚ
 {

891 
	gpublic
:

892 
S‘E¼noAndR‘uºAùiÚ
(
”ºo_v®ue
, 
T
 
»suÉ
)

893 : 
”ºo_
(
”ºo_v®ue
),

894 
»suÉ_
(
»suÉ
) {}

895 
	g‹m¶©e
 <
ty³Çme
 
	gResuÉ
,y³Çm
	gArgum’tTu¶e
>

896 
ResuÉ
 
P”fÜm
(cÚ¡ 
Argum’tTu¶e
& ) const {

897 
	g”ºo
 = 
”ºo_
;

898  
	g»suÉ_
;

901 
	g´iv©e
:

902 cÚ¡ 
”ºo_
;

903 cÚ¡ 
T
 
	g»suÉ_
;

910 
	g‹m¶©e
 <
size_t
 
	gN
, 
ty³Çme
 
	gA
, 
	gty³Çme
 = >

911 
	sS‘Argum’tPoš‹eAùiÚ
 {

912 
A
 
v®ue
;

914 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

915 
İ”©Ü
()(cÚ¡ 
	gArgs
&... 
	g¬gs
) const {

916 *::
¡d
::
g‘
<
N
>(¡d::
t›
(
¬gs
...)èğ
v®ue
;

921 
	g‹m¶©e
 <
şass
 
	gCÏss
, 
ty³Çme
 
	gM‘hodPŒ
>

922 
	sInvokeM‘hodAùiÚ
 {

923 
CÏss
* cÚ¡ 
	gobj_±r
;

924 cÚ¡ 
M‘hodPŒ
 
	gm‘hod_±r
;

926 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

927 autØ
İ”©Ü
()(
	gArgs
&&... 
	g¬gs
) const

928 -> 
deşty³
((
obj_±r
->*
m‘hod_±r
)(
¡d
::
fÜw¬d
<
Args
>(
¬gs
)...)) {

929  (
obj_±r
->*
m‘hod_±r
)(
¡d
::
fÜw¬d
<
Args
>(
¬gs
)...);

937 
	g‹m¶©e
 <
ty³Çme
 
	gFunùiÚIm¶
>

938 
	sInvokeW™houtArgsAùiÚ
 {

939 
FunùiÚIm¶
 
	gfunùiÚ_im¶
;

943 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

944 autØ
İ”©Ü
()(cÚ¡ 
	gArgs
&...è-> 
deşty³
(
funùiÚ_im¶
()) {

945  
funùiÚ_im¶
();

950 
	g‹m¶©e
 <
şass
 
	gCÏss
, 
ty³Çme
 
	gM‘hodPŒ
>

951 
	sInvokeM‘hodW™houtArgsAùiÚ
 {

952 
CÏss
* cÚ¡ 
	gobj_±r
;

953 cÚ¡ 
M‘hodPŒ
 
	gm‘hod_±r
;

955 
usšg
 
	gR‘uºTy³
 =

956 
deşty³
((
¡d
::
deşv®
<
CÏss
*>()->*¡d::deşv®<
M‘hodPŒ
>())());

958 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

959 
R‘uºTy³
 
İ”©Ü
()(cÚ¡ 
	gArgs
&...) const {

960  (
	gobj_±r
->*
	gm‘hod_±r
)();

965 
	g‹m¶©e
 <
ty³Çme
 
	gA
>

966 şas 
	cIgnÜeResuÉAùiÚ
 {

967 
	gpublic
:

968 
ex¶ic™
 
IgnÜeResuÉAùiÚ
(cÚ¡ 
A
& 
aùiÚ
è: 
aùiÚ_
(action) {}

970 
‹m¶©e
 <
ty³Çme
 
F
>

971 
İ”©Ü
 
AùiÚ
<
F
>() const {

980 
ty³Çme
 
	tš‹º®
::
	tFunùiÚ
<
	tF
>::
	tResuÉ
 Result;

983 
¡©ic_as£¹
(
¡d
::
is_void
<
ResuÉ
>::
v®ue
, "Resultype should be void.");

985  
	gAùiÚ
<
	gF
>(
Ãw
 
	gIm¶
<F>(
	gaùiÚ_
));

988 
	g´iv©e
:

989 
‹m¶©e
 <
ty³Çme
 
F
>

990 
şass
 
Im¶
 : 
public
 
AùiÚIÁ”çû
<
F
> {

991 
public
:

992 
ty³Çme
 
	tš‹º®
::
	tFunùiÚ
<
	tF
>::
	tResuÉ
 Result;

993 
ty³Çme
 
	tš‹º®
::
	tFunùiÚ
<
	tF
>::
	tArgum’tTu¶e
 ArgumentTuple;

995 
ex¶ic™
 
Im¶
(cÚ¡ 
A
& 
aùiÚ
è: 
aùiÚ_
(action) {}

997 
P”fÜm
(cÚ¡ 
Argum’tTu¶e
& 
¬gs
è
ov”ride
 {

999 
aùiÚ_
.
P”fÜm
(
¬gs
);

1002 
	g´iv©e
:

1005 
ty³Çme
 
	tš‹º®
::
	tFunùiÚ
<
	tF
>::
	tMakeResuÉIgnÜedV®ue


1006 
	tOrigš®FunùiÚ
;

1008 cÚ¡ 
	gAùiÚ
<
	gOrigš®FunùiÚ
> 
	gaùiÚ_
;

1011 cÚ¡ 
A
 
	gaùiÚ_
;

1014 
	g‹m¶©e
 <
ty³Çme
 
	gIÂ”AùiÚ
, 
	gsize_t
... 
	gI
>

1015 
	sW™hArgsAùiÚ
 {

1016 
IÂ”AùiÚ
 
	gaùiÚ
;

1020 
	g‹m¶©e
 <
ty³Çme
 
	gR
, 
	gty³Çme
... 
	gArgs
>

1021 
İ”©Ü
 
	gAùiÚ
<
R
(
Args
...)>() const {

1022 
usšg
 
	gTu¶eTy³
 = 
¡d
::
tu¶e
<
Args
...>;

1023 
	gAùiÚ
<
R
(
ty³Çme
 
¡d
::
tu¶e_–em’t
<
I
, 
Tu¶eTy³
>::
ty³
...)>

1024 
cÚv”‹d
(
aùiÚ
);

1026  [
cÚv”‹d
](
	gArgs
... 
	g¬gs
è-> 
	gR
 {

1027  
	gcÚv”‹d
.
P”fÜm
(
¡d
::
fÜw¬d_as_tu¶e
(

1028 
¡d
::
g‘
<
I
>(¡d::
fÜw¬d_as_tu¶e
(¡d::
fÜw¬d
<
Args
>(
¬gs
)...))...));

1033 
	g‹m¶©e
 <
	gty³Çme
... 
	gAùiÚs
>

1034 
	sDoAÎAùiÚ
 {

1035 
	g´iv©e
:

1036 
‹m¶©e
 <
ty³Çme
 
T
>

1037 
usšg
 
NÚFš®Ty³
 =

1038 
ty³Çme
 
¡d
::
cÚd™iÚ®
<¡d::
is_sÿÏr
<
T
>::
v®ue
, 
	gT
, cÚ¡ T&>::
ty³
;

1040 
	g‹m¶©e
 <
ty³Çme
 
	gAùiÚT
, 
	gsize_t
... 
	gI
>

1041 
	g¡d
::
veùÜ
<
AùiÚT
> 
CÚv”t
(
IndexSequ’û
<
I
...>) const {

1042  {
AùiÚT
(
¡d
::
g‘
<
I
>(
aùiÚs
))...};

1045 
	gpublic
:

1046 
¡d
::
tu¶e
<
AùiÚs
...> 
aùiÚs
;

1048 
	g‹m¶©e
 <
ty³Çme
 
	gR
, 
	gty³Çme
... 
	gArgs
>

1049 
İ”©Ü
 
	gAùiÚ
<
R
(
Args
...)>() const {

1050 
	sOp
 {

1051 
	g¡d
::
veùÜ
<
AùiÚ
<(
NÚFš®Ty³
<
Args
>...)>> 
cÚv”‹d
;

1052 
	gAùiÚ
<
R
(
Args
...)> 
	gÏ¡
;

1053 
R
 
İ”©Ü
()(
	gArgs
... 
	g¬gs
) const {

1054 autØ
	gtu¶e_¬gs
 = 
¡d
::
fÜw¬d_as_tu¶e
(¡d::
fÜw¬d
<
Args
>(
¬gs
)...);

1055 auto& 
	ga
 : 
cÚv”‹d
) {

1056 
a
.
P”fÜm
(
tu¶e_¬gs
);

1058  
	gÏ¡
.
P”fÜm
(
¡d
::
move
(
tu¶e_¬gs
));

1061  
	gOp
{
	gCÚv”t
<
	gAùiÚ
<(
	gNÚFš®Ty³
<
	gArgs
>...)>>(

1062 
	gMakeIndexSequ’û
<...(
	gAùiÚs
) - 1>()),

1063 
	g¡d
::
g‘
<...(
AùiÚs
è- 1>(
aùiÚs
)};

1067 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gty³Çme
... 
	gP¬ams
>

1068 
	sR‘uºNewAùiÚ
 {

1069 
T
* 
İ”©Ü
()() const {

1070  
	gš‹º®
::
Aµly
(

1071 [](cÚ¡ 
P¬ams
&... 
uÅacked_·¿ms
) {

1072  
Ãw
 
T
(
uÅacked_·¿ms
...);

1074 
·¿ms
);

1076 
	g¡d
::
tu¶e
<
P¬ams
...> 
·¿ms
;

1079 
	g‹m¶©e
 <
size_t
 
	gk
>

1080 
	sR‘uºArgAùiÚ
 {

1081 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

1082 autØ
İ”©Ü
()(cÚ¡ 
	gArgs
&... 
	g¬gs
) const ->

1083 
ty³Çme
 
	g¡d
::
tu¶e_–em’t
<
k
, std::
tu¶e
<
Args
...>>::
ty³
 {

1084  
¡d
::
g‘
<
k
>(¡d::
t›
(
¬gs
...));

1088 
	g‹m¶©e
 <
size_t
 
	gk
, 
ty³Çme
 
	gPŒ
>

1089 
	sSaveArgAùiÚ
 {

1090 
PŒ
 
	gpoš‹r
;

1092 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

1093 
İ”©Ü
()(cÚ¡ 
	gArgs
&... 
	g¬gs
) const {

1094 *
	gpoš‹r
 = 
¡d
::
g‘
<
k
>(¡d::
t›
(
¬gs
...));

1098 
	g‹m¶©e
 <
size_t
 
	gk
, 
ty³Çme
 
	gPŒ
>

1099 
	sSaveArgPoš‹eAùiÚ
 {

1100 
PŒ
 
	gpoš‹r
;

1102 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

1103 
İ”©Ü
()(cÚ¡ 
	gArgs
&... 
	g¬gs
) const {

1104 *
	gpoš‹r
 = *
¡d
::
g‘
<
k
>(¡d::
t›
(
¬gs
...));

1108 
	g‹m¶©e
 <
size_t
 
	gk
, 
ty³Çme
 
	gT
>

1109 
	sS‘ArgReã»eAùiÚ
 {

1110 
T
 
	gv®ue
;

1112 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

1113 
İ”©Ü
()(
	gArgs
&&... 
	g¬gs
) const {

1114 
usšg
 
	g¬gk_ty³
 =

1115 
ty³Çme
 ::
¡d
::
tu¶e_–em’t
<
k
, 
	g¡d
::
tu¶e
<
Args
...>>::
ty³
;

1116 
¡©ic_as£¹
(
¡d
::
is_lv®ue_»ã»nû
<
¬gk_ty³
>::
v®ue
,

1118 
	g¡d
::
g‘
<
k
>(
¡d
::
t›
(
¬gs
...)èğ
v®ue
;

1122 
	g‹m¶©e
 <
size_t
 
	gk
, 
ty³Çme
 
	gI1
,y³Çm
	gI2
>

1123 
	sS‘A¼ayArgum’tAùiÚ
 {

1124 
I1
 
	gfœ¡
;

1125 
I2
 
	gÏ¡
;

1127 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

1128 
İ”©Ü
()(cÚ¡ 
	gArgs
&... 
	g¬gs
) const {

1129 autØ
	gv®ue
 = 
¡d
::
g‘
<
k
>(¡d::
t›
(
¬gs
...));

1130 autØ
	g™
 = 
fœ¡
; iˆ!ğ
Ï¡
; ++™, ()++
	gv®ue
) {

1131 *
	gv®ue
 = *
™
;

1136 
	g‹m¶©e
 <
size_t
 
	gk
>

1137 
	sD–‘eArgAùiÚ
 {

1138 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

1139 
İ”©Ü
()(cÚ¡ 
	gArgs
&... 
	g¬gs
) const {

1140 
d–‘e
 
	g¡d
::
g‘
<
k
>(
¡d
::
t›
(
¬gs
...));

1144 
	g‹m¶©e
 <
ty³Çme
 
	gPŒ
>

1145 
	sR‘uºPoš‹eAùiÚ
 {

1146 
PŒ
 
	gpoš‹r
;

1147 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

1148 autØ
İ”©Ü
()(cÚ¡ 
	gArgs
&...ècÚ¡ -> 
deşty³
(*
poš‹r
) {

1149  *
	gpoš‹r
;

1153 #ià
GTEST_HAS_EXCEPTIONS


1154 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1155 
	sThrowAùiÚ
 {

1156 
T
 
	gexû±iÚ
;

1158 
	g‹m¶©e
 <
ty³Çme
 
	gR
, 
	gty³Çme
... 
	gArgs
>

1159 
İ”©Ü
 
	gAùiÚ
<
R
(
Args
...)>() const {

1160 
T
 
	gcİy
 = 
exû±iÚ
;

1161  [
cİy
](
	gArgs
...è-> 
	gR
 { 
throw
 
	gcİy
; };

1198 
	gš‹º®
::
	tIgnÜedV®ue
 
	tUnu£d
;

1203 
	g‹m¶©e
 <
	gty³Çme
... 
	gAùiÚ
>

1204 
	gš‹º®
::
DoAÎAùiÚ
<
ty³Çme
 
¡d
::
deÿy
<
AùiÚ
>::
ty³
...> 
	$DoAÎ
(

1205 
AùiÚ
&&... 
aùiÚ
) {

1206  {
¡d
::
	`fÜw¬d_as_tu¶e
(¡d::
fÜw¬d
<
AùiÚ
>(
aùiÚ
)...)};

1207 
	}
}

1214 
	g‹m¶©e
 <
size_t
 
	gk
, 
ty³Çme
 
	gIÂ”AùiÚ
>

1215 
	gš‹º®
::
W™hArgsAùiÚ
<
ty³Çme
 
¡d
::
deÿy
<
IÂ”AùiÚ
>::
ty³
, 
	gk
>

1216 
	$W™hArg
(
IÂ”AùiÚ
&& 
aùiÚ
) {

1217  {
¡d
::
fÜw¬d
<
IÂ”AùiÚ
>(
aùiÚ
)};

1218 
	}
}

1224 
	g‹m¶©e
 <
size_t
 
	gk
, 
	gsize_t
... 
	gks
, 
ty³Çme
 
	gIÂ”AùiÚ
>

1225 
	gš‹º®
::
W™hArgsAùiÚ
<
ty³Çme
 
¡d
::
deÿy
<
IÂ”AùiÚ
>::
ty³
, 
	gk
, 
	gks
...>

1226 
	$W™hArgs
(
IÂ”AùiÚ
&& 
aùiÚ
) {

1227  {
¡d
::
fÜw¬d
<
IÂ”AùiÚ
>(
aùiÚ
)};

1228 
	}
}

1234 
	g‹m¶©e
 <
ty³Çme
 
	gIÂ”AùiÚ
>

1235 
	gš‹º®
::
W™hArgsAùiÚ
<
ty³Çme
 
¡d
::
deÿy
<
IÂ”AùiÚ
>::
ty³
>

1236 
	$W™houtArgs
(
IÂ”AùiÚ
&& 
aùiÚ
) {

1237  {
¡d
::
fÜw¬d
<
IÂ”AùiÚ
>(
aùiÚ
)};

1238 
	}
}

1243 
	g‹m¶©e
 <
ty³Çme
 
	gR
>

1244 
	gš‹º®
::
R‘uºAùiÚ
<
R
> 
	$R‘uº
(
R
 
v®ue
) {

1245  
š‹º®
::
R‘uºAùiÚ
<
R
>(
¡d
::
	`move
(
v®ue
));

1246 
	}
}

1249 
šlše
 
	gPŞymÜphicAùiÚ
<
	gš‹º®
::
R‘uºNuÎAùiÚ
> 
	$R‘uºNuÎ
() {

1250  
	`MakePŞymÜphicAùiÚ
(
š‹º®
::
	`R‘uºNuÎAùiÚ
());

1251 
	}
}

1254 
šlše
 
	gPŞymÜphicAùiÚ
<
	gš‹º®
::
R‘uºVoidAùiÚ
> 
	$R‘uº
() {

1255  
	`MakePŞymÜphicAùiÚ
(
š‹º®
::
	`R‘uºVoidAùiÚ
());

1256 
	}
}

1259 
	g‹m¶©e
 <
ty³Çme
 
	gR
>

1260 
šlše
 
	gš‹º®
::
R‘uºRefAùiÚ
<
R
> 
	$R‘uºRef
(
R
& 
x
) {

1261  
š‹º®
::
R‘uºRefAùiÚ
<
R
>(
x
);

1262 
	}
}

1265 
	g‹m¶©e
 <
ty³Çme
 
	gR
, R* = 
nuÎ±r
>

1266 
š‹º®
::
R‘uºRefAùiÚ
<
R
> 
R‘uºRef
(R&&èğ
d–‘e
;

1271 
	g‹m¶©e
 <
ty³Çme
 
	gR
>

1272 
šlše
 
	gš‹º®
::
R‘uºRefOfCİyAùiÚ
<
R
> 
	$R‘uºRefOfCİy
(cÚ¡ 
R
& 
x
) {

1273  
š‹º®
::
R‘uºRefOfCİyAùiÚ
<
R
>(
x
);

1274 
	}
}

1280 
	g‹m¶©e
 <
ty³Çme
 
	gR
>

1281 
	gš‹º®
::
ByMoveW¿µ”
<
R
> 
	$ByMove
(
R
 
x
) {

1282  
š‹º®
::
ByMoveW¿µ”
<
R
>(
¡d
::
	`move
(
x
));

1283 
	}
}

1288 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1289 
	gš‹º®
::
R‘uºRoundRobšAùiÚ
<
T
> 
R‘uºRoundRobš
(
¡d
::
veùÜ
<T> 
v®s
) {

1290  
š‹º®
::
R‘uºRoundRobšAùiÚ
<
T
>(
¡d
::
move
(
v®s
));

1296 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1297 
	gš‹º®
::
R‘uºRoundRobšAùiÚ
<
T
> 
R‘uºRoundRobš
(

1298 
¡d
::
š™Ÿliz”_li¡
<
T
> 
v®s
) {

1299  
š‹º®
::
R‘uºRoundRobšAùiÚ
<
T
>(
¡d
::
veùÜ
<T>(
v®s
));

1303 
šlše
 
	gš‹º®
::
DoDeçuÉAùiÚ
 
	$DoDeçuÉ
() {

1304  
š‹º®
::
	`DoDeçuÉAùiÚ
();

1305 
	}
}

1309 
	g‹m¶©e
 <
size_t
 
	gN
, 
ty³Çme
 
	gT
>

1310 
	gš‹º®
::
S‘Argum’tPoš‹eAùiÚ
<
N
, 
	gT
> 
	$S‘ArgPoš‹e
(
T
 
v®ue
) {

1311  {
¡d
::
	`move
(
v®ue
)};

1312 
	}
}

1315 
	g‹m¶©e
 <
size_t
 
	gN
, 
ty³Çme
 
	gT
>

1316 
	gš‹º®
::
S‘Argum’tPoš‹eAùiÚ
<
N
, 
	gT
> 
	$S‘Argum’tPoš‹e
(
T
 
v®ue
) {

1317  {
¡d
::
	`move
(
v®ue
)};

1318 
	}
}

1321 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
>

1322 
	gPŞymÜphicAùiÚ
<
	gš‹º®
::
AssignAùiÚ
<
T1
, 
	gT2
> > 
	$Assign
(
T1
* 
±r
, 
T2
 
v®
) {

1323  
	`MakePŞymÜphicAùiÚ
(
š‹º®
::
AssignAùiÚ
<
T1
, 
T2
>(
±r
, 
v®
));

1324 
	}
}

1326 #ià!
GTEST_OS_WINDOWS_MOBILE


1329 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1330 
	gPŞymÜphicAùiÚ
<
	gš‹º®
::
S‘E¼noAndR‘uºAùiÚ
<
T
> >

1331 
	$S‘E¼noAndR‘uº
(
”rv®
, 
T
 
»suÉ
) {

1332  
	`MakePŞymÜphicAùiÚ
(

1333 
š‹º®
::
S‘E¼noAndR‘uºAùiÚ
<
T
>(
”rv®
, 
»suÉ
));

1334 
	}
}

1344 
	g‹m¶©e
 <
ty³Çme
 
	gFunùiÚIm¶
>

1345 
ty³Çme
 
	g¡d
::
deÿy
<
FunùiÚIm¶
>::
ty³
 
	$Invoke
(
FunùiÚIm¶
&& 
funùiÚ_im¶
) {

1346  
¡d
::
fÜw¬d
<
FunùiÚIm¶
>(
funùiÚ_im¶
);

1347 
	}
}

1351 
	g‹m¶©e
 <
şass
 
	gCÏss
, 
ty³Çme
 
	gM‘hodPŒ
>

1352 
	gš‹º®
::
InvokeM‘hodAùiÚ
<
CÏss
, 
	gM‘hodPŒ
> 
	$Invoke
(
CÏss
* 
obj_±r
,

1353 
M‘hodPŒ
 
m‘hod_±r
) {

1354  {
obj_±r
, 
m‘hod_±r
};

1355 
	}
}

1358 
	g‹m¶©e
 <
ty³Çme
 
	gFunùiÚIm¶
>

1359 
	gš‹º®
::
InvokeW™houtArgsAùiÚ
<
ty³Çme
 
¡d
::
deÿy
<
FunùiÚIm¶
>::
ty³
>

1360 
	$InvokeW™houtArgs
(
FunùiÚIm¶
 
funùiÚ_im¶
) {

1361  {
¡d
::
	`move
(
funùiÚ_im¶
)};

1362 
	}
}

1366 
	g‹m¶©e
 <
şass
 
	gCÏss
, 
ty³Çme
 
	gM‘hodPŒ
>

1367 
	gš‹º®
::
InvokeM‘hodW™houtArgsAùiÚ
<
CÏss
, 
	gM‘hodPŒ
> 
	$InvokeW™houtArgs
(

1368 
CÏss
* 
obj_±r
, 
M‘hodPŒ
 
m‘hod_±r
) {

1369  {
obj_±r
, 
m‘hod_±r
};

1370 
	}
}

1375 
	g‹m¶©e
 <
ty³Çme
 
	gA
>

1376 
šlše
 
	gš‹º®
::
IgnÜeResuÉAùiÚ
<
A
> 
	$IgnÜeResuÉ
(cÚ¡ 
A
& 
ª_aùiÚ
) {

1377  
š‹º®
::
IgnÜeResuÉAùiÚ
<
A
>(
ª_aùiÚ
);

1378 
	}
}

1390 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1391 
	gšlše
 ::
¡d
::
»ã»nû_w¿µ”
<
T
> 
	$ByRef
(
T
& 
l_v®ue
) {

1392  ::
¡d
::
»ã»nû_w¿µ”
<
T
>(
l_v®ue
);

1393 
	}
}

1398 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gty³Çme
... 
	gP¬ams
>

1399 
	gš‹º®
::
R‘uºNewAùiÚ
<
T
, 
ty³Çme
 
	g¡d
::
deÿy
<
P¬ams
>::
ty³
...> 
	$R‘uºNew
(

1400 
P¬ams
&&... 
·¿ms
) {

1401  {
¡d
::
	`fÜw¬d_as_tu¶e
(¡d::
fÜw¬d
<
P¬ams
>(
·¿ms
)...)};

1402 
	}
}

1405 
	g‹m¶©e
 <
size_t
 
	gk
>

1406 
	gš‹º®
::
R‘uºArgAùiÚ
<
k
> 
	$R‘uºArg
() {

1408 
	}
}

1412 
	g‹m¶©e
 <
size_t
 
	gk
, 
ty³Çme
 
	gPŒ
>

1413 
	gš‹º®
::
SaveArgAùiÚ
<
k
, 
	gPŒ
> 
	$SaveArg
(
PŒ
 
poš‹r
) {

1414  {
poš‹r
};

1415 
	}
}

1419 
	g‹m¶©e
 <
size_t
 
	gk
, 
ty³Çme
 
	gPŒ
>

1420 
	gš‹º®
::
SaveArgPoš‹eAùiÚ
<
k
, 
	gPŒ
> 
	$SaveArgPoš‹e
(
PŒ
 
poš‹r
) {

1421  {
poš‹r
};

1422 
	}
}

1426 
	g‹m¶©e
 <
size_t
 
	gk
, 
ty³Çme
 
	gT
>

1427 
	gš‹º®
::
S‘ArgReã»eAùiÚ
<
k
, 
ty³Çme
 
	g¡d
::
deÿy
<
T
>::
ty³
> 
	$S‘ArgReã»e
(

1428 
T
&& 
v®ue
) {

1429  {
¡d
::
fÜw¬d
<
T
>(
v®ue
)};

1430 
	}
}

1437 
	g‹m¶©e
 <
size_t
 
	gk
, 
ty³Çme
 
	gI1
,y³Çm
	gI2
>

1438 
	gš‹º®
::
S‘A¼ayArgum’tAùiÚ
<
k
, 
	gI1
, 
	gI2
> 
	$S‘A¼ayArgum’t
(
I1
 
fœ¡
,

1439 
I2
 
Ï¡
) {

1440  {
fœ¡
, 
Ï¡
};

1441 
	}
}

1445 
	g‹m¶©e
 <
size_t
 
	gk
>

1446 
	gš‹º®
::
D–‘eArgAùiÚ
<
k
> 
	$D–‘eArg
() {

1448 
	}
}

1451 
	g‹m¶©e
 <
ty³Çme
 
	gPŒ
>

1452 
	gš‹º®
::
R‘uºPoš‹eAùiÚ
<
PŒ
> 
	$R‘uºPoš‹e
(
PŒ
 
poš‹r
) {

1453  {
poš‹r
};

1454 
	}
}

1458 #ià
GTEST_HAS_EXCEPTIONS


1459 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1460 
	gš‹º®
::
ThrowAùiÚ
<
ty³Çme
 
¡d
::
deÿy
<
T
>::
ty³
> 
	$Throw
(
T
&& 
exû±iÚ
) {

1461  {
¡d
::
fÜw¬d
<
T
>(
exû±iÚ
)};

1462 
	}
}

1465 
Çme¥aû
 
	gš‹º®
 {

1481 
	sExûssiveArg
 {};

1485 
	g‹m¶©e
 <
ty³Çme
 
	gF
,y³Çm
	gIm¶
> 
	gAùiÚIm¶
;

1487 
	g‹m¶©e
 <
ty³Çme
 
	gIm¶
>

1488 
	sIm¶Ba£
 {

1489 
	sHŞd”
 {

1491 
ex¶ic™
 
İ”©Ü
 cÚ¡ 
	gIm¶
&(ècÚ¡ {  *
	g±r
; }

1492 
	g¡d
::
sh¬ed_±r
<
Im¶
> 
±r
;

1494 
usšg
 
	gty³
 = 
ty³Çme
 
¡d
::
cÚd™iÚ®
<¡d::
is_cÚ¡ruùibË
<
Im¶
>::
v®ue
,

1495 
	gIm¶
, 
	gHŞd”
>::
ty³
;

1498 
	g‹m¶©e
 <
ty³Çme
 
	gR
, 
	gty³Çme
... 
	gArgs
,y³Çm
	gIm¶
>

1499 
	gAùiÚIm¶
<
R
(
Args
...), 
	gIm¶
> : 
Im¶Ba£
<
Im¶
>::
ty³
 {

1500 
usšg
 
Ba£
 = 
ty³Çme
 
Im¶Ba£
<
Im¶
>::
ty³
;

1501 
usšg
 
	gfunùiÚ_ty³
 = 
R
(
Args
...);

1502 
usšg
 
	g¬gs_ty³
 = 
¡d
::
tu¶e
<
Args
...>;

1504 
AùiÚIm¶
() = ;

1505 
ex¶ic™
 
AùiÚIm¶
(
¡d
::
sh¬ed_±r
<
Im¶
> 
im¶
è: 
Ba£
{¡d::
move
(impl)} { }

1507 
R
 
İ”©Ü
()(
Args
&&... 
¬g
) const {

1508 
cÚ¡ex´
 
size_t
 
kMaxArgs
 =

1509 ...(
Args
) <= 10 ? ...(Args) : 10;

1510  
Aµly
(
MakeIndexSequ’û
<
kMaxArgs
>{},

1511 
MakeIndexSequ’û
<10 - 
kMaxArgs
>{},

1512 
¬gs_ty³
{
¡d
::
fÜw¬d
<
Args
>(
¬g
)...});

1515 
	g‹m¶©e
 <
	g¡d
::
size_t
... 
¬g_id
, std::size_t... 
exûss_id
>

1516 
R
 
Aµly
(
IndexSequ’û
<
¬g_id
...>, IndexSequ’û<
exûss_id
...>,

1517 cÚ¡ 
¬gs_ty³
& 
¬gs
) const {

1523 
cÚ¡ex´
 
ExûssiveArg
 
	gkExûssArg
{};

1524  
	g¡©ic_ÿ¡
<cÚ¡ 
	gIm¶
&>(*
	gthis
).
‹m¶©e
 
	ggmock_P”fÜmIm¶
<

1525  
	gfunùiÚ_ty³
, 
	gR
,

1526  
	g¬gs_ty³
,

1527  
ty³Çme
 
	g¡d
::
tu¶e_–em’t
<
¬g_id
, 
	g¬gs_ty³
>::
ty³
...>(

1528  
¬gs
, 
	g¡d
::
g‘
<
¬g_id
>(args)...,

1529 (()
	gexûss_id
, 
	gkExûssArg
)...);

1535 
	g‹m¶©e
 <
ty³Çme
 
	gF
,y³Çm
	gIm¶
>

1536 ::
‹¡šg
::
AùiÚ
<
F
> 
MakeAùiÚ
() {

1537  ::
‹¡šg
::
AùiÚ
<
F
>(
AùiÚIm¶
<F, 
	gIm¶
>());

1541 
	g‹m¶©e
 <
ty³Çme
 
	gF
,y³Çm
	gIm¶
>

1542 ::
‹¡šg
::
AùiÚ
<
F
> 
MakeAùiÚ
(
¡d
::
sh¬ed_±r
<
Im¶
> 
im¶
) {

1543  ::
‹¡šg
::
AùiÚ
<
F
>(
AùiÚIm¶
<F, 
	gIm¶
>(
	g¡d
::
move
(
im¶
)));

1546 
	#GMOCK_INTERNAL_ARG_UNUSED
(
i
, 
d©a
, 
–
) \

1547 , cÚ¡ 
¬g
##
i
##
_ty³
&‡rg##˜
GTEST_ATTRIBUTE_UNUSED_


	)

1548 
	#GMOCK_ACTION_ARG_TYPES_AND_NAMES_UNUSED_
 \

1549 cÚ¡ 
¬gs_ty³
& 
¬gs
 
GTEST_ATTRIBUTE_UNUSED_
 
	`GMOCK_PP_REPEAT
( \

1550 
GMOCK_INTERNAL_ARG_UNUSED
, , 10)

	)

1552 
	#GMOCK_INTERNAL_ARG
(
i
, 
d©a
, 
–
è, cÚ¡ 
¬g
##i##
_ty³
&‡rg##
	)
i

1553 
	#GMOCK_ACTION_ARG_TYPES_AND_NAMES_
 \

1554 cÚ¡ 
¬gs_ty³
& 
¬gs
 
	`GMOCK_PP_REPEAT
(
GMOCK_INTERNAL_ARG
, , 10)

	)

1556 
	#GMOCK_INTERNAL_TEMPLATE_ARG
(
i
, 
d©a
, 
–
è, 
ty³Çme
 
¬g
##i##
_ty³


	)

1557 
	#GMOCK_ACTION_TEMPLATE_ARGS_NAMES_
 \

1558 
	`GMOCK_PP_TAIL
(
	`GMOCK_PP_REPEAT
(
GMOCK_INTERNAL_TEMPLATE_ARG
, , 10))

	)

1560 
	#GMOCK_INTERNAL_TYPENAME_PARAM
(
i
, 
d©a
, 
·¿m
è, 
ty³Çme
…¬am##
_ty³


	)

1561 
	#GMOCK_ACTION_TYPENAME_PARAMS_
(
·¿ms
) \

1562 
	`GMOCK_PP_TAIL
(
	`GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_TYPENAME_PARAM
, , 
·¿ms
))

	)

1564 
	#GMOCK_INTERNAL_TYPE_PARAM
(
i
, 
d©a
, 
·¿m
è,…¬am##
_ty³


	)

1565 
	#GMOCK_ACTION_TYPE_PARAMS_
(
·¿ms
) \

1566 
	`GMOCK_PP_TAIL
(
	`GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_TYPE_PARAM
, , 
·¿ms
))

	)

1568 
	#GMOCK_INTERNAL_TYPE_GVALUE_PARAM
(
i
, 
d©a
, 
·¿m
) \

1569 , 
·¿m
##
_ty³
 
gmock_p
##
i


	)

1570 
	#GMOCK_ACTION_TYPE_GVALUE_PARAMS_
(
·¿ms
) \

1571 
	`GMOCK_PP_TAIL
(
	`GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_TYPE_GVALUE_PARAM
, , 
·¿ms
))

	)

1573 
	#GMOCK_INTERNAL_GVALUE_PARAM
(
i
, 
d©a
, 
·¿m
) \

1574 , 
¡d
::
fÜw¬d
<
·¿m
##
_ty³
>(
gmock_p
##
i
)

	)

1575 
	#GMOCK_ACTION_GVALUE_PARAMS_
(
·¿ms
) \

1576 
	`GMOCK_PP_TAIL
(
	`GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_GVALUE_PARAM
, , 
·¿ms
))

	)

1578 
	#GMOCK_INTERNAL_INIT_PARAM
(
i
, 
d©a
, 
·¿m
) \

1579 , 
	`·¿m
(::
¡d
::
fÜw¬d
<
·¿m
##
_ty³
>(
gmock_p
##
i
))

	)

1580 
	#GMOCK_ACTION_INIT_PARAMS_
(
·¿ms
) \

1581 
	`GMOCK_PP_TAIL
(
	`GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_INIT_PARAM
, , 
·¿ms
))

	)

1583 
	#GMOCK_INTERNAL_FIELD_PARAM
(
i
, 
d©a
, 
·¿m
è·¿m##
_ty³
…¬am;

	)

1584 
	#GMOCK_ACTION_FIELD_PARAMS_
(
·¿ms
) \

1585 
	`GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_FIELD_PARAM
, , 
·¿ms
)

	)

1587 
	#GMOCK_INTERNAL_ACTION
(
Çme
, 
fuÎ_Çme
, 
·¿ms
) \

1588 
‹m¶©e
 <
	`GMOCK_ACTION_TYPENAME_PARAMS_
(
·¿ms
)> \

1589 şas 
	cfuÎ_Çme
 { \

1590 
public
: \

1591 
ex¶ic™
 
	`fuÎ_Çme
(
	`GMOCK_ACTION_TYPE_GVALUE_PARAMS_
(
·¿ms
)) \

1592 : 
	`im¶_
(
¡d
::
make_sh¬ed
<
gmock_Im¶
>( \

1593 
	`GMOCK_ACTION_GVALUE_PARAMS_
(
·¿ms
))) { } \

1594 
	`fuÎ_Çme
(cÚ¡ 
fuÎ_Çme
&) = ; \

1595 
	`fuÎ_Çme
(
fuÎ_Çme
&&è
nÛxû±
 = ; \

1596 
‹m¶©e
 <
ty³Çme
 
F
> \

1597 
İ”©Ü
 ::
‹¡šg
::
AùiÚ
<
F
>() const { \

1598  ::
‹¡šg
::
š‹º®
::
MakeAùiÚ
<
F
>(
im¶_
); \

1600 
´iv©e
: \

1601 şas 
	cgmock_Im¶
 { \

1602 
public
: \

1603 
ex¶ic™
 
	`gmock_Im¶
(
	`GMOCK_ACTION_TYPE_GVALUE_PARAMS_
(
·¿ms
)) \

1604 : 
	`GMOCK_ACTION_INIT_PARAMS_
(
·¿ms
) {} \

1605 
‹m¶©e
 <
ty³Çme
 
funùiÚ_ty³
,y³Çm
»tuº_ty³
, \

1606 
ty³Çme
 
¬gs_ty³
, 
GMOCK_ACTION_TEMPLATE_ARGS_NAMES_
> \

1607 
»tuº_ty³
 
	`gmock_P”fÜmIm¶
(
GMOCK_ACTION_ARG_TYPES_AND_NAMES_
) const; \

1608 
	`GMOCK_ACTION_FIELD_PARAMS_
(
·¿ms
) \

1610 
¡d
::
sh¬ed_±r
<cÚ¡ 
gmock_Im¶
> 
im¶_
; \

1612 
‹m¶©e
 <
	`GMOCK_ACTION_TYPENAME_PARAMS_
(
·¿ms
)> \

1613 
šlše
 
fuÎ_Çme
<
	`GMOCK_ACTION_TYPE_PARAMS_
(
·¿ms
)> 
	`Çme
( \

1614 
	`GMOCK_ACTION_TYPE_GVALUE_PARAMS_
(
·¿ms
)) { \

1615  
fuÎ_Çme
<
	`GMOCK_ACTION_TYPE_PARAMS_
(
·¿ms
)>( \

1616 
	`GMOCK_ACTION_GVALUE_PARAMS_
(
·¿ms
)); \

1618 
‹m¶©e
 <
	`GMOCK_ACTION_TYPENAME_PARAMS_
(
·¿ms
)> \

1619 
‹m¶©e
 <
ty³Çme
 
funùiÚ_ty³
,y³Çm
»tuº_ty³
,y³Çm
¬gs_ty³
, \

1620 
GMOCK_ACTION_TEMPLATE_ARGS_NAMES_
> \

1621 
»tuº_ty³
 
fuÎ_Çme
<
	`GMOCK_ACTION_TYPE_PARAMS_
(
·¿ms
)>::
gmock_Im¶
:: \

1622 
	`gmock_P”fÜmIm¶
(
GMOCK_ACTION_ARG_TYPES_AND_NAMES_UNUSED_
ècÚ¡

	)

1627 
	#ACTION
(
Çme
) \

1628 
şass
 
Çme
##
AùiÚ
 { \

1629 
public
: \

1630 
ex¶ic™
 
Çme
##
	`AùiÚ
(è
nÛxû±
 {} \

1631 
Çme
##
	`AùiÚ
(cÚ¡‚ame##
AùiÚ
&è
nÛxû±
 {} \

1632 
‹m¶©e
 <
ty³Çme
 
F
> \

1633 
İ”©Ü
 ::
‹¡šg
::
AùiÚ
<
F
>() const { \

1634  ::
‹¡šg
::
š‹º®
::
MakeAùiÚ
<
F
, 
gmock_Im¶
>(); \

1636 
´iv©e
: \

1637 şas 
	cgmock_Im¶
 { \

1638 
public
: \

1639 
‹m¶©e
 <
ty³Çme
 
funùiÚ_ty³
,y³Çm
»tuº_ty³
, \

1640 
ty³Çme
 
¬gs_ty³
, 
GMOCK_ACTION_TEMPLATE_ARGS_NAMES_
> \

1641 
»tuº_ty³
 
	`gmock_P”fÜmIm¶
(
GMOCK_ACTION_ARG_TYPES_AND_NAMES_
) const; \

1644 
šlše
 
Çme
##
AùiÚ
 
	$Çme
(è
GTEST_MUST_USE_RESULT_
; \

1645 
šlše
 
Çme
##
AùiÚ
 
	$Çme
(è{  
Çme
##
	`AùiÚ
(); 
	}
} \

1646 
‹m¶©e
 <
ty³Çme
 
funùiÚ_ty³
,y³Çm
»tuº_ty³
,y³Çm
¬gs_ty³
, \

1647 
GMOCK_ACTION_TEMPLATE_ARGS_NAMES_
> \

1648 
»tuº_ty³
 
Çme
##
AùiÚ
::
gmock_Im¶
::
	`gmock_P”fÜmIm¶
( \

1649 
GMOCK_ACTION_ARG_TYPES_AND_NAMES_UNUSED_
ècÚ¡

	)

1651 
	#ACTION_P
(
Çme
, ...) \

1652 
	`GMOCK_INTERNAL_ACTION
(
Çme
,‚ame##
AùiÚP
, (
__VA_ARGS__
))

	)

1654 
	#ACTION_P2
(
Çme
, ...) \

1655 
	`GMOCK_INTERNAL_ACTION
(
Çme
,‚ame##
AùiÚP2
, (
__VA_ARGS__
))

	)

1657 
	#ACTION_P3
(
Çme
, ...) \

1658 
	`GMOCK_INTERNAL_ACTION
(
Çme
,‚ame##
AùiÚP3
, (
__VA_ARGS__
))

	)

1660 
	#ACTION_P4
(
Çme
, ...) \

1661 
	`GMOCK_INTERNAL_ACTION
(
Çme
,‚ame##
AùiÚP4
, (
__VA_ARGS__
))

	)

1663 
	#ACTION_P5
(
Çme
, ...) \

1664 
	`GMOCK_INTERNAL_ACTION
(
Çme
,‚ame##
AùiÚP5
, (
__VA_ARGS__
))

	)

1666 
	#ACTION_P6
(
Çme
, ...) \

1667 
	`GMOCK_INTERNAL_ACTION
(
Çme
,‚ame##
AùiÚP6
, (
__VA_ARGS__
))

	)

1669 
	#ACTION_P7
(
Çme
, ...) \

1670 
	`GMOCK_INTERNAL_ACTION
(
Çme
,‚ame##
AùiÚP7
, (
__VA_ARGS__
))

	)

1672 
	#ACTION_P8
(
Çme
, ...) \

1673 
	`GMOCK_INTERNAL_ACTION
(
Çme
,‚ame##
AùiÚP8
, (
__VA_ARGS__
))

	)

1675 
	#ACTION_P9
(
Çme
, ...) \

1676 
	`GMOCK_INTERNAL_ACTION
(
Çme
,‚ame##
AùiÚP9
, (
__VA_ARGS__
))

	)

1678 
	#ACTION_P10
(
Çme
, ...) \

1679 
	`GMOCK_INTERNAL_ACTION
(
Çme
,‚ame##
AùiÚP10
, (
__VA_ARGS__
))

	)

1683 #ifdeà
_MSC_VER


1684 #´agm¨
w¬nšg
(
pİ
)

	@/usr/include/gmock/gmock-cardinalities.h

39 #iâdeà
GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_CARDINALITIES_H_


40 
	#GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_CARDINALITIES_H_


	)

42 
	~<lim™s.h
>

43 
	~<memÜy
>

44 
	~<o¡»am
>

45 
	~"gmock/š‹º®/gmock-pÜt.h
"

46 
	~"g‹¡/g‹¡.h
"

48 
GTEST_DISABLE_MSC_WARNINGS_PUSH_
(4251 \

51 
Çme¥aû
 
	g‹¡šg
 {

64 şas 
	cC¬dš®™yIÁ”çû
 {

65 
	gpublic
:

66 
vœtu®
 ~
C¬dš®™yIÁ”çû
() {}

70 
vœtu®
 
CÚ£rv©iveLow”Bound
() const {  0; }

71 
vœtu®
 
CÚ£rv©iveUµ”Bound
(ècÚ¡ {  
	gINT_MAX
; }

75 
vœtu®
 
boŞ
 
IsS©isf›dByC®lCouÁ
(
ÿÎ_couÁ
) const = 0;

79 
vœtu®
 
boŞ
 
IsS©u¿‹dByC®lCouÁ
(
ÿÎ_couÁ
) const = 0;

82 
vœtu®
 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
) const = 0;

89 şas 
	cGTEST_API_
 
	gC¬dš®™y
 {

90 
	gpublic
:

93 
C¬dš®™y
() {}

96 
ex¶ic™
 
C¬dš®™y
(cÚ¡ 
C¬dš®™yIÁ”çû
* 
im¶
è: 
im¶_
(impl) {}

100 
CÚ£rv©iveLow”Bound
(ècÚ¡ {  
im¶_
->ConservativeLowerBound(); }

101 
CÚ£rv©iveUµ”Bound
(ècÚ¡ {  
	gim¶_
->ConservativeUpperBound(); }

105 
boŞ
 
IsS©isf›dByC®lCouÁ
(
ÿÎ_couÁ
) const {

106  
	gim¶_
->
IsS©isf›dByC®lCouÁ
(
ÿÎ_couÁ
);

111 
boŞ
 
IsS©u¿‹dByC®lCouÁ
(
ÿÎ_couÁ
) const {

112  
	gim¶_
->
IsS©u¿‹dByC®lCouÁ
(
ÿÎ_couÁ
);

117 
boŞ
 
IsOv”S©u¿‹dByC®lCouÁ
(
ÿÎ_couÁ
) const {

118  
	gim¶_
->
IsS©u¿‹dByC®lCouÁ
(
ÿÎ_couÁ
) &&

119 !
	gim¶_
->
IsS©isf›dByC®lCouÁ
(
ÿÎ_couÁ
);

123 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ { 
im¶_
->DescribeTo(os); }

126 
DesüibeAùu®C®lCouÁTo
(
aùu®_ÿÎ_couÁ
,

127 ::
¡d
::
o¡»am
* 
os
);

129 
	g´iv©e
:

130 
¡d
::
sh¬ed_±r
<cÚ¡ 
C¬dš®™yIÁ”çû
> 
im¶_
;

134 
GTEST_API_
 
C¬dš®™y
 
AtL—¡
(
n
);

137 
GTEST_API_
 
C¬dš®™y
 
AtMo¡
(
n
);

140 
GTEST_API_
 
C¬dš®™y
 
AnyNumb”
();

143 
GTEST_API_
 
C¬dš®™y
 
B‘w“n
(
mš
, 
max
);

146 
GTEST_API_
 
C¬dš®™y
 
Exaùly
(
n
);

149 
šlše
 
C¬dš®™y
 
	$MakeC¬dš®™y
(cÚ¡ 
C¬dš®™yIÁ”çû
* 
c
) {

150  
	`C¬dš®™y
(
c
);

151 
	}
}

155 
	$GTEST_DISABLE_MSC_WARNINGS_POP_
()

	@/usr/include/gmock/gmock-function-mocker.h

36 #iâdeà
GOOGLEMOCK_INCLUDE_GMOCK_INTERNAL_GMOCK_FUNCTION_MOCKER_H_


37 
	#GOOGLEMOCK_INCLUDE_GMOCK_INTERNAL_GMOCK_FUNCTION_MOCKER_H_


38 

	)

39 
	~<ty³_Œa™s
>

40 
	~<ut™y
>

42 
	~"gmock/gmock-¥ec-bud”s.h
"

43 
	~"gmock/š‹º®/gmock-š‹º®-uts.h
"

44 
	~"gmock/š‹º®/gmock-µ.h
"

46 
Çme¥aû
 
	g‹¡šg
 {

47 
Çme¥aû
 
	gš‹º®
 {

48 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

49 
usšg
 
	gid’t™y_t
 = 
T
;

51 
	g‹m¶©e
 <
ty³Çme
 
	gP©‹º
>

52 
	sThisRefAdju¡”
 {

53 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

54 
usšg
 
	gAdju¡T
 = 
ty³Çme
 
¡d
::
cÚd™iÚ®
<

55 
¡d
::
is_cÚ¡
<
ty³Çme
 std::
»move_»ã»nû
<
P©‹º
>::
ty³
>::
v®ue
,

56 
ty³Çme
 
	g¡d
::
cÚd™iÚ®
<
¡d
::
is_lv®ue_»ã»nû
<
P©‹º
>::
v®ue
,

57 cÚ¡ 
	gT
&, cÚ¡ T&&>::
ty³
,

58 
ty³Çme
 
	g¡d
::
cÚd™iÚ®
<
¡d
::
is_lv®ue_»ã»nû
<
P©‹º
>::
v®ue
, 
	gT
&,

59 
	gT
&&>::
ty³
>::type;

61 
	g‹m¶©e
 <
ty³Çme
 
	gMockTy³
>

62 
	gAdju¡T
<
	gMockTy³
> 
Adju¡
(cÚ¡ 
MockTy³
& 
mock
) {

63  
	g¡©ic_ÿ¡
<
	gAdju¡T
<
	gMockTy³
>>(
	gcÚ¡_ÿ¡
<MockTy³&>(
	gmock
));

74 
usšg
 
	gš‹º®
::
FunùiÚMock”
;

77 
	#MOCK_METHOD
(...) \

78 
	`GMOCK_PP_VARIADIC_CALL
(
GMOCK_INTERNAL_MOCK_METHOD_ARG_
, 
__VA_ARGS__
)

	)

80 
	#GMOCK_INTERNAL_MOCK_METHOD_ARG_1
(...) \

81 
	`GMOCK_INTERNAL_WRONG_ARITY
(
__VA_ARGS__
)

	)

83 
	#GMOCK_INTERNAL_MOCK_METHOD_ARG_2
(...) \

84 
	`GMOCK_INTERNAL_WRONG_ARITY
(
__VA_ARGS__
)

	)

86 
	#GMOCK_INTERNAL_MOCK_METHOD_ARG_3
(
_R‘
, 
_M‘hodName
, 
_Args
) \

87 
	`GMOCK_INTERNAL_MOCK_METHOD_ARG_4
(
_R‘
, 
_M‘hodName
, 
_Args
, ())

	)

89 
	#GMOCK_INTERNAL_MOCK_METHOD_ARG_4
(
_R‘
, 
_M‘hodName
, 
_Args
, 
_S³c
) \

90 
	`GMOCK_INTERNAL_ASSERT_PARENTHESIS
(
_Args
); \

91 
	`GMOCK_INTERNAL_ASSERT_PARENTHESIS
(
_S³c
); \

92 
	`GMOCK_INTERNAL_ASSERT_VALID_SIGNATURE
( \

93 
GMOCK_PP_NARG0
 
_Args
, 
	`GMOCK_INTERNAL_SIGNATURE
(
_R‘
, _Args)); \

94 
	`GMOCK_INTERNAL_ASSERT_VALID_SPEC
(
_S³c
) \

95 
	`GMOCK_INTERNAL_MOCK_METHOD_IMPL
( \

96 
GMOCK_PP_NARG0
 
_Args
, 
_M‘hodName
, 
	`GMOCK_INTERNAL_HAS_CONST
(
_S³c
), \

97 
	`GMOCK_INTERNAL_HAS_OVERRIDE
(
_S³c
), 
	`GMOCK_INTERNAL_HAS_FINAL
(_Spec), \

98 
	`GMOCK_INTERNAL_GET_NOEXCEPT_SPEC
(
_S³c
), \

99 
	`GMOCK_INTERNAL_GET_CALLTYPE
(
_S³c
), 
	`GMOCK_INTERNAL_GET_REF_SPEC
(_Spec), \

100 (
	`GMOCK_INTERNAL_SIGNATURE
(
_R‘
, 
_Args
)))

	)

102 
	#GMOCK_INTERNAL_MOCK_METHOD_ARG_5
(...) \

103 
	`GMOCK_INTERNAL_WRONG_ARITY
(
__VA_ARGS__
)

	)

105 
	#GMOCK_INTERNAL_MOCK_METHOD_ARG_6
(...) \

106 
	`GMOCK_INTERNAL_WRONG_ARITY
(
__VA_ARGS__
)

	)

108 
	#GMOCK_INTERNAL_MOCK_METHOD_ARG_7
(...) \

109 
	`GMOCK_INTERNAL_WRONG_ARITY
(
__VA_ARGS__
)

	)

111 
	#GMOCK_INTERNAL_WRONG_ARITY
(...) \

112 
	`¡©ic_as£¹
( \

113 
çl£
, \

117 "™ mu¡‡lsØb’şo£d iÀ·»Áhe£s.")

	)

119 
	#GMOCK_INTERNAL_ASSERT_PARENTHESIS
(
_Tu¶e
) \

120 
	`¡©ic_as£¹
( \

121 
	`GMOCK_PP_IS_ENCLOSED_PARENS
(
_Tu¶e
), \

122 
	`GMOCK_PP_STRINGIZE
(
_Tu¶e
è" should b’şo£d iÀ·»Áhe£s.")

	)

124 
	#GMOCK_INTERNAL_ASSERT_VALID_SIGNATURE
(
_N
, ...) \

125 
	`¡©ic_as£¹
( \

126 
¡d
::
is_funùiÚ
<
__VA_ARGS__
>::
v®ue
, \

129 
	`¡©ic_as£¹
( \

130 ::
‹¡šg
::
tu¶e_size
<
ty³Çme
 ::‹¡šg::
š‹º®
::
FunùiÚ
< \

131 
__VA_ARGS__
>::
Argum’tTu¶e
>::
v®ue
 =ğ
_N
, \

132 "Thi m‘hod dÛ nÙak" 
	`GMOCK_PP_STRINGIZE
( \

133 
_N
è"‡rgum’ts. P¬’thesiz®Èty³ w™h uÅrÙeùed commas.")

	)

135 
	#GMOCK_INTERNAL_ASSERT_VALID_SPEC
(
_S³c
) \

136 
	`GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_ASSERT_VALID_SPEC_ELEMENT
, ~, 
_S³c
)

	)

138 
	#GMOCK_INTERNAL_MOCK_METHOD_IMPL
(
_N
, 
_M‘hodName
, 
_CÚ¡Ãss
, \

139 
_Ov”ride
, 
_Fš®
, 
_NÛxû±S³c
, \

140 
_C®lTy³
, 
_RefS³c
, 
_SigÇtu»
) \

141 
ty³Çme
 ::
‹¡šg
::
š‹º®
::
FunùiÚ
<
	`GMOCK_PP_REMOVE_PARENS
( \

142 
_SigÇtu»
)>::
ResuÉ
 \

143 
	`GMOCK_INTERNAL_EXPAND
(
_C®lTy³
) \

144 
	`_M‘hodName
(
	`GMOCK_PP_REPEAT
(
GMOCK_INTERNAL_PARAMETER
, 
_SigÇtu»
, 
_N
)) \

145 
	`GMOCK_PP_IF
(
_CÚ¡Ãss
, cÚ¡, ) 
_RefS³c
 
_NÛxû±S³c
 \

146 
	`GMOCK_PP_IF
(
_Ov”ride
, 
ov”ride
, ) GMOCK_PP_IF(
_Fš®
, 
fš®
, ) { \

147 
	`GMOCK_MOCKER_
(
_N
, 
_CÚ¡Ãss
, 
_M‘hodName
) \

148 .
	`S‘OwÃrAndName
(
this
, #_MethodName); \

149  
	`GMOCK_MOCKER_
(
_N
, 
_CÚ¡Ãss
, 
_M‘hodName
) \

150 .
	`Invoke
(
	`GMOCK_PP_REPEAT
(
GMOCK_INTERNAL_FORWARD_ARG
, 
_SigÇtu»
, 
_N
)); \

152 ::
‹¡šg
::
MockS³c
<
	`GMOCK_PP_REMOVE_PARENS
(
_SigÇtu»
)> 
gmock_
##
	`_M‘hodName
( \

153 
	`GMOCK_PP_REPEAT
(
GMOCK_INTERNAL_MATCHER_PARAMETER
, 
_SigÇtu»
, 
_N
)) \

154 
	`GMOCK_PP_IF
(
_CÚ¡Ãss
, cÚ¡, ) 
_RefS³c
 { \

155 
	`GMOCK_MOCKER_
(
_N
, 
_CÚ¡Ãss
, 
_M‘hodName
).
	`Regi¡”OwÃr
(
this
); \

156  
	`GMOCK_MOCKER_
(
_N
, 
_CÚ¡Ãss
, 
_M‘hodName
) \

157 .
	`W™h
(
	`GMOCK_PP_REPEAT
(
GMOCK_INTERNAL_MATCHER_ARGUMENT
, , 
_N
)); \

159 ::
‹¡šg
::
MockS³c
<
	`GMOCK_PP_REMOVE_PARENS
(
_SigÇtu»
)> 
gmock_
##
	`_M‘hodName
( \

160 cÚ¡ ::
‹¡šg
::
š‹º®
::
W™houtM©ch”s
&, \

161 
	`GMOCK_PP_IF
(
_CÚ¡Ãss
, cÚ¡, )::
‹¡šg
::
š‹º®
::
FunùiÚ
< \

162 
	`GMOCK_PP_REMOVE_PARENS
(
_SigÇtu»
)>*ècÚ¡ 
_RefS³c
 
_NÛxû±S³c
 { \

163  ::
‹¡šg
::
š‹º®
::
ThisRefAdju¡”
<
	`GMOCK_PP_IF
( \

164 
_CÚ¡Ãss
, cÚ¡, ) 
_RefS³c
>::
	`Adju¡
(*
this
) \

165 .
gmock_
##
	`_M‘hodName
(
	`GMOCK_PP_REPEAT
( \

166 
GMOCK_INTERNAL_A_MATCHER_ARGUMENT
, 
_SigÇtu»
, 
_N
)); \

168 
mubË
 ::
‹¡šg
::
FunùiÚMock”
<
	`GMOCK_PP_REMOVE_PARENS
(
_SigÇtu»
)> \

169 
	`GMOCK_MOCKER_
(
_N
, 
_CÚ¡Ãss
, 
_M‘hodName
)

	)

171 
	#GMOCK_INTERNAL_EXPAND
(...è
__VA_ARGS__


	)

174 
	#GMOCK_INTERNAL_HAS_CONST
(
_Tu¶e
) \

175 
	`GMOCK_PP_HAS_COMMA
(
	`GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_DETECT_CONST
, ~, 
_Tu¶e
))

	)

177 
	#GMOCK_INTERNAL_HAS_OVERRIDE
(
_Tu¶e
) \

178 
	`GMOCK_PP_HAS_COMMA
( \

179 
	`GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_DETECT_OVERRIDE
, ~, 
_Tu¶e
))

	)

181 
	#GMOCK_INTERNAL_HAS_FINAL
(
_Tu¶e
) \

182 
	`GMOCK_PP_HAS_COMMA
(
	`GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_DETECT_FINAL
, ~, 
_Tu¶e
))

	)

184 
	#GMOCK_INTERNAL_GET_NOEXCEPT_SPEC
(
_Tu¶e
) \

185 
	`GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_NOEXCEPT_SPEC_IF_NOEXCEPT
, ~, 
_Tu¶e
)

	)

187 
	#GMOCK_INTERNAL_NOEXCEPT_SPEC_IF_NOEXCEPT
(
_i
, 
_
, 
_–em
) \

188 
	`GMOCK_PP_IF
( \

189 
	`GMOCK_PP_HAS_COMMA
(
	`GMOCK_INTERNAL_DETECT_NOEXCEPT
(
_i
, 
_
, 
_–em
)), \

190 
_–em
, )

	)

192 
	#GMOCK_INTERNAL_GET_REF_SPEC
(
_Tu¶e
) \

193 
	`GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_REF_SPEC_IF_REF
, ~, 
_Tu¶e
)

	)

195 
	#GMOCK_INTERNAL_REF_SPEC_IF_REF
(
_i
, 
_
, 
_–em
) \

196 
	`GMOCK_PP_IF
(
	`GMOCK_PP_HAS_COMMA
(
	`GMOCK_INTERNAL_DETECT_REF
(
_i
, 
_
, 
_–em
)), \

197 
	`GMOCK_PP_CAT
(
GMOCK_INTERNAL_UNPACK_
, 
_–em
), )

	)

199 
	#GMOCK_INTERNAL_GET_CALLTYPE
(
_Tu¶e
) \

200 
	`GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_GET_CALLTYPE_IMPL
, ~, 
_Tu¶e
)

	)

202 
	#GMOCK_INTERNAL_ASSERT_VALID_SPEC_ELEMENT
(
_i
, 
_
, 
_–em
) \

203 
	`¡©ic_as£¹
( \

204 (
	`GMOCK_PP_HAS_COMMA
(
	`GMOCK_INTERNAL_DETECT_CONST
(
_i
, 
_
, 
_–em
)) + \

205 
	`GMOCK_PP_HAS_COMMA
(
	`GMOCK_INTERNAL_DETECT_OVERRIDE
(
_i
, 
_
, 
_–em
)) + \

206 
	`GMOCK_PP_HAS_COMMA
(
	`GMOCK_INTERNAL_DETECT_FINAL
(
_i
, 
_
, 
_–em
)) + \

207 
	`GMOCK_PP_HAS_COMMA
(
	`GMOCK_INTERNAL_DETECT_NOEXCEPT
(
_i
, 
_
, 
_–em
)) + \

208 
	`GMOCK_PP_HAS_COMMA
(
	`GMOCK_INTERNAL_DETECT_REF
(
_i
, 
_
, 
_–em
)) + \

209 
	`GMOCK_INTERNAL_IS_CALLTYPE
(
_–em
)) == 1, \

210 
	`GMOCK_PP_STRINGIZE
( \

211 
_–em
è" cªnÙ b»cognized‡ ¨v®id s³cifiÿtiÚ modif›r.");

	)

214 
	#GMOCK_INTERNAL_DETECT_CONST
(
_i
, 
_
, 
_–em
) \

215 
	`GMOCK_PP_CAT
(
GMOCK_INTERNAL_DETECT_CONST_I_
, 
_–em
)

	)

217 
	#GMOCK_INTERNAL_DETECT_CONST_I_cÚ¡
 ,

	)

219 
	#GMOCK_INTERNAL_DETECT_OVERRIDE
(
_i
, 
_
, 
_–em
) \

220 
	`GMOCK_PP_CAT
(
GMOCK_INTERNAL_DETECT_OVERRIDE_I_
, 
_–em
)

	)

222 
	#GMOCK_INTERNAL_DETECT_OVERRIDE_I_ov”ride
 ,

	)

224 
	#GMOCK_INTERNAL_DETECT_FINAL
(
_i
, 
_
, 
_–em
) \

225 
	`GMOCK_PP_CAT
(
GMOCK_INTERNAL_DETECT_FINAL_I_
, 
_–em
)

	)

227 
	#GMOCK_INTERNAL_DETECT_FINAL_I_fš®
 ,

	)

229 
	#GMOCK_INTERNAL_DETECT_NOEXCEPT
(
_i
, 
_
, 
_–em
) \

230 
	`GMOCK_PP_CAT
(
GMOCK_INTERNAL_DETECT_NOEXCEPT_I_
, 
_–em
)

	)

232 
	#GMOCK_INTERNAL_DETECT_NOEXCEPT_I_nÛxû±
 ,

	)

234 
	#GMOCK_INTERNAL_DETECT_REF
(
_i
, 
_
, 
_–em
) \

235 
	`GMOCK_PP_CAT
(
GMOCK_INTERNAL_DETECT_REF_I_
, 
_–em
)

	)

237 
	#GMOCK_INTERNAL_DETECT_REF_I_»f
 ,

	)

239 
	#GMOCK_INTERNAL_UNPACK_»f
(
x
è
	)
x

241 
	#GMOCK_INTERNAL_GET_CALLTYPE_IMPL
(
_i
, 
_
, 
_–em
) \

242 
	`GMOCK_PP_IF
(
	`GMOCK_INTERNAL_IS_CALLTYPE
(
_–em
), \

243 
GMOCK_INTERNAL_GET_VALUE_CALLTYPE
, 
GMOCK_PP_EMPTY
) \

244 (
_–em
)

	)

249 
	#GMOCK_INTERNAL_IS_CALLTYPE
(
_¬g
) \

250 
	`GMOCK_INTERNAL_IS_CALLTYPE_I
( \

251 
	`GMOCK_PP_CAT
(
GMOCK_INTERNAL_IS_CALLTYPE_HELPER_
, 
_¬g
))

	)

252 
	#GMOCK_INTERNAL_IS_CALLTYPE_I
(
_¬g
è
	`GMOCK_PP_IS_ENCLOSED_PARENS
(_¬g)

	)

254 
	#GMOCK_INTERNAL_GET_VALUE_CALLTYPE
(
_¬g
) \

255 
	`GMOCK_INTERNAL_GET_VALUE_CALLTYPE_I
( \

256 
	`GMOCK_PP_CAT
(
GMOCK_INTERNAL_IS_CALLTYPE_HELPER_
, 
_¬g
))

	)

257 
	#GMOCK_INTERNAL_GET_VALUE_CALLTYPE_I
(
_¬g
) \

258 
GMOCK_PP_IDENTITY
 
_¬g


	)

260 
	#GMOCK_INTERNAL_IS_CALLTYPE_HELPER_C®Éy³


	)

275 
	#GMOCK_INTERNAL_SIGNATURE
(
_R‘
, 
_Args
) \

276 ::
‹¡šg
::
š‹º®
::
id’t™y_t
<
	`GMOCK_PP_IF
(
	`GMOCK_PP_IS_BEGIN_PARENS
(
_R‘
), \

277 
GMOCK_PP_REMOVE_PARENS
, \

278 
GMOCK_PP_IDENTITY
)(
_R‘
)>( \

279 
	`GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_GET_TYPE
, 
_
, 
_Args
))

	)

281 
	#GMOCK_INTERNAL_GET_TYPE
(
_i
, 
_
, 
_–em
) \

282 
	`GMOCK_PP_COMMA_IF
(
_i
) \

283 
	`GMOCK_PP_IF
(
	`GMOCK_PP_IS_BEGIN_PARENS
(
_–em
), 
GMOCK_PP_REMOVE_PARENS
, \

284 
GMOCK_PP_IDENTITY
) \

285 (
_–em
)

	)

287 
	#GMOCK_INTERNAL_PARAMETER
(
_i
, 
_SigÇtu»
, 
_
) \

288 
	`GMOCK_PP_COMMA_IF
(
_i
) \

289 
	`GMOCK_INTERNAL_ARG_O
(
_i
, 
	`GMOCK_PP_REMOVE_PARENS
(
_SigÇtu»
)) \

290 
gmock_a
##
_i


	)

292 
	#GMOCK_INTERNAL_FORWARD_ARG
(
_i
, 
_SigÇtu»
, 
_
) \

293 
	`GMOCK_PP_COMMA_IF
(
_i
) \

294 ::
¡d
::
fÜw¬d
<
	`GMOCK_INTERNAL_ARG_O
( \

295 
_i
, 
	`GMOCK_PP_REMOVE_PARENS
(
_SigÇtu»
))>(
gmock_a
##_i)

	)

297 
	#GMOCK_INTERNAL_MATCHER_PARAMETER
(
_i
, 
_SigÇtu»
, 
_
) \

298 
	`GMOCK_PP_COMMA_IF
(
_i
) \

299 
	`GMOCK_INTERNAL_MATCHER_O
(
_i
, 
	`GMOCK_PP_REMOVE_PARENS
(
_SigÇtu»
)) \

300 
gmock_a
##
_i


	)

302 
	#GMOCK_INTERNAL_MATCHER_ARGUMENT
(
_i
, 
_1
, 
_2
) \

303 
	`GMOCK_PP_COMMA_IF
(
_i
) \

304 
gmock_a
##
_i


	)

306 
	#GMOCK_INTERNAL_A_MATCHER_ARGUMENT
(
_i
, 
_SigÇtu»
, 
_
) \

307 
	`GMOCK_PP_COMMA_IF
(
_i
) \

308 ::
‹¡šg
::
A
<
	`GMOCK_INTERNAL_ARG_O
(
_i
, 
	`GMOCK_PP_REMOVE_PARENS
(
_SigÇtu»
))>()

	)

310 
	#GMOCK_INTERNAL_ARG_O
(
_i
, ...) \

311 
ty³Çme
 ::
‹¡šg
::
š‹º®
::
FunùiÚ
<
__VA_ARGS__
>::
‹m¶©e
 
Arg
<
_i
>::
ty³


	)

313 
	#GMOCK_INTERNAL_MATCHER_O
(
_i
, ...) \

314 cÚ¡ ::
‹¡šg
::
M©ch”
<
ty³Çme
 ::‹¡šg::
š‹º®
::
FunùiÚ
< \

315 
__VA_ARGS__
>::
‹m¶©e
 
Arg
<
_i
>::
ty³
>&

	)

317 
	#MOCK_METHOD0
(
m
, ...è
	`GMOCK_INTERNAL_MOCK_METHODN
(, , m, 0, 
__VA_ARGS__
)

	)

318 
	#MOCK_METHOD1
(
m
, ...è
	`GMOCK_INTERNAL_MOCK_METHODN
(, , m, 1, 
__VA_ARGS__
)

	)

319 
	#MOCK_METHOD2
(
m
, ...è
	`GMOCK_INTERNAL_MOCK_METHODN
(, , m, 2, 
__VA_ARGS__
)

	)

320 
	#MOCK_METHOD3
(
m
, ...è
	`GMOCK_INTERNAL_MOCK_METHODN
(, , m, 3, 
__VA_ARGS__
)

	)

321 
	#MOCK_METHOD4
(
m
, ...è
	`GMOCK_INTERNAL_MOCK_METHODN
(, , m, 4, 
__VA_ARGS__
)

	)

322 
	#MOCK_METHOD5
(
m
, ...è
	`GMOCK_INTERNAL_MOCK_METHODN
(, , m, 5, 
__VA_ARGS__
)

	)

323 
	#MOCK_METHOD6
(
m
, ...è
	`GMOCK_INTERNAL_MOCK_METHODN
(, , m, 6, 
__VA_ARGS__
)

	)

324 
	#MOCK_METHOD7
(
m
, ...è
	`GMOCK_INTERNAL_MOCK_METHODN
(, , m, 7, 
__VA_ARGS__
)

	)

325 
	#MOCK_METHOD8
(
m
, ...è
	`GMOCK_INTERNAL_MOCK_METHODN
(, , m, 8, 
__VA_ARGS__
)

	)

326 
	#MOCK_METHOD9
(
m
, ...è
	`GMOCK_INTERNAL_MOCK_METHODN
(, , m, 9, 
__VA_ARGS__
)

	)

327 
	#MOCK_METHOD10
(
m
, ...) \

328 
	`GMOCK_INTERNAL_MOCK_METHODN
(, , 
m
, 10, 
__VA_ARGS__
)

	)

330 
	#MOCK_CONST_METHOD0
(
m
, ...) \

331 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, , 
m
, 0, 
__VA_ARGS__
)

	)

332 
	#MOCK_CONST_METHOD1
(
m
, ...) \

333 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, , 
m
, 1, 
__VA_ARGS__
)

	)

334 
	#MOCK_CONST_METHOD2
(
m
, ...) \

335 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, , 
m
, 2, 
__VA_ARGS__
)

	)

336 
	#MOCK_CONST_METHOD3
(
m
, ...) \

337 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, , 
m
, 3, 
__VA_ARGS__
)

	)

338 
	#MOCK_CONST_METHOD4
(
m
, ...) \

339 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, , 
m
, 4, 
__VA_ARGS__
)

	)

340 
	#MOCK_CONST_METHOD5
(
m
, ...) \

341 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, , 
m
, 5, 
__VA_ARGS__
)

	)

342 
	#MOCK_CONST_METHOD6
(
m
, ...) \

343 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, , 
m
, 6, 
__VA_ARGS__
)

	)

344 
	#MOCK_CONST_METHOD7
(
m
, ...) \

345 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, , 
m
, 7, 
__VA_ARGS__
)

	)

346 
	#MOCK_CONST_METHOD8
(
m
, ...) \

347 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, , 
m
, 8, 
__VA_ARGS__
)

	)

348 
	#MOCK_CONST_METHOD9
(
m
, ...) \

349 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, , 
m
, 9, 
__VA_ARGS__
)

	)

350 
	#MOCK_CONST_METHOD10
(
m
, ...) \

351 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, , 
m
, 10, 
__VA_ARGS__
)

	)

353 
	#MOCK_METHOD0_T
(
m
, ...è
	`MOCK_METHOD0
(m, 
__VA_ARGS__
)

	)

354 
	#MOCK_METHOD1_T
(
m
, ...è
	`MOCK_METHOD1
(m, 
__VA_ARGS__
)

	)

355 
	#MOCK_METHOD2_T
(
m
, ...è
	`MOCK_METHOD2
(m, 
__VA_ARGS__
)

	)

356 
	#MOCK_METHOD3_T
(
m
, ...è
	`MOCK_METHOD3
(m, 
__VA_ARGS__
)

	)

357 
	#MOCK_METHOD4_T
(
m
, ...è
	`MOCK_METHOD4
(m, 
__VA_ARGS__
)

	)

358 
	#MOCK_METHOD5_T
(
m
, ...è
	`MOCK_METHOD5
(m, 
__VA_ARGS__
)

	)

359 
	#MOCK_METHOD6_T
(
m
, ...è
	`MOCK_METHOD6
(m, 
__VA_ARGS__
)

	)

360 
	#MOCK_METHOD7_T
(
m
, ...è
	`MOCK_METHOD7
(m, 
__VA_ARGS__
)

	)

361 
	#MOCK_METHOD8_T
(
m
, ...è
	`MOCK_METHOD8
(m, 
__VA_ARGS__
)

	)

362 
	#MOCK_METHOD9_T
(
m
, ...è
	`MOCK_METHOD9
(m, 
__VA_ARGS__
)

	)

363 
	#MOCK_METHOD10_T
(
m
, ...è
	`MOCK_METHOD10
(m, 
__VA_ARGS__
)

	)

365 
	#MOCK_CONST_METHOD0_T
(
m
, ...è
	`MOCK_CONST_METHOD0
(m, 
__VA_ARGS__
)

	)

366 
	#MOCK_CONST_METHOD1_T
(
m
, ...è
	`MOCK_CONST_METHOD1
(m, 
__VA_ARGS__
)

	)

367 
	#MOCK_CONST_METHOD2_T
(
m
, ...è
	`MOCK_CONST_METHOD2
(m, 
__VA_ARGS__
)

	)

368 
	#MOCK_CONST_METHOD3_T
(
m
, ...è
	`MOCK_CONST_METHOD3
(m, 
__VA_ARGS__
)

	)

369 
	#MOCK_CONST_METHOD4_T
(
m
, ...è
	`MOCK_CONST_METHOD4
(m, 
__VA_ARGS__
)

	)

370 
	#MOCK_CONST_METHOD5_T
(
m
, ...è
	`MOCK_CONST_METHOD5
(m, 
__VA_ARGS__
)

	)

371 
	#MOCK_CONST_METHOD6_T
(
m
, ...è
	`MOCK_CONST_METHOD6
(m, 
__VA_ARGS__
)

	)

372 
	#MOCK_CONST_METHOD7_T
(
m
, ...è
	`MOCK_CONST_METHOD7
(m, 
__VA_ARGS__
)

	)

373 
	#MOCK_CONST_METHOD8_T
(
m
, ...è
	`MOCK_CONST_METHOD8
(m, 
__VA_ARGS__
)

	)

374 
	#MOCK_CONST_METHOD9_T
(
m
, ...è
	`MOCK_CONST_METHOD9
(m, 
__VA_ARGS__
)

	)

375 
	#MOCK_CONST_METHOD10_T
(
m
, ...è
	`MOCK_CONST_METHOD10
(m, 
__VA_ARGS__
)

	)

377 
	#MOCK_METHOD0_WITH_CALLTYPE
(
ù
, 
m
, ...) \

378 
	`GMOCK_INTERNAL_MOCK_METHODN
(, 
ù
, 
m
, 0, 
__VA_ARGS__
)

	)

379 
	#MOCK_METHOD1_WITH_CALLTYPE
(
ù
, 
m
, ...) \

380 
	`GMOCK_INTERNAL_MOCK_METHODN
(, 
ù
, 
m
, 1, 
__VA_ARGS__
)

	)

381 
	#MOCK_METHOD2_WITH_CALLTYPE
(
ù
, 
m
, ...) \

382 
	`GMOCK_INTERNAL_MOCK_METHODN
(, 
ù
, 
m
, 2, 
__VA_ARGS__
)

	)

383 
	#MOCK_METHOD3_WITH_CALLTYPE
(
ù
, 
m
, ...) \

384 
	`GMOCK_INTERNAL_MOCK_METHODN
(, 
ù
, 
m
, 3, 
__VA_ARGS__
)

	)

385 
	#MOCK_METHOD4_WITH_CALLTYPE
(
ù
, 
m
, ...) \

386 
	`GMOCK_INTERNAL_MOCK_METHODN
(, 
ù
, 
m
, 4, 
__VA_ARGS__
)

	)

387 
	#MOCK_METHOD5_WITH_CALLTYPE
(
ù
, 
m
, ...) \

388 
	`GMOCK_INTERNAL_MOCK_METHODN
(, 
ù
, 
m
, 5, 
__VA_ARGS__
)

	)

389 
	#MOCK_METHOD6_WITH_CALLTYPE
(
ù
, 
m
, ...) \

390 
	`GMOCK_INTERNAL_MOCK_METHODN
(, 
ù
, 
m
, 6, 
__VA_ARGS__
)

	)

391 
	#MOCK_METHOD7_WITH_CALLTYPE
(
ù
, 
m
, ...) \

392 
	`GMOCK_INTERNAL_MOCK_METHODN
(, 
ù
, 
m
, 7, 
__VA_ARGS__
)

	)

393 
	#MOCK_METHOD8_WITH_CALLTYPE
(
ù
, 
m
, ...) \

394 
	`GMOCK_INTERNAL_MOCK_METHODN
(, 
ù
, 
m
, 8, 
__VA_ARGS__
)

	)

395 
	#MOCK_METHOD9_WITH_CALLTYPE
(
ù
, 
m
, ...) \

396 
	`GMOCK_INTERNAL_MOCK_METHODN
(, 
ù
, 
m
, 9, 
__VA_ARGS__
)

	)

397 
	#MOCK_METHOD10_WITH_CALLTYPE
(
ù
, 
m
, ...) \

398 
	`GMOCK_INTERNAL_MOCK_METHODN
(, 
ù
, 
m
, 10, 
__VA_ARGS__
)

	)

400 
	#MOCK_CONST_METHOD0_WITH_CALLTYPE
(
ù
, 
m
, ...) \

401 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, 
ù
, 
m
, 0, 
__VA_ARGS__
)

	)

402 
	#MOCK_CONST_METHOD1_WITH_CALLTYPE
(
ù
, 
m
, ...) \

403 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, 
ù
, 
m
, 1, 
__VA_ARGS__
)

	)

404 
	#MOCK_CONST_METHOD2_WITH_CALLTYPE
(
ù
, 
m
, ...) \

405 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, 
ù
, 
m
, 2, 
__VA_ARGS__
)

	)

406 
	#MOCK_CONST_METHOD3_WITH_CALLTYPE
(
ù
, 
m
, ...) \

407 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, 
ù
, 
m
, 3, 
__VA_ARGS__
)

	)

408 
	#MOCK_CONST_METHOD4_WITH_CALLTYPE
(
ù
, 
m
, ...) \

409 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, 
ù
, 
m
, 4, 
__VA_ARGS__
)

	)

410 
	#MOCK_CONST_METHOD5_WITH_CALLTYPE
(
ù
, 
m
, ...) \

411 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, 
ù
, 
m
, 5, 
__VA_ARGS__
)

	)

412 
	#MOCK_CONST_METHOD6_WITH_CALLTYPE
(
ù
, 
m
, ...) \

413 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, 
ù
, 
m
, 6, 
__VA_ARGS__
)

	)

414 
	#MOCK_CONST_METHOD7_WITH_CALLTYPE
(
ù
, 
m
, ...) \

415 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, 
ù
, 
m
, 7, 
__VA_ARGS__
)

	)

416 
	#MOCK_CONST_METHOD8_WITH_CALLTYPE
(
ù
, 
m
, ...) \

417 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, 
ù
, 
m
, 8, 
__VA_ARGS__
)

	)

418 
	#MOCK_CONST_METHOD9_WITH_CALLTYPE
(
ù
, 
m
, ...) \

419 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, 
ù
, 
m
, 9, 
__VA_ARGS__
)

	)

420 
	#MOCK_CONST_METHOD10_WITH_CALLTYPE
(
ù
, 
m
, ...) \

421 
	`GMOCK_INTERNAL_MOCK_METHODN
(cÚ¡, 
ù
, 
m
, 10, 
__VA_ARGS__
)

	)

423 
	#MOCK_METHOD0_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

424 
	`MOCK_METHOD0_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

425 
	#MOCK_METHOD1_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

426 
	`MOCK_METHOD1_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

427 
	#MOCK_METHOD2_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

428 
	`MOCK_METHOD2_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

429 
	#MOCK_METHOD3_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

430 
	`MOCK_METHOD3_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

431 
	#MOCK_METHOD4_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

432 
	`MOCK_METHOD4_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

433 
	#MOCK_METHOD5_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

434 
	`MOCK_METHOD5_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

435 
	#MOCK_METHOD6_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

436 
	`MOCK_METHOD6_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

437 
	#MOCK_METHOD7_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

438 
	`MOCK_METHOD7_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

439 
	#MOCK_METHOD8_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

440 
	`MOCK_METHOD8_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

441 
	#MOCK_METHOD9_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

442 
	`MOCK_METHOD9_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

443 
	#MOCK_METHOD10_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

444 
	`MOCK_METHOD10_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

446 
	#MOCK_CONST_METHOD0_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

447 
	`MOCK_CONST_METHOD0_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

448 
	#MOCK_CONST_METHOD1_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

449 
	`MOCK_CONST_METHOD1_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

450 
	#MOCK_CONST_METHOD2_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

451 
	`MOCK_CONST_METHOD2_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

452 
	#MOCK_CONST_METHOD3_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

453 
	`MOCK_CONST_METHOD3_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

454 
	#MOCK_CONST_METHOD4_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

455 
	`MOCK_CONST_METHOD4_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

456 
	#MOCK_CONST_METHOD5_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

457 
	`MOCK_CONST_METHOD5_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

458 
	#MOCK_CONST_METHOD6_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

459 
	`MOCK_CONST_METHOD6_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

460 
	#MOCK_CONST_METHOD7_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

461 
	`MOCK_CONST_METHOD7_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

462 
	#MOCK_CONST_METHOD8_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

463 
	`MOCK_CONST_METHOD8_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

464 
	#MOCK_CONST_METHOD9_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

465 
	`MOCK_CONST_METHOD9_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

466 
	#MOCK_CONST_METHOD10_T_WITH_CALLTYPE
(
ù
, 
m
, ...) \

467 
	`MOCK_CONST_METHOD10_WITH_CALLTYPE
(
ù
, 
m
, 
__VA_ARGS__
)

	)

469 
	#GMOCK_INTERNAL_MOCK_METHODN
(
cÚ¡Ãss
, 
ù
, 
M‘hod
, 
¬gs_num
, ...) \

470 
	`GMOCK_INTERNAL_ASSERT_VALID_SIGNATURE
( \

471 
¬gs_num
, ::
‹¡šg
::
š‹º®
::
id’t™y_t
<
__VA_ARGS__
>); \

472 
	`GMOCK_INTERNAL_MOCK_METHOD_IMPL
( \

473 
¬gs_num
, 
M‘hod
, 
	`GMOCK_PP_NARG0
(
cÚ¡Ãss
), 0, 0, , 
ù
, , \

474 (::
‹¡šg
::
š‹º®
::
id’t™y_t
<
__VA_ARGS__
>))

	)

476 
	#GMOCK_MOCKER_
(
¬™y
, 
cÚ¡Ãss
, 
M‘hod
) \

477 
	`GTEST_CONCAT_TOKEN_
(
gmock
##
cÚ¡Ãss
##
¬™y
##
_
##
M‘hod
##_, 
__LINE__
)

	)

	@/usr/include/gmock/gmock-matchers.h

255 #iâdeà
GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_MATCHERS_H_


256 
	#GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_MATCHERS_H_


	)

258 
	~<®gÜ™hm
>

259 
	~<cm©h
>

260 
	~<š™Ÿliz”_li¡
>

261 
	~<™”©Ü
>

262 
	~<lim™s
>

263 
	~<memÜy
>

264 
	~<o¡»am
>

265 
	~<s¡»am
>

266 
	~<¡ršg
>

267 
	~<ty³_Œa™s
>

268 
	~<ut™y
>

269 
	~<veùÜ
>

271 
	~"gmock/š‹º®/gmock-š‹º®-uts.h
"

272 
	~"gmock/š‹º®/gmock-pÜt.h
"

273 
	~"gmock/š‹º®/gmock-µ.h
"

274 
	~"g‹¡/g‹¡.h
"

277 #ià
defšed
(
_MSC_VER
) && _MSC_VER >= 1915

278 
	#GMOCK_MAYBE_5046_
 5046

	)

280 
	#GMOCK_MAYBE_5046_


	)

283 
	$GTEST_DISABLE_MSC_WARNINGS_PUSH_
(

284 4251 
GMOCK_MAYBE_5046_


288 
Çme¥aû
 
‹¡šg
 {

303 şas 
	cSŒšgM©chResuÉLi¡’”
 : 
public
 
M©chResuÉLi¡’”
 {

304 
public
:

305 
	`SŒšgM©chResuÉLi¡’”
(è: 
	`M©chResuÉLi¡’”
(&
ss_
) {}

308 
¡d
::
¡ršg
 
	`¡r
(ècÚ¡ {  
ss_
.str(); }

311 
	`CË¬
(è{ 
ss_
.
	`¡r
(""); }

313 
´iv©e
:

314 ::
¡d
::
¡ršg¡»am
 
ss_
;

316 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
SŒšgM©chResuÉLi¡’”
);

317 
	}
};

321 
Çme¥aû
 
	gš‹º®
 {

333 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gM
>

334 şas 
	cM©ch”Ca¡Im¶
 {

335 
	gpublic
:

336 
M©ch”
<
T
> 
Ca¡
(cÚ¡ 
M
& 
pŞymÜphic_m©ch”_Ü_v®ue
) {

350  
Ca¡Im¶
(
pŞymÜphic_m©ch”_Ü_v®ue
,

351 
¡d
::
is_cÚv”tibË
<
M
, 
M©ch”
<
T
>>{},

352 
¡d
::
is_cÚv”tibË
<
M
, 
T
>{});

355 
	g´iv©e
:

356 
‹m¶©e
 <
boŞ
 
IgnÜe
>

357 
M©ch”
<
T
> 
Ca¡Im¶
(cÚ¡ 
M
& 
pŞymÜphic_m©ch”_Ü_v®ue
,

358 
¡d
::
Œue_ty³
 ,

359 
¡d
::
š‹g¿l_cÚ¡ªt
<
boŞ
, 
IgnÜe
>) {

368  
	gpŞymÜphic_m©ch”_Ü_v®ue
;

374 
	gM©ch”
<
	gT
> 
Ca¡Im¶
(cÚ¡ 
M
& 
v®ue
,

375 
¡d
::
çl£_ty³
 ,

376 
¡d
::
Œue_ty³
 ) {

377  
M©ch”
<
T
>(
Im¶ic™Ca¡_
<T>(
v®ue
));

390 
	gM©ch”
<
	gT
> 
Ca¡Im¶
(cÚ¡ 
M
& 
v®ue
,

391 
¡d
::
çl£_ty³
 ,

392 
¡d
::
çl£_ty³
 );

398 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gU
>

399 
şass
 
	gM©ch”Ca¡Im¶
<
	gT
, 
	gM©ch”
<
	gU
> > {

400 
	gpublic
:

401 
M©ch”
<
T
> 
Ca¡
(cÚ¡ M©ch”<
U
>& 
sourû_m©ch”
) {

402  
M©ch”
<
T
>(
Ãw
 
Im¶
(
sourû_m©ch”
));

405 
	g´iv©e
:

406 
şass
 
Im¶
 : 
public
 
M©ch”IÁ”çû
<
T
> {

407 
public
:

408 
ex¶ic™
 
Im¶
(cÚ¡ 
M©ch”
<
U
>& 
sourû_m©ch”
)

409 : 
sourû_m©ch”_
(
sourû_m©ch”
) {}

412 
boŞ
 
M©chAndEx¶aš
(
T
 
x
, 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

413 
usšg
 
	gFromTy³
 = 
ty³Çme
 
¡d
::
»move_cv
<ty³Çm¡d::
»move_poš‹r
<

414 
ty³Çme
 
¡d
::
»move_»ã»nû
<
T
>::
ty³
>::type>::type;

415 
usšg
 
	gToTy³
 = 
ty³Çme
 
¡d
::
»move_cv
<ty³Çm¡d::
»move_poš‹r
<

416 
ty³Çme
 
¡d
::
»move_»ã»nû
<
U
>::
ty³
>::type>::type;

418 
¡©ic_as£¹
(

421 (
¡d
::
is_poš‹r
<
ty³Çme
 std::
»move_»ã»nû
<
T
>::
ty³
>::
v®ue
 !=

422 
¡d
::
is_poš‹r
<
ty³Çme
 std::
»move_»ã»nû
<
U
>::
ty³
>::
v®ue
) ||

423 
¡d
::
is_§me
<
FromTy³
, 
ToTy³
>::
v®ue
 ||

424 !
¡d
::
is_ba£_of
<
FromTy³
, 
ToTy³
>::
v®ue
,

429 
usšg
 
	gCa¡Ty³
 =

430 
ty³Çme
 
¡d
::
cÚd™iÚ®
<¡d::
is_cÚv”tibË
<
T
&, cÚ¡ 
	gU
&>::
v®ue
,

431 
	gT
&, 
	gU
>::
ty³
;

433  
	gsourû_m©ch”_
.
M©chAndEx¶aš
(
¡©ic_ÿ¡
<
Ca¡Ty³
>(
x
),

434 
li¡’”
);

437 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

438 
sourû_m©ch”_
.
DesüibeTo
(
os
);

441 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

442 
sourû_m©ch”_
.
DesüibeNeg©iÚTo
(
os
);

445 
	g´iv©e
:

446 cÚ¡ 
M©ch”
<
U
> 
sourû_m©ch”_
;

452 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

453 
şass
 
	gM©ch”Ca¡Im¶
<
	gT
, 
	gM©ch”
<T> > {

454 
	gpublic
:

455 
M©ch”
<
T
> 
Ca¡
(cÚ¡ M©ch”<T>& 
m©ch”
) {  matcher; }

459 
	g‹m¶©e
 <
ty³Çme
 
	gD”ived
>

460 şas 
	cM©ch”Ba£Im¶
 {

461 
	gpublic
:

462 
M©ch”Ba£Im¶
() = ;

464 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

465 
	gİ”©Ü
 ::
‹¡šg
::
M©ch”
<
T
>() const {

466  ::
‹¡šg
::
M©ch”
<
T
>(
Ãw


467 
ty³Çme
 
D”ived
::
‹m¶©e
 
gmock_Im¶
<
T
>());

472 
	g‹m¶©e
 <‹m¶©<
	gty³Çme
...> 
şass
 
	gD”ived
,y³Çme... 
	gTs
>

473 
şass
 
	gM©ch”Ba£Im¶
<
	gD”ived
<
	gTs
...>> {

474 
	gpublic
:

477 
‹m¶©e
 <
ty³Çme
 
E
 = 
¡d
::
’abË_if
<...(
Ts
) == 1>,

478 
ty³Çme
 
	gE
::
ty³
* = 
nuÎ±r
>

479 
ex¶ic™
 
M©ch”Ba£Im¶
(
Ts
... 
·¿ms
)

480 : 
·¿ms_
(
¡d
::
fÜw¬d
<
Ts
>(
·¿ms
)...) {}

481 
‹m¶©e
 <
ty³Çme
 
E
 = 
¡d
::
’abË_if
<...(
Ts
) != 1>,

482 
	gty³Çme
 = 
ty³Çme
 
E
::
ty³
>

483 
M©ch”Ba£Im¶
(
Ts
... 
·¿ms
)

484 : 
·¿ms_
(
¡d
::
fÜw¬d
<
Ts
>(
·¿ms
)...) {}

486 
‹m¶©e
 <
ty³Çme
 
F
>

487 
İ”©Ü
 ::
‹¡šg
::
M©ch”
<
F
>() const {

488  
Aµly
<
F
>(
MakeIndexSequ’û
<...(
Ts
)>{});

491 
	g´iv©e
:

492 
‹m¶©e
 <
ty³Çme
 
F
, 
	g¡d
::
size_t
... 
tu¶e_ids
>

493 ::
‹¡šg
::
M©ch”
<
F
> 
Aµly
(
IndexSequ’û
<
tu¶e_ids
...>) const {

494  ::
‹¡šg
::
M©ch”
<
F
>(

495 
Ãw
 
ty³Çme
 
D”ived
<
Ts
...>::
‹m¶©e
 
gmock_Im¶
<
F
>(

496 
¡d
::
g‘
<
tu¶e_ids
>(
·¿ms_
)...));

499 cÚ¡ 
	g¡d
::
tu¶e
<
Ts
...> 
·¿ms_
;

508 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gM
>

509 
šlše
 
	gM©ch”
<
	gT
> 
	$M©ch”Ca¡
(cÚ¡ 
M
& 
m©ch”
) {

510  
š‹º®
::
M©ch”Ca¡Im¶
<
T
, 
M
>::
	`Ca¡
(
m©ch”
);

511 
	}
}

515 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gM
>

516 
šlše
 
	gM©ch”
<
	gT
> 
	$SaãM©ch”Ca¡
(cÚ¡ 
M
& 
pŞymÜphic_m©ch”_Ü_v®ue
) {

517  
M©ch”Ca¡
<
T
>(
pŞymÜphic_m©ch”_Ü_v®ue
);

518 
	}
}

529 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gU
>

530 
šlše
 
	gM©ch”
<
	gT
> 
SaãM©ch”Ca¡
(cÚ¡ 
M©ch”
<
U
>& 
m©ch”
) {

532 
¡©ic_as£¹
(
¡d
::
is_cÚv”tibË
<cÚ¡ 
T
&, cÚ¡ 
U
&>::
v®ue
,

536 
GTEST_COMPILE_ASSERT_
(

537 
¡d
::
is_»ã»nû
<
T
>::
v®ue
 || !¡d::is_»ã»nû<
U
>::value,

538 
ÿÂÙ_cÚv”t_nÚ_»ã»nû_¬g_to_»ã»nû
);

541 
GTEST_REMOVE_REFERENCE_AND_CONST_
(
	tT
è
	tRawT
;

542 
GTEST_REMOVE_REFERENCE_AND_CONST_
(
	tU
è
	tRawU
;

543 
cÚ¡ex´
 
boŞ
 
	gkTIsOth”
 = 
GMOCK_KIND_OF_
(
RawT
è=ğ
š‹º®
::
kOth”
;

544 
cÚ¡ex´
 
boŞ
 
	gkUIsOth”
 = 
GMOCK_KIND_OF_
(
RawU
è=ğ
š‹º®
::
kOth”
;

545 
GTEST_COMPILE_ASSERT_
(

546 
kTIsOth”
 || 
kUIsOth”
 ||

547 (
š‹º®
::
Los¦essAr™hm‘icCÚv”tibË
<
RawT
, 
RawU
>::
v®ue
),

548 
cÚv”siÚ_of_¬™hm‘ic_ty³s_mu¡_be_los¦ess
);

549  
	gM©ch”Ca¡
<
	gT
>(
	gm©ch”
);

553 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

554 
	gM©ch”
<
	gT
> 
A
();

558 
Çme¥aû
 
	gš‹º®
 {

561 
šlše
 
PrštIfNÙEm±y
(cÚ¡ 
¡d
::
¡ršg
& 
ex¶ª©iÚ
,

562 ::
¡d
::
o¡»am
* 
os
) {

563 ià(
ex¶ª©iÚ
 !ğ"" && 
os
 !ğ
nuÎ±r
) {

564 *
os
 << ", " << 
ex¶ª©iÚ
;

571 
šlše
 
boŞ
 
IsR—dabËTy³Name
(cÚ¡ 
¡d
::
¡ršg
& 
ty³_Çme
) {

574  (
ty³_Çme
.
Ëngth
() <= 20 ||

575 
ty³_Çme
.
fšd_fœ¡_of
("<("è=ğ
¡d
::
¡ršg
::
Åos
);

583 
	g‹m¶©e
 <
ty³Çme
 
	gV®ue
,y³Çm
	gT
>

584 
boŞ
 
M©chPrštAndEx¶aš
(
V®ue
& 
v®ue
, cÚ¡ 
M©ch”
<
T
>& 
m©ch”
,

585 
M©chResuÉLi¡’”
* 
li¡’”
) {

586 ià(!
	gli¡’”
->
IsIÁ”e¡ed
()) {

589  
	gm©ch”
.
M©ches
(
v®ue
);

592 
SŒšgM©chResuÉLi¡’”
 
	gšÃr_li¡’”
;

593 cÚ¡ 
boŞ
 
	gm©ch
 = 
m©ch”
.
M©chAndEx¶aš
(
v®ue
, &
šÃr_li¡’”
);

595 
Univ”§lPršt
(
v®ue
, 
li¡’”
->
¡»am
());

596 #ià
GTEST_HAS_RTTI


597 cÚ¡ 
	g¡d
::
¡ršg
& 
ty³_Çme
 = 
G‘Ty³Name
<
V®ue
>();

598 ià(
IsR—dabËTy³Name
(
ty³_Çme
))

599 *
	gli¡’”
->
¡»am
(è<< " (oàty³ " << 
	gty³_Çme
 << ")";

601 
PrštIfNÙEm±y
(
šÃr_li¡’”
.
¡r
(), 
li¡’”
->
¡»am
());

603  
	gm©ch
;

608 
	g‹m¶©e
 <
size_t
 
	gN
>

609 şas 
	cTu¶eP»fix
 {

610 
	gpublic
:

614 
‹m¶©e
 <
ty³Çme
 
M©ch”Tu¶e
,y³Çm
	gV®ueTu¶e
>

615 
boŞ
 
M©ches
(cÚ¡ 
M©ch”Tu¶e
& 
m©ch”_tu¶e
,

616 cÚ¡ 
V®ueTu¶e
& 
v®ue_tu¶e
) {

617  
	gTu¶eP»fix
<
	gN
 - 1>::
M©ches
(
m©ch”_tu¶e
, 
v®ue_tu¶e
) &&

618 
	g¡d
::
g‘
<
N
 - 1>(
m©ch”_tu¶e
).
M©ches
(
¡d
::g‘<N - 1>(
v®ue_tu¶e
));

625 
	g‹m¶©e
 <
ty³Çme
 
	gM©ch”Tu¶e
,y³Çm
	gV®ueTu¶e
>

626 
Ex¶ašM©chFau»sTo
(cÚ¡ 
M©ch”Tu¶e
& 
m©ch”s
,

627 cÚ¡ 
V®ueTu¶e
& 
v®ues
,

628 ::
¡d
::
o¡»am
* 
os
) {

630 
Tu¶eP»fix
<
N
 - 1>::
Ex¶ašM©chFau»sTo
(
m©ch”s
, 
v®ues
, 
os
);

634 
ty³Çme
 
	g¡d
::
tu¶e_–em’t
<
N
 - 1, 
	gM©ch”Tu¶e
>::
ty³
 
m©ch”
 =

635 
¡d
::
g‘
<
N
 - 1>(
m©ch”s
);

636 
ty³Çme
 
	t¡d
::
	ttu¶e_–em’t
<
	tN
 - 1, 
	tV®ueTu¶e
>::
	tty³
 
	tV®ue
;

637 cÚ¡ 
	gV®ue
& 
	gv®ue
 = 
¡d
::
g‘
<
N
 - 1>(
v®ues
);

638 
SŒšgM©chResuÉLi¡’”
 
	gli¡’”
;

639 ià(!
	gm©ch”
.
M©chAndEx¶aš
(
v®ue
, &
li¡’”
)) {

640 *
	gos
 << " Ex³ùed‡rg #" << 
	gN
 - 1 << ": ";

641 
	g¡d
::
g‘
<
N
 - 1>(
m©ch”s
).
DesüibeTo
(
os
);

642 *
	gos
 << "\n Actual: ";

648 
	gš‹º®
::
Univ”§lPršt
(
v®ue
, 
os
);

649 
PrštIfNÙEm±y
(
li¡’”
.
¡r
(), 
os
);

650 *
	gos
 << "\n";

656 
	g‹m¶©e
 <>

657 
şass
 
	gTu¶eP»fix
<0> {

658 
	gpublic
:

659 
‹m¶©e
 <
ty³Çme
 
M©ch”Tu¶e
,y³Çm
	gV®ueTu¶e
>

660 
boŞ
 
M©ches
(cÚ¡ 
M©ch”Tu¶e
& ,

661 cÚ¡ 
V®ueTu¶e
& ) {

662  
	gŒue
;

665 
	g‹m¶©e
 <
ty³Çme
 
	gM©ch”Tu¶e
,y³Çm
	gV®ueTu¶e
>

666 
Ex¶ašM©chFau»sTo
(cÚ¡ 
M©ch”Tu¶e
& ,

667 cÚ¡ 
V®ueTu¶e
& ,

668 ::
¡d
::
o¡»am
* ) {}

676 
	g‹m¶©e
 <
ty³Çme
 
	gM©ch”Tu¶e
,y³Çm
	gV®ueTu¶e
>

677 
boŞ
 
Tu¶eM©ches
(cÚ¡ 
M©ch”Tu¶e
& 
m©ch”_tu¶e
,

678 cÚ¡ 
V®ueTu¶e
& 
v®ue_tu¶e
) {

681 
GTEST_COMPILE_ASSERT_
(
¡d
::
tu¶e_size
<
M©ch”Tu¶e
>::
v®ue
 ==

682 
¡d
::
tu¶e_size
<
V®ueTu¶e
>::
v®ue
,

683 
m©ch”_ªd_v®ue_have_difã»Á_numb”s_of_f›lds
);

684  
	gTu¶eP»fix
<
	g¡d
::
tu¶e_size
<
V®ueTu¶e
>::
v®ue
>::
M©ches
(
m©ch”_tu¶e
,

685 
v®ue_tu¶e
);

690 
	g‹m¶©e
 <
ty³Çme
 
	gM©ch”Tu¶e
,y³Çm
	gV®ueTu¶e
>

691 
Ex¶ašM©chFau»Tu¶eTo
(cÚ¡ 
M©ch”Tu¶e
& 
m©ch”s
,

692 cÚ¡ 
V®ueTu¶e
& 
v®ues
,

693 ::
¡d
::
o¡»am
* 
os
) {

694 
Tu¶eP»fix
<
¡d
::
tu¶e_size
<
M©ch”Tu¶e
>::
v®ue
>::
Ex¶ašM©chFau»sTo
(

695 
m©ch”s
, 
v®ues
, 
os
);

702 
	g‹m¶©e
 <
ty³Çme
 
	gTu¶e
,y³Çm
	gFunc
,y³Çm
	gOutI‹r
>

703 şas 
	cT¿nsfÜmTu¶eV®uesH–³r
 {

704 
	g´iv©e
:

705 ::
¡d
::
	ttu¶e_size
<
	tTu¶e
> 
	tTu¶eSize
;

707 
	gpublic
:

710 
OutI‹r
 
Run
(
Func
 
f
, cÚ¡ 
Tu¶e
& 
t
, OutI‹¸
out
) {

711  
	gI‹¿‹Ov”Tu¶e
<
	gTu¶e
, 
	gTu¶eSize
::
v®ue
>()(
f
, 
	gt
, 
	gout
);

714 
	g´iv©e
:

715 
‹m¶©e
 <
ty³Çme
 
Tup
, 
size_t
 
	gkRemaššgSize
>

716 
	sI‹¿‹Ov”Tu¶e
 {

717 
OutI‹r
 
İ”©Ü
(è(
Func
 
	gf
, cÚ¡ 
	gTup
& 
	gt
, OutI‹¸
	gout
) const {

718 *
	gout
++ = 
f
(::
¡d
::
g‘
<
Tu¶eSize
::
v®ue
 - 
kRemaššgSize
>(
t
));

719  
	gI‹¿‹Ov”Tu¶e
<
	gTup
, 
	gkRemaššgSize
 - 1>()(
	gf
, 
	gt
, 
	gout
);

722 
	g‹m¶©e
 <
ty³Çme
 
	gTup
>

723 
	gI‹¿‹Ov”Tu¶e
<
	gTup
, 0> {

724 
OutI‹r
 
İ”©Ü
(è(
	gFunc
 , cÚ¡ 
	gTup
& , OutI‹¸
	gout
) const {

725  
	gout
;

733 
	g‹m¶©e
 <
ty³Çme
 
	gTu¶e
,y³Çm
	gFunc
,y³Çm
	gOutI‹r
>

734 
OutI‹r
 
T¿nsfÜmTu¶eV®ues
(
Func
 
f
, cÚ¡ 
Tu¶e
& 
t
, OutI‹¸
out
) {

735  
	gT¿nsfÜmTu¶eV®uesH–³r
<
	gTu¶e
, 
	gFunc
, 
	gOutI‹r
>::
Run
(
f
, 
t
, 
out
);

742 şas 
	cAnythšgM©ch”
 {

743 
	gpublic
:

744 
usšg
 
is_g‹¡_m©ch”
 = ;

746 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

747 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
T
& , 
¡d
::
o¡»am
* ) const {

748  
Œue
;

750 
DesüibeTo
(
¡d
::
o¡»am
* 
os
) const { *os << "is‡nything"; }

751 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
) const {

755 *
os
 << "never matches";

761 şas 
	cIsNuÎM©ch”
 {

762 
	gpublic
:

763 
‹m¶©e
 <
ty³Çme
 
Poš‹r
>

764 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
Poš‹r
& 
p
,

765 
M©chResuÉLi¡’”
* ) const {

766  
	gp
 =ğ
nuÎ±r
;

769 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
) const { *os << "is NULL"; }

770 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
) const {

771 *
os
 << "isn't NULL";

777 şas 
	cNÙNuÎM©ch”
 {

778 
	gpublic
:

779 
‹m¶©e
 <
ty³Çme
 
Poš‹r
>

780 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
Poš‹r
& 
p
,

781 
M©chResuÉLi¡’”
* ) const {

782  
	gp
 !ğ
nuÎ±r
;

785 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
) const { *os << "isn't NULL"; }

786 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
) const {

787 *
os
 << "is NULL";

804 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

805 
şass
 
	gRefM©ch”
;

807 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

808 
şass
 
	gRefM©ch”
<
	gT
&> {

814 
	gpublic
:

818 
ex¶ic™
 
RefM©ch”
(
T
& 
x
è: 
objeù_
(x) {}

820 
‹m¶©e
 <
ty³Çme
 
Su³r
>

821 
İ”©Ü
 
M©ch”
<
Su³r
&>() const {

827  
MakeM©ch”
(
Ãw
 
Im¶
<
Su³r
>(
objeù_
));

830 
	g´iv©e
:

831 
‹m¶©e
 <
ty³Çme
 
Su³r
>

832 
şass
 
Im¶
 : 
public
 
M©ch”IÁ”çû
<
Su³r
&> {

833 
public
:

834 
ex¶ic™
 
Im¶
(
Su³r
& 
x
è: 
objeù_
(x) {}

838 
boŞ
 
M©chAndEx¶aš
(
Su³r
& 
x
,

839 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

840 *
	gli¡’”
 << "which i loÿ‹d @" << 
	g¡©ic_ÿ¡
<cÚ¡ *>(&
	gx
);

841  &
	gx
 =ğ&
objeù_
;

844 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

845 *
os
 << "referenceshe variable ";

846 
	gUniv”§lPrš‹r
<
	gSu³r
&>::
Pršt
(
objeù_
, 
os
);

849 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

850 *
os
 << "does‚ot„eferencehe variable ";

851 
	gUniv”§lPrš‹r
<
	gSu³r
&>::
Pršt
(
objeù_
, 
os
);

854 
	g´iv©e
:

855 cÚ¡ 
Su³r
& 
objeù_
;

858 
	gT
& 
	gobjeù_
;

862 
šlše
 
boŞ
 
Ca£In£ns™iveCSŒšgEqu®s
(cÚ¡ * 
lhs
, cÚ¡ * 
rhs
) {

863  
	gSŒšg
::
Ca£In£ns™iveCSŒšgEqu®s
(
lhs
, 
rhs
);

866 
šlše
 
boŞ
 
Ca£In£ns™iveCSŒšgEqu®s
(cÚ¡ 
wch¬_t
* 
lhs
,

867 cÚ¡ 
wch¬_t
* 
rhs
) {

868  
	gSŒšg
::
Ca£In£ns™iveWideCSŒšgEqu®s
(
lhs
, 
rhs
);

873 
	g‹m¶©e
 <
ty³Çme
 
	gSŒšgTy³
>

874 
boŞ
 
Ca£In£ns™iveSŒšgEqu®s
(cÚ¡ 
SŒšgTy³
& 
s1
,

875 cÚ¡ 
SŒšgTy³
& 
s2
) {

877 ià(!
Ca£In£ns™iveCSŒšgEqu®s
(
s1
.
c_¡r
(), 
s2
.c_str())) {

878  
	gçl£
;

882 cÚ¡ 
ty³Çme
 
	gSŒšgTy³
::
v®ue_ty³
 
nul
 = 0;

883 cÚ¡ 
size_t
 
	gi1
 = 
s1
.
fšd
(
nul
), 
	gi2
 = 
s2
.find(nul);

886 ià(
	gi1
 =ğ
SŒšgTy³
::
Åos
 || 
i2
 == StringType::npos) {

887  
i1
 =ğ
i2
;

891  
Ca£In£ns™iveSŒšgEqu®s
(
s1
.
sub¡r
(
i1
 + 1), 
s2
.sub¡r(
i2
 + 1));

897 
	g‹m¶©e
 <
ty³Çme
 
	gSŒšgTy³
>

898 şas 
	cSŒEqu®™yM©ch”
 {

899 
	gpublic
:

900 
SŒEqu®™yM©ch”
(
SŒšgTy³
 
¡r
, 
boŞ
 
ex³ù_eq
, boŞ 
ÿ£_£ns™ive
)

901 : 
¡ršg_
(
¡d
::
move
(
¡r
)),

902 
ex³ù_eq_
(
ex³ù_eq
),

903 
ÿ£_£ns™ive_
(
ÿ£_£ns™ive
) {}

905 #ià
GTEST_INTERNAL_HAS_STRING_VIEW


906 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
š‹º®
::
SŒšgV›w
& 
s
,

907 
M©chResuÉLi¡’”
* 
li¡’”
) const {

910 cÚ¡ 
	gSŒšgTy³
& 
	g¡r
 = 
¡d
::
¡ršg
(
s
);

911  
M©chAndEx¶aš
(
¡r
, 
li¡’”
);

920 
	g‹m¶©e
 <
ty³Çme
 
	gCh¬Ty³
>

921 
boŞ
 
M©chAndEx¶aš
(
Ch¬Ty³
* 
s
, 
M©chResuÉLi¡’”
* 
li¡’”
) const {

922 ià(
	gs
 =ğ
nuÎ±r
) {

923  !
ex³ù_eq_
;

925  
M©chAndEx¶aš
(
SŒšgTy³
(
s
), 
li¡’”
);

932 
	g‹m¶©e
 <
ty³Çme
 
	gM©ch“SŒšgTy³
>

933 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
M©ch“SŒšgTy³
& 
s
,

934 
M©chResuÉLi¡’”
* ) const {

935 cÚ¡ 
SŒšgTy³
 
s2
(
s
);

936 cÚ¡ 
boŞ
 
	geq
 = 
ÿ£_£ns™ive_
 ? 
s2
 =ğ
¡ršg_
 :

937 
Ca£In£ns™iveSŒšgEqu®s
(
s2
, 
¡ršg_
);

938  
	gex³ù_eq_
 =ğ
eq
;

941 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
) const {

942 
DesüibeToH–³r
(
ex³ù_eq_
, 
os
);

945 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
) const {

946 
DesüibeToH–³r
(!
ex³ù_eq_
, 
os
);

949 
	g´iv©e
:

950 
DesüibeToH–³r
(
boŞ
 
ex³ù_eq
, ::
¡d
::
o¡»am
* 
os
) const {

951 *
os
 << (
ex³ù_eq
 ? "is " : "isn't ");

952 *
	gos
 << "equalo ";

953 ià(!
	gÿ£_£ns™ive_
) {

954 *
	gos
 << "(ignoring case) ";

956 
Univ”§lPršt
(
¡ršg_
, 
os
);

959 cÚ¡ 
SŒšgTy³
 
	g¡ršg_
;

960 cÚ¡ 
boŞ
 
	gex³ù_eq_
;

961 cÚ¡ 
boŞ
 
	gÿ£_£ns™ive_
;

967 
	g‹m¶©e
 <
ty³Çme
 
	gSŒšgTy³
>

968 şas 
	cHasSub¡rM©ch”
 {

969 
	gpublic
:

970 
ex¶ic™
 
HasSub¡rM©ch”
(cÚ¡ 
SŒšgTy³
& 
sub¡ršg
)

971 : 
sub¡ršg_
(
sub¡ršg
) {}

973 #ià
GTEST_INTERNAL_HAS_STRING_VIEW


974 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
š‹º®
::
SŒšgV›w
& 
s
,

975 
M©chResuÉLi¡’”
* 
li¡’”
) const {

978 cÚ¡ 
	gSŒšgTy³
& 
	g¡r
 = 
¡d
::
¡ršg
(
s
);

979  
M©chAndEx¶aš
(
¡r
, 
li¡’”
);

988 
	g‹m¶©e
 <
ty³Çme
 
	gCh¬Ty³
>

989 
boŞ
 
M©chAndEx¶aš
(
Ch¬Ty³
* 
s
, 
M©chResuÉLi¡’”
* 
li¡’”
) const {

990  
	gs
 !ğ
nuÎ±r
 && 
M©chAndEx¶aš
(
SŒšgTy³
(
s
), 
li¡’”
);

997 
	g‹m¶©e
 <
ty³Çme
 
	gM©ch“SŒšgTy³
>

998 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
M©ch“SŒšgTy³
& 
s
,

999 
M©chResuÉLi¡’”
* ) const {

1000  
SŒšgTy³
(
s
).
fšd
(
sub¡ršg_
è!ğSŒšgTy³::
Åos
;

1004 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
) const {

1005 *
os
 << "has substring ";

1006 
Univ”§lPršt
(
sub¡ršg_
, 
os
);

1009 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
) const {

1010 *
os
 << "has‚o substring ";

1011 
Univ”§lPršt
(
sub¡ršg_
, 
os
);

1014 
	g´iv©e
:

1015 cÚ¡ 
SŒšgTy³
 
sub¡ršg_
;

1021 
	g‹m¶©e
 <
ty³Çme
 
	gSŒšgTy³
>

1022 şas 
	cS¹sW™hM©ch”
 {

1023 
	gpublic
:

1024 
ex¶ic™
 
S¹sW™hM©ch”
(cÚ¡ 
SŒšgTy³
& 
´efix
è: 
´efix_
(prefix) {

1027 #ià
GTEST_INTERNAL_HAS_STRING_VIEW


1028 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
š‹º®
::
SŒšgV›w
& 
s
,

1029 
M©chResuÉLi¡’”
* 
li¡’”
) const {

1032 cÚ¡ 
	gSŒšgTy³
& 
	g¡r
 = 
¡d
::
¡ršg
(
s
);

1033  
M©chAndEx¶aš
(
¡r
, 
li¡’”
);

1042 
	g‹m¶©e
 <
ty³Çme
 
	gCh¬Ty³
>

1043 
boŞ
 
M©chAndEx¶aš
(
Ch¬Ty³
* 
s
, 
M©chResuÉLi¡’”
* 
li¡’”
) const {

1044  
	gs
 !ğ
nuÎ±r
 && 
M©chAndEx¶aš
(
SŒšgTy³
(
s
), 
li¡’”
);

1051 
	g‹m¶©e
 <
ty³Çme
 
	gM©ch“SŒšgTy³
>

1052 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
M©ch“SŒšgTy³
& 
s
,

1053 
M©chResuÉLi¡’”
* ) const {

1054 cÚ¡ 
	gSŒšgTy³
& 
s2
(
s
);

1055  
	gs2
.
Ëngth
(è>ğ
´efix_
.length() &&

1056 
s2
.
sub¡r
(0, 
´efix_
.
Ëngth
()) ==…refix_;

1059 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
) const {

1060 *
os
 << "starts with ";

1061 
Univ”§lPršt
(
´efix_
, 
os
);

1064 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
) const {

1065 *
os
 << "doesn't start with ";

1066 
Univ”§lPršt
(
´efix_
, 
os
);

1069 
	g´iv©e
:

1070 cÚ¡ 
SŒšgTy³
 
´efix_
;

1076 
	g‹m¶©e
 <
ty³Çme
 
	gSŒšgTy³
>

1077 şas 
	cEndsW™hM©ch”
 {

1078 
	gpublic
:

1079 
ex¶ic™
 
EndsW™hM©ch”
(cÚ¡ 
SŒšgTy³
& 
suffix
è: 
suffix_
(suffix) {}

1081 #ià
GTEST_INTERNAL_HAS_STRING_VIEW


1082 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
š‹º®
::
SŒšgV›w
& 
s
,

1083 
M©chResuÉLi¡’”
* 
li¡’”
) const {

1086 cÚ¡ 
	gSŒšgTy³
& 
	g¡r
 = 
¡d
::
¡ršg
(
s
);

1087  
M©chAndEx¶aš
(
¡r
, 
li¡’”
);

1096 
	g‹m¶©e
 <
ty³Çme
 
	gCh¬Ty³
>

1097 
boŞ
 
M©chAndEx¶aš
(
Ch¬Ty³
* 
s
, 
M©chResuÉLi¡’”
* 
li¡’”
) const {

1098  
	gs
 !ğ
nuÎ±r
 && 
M©chAndEx¶aš
(
SŒšgTy³
(
s
), 
li¡’”
);

1105 
	g‹m¶©e
 <
ty³Çme
 
	gM©ch“SŒšgTy³
>

1106 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
M©ch“SŒšgTy³
& 
s
,

1107 
M©chResuÉLi¡’”
* ) const {

1108 cÚ¡ 
	gSŒšgTy³
& 
s2
(
s
);

1109  
	gs2
.
Ëngth
(è>ğ
suffix_
.length() &&

1110 
s2
.
sub¡r
(s2.
Ëngth
(è- 
suffix_
.length()) == suffix_;

1113 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
) const {

1114 *
os
 << "ends with ";

1115 
Univ”§lPršt
(
suffix_
, 
os
);

1118 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
) const {

1119 *
os
 << "doesn'tƒnd with ";

1120 
Univ”§lPršt
(
suffix_
, 
os
);

1123 
	g´iv©e
:

1124 cÚ¡ 
SŒšgTy³
 
suffix_
;

1135 
	g‹m¶©e
 <
ty³Çme
 
	gD
,y³Çm
	gOp
>

1136 şas 
	cPaœM©chBa£
 {

1137 
	gpublic
:

1138 
‹m¶©e
 <
ty³Çme
 
T1
,y³Çm
	gT2
>

1139 
İ”©Ü
 
	gM©ch”
<::
¡d
::
tu¶e
<
T1
, 
	gT2
>>() const {

1140  
	gM©ch”
<::
¡d
::
tu¶e
<
T1
, 
	gT2
>>(
Ãw
 
	gIm¶
<const ::std::tuple<T1, T2>&>);

1142 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
>

1143 
İ”©Ü
 
	gM©ch”
<cÚ¡ ::
¡d
::
tu¶e
<
T1
, 
	gT2
>&>() const {

1144  
MakeM©ch”
(
Ãw
 
Im¶
<cÚ¡ ::
¡d
::
tu¶e
<
T1
, 
T2
>&>);

1147 
	g´iv©e
:

1148 ::
¡d
::
o¡»am
& 
G‘Desc
(::¡d::o¡»am& 
os
) {

1149  
os
 << 
D
::
Desc
();

1152 
	g‹m¶©e
 <
ty³Çme
 
	gTu¶e
>

1153 
şass
 
	gIm¶
 : 
public
 
M©ch”IÁ”çû
<
Tu¶e
> {

1154 
public
:

1155 
boŞ
 
M©chAndEx¶aš
(
Tu¶e
 
¬gs
,

1156 
M©chResuÉLi¡’”
* ) cÚ¡ 
	gov”ride
 {

1157  
Op
()(::
¡d
::
g‘
<0>(
¬gs
), ::std::get<1>(args));

1159 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1160 *
os
 << "¬" << 
G‘Desc
;

1162 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1163 *
os
 << "¬’'ˆ" << 
G‘Desc
;

1168 
şass
 
	gEq2M©ch”
 : 
public
 
PaœM©chBa£
<
Eq2M©ch”
, 
	gAnyEq
> {

1169 
	gpublic
:

1170 cÚ¡ * 
Desc
() {  "anƒqual…air"; }

1172 
şass
 
	gNe2M©ch”
 : 
public
 
PaœM©chBa£
<
Ne2M©ch”
, 
	gAnyNe
> {

1173 
	gpublic
:

1174 cÚ¡ * 
Desc
() {  "an unequal…air"; }

1176 
şass
 
	gLt2M©ch”
 : 
public
 
PaœM©chBa£
<
Lt2M©ch”
, 
	gAnyLt
> {

1177 
	gpublic
:

1178 cÚ¡ * 
Desc
() {  "a…air wherehe first <he second"; }

1180 
şass
 
	gGt2M©ch”
 : 
public
 
PaœM©chBa£
<
Gt2M©ch”
, 
	gAnyGt
> {

1181 
	gpublic
:

1182 cÚ¡ * 
Desc
() {  "a…air wherehe first >he second"; }

1184 
şass
 
	gLe2M©ch”
 : 
public
 
PaœM©chBa£
<
Le2M©ch”
, 
	gAnyLe
> {

1185 
	gpublic
:

1186 cÚ¡ * 
Desc
() {  "a…air wherehe first <=he second"; }

1188 
şass
 
	gGe2M©ch”
 : 
public
 
PaœM©chBa£
<
Ge2M©ch”
, 
	gAnyGe
> {

1189 
	gpublic
:

1190 cÚ¡ * 
Desc
() {  "a…air wherehe first >=he second"; }

1197 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1198 
şass
 
	gNÙM©ch”Im¶
 : 
public
 
M©ch”IÁ”çû
<cÚ¡ 
T
&> {

1199 
public
:

1200 
ex¶ic™
 
NÙM©ch”Im¶
(cÚ¡ 
M©ch”
<
T
>& 
m©ch”
)

1201 : 
m©ch”_
(
m©ch”
) {}

1203 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
T
& 
x
,

1204 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

1205  !
	gm©ch”_
.
M©chAndEx¶aš
(
x
, 
li¡’”
);

1208 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1209 
m©ch”_
.
DesüibeNeg©iÚTo
(
os
);

1212 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1213 
m©ch”_
.
DesüibeTo
(
os
);

1216 
	g´iv©e
:

1217 cÚ¡ 
M©ch”
<
T
> 
m©ch”_
;

1222 
	g‹m¶©e
 <
ty³Çme
 
	gIÂ”M©ch”
>

1223 şas 
	cNÙM©ch”
 {

1224 
	gpublic
:

1225 
ex¶ic™
 
NÙM©ch”
(
IÂ”M©ch”
 
m©ch”
è: 
m©ch”_
(matcher) {}

1229 
‹m¶©e
 <
ty³Çme
 
T
>

1230 
İ”©Ü
 
M©ch”
<
T
>() const {

1231  
M©ch”
<
T
>(
Ãw
 
NÙM©ch”Im¶
<T>(
SaãM©ch”Ca¡
<T>(
m©ch”_
)));

1234 
	g´iv©e
:

1235 
IÂ”M©ch”
 
m©ch”_
;

1242 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1243 
şass
 
	gAÎOfM©ch”Im¶
 : 
public
 
M©ch”IÁ”çû
<cÚ¡ 
T
&> {

1244 
public
:

1245 
ex¶ic™
 
AÎOfM©ch”Im¶
(
¡d
::
veùÜ
<
M©ch”
<
T
> > 
m©ch”s
)

1246 : 
m©ch”s_
(
¡d
::
move
(
m©ch”s
)) {}

1248 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1249 *
os
 << "(";

1250 
size_t
 
	gi
 = 0; i < 
	gm©ch”s_
.
size
(); ++i) {

1251 ià(
	gi
 !ğ0è*
os
 << ")‡nd (";

1252 
	gm©ch”s_
[
i
].
DesüibeTo
(
os
);

1254 *
	gos
 << ")";

1257 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1258 *
os
 << "(";

1259 
size_t
 
	gi
 = 0; i < 
	gm©ch”s_
.
size
(); ++i) {

1260 ià(
	gi
 !ğ0è*
os
 << ") or (";

1261 
	gm©ch”s_
[
i
].
DesüibeNeg©iÚTo
(
os
);

1263 *
	gos
 << ")";

1266 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
T
& 
x
,

1267 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

1270 
	g¡d
::
¡ršg
 
®l_m©ch_»suÉ
;

1272 
size_t
 
	gi
 = 0; i < 
	gm©ch”s_
.
size
(); ++i) {

1273 
SŒšgM©chResuÉLi¡’”
 
	g¦i¡’”
;

1274 ià(
	gm©ch”s_
[
i
].
M©chAndEx¶aš
(
x
, &
¦i¡’”
)) {

1275 ià(
	g®l_m©ch_»suÉ
.
em±y
()) {

1276 
	g®l_m©ch_»suÉ
 = 
¦i¡’”
.
¡r
();

1278 
	g¡d
::
¡ršg
 
»suÉ
 = 
¦i¡’”
.
¡r
();

1279 ià(!
	g»suÉ
.
em±y
()) {

1280 
	g®l_m©ch_»suÉ
 += ",‡nd ";

1281 
	g®l_m©ch_»suÉ
 +ğ
»suÉ
;

1285 *
	gli¡’”
 << 
	g¦i¡’”
.
¡r
();

1286  
	gçl£
;

1291 *
	gli¡’”
 << 
	g®l_m©ch_»suÉ
;

1292  
	gŒue
;

1295 
	g´iv©e
:

1296 cÚ¡ 
¡d
::
veùÜ
<
M©ch”
<
T
> > 
m©ch”s_
;

1303 
	g‹m¶©e
 <‹m¶©<
ty³Çme
 
	gT
> 
şass
 
	gCombššgM©ch”
, 
	gty³Çme
... 
	gArgs
>

1304 şas 
	cV¬ŸdicM©ch”
 {

1305 
	gpublic
:

1306 
V¬ŸdicM©ch”
(cÚ¡ 
Args
&... 
m©ch”s
)

1307 : 
m©ch”s_
(
m©ch”s
...) {

1308 
¡©ic_as£¹
(...(
Args
) > 0, "Must have‡t†east one matcher.");

1311 
V¬ŸdicM©ch”
(const VariadicMatcher&) = ;

1312 
	gV¬ŸdicM©ch”
& 
	gİ”©Ü
=(cÚ¡ 
V¬ŸdicM©ch”
&èğ
d–‘e
;

1317 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1318 
İ”©Ü
 
	gM©ch”
<
	gT
>() const {

1319 
	g¡d
::
veùÜ
<
M©ch”
<
T
> > 
v®ues
;

1320 
	gC»©eV¬ŸdicM©ch”
<
	gT
>(&
	gv®ues
, 
	g¡d
::
š‹g¿l_cÚ¡ªt
<
size_t
, 0>());

1321  
	gM©ch”
<
	gT
>(
Ãw
 
	gCombššgM©ch”
<T>(
	g¡d
::
move
(
v®ues
)));

1324 
	g´iv©e
:

1325 
‹m¶©e
 <
ty³Çme
 
T
, 
size_t
 
	gI
>

1326 
C»©eV¬ŸdicM©ch”
(
¡d
::
veùÜ
<
M©ch”
<
T
> >* 
v®ues
,

1327 
¡d
::
š‹g¿l_cÚ¡ªt
<
size_t
, 
I
>) const {

1328 
	gv®ues
->
push_back
(
SaãM©ch”Ca¡
<
T
>(
¡d
::
g‘
<
I
>(
m©ch”s_
)));

1329 
	gC»©eV¬ŸdicM©ch”
<
	gT
>(
	gv®ues
, 
	g¡d
::
š‹g¿l_cÚ¡ªt
<
size_t
, 
	gI
 + 1>());

1332 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1333 
C»©eV¬ŸdicM©ch”
(

1334 
¡d
::
veùÜ
<
M©ch”
<
T
> >*,

1335 
¡d
::
š‹g¿l_cÚ¡ªt
<
size_t
, ...(
Args
)>) const {}

1337 
	g¡d
::
tu¶e
<
Args
...> 
m©ch”s_
;

1340 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

1341 
usšg
 
	gAÎOfM©ch”
 = 
V¬ŸdicM©ch”
<
AÎOfM©ch”Im¶
, 
	gArgs
...>;

1347 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1348 
şass
 
	gAnyOfM©ch”Im¶
 : 
public
 
M©ch”IÁ”çû
<cÚ¡ 
T
&> {

1349 
public
:

1350 
ex¶ic™
 
AnyOfM©ch”Im¶
(
¡d
::
veùÜ
<
M©ch”
<
T
> > 
m©ch”s
)

1351 : 
m©ch”s_
(
¡d
::
move
(
m©ch”s
)) {}

1353 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1354 *
os
 << "(";

1355 
size_t
 
	gi
 = 0; i < 
	gm©ch”s_
.
size
(); ++i) {

1356 ià(
	gi
 !ğ0è*
os
 << ") or (";

1357 
	gm©ch”s_
[
i
].
DesüibeTo
(
os
);

1359 *
	gos
 << ")";

1362 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1363 *
os
 << "(";

1364 
size_t
 
	gi
 = 0; i < 
	gm©ch”s_
.
size
(); ++i) {

1365 ià(
	gi
 !ğ0è*
os
 << ")‡nd (";

1366 
	gm©ch”s_
[
i
].
DesüibeNeg©iÚTo
(
os
);

1368 *
	gos
 << ")";

1371 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
T
& 
x
,

1372 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

1373 
	g¡d
::
¡ršg
 
no_m©ch_»suÉ
;

1377 
size_t
 
	gi
 = 0; i < 
	gm©ch”s_
.
size
(); ++i) {

1378 
SŒšgM©chResuÉLi¡’”
 
	g¦i¡’”
;

1379 ià(
	gm©ch”s_
[
i
].
M©chAndEx¶aš
(
x
, &
¦i¡’”
)) {

1380 *
	gli¡’”
 << 
	g¦i¡’”
.
¡r
();

1381  
	gŒue
;

1383 ià(
	gno_m©ch_»suÉ
.
em±y
()) {

1384 
	gno_m©ch_»suÉ
 = 
¦i¡’”
.
¡r
();

1386 
	g¡d
::
¡ršg
 
»suÉ
 = 
¦i¡’”
.
¡r
();

1387 ià(!
	g»suÉ
.
em±y
()) {

1388 
	gno_m©ch_»suÉ
 += ",‡nd ";

1389 
	gno_m©ch_»suÉ
 +ğ
»suÉ
;

1396 *
	gli¡’”
 << 
	gno_m©ch_»suÉ
;

1397  
	gçl£
;

1400 
	g´iv©e
:

1401 cÚ¡ 
¡d
::
veùÜ
<
M©ch”
<
T
> > 
m©ch”s_
;

1405 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

1406 
usšg
 
	gAnyOfM©ch”
 = 
V¬ŸdicM©ch”
<
AnyOfM©ch”Im¶
, 
	gArgs
...>;

1409 
	g‹m¶©e
 <‹m¶©<
	gşass
> 
şass
 
	gM©ch”Im¶
, 
ty³Çme
 
	gT
>

1410 şas 
	cSomeOfA¼ayM©ch”
 {

1411 
	gpublic
:

1414 
‹m¶©e
 <
ty³Çme
 
I‹r
>

1415 
SomeOfA¼ayM©ch”
(
I‹r
 
fœ¡
, I‹¸
Ï¡
è: 
m©ch”s_
(first,†ast) {}

1417 
	g‹m¶©e
 <
ty³Çme
 
	gU
>

1418 
İ”©Ü
 
	gM©ch”
<
	gU
>() const {

1419 
usšg
 
	gRawU
 = 
ty³Çme
 
¡d
::
deÿy
<
U
>::
ty³
;

1420 
	g¡d
::
veùÜ
<
M©ch”
<
RawU
>> 
m©ch”s
;

1421 cÚ¡‡uto& 
	gm©ch”
 : 
m©ch”s_
) {

1422 
m©ch”s
.
push_back
(
M©ch”Ca¡
<
RawU
>(
m©ch”
));

1424  
	gM©ch”
<
	gU
>(
Ãw
 
	gM©ch”Im¶
<
	gRawU
>(
	g¡d
::
move
(
m©ch”s
)));

1427 
	g´iv©e
:

1428 cÚ¡ ::
¡d
::
veùÜ
<
T
> 
m©ch”s_
;

1431 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1432 
usšg
 
	gAÎOfA¼ayM©ch”
 = 
SomeOfA¼ayM©ch”
<
AÎOfM©ch”Im¶
, 
	gT
>;

1434 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1435 
usšg
 
	gAnyOfA¼ayM©ch”
 = 
SomeOfA¼ayM©ch”
<
AnyOfM©ch”Im¶
, 
	gT
>;

1439 
	g‹m¶©e
 <
ty³Çme
 
	gP»diÿ‹
>

1440 şas 
	cTrulyM©ch”
 {

1441 
	gpublic
:

1442 
ex¶ic™
 
TrulyM©ch”
(
P»diÿ‹
 
´ed
è: 
´ediÿ‹_
(pred) {}

1448 
‹m¶©e
 <
ty³Çme
 
T
>

1449 
boŞ
 
M©chAndEx¶aš
(
T
& 
x
,

1450 
M©chResuÉLi¡’”
* 
li¡’”
) const {

1457 ià(
´ediÿ‹_
(
x
))

1458  
	gŒue
;

1459 *
	gli¡’”
 << "didn't satisfyhe given…redicate";

1460  
	gçl£
;

1463 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
) const {

1464 *
os
 << "satisfieshe given…redicate";

1467 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
) const {

1468 *
os
 << "doesn't satisfyhe given…redicate";

1471 
	g´iv©e
:

1472 
P»diÿ‹
 
´ediÿ‹_
;

1477 
	g‹m¶©e
 <
ty³Çme
 
	gM
>

1478 şas 
	cM©ch”AsP»diÿ‹
 {

1479 
	gpublic
:

1480 
ex¶ic™
 
M©ch”AsP»diÿ‹
(
M
 
m©ch”
è: 
m©ch”_
(matcher) {}

1488 
‹m¶©e
 <
ty³Çme
 
T
>

1489 
boŞ
 
İ”©Ü
()(cÚ¡ 
T
& 
x
) const {

1504  
M©ch”Ca¡
<cÚ¡ 
T
&>(
m©ch”_
).
M©ches
(
x
);

1507 
	g´iv©e
:

1508 
M
 
m©ch”_
;

1513 
	g‹m¶©e
 <
ty³Çme
 
	gM
>

1514 şas 
	cP»diÿ‹FÜm©‹rFromM©ch”
 {

1515 
	gpublic
:

1516 
ex¶ic™
 
P»diÿ‹FÜm©‹rFromM©ch”
(
M
 
m
è: 
m©ch”_
(
¡d
::
move
(m)) {}

1521 
‹m¶©e
 <
ty³Çme
 
T
>

1522 
As£¹iÚResuÉ
 
İ”©Ü
()(cÚ¡ * 
v®ue_‹xt
, cÚ¡ 
	gT
& 
	gx
) const {

1534 cÚ¡ 
	gM©ch”
<cÚ¡ 
	gT
&> 
	gm©ch”
 = 
SaãM©ch”Ca¡
<cÚ¡ 
T
&>(
m©ch”_
);

1538 ià(
	gm©ch”
.
M©ches
(
x
)) {

1539  
As£¹iÚSucûss
();

1542 ::
¡d
::
¡ršg¡»am
 
ss
;

1543 
	gss
 << "V®uof: " << 
	gv®ue_‹xt
 << "\n"

1545 
	gm©ch”
.
DesüibeTo
(&
ss
);

1548 
SŒšgM©chResuÉLi¡’”
 
	gli¡’”
;

1549 ià(
M©chPrštAndEx¶aš
(
x
, 
m©ch”
, &
li¡’”
)) {

1550 
	gss
 << "\n The matcher failed onhe initial‡ttempt; but…assed when "

1553 
	gss
 << "\À Aùu®: " << 
	gli¡’”
.
¡r
();

1554  
As£¹iÚFau»
(è<< 
	gss
.
¡r
();

1557 
	g´iv©e
:

1558 cÚ¡ 
M
 
m©ch”_
;

1565 
	g‹m¶©e
 <
ty³Çme
 
	gM
>

1566 
šlše
 
	gP»diÿ‹FÜm©‹rFromM©ch”
<
	gM
>

1567 
MakeP»diÿ‹FÜm©‹rFromM©ch”
(
M
 
m©ch”
) {

1568  
	gP»diÿ‹FÜm©‹rFromM©ch”
<
	gM
>(
	g¡d
::
move
(
m©ch”
));

1573 şas 
	cIsNªM©ch”
 {

1574 
	gpublic
:

1575 
‹m¶©e
 <
ty³Çme
 
FlßtTy³
>

1576 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
FlßtTy³
& 
f
,

1577 
M©chResuÉLi¡’”
* ) const {

1578  (::
¡d
::
i¢ª
)(
f
);

1581 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
) const { *os << "is NaN"; }

1582 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
) const {

1583 *
os
 << "isn't NaN";

1591 
	g‹m¶©e
 <
ty³Çme
 
	gFlßtTy³
>

1592 şas 
	cFlßtšgEqM©ch”
 {

1593 
	gpublic
:

1600 
FlßtšgEqM©ch”
(
FlßtTy³
 
ex³ùed
, 
boŞ
 
Çn_eq_Çn
) :

1601 
ex³ùed_
(
ex³ùed
), 
Çn_eq_Çn_
(
Çn_eq_Çn
), 
max_abs_”rÜ_
(-1) {

1607 
FlßtšgEqM©ch”
(
FlßtTy³
 
ex³ùed
, 
boŞ
 
Çn_eq_Çn
,

1608 
FlßtTy³
 
max_abs_”rÜ
)

1609 : 
ex³ùed_
(
ex³ùed
),

1610 
Çn_eq_Çn_
(
Çn_eq_Çn
),

1611 
max_abs_”rÜ_
(
max_abs_”rÜ
) {

1612 
GTEST_CHECK_
(
max_abs_”rÜ
 >= 0)

1613 << ", wh”max_abs_”rÜ is" << 
max_abs_”rÜ
;

1617 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1618 
şass
 
	gIm¶
 : 
public
 
M©ch”IÁ”çû
<
T
> {

1619 
public
:

1620 
Im¶
(
FlßtTy³
 
ex³ùed
, 
boŞ
 
Çn_eq_Çn
, FlßtTy³ 
max_abs_”rÜ
)

1621 : 
ex³ùed_
(
ex³ùed
),

1622 
Çn_eq_Çn_
(
Çn_eq_Çn
),

1623 
max_abs_”rÜ_
(
max_abs_”rÜ
) {}

1625 
boŞ
 
M©chAndEx¶aš
(
T
 
v®ue
,

1626 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

1627 cÚ¡ 
	gFlßtšgPošt
<
	gFlßtTy³
> 
aùu®
(
v®ue
), 
ex³ùed
(
ex³ùed_
);

1630 ià(
	gaùu®
.
is_Çn
(è|| 
	gex³ùed
.is_nan()) {

1631 ià(
	gaùu®
.
is_Çn
(è&& 
	gex³ùed
.is_nan()) {

1632  
	gÇn_eq_Çn_
;

1635  
	gçl£
;

1637 ià(
HasMaxAbsE¼Ü
()) {

1642 ià(
	gv®ue
 =ğ
ex³ùed_
) {

1643  
Œue
;

1646 cÚ¡ 
FlßtTy³
 
	gdiff
 = 
v®ue
 - 
ex³ùed_
;

1647 ià(::
¡d
::
çbs
(
diff
è<ğ
max_abs_”rÜ_
) {

1648  
Œue
;

1651 ià(
	gli¡’”
->
IsIÁ”e¡ed
()) {

1652 *
	gli¡’”
 << "which i " << 
	gdiff
 << " from " << 
	gex³ùed_
;

1654  
	gçl£
;

1656  
	gaùu®
.
Almo¡Equ®s
(
ex³ùed
);

1660 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1664 cÚ¡ ::
¡d
::
¡»amsize
 
Şd_´ecisiÚ
 = 
os
->
´ecisiÚ
(

1665 ::
¡d
::
num”ic_lim™s
<
FlßtTy³
>::
dig™s10
 + 2);

1666 ià(
	gFlßtšgPošt
<
	gFlßtTy³
>(
	gex³ùed_
).
is_Çn
()) {

1667 ià(
	gÇn_eq_Çn_
) {

1668 *
	gos
 << "is NaN";

1670 *
	gos
 << "never matches";

1673 *
	gos
 << "i ­´oxim©–y " << 
	gex³ùed_
;

1674 ià(
HasMaxAbsE¼Ü
()) {

1675 *
	gos
 << " (absŞu‹ƒ¼Ü <ğ" << 
	gmax_abs_”rÜ_
 << ")";

1678 
	gos
->
´ecisiÚ
(
Şd_´ecisiÚ
);

1681 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1683 cÚ¡ ::
¡d
::
¡»amsize
 
Şd_´ecisiÚ
 = 
os
->
´ecisiÚ
(

1684 ::
¡d
::
num”ic_lim™s
<
FlßtTy³
>::
dig™s10
 + 2);

1685 ià(
	gFlßtšgPošt
<
	gFlßtTy³
>(
	gex³ùed_
).
is_Çn
()) {

1686 ià(
	gÇn_eq_Çn_
) {

1687 *
	gos
 << "isn't NaN";

1689 *
	gos
 << "is‡nything";

1692 *
	gos
 << "i¢'ˆ­´oxim©–y " << 
	gex³ùed_
;

1693 ià(
HasMaxAbsE¼Ü
()) {

1694 *
	gos
 << " (absŞu‹ƒ¼Ü > " << 
	gmax_abs_”rÜ_
 << ")";

1698 
	gos
->
´ecisiÚ
(
Şd_´ecisiÚ
);

1701 
	g´iv©e
:

1702 
boŞ
 
HasMaxAbsE¼Ü
() const {

1703  
max_abs_”rÜ_
 >= 0;

1706 cÚ¡ 
FlßtTy³
 
	gex³ùed_
;

1707 cÚ¡ 
boŞ
 
	gÇn_eq_Çn_
;

1709 cÚ¡ 
FlßtTy³
 
	gmax_abs_”rÜ_
;

1715 
İ”©Ü
 
	gM©ch”
<
	gFlßtTy³
>() const {

1716  
MakeM©ch”
(

1717 
Ãw
 
Im¶
<
FlßtTy³
>(
ex³ùed_
, 
Çn_eq_Çn_
, 
max_abs_”rÜ_
));

1720 
İ”©Ü
 
	gM©ch”
<cÚ¡ 
	gFlßtTy³
&>() const {

1721  
MakeM©ch”
(

1722 
Ãw
 
Im¶
<cÚ¡ 
FlßtTy³
&>(
ex³ùed_
, 
Çn_eq_Çn_
, 
max_abs_”rÜ_
));

1725 
İ”©Ü
 
	gM©ch”
<
	gFlßtTy³
&>() const {

1726  
MakeM©ch”
(

1727 
Ãw
 
Im¶
<
FlßtTy³
&>(
ex³ùed_
, 
Çn_eq_Çn_
, 
max_abs_”rÜ_
));

1730 
	g´iv©e
:

1731 cÚ¡ 
FlßtTy³
 
ex³ùed_
;

1732 cÚ¡ 
boŞ
 
	gÇn_eq_Çn_
;

1734 cÚ¡ 
FlßtTy³
 
	gmax_abs_”rÜ_
;

1742 
	g‹m¶©e
 <
ty³Çme
 
	gFlßtTy³
>

1743 şas 
	cFlßtšgEq2M©ch”
 {

1744 
	gpublic
:

1745 
FlßtšgEq2M©ch”
(è{ 
In™
(-1, 
çl£
); }

1747 
ex¶ic™
 
FlßtšgEq2M©ch”
(
boŞ
 
Çn_eq_Çn
è{ 
In™
(-1,‚an_eq_nan); }

1749 
ex¶ic™
 
FlßtšgEq2M©ch”
(
FlßtTy³
 
max_abs_”rÜ
) {

1750 
In™
(
max_abs_”rÜ
, 
çl£
);

1753 
FlßtšgEq2M©ch”
(
FlßtTy³
 
max_abs_”rÜ
, 
boŞ
 
Çn_eq_Çn
) {

1754 
In™
(
max_abs_”rÜ
, 
Çn_eq_Çn
);

1757 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
>

1758 
İ”©Ü
 
	gM©ch”
<::
¡d
::
tu¶e
<
T1
, 
	gT2
>>() const {

1759  
MakeM©ch”
(

1760 
Ãw
 
Im¶
<::
¡d
::
tu¶e
<
T1
, 
T2
>>(
max_abs_”rÜ_
, 
Çn_eq_Çn_
));

1762 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
>

1763 
İ”©Ü
 
	gM©ch”
<cÚ¡ ::
¡d
::
tu¶e
<
T1
, 
	gT2
>&>() const {

1764  
MakeM©ch”
(

1765 
Ãw
 
Im¶
<cÚ¡ ::
¡d
::
tu¶e
<
T1
, 
T2
>&>(
max_abs_”rÜ_
, 
Çn_eq_Çn_
));

1768 
	g´iv©e
:

1769 ::
¡d
::
o¡»am
& 
G‘Desc
(::¡d::o¡»am& 
os
) {

1770  
os
 << "an‡lmost-equal…air";

1773 
	g‹m¶©e
 <
ty³Çme
 
	gTu¶e
>

1774 
şass
 
	gIm¶
 : 
public
 
M©ch”IÁ”çû
<
Tu¶e
> {

1775 
public
:

1776 
Im¶
(
FlßtTy³
 
max_abs_”rÜ
, 
boŞ
 
Çn_eq_Çn
) :

1777 
max_abs_”rÜ_
(
max_abs_”rÜ
),

1778 
Çn_eq_Çn_
(
Çn_eq_Çn
) {}

1780 
boŞ
 
M©chAndEx¶aš
(
Tu¶e
 
¬gs
,

1781 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

1782 ià(
	gmax_abs_”rÜ_
 == -1) {

1783 
FlßtšgEqM©ch”
<
FlßtTy³
> 
fm
(::
¡d
::
g‘
<0>(
¬gs
), 
Çn_eq_Çn_
);

1784  
	g¡©ic_ÿ¡
<
	gM©ch”
<
	gFlßtTy³
>>(
	gfm
).
M©chAndEx¶aš
(

1785 ::
¡d
::
g‘
<1>(
¬gs
), 
li¡’”
);

1787 
	gFlßtšgEqM©ch”
<
	gFlßtTy³
> 
fm
(::
¡d
::
g‘
<0>(
¬gs
), 
Çn_eq_Çn_
,

1788 
max_abs_”rÜ_
);

1789  
	g¡©ic_ÿ¡
<
	gM©ch”
<
	gFlßtTy³
>>(
	gfm
).
M©chAndEx¶aš
(

1790 ::
¡d
::
g‘
<1>(
¬gs
), 
li¡’”
);

1793 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1794 *
os
 << "¬" << 
G‘Desc
;

1796 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1797 *
os
 << "¬’'ˆ" << 
G‘Desc
;

1800 
	g´iv©e
:

1801 
FlßtTy³
 
max_abs_”rÜ_
;

1802 cÚ¡ 
boŞ
 
	gÇn_eq_Çn_
;

1805 
In™
(
FlßtTy³
 
max_abs_”rÜ_v®
, 
boŞ
 
Çn_eq_Çn_v®
) {

1806 
	gmax_abs_”rÜ_
 = 
max_abs_”rÜ_v®
;

1807 
	gÇn_eq_Çn_
 = 
Çn_eq_Çn_v®
;

1809 
FlßtTy³
 
	gmax_abs_”rÜ_
;

1810 
boŞ
 
	gÇn_eq_Çn_
;

1815 
	g‹m¶©e
 <
ty³Çme
 
	gIÂ”M©ch”
>

1816 şas 
	cPoš‹eM©ch”
 {

1817 
	gpublic
:

1818 
ex¶ic™
 
Poš‹eM©ch”
(cÚ¡ 
IÂ”M©ch”
& 
m©ch”
è: 
m©ch”_
(matcher) {}

1828 
‹m¶©e
 <
ty³Çme
 
Poš‹r
>

1829 
İ”©Ü
 
M©ch”
<
Poš‹r
>() const {

1830  
M©ch”
<
Poš‹r
>(
Ãw
 
Im¶
<cÚ¡ Poš‹r&>(
m©ch”_
));

1833 
	g´iv©e
:

1835 
‹m¶©e
 <
ty³Çme
 
Poš‹r
>

1836 
şass
 
Im¶
 : 
public
 
M©ch”IÁ”çû
<
Poš‹r
> {

1837 
public
:

1838 
usšg
 
Poš‹e
 =

1839 
ty³Çme
 
¡d
::
poš‹r_Œa™s
<
GTEST_REMOVE_REFERENCE_AND_CONST_
(

1840 
Poš‹r
)>::
–em’t_ty³
;

1842 
ex¶ic™
 
Im¶
(cÚ¡ 
IÂ”M©ch”
& 
m©ch”
)

1843 : 
m©ch”_
(
M©ch”Ca¡
<cÚ¡ 
Poš‹e
&>(
m©ch”
)) {}

1845 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1846 *
os
 << "pointso‡ valuehat ";

1847 
	gm©ch”_
.
DesüibeTo
(
os
);

1850 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1851 *
os
 << "does‚ot…ointo‡ valuehat ";

1852 
	gm©ch”_
.
DesüibeTo
(
os
);

1855 
boŞ
 
M©chAndEx¶aš
(
Poš‹r
 
poš‹r
,

1856 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

1857 ià(
G‘RawPoš‹r
(
poš‹r
è=ğ
nuÎ±r
è 
çl£
;

1859 *
	gli¡’”
 << "which…ointso ";

1860  
M©chPrštAndEx¶aš
(*
poš‹r
, 
m©ch”_
, 
li¡’”
);

1863 
	g´iv©e
:

1864 cÚ¡ 
M©ch”
<cÚ¡ 
Poš‹e
&> 
m©ch”_
;

1867 cÚ¡ 
IÂ”M©ch”
 
	gm©ch”_
;

1874 
	g‹m¶©e
 <
ty³Çme
 
	gIÂ”M©ch”
>

1875 şas 
	cPoš‹rM©ch”
 {

1876 
	gpublic
:

1877 
ex¶ic™
 
Poš‹rM©ch”
(cÚ¡ 
IÂ”M©ch”
& 
m©ch”
è: 
m©ch”_
(matcher) {}

1887 
‹m¶©e
 <
ty³Çme
 
Poš‹rTy³
>

1888 
İ”©Ü
 
M©ch”
<
Poš‹rTy³
>() const {

1889  
M©ch”
<
Poš‹rTy³
>(
Ãw
 
Im¶
<cÚ¡ Poš‹rTy³&>(
m©ch”_
));

1892 
	g´iv©e
:

1894 
‹m¶©e
 <
ty³Çme
 
Poš‹rTy³
>

1895 
şass
 
Im¶
 : 
public
 
M©ch”IÁ”çû
<
Poš‹rTy³
> {

1896 
public
:

1897 
usšg
 
Poš‹r
 =

1898 cÚ¡ 
ty³Çme
 
¡d
::
poš‹r_Œa™s
<
GTEST_REMOVE_REFERENCE_AND_CONST_
(

1899 
Poš‹rTy³
)>::
–em’t_ty³
*;

1901 
ex¶ic™
 
Im¶
(cÚ¡ 
IÂ”M©ch”
& 
m©ch”
)

1902 : 
m©ch”_
(
M©ch”Ca¡
<
Poš‹r
>(
m©ch”
)) {}

1904 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1905 *
os
 << "is‡…ointerhat ";

1906 
	gm©ch”_
.
DesüibeTo
(
os
);

1909 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1910 *
os
 << "is‚ot‡…ointerhat ";

1911 
	gm©ch”_
.
DesüibeTo
(
os
);

1914 
boŞ
 
M©chAndEx¶aš
(
Poš‹rTy³
 
poš‹r
,

1915 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

1916 *
	gli¡’”
 << "which is‡…ointerhat ";

1917 
Poš‹r
 
	gp
 = 
G‘RawPoš‹r
(
poš‹r
);

1918  
M©chPrštAndEx¶aš
(
p
, 
m©ch”_
, 
li¡’”
);

1921 
	g´iv©e
:

1922 
M©ch”
<
Poš‹r
> 
m©ch”_
;

1925 cÚ¡ 
IÂ”M©ch”
 
	gm©ch”_
;

1928 #ià
GTEST_HAS_RTTI


1935 
	g‹m¶©e
 <
ty³Çme
 
	gTo
>

1936 şas 
	cWh’DyÇmicCa¡ToM©ch”Ba£
 {

1937 
	gpublic
:

1938 
ex¶ic™
 
Wh’DyÇmicCa¡ToM©ch”Ba£
(cÚ¡ 
M©ch”
<
To
>& 
m©ch”
)

1939 : 
m©ch”_
(
m©ch”
) {}

1941 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
) const {

1942 
G‘Ca¡Ty³DesütiÚ
(
os
);

1943 
	gm©ch”_
.
DesüibeTo
(
os
);

1946 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
) const {

1947 
G‘Ca¡Ty³DesütiÚ
(
os
);

1948 
	gm©ch”_
.
DesüibeNeg©iÚTo
(
os
);

1951 
	g´Ùeùed
:

1952 cÚ¡ 
M©ch”
<
To
> 
m©ch”_
;

1954 
	g¡d
::
¡ršg
 
G‘ToName
() {

1955  
G‘Ty³Name
<
To
>();

1958 
	g´iv©e
:

1959 
G‘Ca¡Ty³DesütiÚ
(::
¡d
::
o¡»am
* 
os
) {

1960 *
os
 << "wh’ dyÇmic_ÿ¡Ø" << 
G‘ToName
() << ", ";

1966 
	g‹m¶©e
 <
ty³Çme
 
	gTo
>

1967 
şass
 
	gWh’DyÇmicCa¡ToM©ch”
 : 
public
 
Wh’DyÇmicCa¡ToM©ch”Ba£
<
To
> {

1968 
public
:

1969 
ex¶ic™
 
Wh’DyÇmicCa¡ToM©ch”
(cÚ¡ 
M©ch”
<
To
>& 
m©ch”
)

1970 : 
Wh’DyÇmicCa¡ToM©ch”Ba£
<
To
>(
m©ch”
) {}

1972 
‹m¶©e
 <
ty³Çme
 
From
>

1973 
boŞ
 
M©chAndEx¶aš
(
From
 
äom
, 
M©chResuÉLi¡’”
* 
li¡’”
) const {

1974 
To
 
	gto
 = 
dyÇmic_ÿ¡
<To>(
äom
);

1975  
M©chPrštAndEx¶aš
(
to
, 
this
->
m©ch”_
, 
li¡’”
);

1981 
	g‹m¶©e
 <
ty³Çme
 
	gTo
>

1982 
şass
 
	gWh’DyÇmicCa¡ToM©ch”
<
	gTo
&> : 
public
 
Wh’DyÇmicCa¡ToM©ch”Ba£
<
To
&> {

1983 
public
:

1984 
ex¶ic™
 
Wh’DyÇmicCa¡ToM©ch”
(cÚ¡ 
M©ch”
<
To
&>& 
m©ch”
)

1985 : 
Wh’DyÇmicCa¡ToM©ch”Ba£
<
To
&>(
m©ch”
) {}

1987 
‹m¶©e
 <
ty³Çme
 
From
>

1988 
boŞ
 
M©chAndEx¶aš
(
From
& 
äom
, 
M©chResuÉLi¡’”
* 
li¡’”
) const {

1990 
To
* 
	gto
 = 
dyÇmic_ÿ¡
<To*>(&
äom
);

1991 ià(
	gto
 =ğ
nuÎ±r
) {

1992 *
li¡’”
 << "which cªnÙ bdyÇmic_ÿ¡Ø" << 
this
->
G‘ToName
();

1993  
	gçl£
;

1995  
M©chPrštAndEx¶aš
(*
to
, 
this
->
m©ch”_
, 
li¡’”
);

2002 
	g‹m¶©e
 <
ty³Çme
 
	gCÏss
,y³Çm
	gF›ldTy³
>

2003 şas 
	cF›ldM©ch”
 {

2004 
	gpublic
:

2005 
F›ldM©ch”
(
F›ldTy³
 
CÏss
::*
f›ld
,

2006 cÚ¡ 
M©ch”
<cÚ¡ 
F›ldTy³
&>& 
m©ch”
)

2007 : 
f›ld_
(
f›ld
), 
m©ch”_
(
m©ch”
), 
who£_f›ld_
("whose given field ") {}

2009 
F›ldM©ch”
(cÚ¡ 
¡d
::
¡ršg
& 
f›ld_Çme
, 
F›ldTy³
 
CÏss
::*
f›ld
,

2010 cÚ¡ 
M©ch”
<cÚ¡ 
F›ldTy³
&>& 
m©ch”
)

2011 : 
f›ld_
(
f›ld
),

2012 
m©ch”_
(
m©ch”
),

2013 
who£_f›ld_
("who£ f›ld `" + 
f›ld_Çme
 + "` ") {}

2015 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
) const {

2016 *
os
 << "i ª objeù " << 
who£_f›ld_
;

2017 
	gm©ch”_
.
DesüibeTo
(
os
);

2020 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
) const {

2021 *
os
 << "i ª objeù " << 
who£_f›ld_
;

2022 
	gm©ch”_
.
DesüibeNeg©iÚTo
(
os
);

2025 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2026 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
T
& 
v®ue
, 
M©chResuÉLi¡’”
* 
li¡’”
) const {

2029  
M©chAndEx¶ašIm¶
(

2030 
ty³Çme
 
¡d
::
is_poš‹r
<ty³Çm¡d::
»move_cÚ¡
<
T
>::
ty³
>::type(),

2031 
v®ue
, 
li¡’”
);

2034 
	g´iv©e
:

2035 
boŞ
 
M©chAndEx¶ašIm¶
(
¡d
::
çl£_ty³
 ,

2036 cÚ¡ 
CÏss
& 
obj
,

2037 
M©chResuÉLi¡’”
* 
li¡’”
) const {

2038 *
	gli¡’”
 << 
	gwho£_f›ld_
 << "is ";

2039  
M©chPrštAndEx¶aš
(
obj
.*
f›ld_
, 
m©ch”_
, 
li¡’”
);

2042 
boŞ
 
M©chAndEx¶ašIm¶
(
¡d
::
Œue_ty³
 , cÚ¡ 
CÏss
* 
p
,

2043 
M©chResuÉLi¡’”
* 
li¡’”
) const {

2044 ià(
	gp
 =ğ
nuÎ±r
è 
çl£
;

2046 *
	gli¡’”
 << "which…ointso‡n object ";

2050  
M©chAndEx¶ašIm¶
(
¡d
::
çl£_ty³
(), *
p
, 
li¡’”
);

2053 cÚ¡ 
F›ldTy³
 
	gCÏss
::*
f›ld_
;

2054 cÚ¡ 
	gM©ch”
<cÚ¡ 
	gF›ldTy³
&> 
	gm©ch”_
;

2058 cÚ¡ 
	g¡d
::
¡ršg
 
who£_f›ld_
;

2066 
	g‹m¶©e
 <
ty³Çme
 
	gCÏss
,y³Çm
	gPrİ”tyTy³
,y³Çm
	gPrİ”ty
>

2067 şas 
	cPrİ”tyM©ch”
 {

2068 
	gpublic
:

2069 cÚ¡ 
	tPrİ”tyTy³
& 
	tRefToCÚ¡Prİ”ty
;

2071 
Prİ”tyM©ch”
(
Prİ”ty
 
´İ”ty
, cÚ¡ 
M©ch”
<
RefToCÚ¡Prİ”ty
>& 
m©ch”
)

2072 : 
´İ”ty_
(
´İ”ty
),

2073 
m©ch”_
(
m©ch”
),

2074 
who£_´İ”ty_
("whose given…roperty ") {}

2076 
Prİ”tyM©ch”
(cÚ¡ 
¡d
::
¡ršg
& 
´İ”ty_Çme
, 
Prİ”ty
 
´İ”ty
,

2077 cÚ¡ 
M©ch”
<
RefToCÚ¡Prİ”ty
>& 
m©ch”
)

2078 : 
´İ”ty_
(
´İ”ty
),

2079 
m©ch”_
(
m©ch”
),

2080 
who£_´İ”ty_
("who£…rİ”ty `" + 
´İ”ty_Çme
 + "` ") {}

2082 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
) const {

2083 *
os
 << "i ª objeù " << 
who£_´İ”ty_
;

2084 
	gm©ch”_
.
DesüibeTo
(
os
);

2087 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
) const {

2088 *
os
 << "i ª objeù " << 
who£_´İ”ty_
;

2089 
	gm©ch”_
.
DesüibeNeg©iÚTo
(
os
);

2092 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2093 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
T
&
v®ue
, 
M©chResuÉLi¡’”
* 
li¡’”
) const {

2094  
M©chAndEx¶ašIm¶
(

2095 
ty³Çme
 
¡d
::
is_poš‹r
<ty³Çm¡d::
»move_cÚ¡
<
T
>::
ty³
>::type(),

2096 
v®ue
, 
li¡’”
);

2099 
	g´iv©e
:

2100 
boŞ
 
M©chAndEx¶ašIm¶
(
¡d
::
çl£_ty³
 ,

2101 cÚ¡ 
CÏss
& 
obj
,

2102 
M©chResuÉLi¡’”
* 
li¡’”
) const {

2103 *
	gli¡’”
 << 
	gwho£_´İ”ty_
 << "is ";

2106 
RefToCÚ¡Prİ”ty
 
	g»suÉ
 = (
obj
.*
´İ”ty_
)();

2107  
M©chPrštAndEx¶aš
(
»suÉ
, 
m©ch”_
, 
li¡’”
);

2110 
boŞ
 
M©chAndEx¶ašIm¶
(
¡d
::
Œue_ty³
 , cÚ¡ 
CÏss
* 
p
,

2111 
M©chResuÉLi¡’”
* 
li¡’”
) const {

2112 ià(
	gp
 =ğ
nuÎ±r
è 
çl£
;

2114 *
	gli¡’”
 << "which…ointso‡n object ";

2118  
M©chAndEx¶ašIm¶
(
¡d
::
çl£_ty³
(), *
p
, 
li¡’”
);

2121 
Prİ”ty
 
	g´İ”ty_
;

2122 cÚ¡ 
	gM©ch”
<
	gRefToCÚ¡Prİ”ty
> 
	gm©ch”_
;

2126 cÚ¡ 
	g¡d
::
¡ršg
 
who£_´İ”ty_
;

2131 
	g‹m¶©e
 <
ty³Çme
 
	gFunùÜ
>

2132 
	sC®ÏbËT¿™s
 {

2133 
FunùÜ
 
	tStÜageTy³
;

2135 
CheckIsV®id
(
FunùÜ
 ) {}

2137 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2138 autØ
Invoke
(
FunùÜ
 
f
, cÚ¡ 
T
& 
¬g
è-> 
deşty³
(f(arg)) {

2139  
f
(
¬g
);

2144 
	g‹m¶©e
 <
ty³Çme
 
	gArgTy³
,y³Çm
	gResTy³
>

2145 
	gC®ÏbËT¿™s
<
ResTy³
(*)(
	gArgTy³
)> {

2146 
ResTy³
 
	tResuÉTy³
;

2147 
ResTy³
(*
	tStÜageTy³
)(
	tArgTy³
);

2149 
CheckIsV®id
(
ResTy³
(*
f
)(
ArgTy³
)) {

2150 
GTEST_CHECK_
(
f
 !ğ
nuÎ±r
)

2153 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2154 
ResTy³
 
Invoke
(ResTy³(*
f
)(
ArgTy³
), 
T
 
¬g
) {

2155  (*
	gf
)(
	g¬g
);

2161 
	g‹m¶©e
 <
ty³Çme
 
	gC®ÏbË
,y³Çm
	gIÂ”M©ch”
>

2162 şas 
	cResuÉOfM©ch”
 {

2163 
	gpublic
:

2164 
ResuÉOfM©ch”
(
C®ÏbË
 
ÿÎabË
, 
IÂ”M©ch”
 
m©ch”
)

2165 : 
ÿÎabË_
(
¡d
::
move
(
ÿÎabË
)), 
m©ch”_
(¡d::move(
m©ch”
)) {

2166 
C®ÏbËT¿™s
<
C®ÏbË
>::
CheckIsV®id
(
ÿÎabË_
);

2169 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2170 
İ”©Ü
 
	gM©ch”
<
	gT
>() const {

2171  
	gM©ch”
<
	gT
>(
Ãw
 
	gIm¶
<cÚ¡ T&>(
	gÿÎabË_
, 
	gm©ch”_
));

2174 
	g´iv©e
:

2175 
ty³Çme
 
	tC®ÏbËT¿™s
<
	tC®ÏbË
>::
	tStÜageTy³
 
	tC®ÏbËStÜageTy³
;

2177 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2178 
şass
 
	gIm¶
 : 
public
 
M©ch”IÁ”çû
<
T
> {

2179 
usšg
 
ResuÉTy³
 = 
deşty³
(
C®ÏbËT¿™s
<
C®ÏbË
>::
‹m¶©e
 
Invoke
<
T
>(

2180 
¡d
::
deşv®
<
C®ÏbËStÜageTy³
>(), std::deşv®<
T
>()));

2182 
	gpublic
:

2183 
‹m¶©e
 <
ty³Çme
 
M
>

2184 
Im¶
(cÚ¡ 
C®ÏbËStÜageTy³
& 
ÿÎabË
, cÚ¡ 
M
& 
m©ch”
)

2185 : 
ÿÎabË_
(
ÿÎabË
), 
m©ch”_
(
M©ch”Ca¡
<
ResuÉTy³
>(
m©ch”
)) {}

2187 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2188 *
os
 << "is mapped byhe given callableo‡ valuehat ";

2189 
	gm©ch”_
.
DesüibeTo
(
os
);

2192 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2193 *
os
 << "is mapped byhe given callableo‡ valuehat ";

2194 
	gm©ch”_
.
DesüibeNeg©iÚTo
(
os
);

2197 
boŞ
 
M©chAndEx¶aš
(
T
 
obj
, 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

2198 *
	gli¡’”
 << "which is mapped byhe given callableo ";

2203 
ResuÉTy³
 
	g»suÉ
 =

2204 
C®ÏbËT¿™s
<
C®ÏbË
>::
‹m¶©e
 
Invoke
<
T
>(
ÿÎabË_
, 
	gobj
);

2205  
M©chPrštAndEx¶aš
(
»suÉ
, 
m©ch”_
, 
li¡’”
);

2208 
	g´iv©e
:

2214 
mubË
 
C®ÏbËStÜageTy³
 
ÿÎabË_
;

2215 cÚ¡ 
	gM©ch”
<
	gResuÉTy³
> 
	gm©ch”_
;

2218 cÚ¡ 
C®ÏbËStÜageTy³
 
	gÿÎabË_
;

2219 cÚ¡ 
IÂ”M©ch”
 
	gm©ch”_
;

2223 
	g‹m¶©e
 <
ty³Çme
 
	gSizeM©ch”
>

2224 şas 
	cSizeIsM©ch”
 {

2225 
	gpublic
:

2226 
ex¶ic™
 
SizeIsM©ch”
(cÚ¡ 
SizeM©ch”
& 
size_m©ch”
)

2227 : 
size_m©ch”_
(
size_m©ch”
) {

2230 
‹m¶©e
 <
ty³Çme
 
CÚš”
>

2231 
İ”©Ü
 
M©ch”
<
CÚš”
>() const {

2232  
M©ch”
<
CÚš”
>(
Ãw
 
Im¶
<cÚ¡ CÚš”&>(
size_m©ch”_
));

2235 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

2236 
şass
 
	gIm¶
 : 
public
 
M©ch”IÁ”çû
<
CÚš”
> {

2237 
public
:

2238 
usšg
 
SizeTy³
 = 
deşty³
(
¡d
::
deşv®
<
CÚš”
>().
size
());

2239 
ex¶ic™
 
Im¶
(cÚ¡ 
SizeM©ch”
& 
size_m©ch”
)

2240 : 
size_m©ch”_
(
M©ch”Ca¡
<
SizeTy³
>(
size_m©ch”
)) {}

2242 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2243 *
os
 << "size ";

2244 
	gsize_m©ch”_
.
DesüibeTo
(
os
);

2246 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2247 *
os
 << "size ";

2248 
	gsize_m©ch”_
.
DesüibeNeg©iÚTo
(
os
);

2251 
boŞ
 
M©chAndEx¶aš
(
CÚš”
 
cÚš”
,

2252 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

2253 
SizeTy³
 
	gsize
 = 
cÚš”
.
size
();

2254 
SŒšgM©chResuÉLi¡’”
 
	gsize_li¡’”
;

2255 cÚ¡ 
boŞ
 
	g»suÉ
 = 
size_m©ch”_
.
M©chAndEx¶aš
(
size
, &
size_li¡’”
);

2256 *
	gli¡’”


2257 << "who£ siz" << 
	gsize
 << (
	g»suÉ
 ? " matches" : " doesn't match");

2258 
PrštIfNÙEm±y
(
size_li¡’”
.
¡r
(), 
li¡’”
->
¡»am
());

2259  
	g»suÉ
;

2262 
	g´iv©e
:

2263 cÚ¡ 
M©ch”
<
SizeTy³
> 
size_m©ch”_
;

2266 
	g´iv©e
:

2267 cÚ¡ 
SizeM©ch”
 
size_m©ch”_
;

2272 
	g‹m¶©e
 <
ty³Çme
 
	gDi¡ªûM©ch”
>

2273 şas 
	cBegšEndDi¡ªûIsM©ch”
 {

2274 
	gpublic
:

2275 
ex¶ic™
 
BegšEndDi¡ªûIsM©ch”
(cÚ¡ 
Di¡ªûM©ch”
& 
di¡ªû_m©ch”
)

2276 : 
di¡ªû_m©ch”_
(
di¡ªû_m©ch”
) {}

2278 
‹m¶©e
 <
ty³Çme
 
CÚš”
>

2279 
İ”©Ü
 
M©ch”
<
CÚš”
>() const {

2280  
M©ch”
<
CÚš”
>(
Ãw
 
Im¶
<cÚ¡ CÚš”&>(
di¡ªû_m©ch”_
));

2283 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

2284 
şass
 
	gIm¶
 : 
public
 
M©ch”IÁ”çû
<
CÚš”
> {

2285 
public
:

2286 
š‹º®
::
	tSCÚš”V›w
<

2287 
	tGTEST_REMOVE_REFERENCE_AND_CONST_
(
	tCÚš”
)> 
	tCÚš”V›w
;

2288 
ty³Çme
 
	t¡d
::
	t™”©Ü_Œa™s
<

2289 
	tty³Çme
 
	tCÚš”V›w
::
	tty³
::
	tcÚ¡_™”©Ü
>::
	tdifã»nû_ty³


2290 
	tDi¡ªûTy³
;

2291 
ex¶ic™
 
Im¶
(cÚ¡ 
Di¡ªûM©ch”
& 
di¡ªû_m©ch”
)

2292 : 
di¡ªû_m©ch”_
(
M©ch”Ca¡
<
Di¡ªûTy³
>(
di¡ªû_m©ch”
)) {}

2294 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2295 *
os
 << "distance between begin()‡ndƒnd() ";

2296 
	gdi¡ªû_m©ch”_
.
DesüibeTo
(
os
);

2298 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2299 *
os
 << "distance between begin()‡ndƒnd() ";

2300 
	gdi¡ªû_m©ch”_
.
DesüibeNeg©iÚTo
(
os
);

2303 
boŞ
 
M©chAndEx¶aš
(
CÚš”
 
cÚš”
,

2304 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

2305 
usšg
 
	g¡d
::
begš
;

2306 
usšg
 
	g¡d
::
’d
;

2307 
Di¡ªûTy³
 
	gdi¡ªû
 = 
¡d
::
di¡ªû
(
begš
(
cÚš”
), 
’d
(container));

2308 
SŒšgM©chResuÉLi¡’”
 
	gdi¡ªû_li¡’”
;

2309 cÚ¡ 
boŞ
 
	g»suÉ
 =

2310 
di¡ªû_m©ch”_
.
M©chAndEx¶aš
(
di¡ªû
, &
di¡ªû_li¡’”
);

2311 *
	gli¡’”
 << "who£ di¡ªû b‘w“Àbegš(èªdƒnd(è" << 
	gdi¡ªû


2312 << (
	g»suÉ
 ? " matches" : " doesn't match");

2313 
PrštIfNÙEm±y
(
di¡ªû_li¡’”
.
¡r
(), 
li¡’”
->
¡»am
());

2314  
	g»suÉ
;

2317 
	g´iv©e
:

2318 cÚ¡ 
M©ch”
<
Di¡ªûTy³
> 
di¡ªû_m©ch”_
;

2321 
	g´iv©e
:

2322 cÚ¡ 
Di¡ªûM©ch”
 
di¡ªû_m©ch”_
;

2335 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

2336 şas 
	cCÚš”EqM©ch”
 {

2337 
	gpublic
:

2338 
š‹º®
::
	tSCÚš”V›w
<
	tCÚš”
> 
	tV›w
;

2339 
ty³Çme
 
	tV›w
::
	tty³
 
	tSCÚš”
;

2340 
ty³Çme
 
	tV›w
::
	tcÚ¡_»ã»nû
 
	tSCÚš”Reã»nû
;

2342 
¡©ic_as£¹
(!
¡d
::
is_cÚ¡
<
CÚš”
>::
v®ue
,

2344 
¡©ic_as£¹
(!
¡d
::
is_»ã»nû
<
CÚš”
>::
v®ue
,

2349 
ex¶ic™
 
CÚš”EqM©ch”
(cÚ¡ 
CÚš”
& 
ex³ùed
)

2350 : 
ex³ùed_
(
V›w
::
Cİy
(
ex³ùed
)) {}

2352 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
) const {

2353 *
os
 << "equals ";

2354 
Univ”§lPršt
(
ex³ùed_
, 
os
);

2356 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
) const {

2357 *
os
 << "does‚otƒqual ";

2358 
Univ”§lPršt
(
ex³ùed_
, 
os
);

2361 
	g‹m¶©e
 <
ty³Çme
 
	gLhsCÚš”
>

2362 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
LhsCÚš”
& 
lhs
,

2363 
M©chResuÉLi¡’”
* 
li¡’”
) const {

2364 
	gš‹º®
::
	tSCÚš”V›w
<

2365 
	tty³Çme
 
	t¡d
::
	t»move_cÚ¡
<
	tLhsCÚš”
>::
	tty³
>

2366 
	tLhsV›w
;

2367 
ty³Çme
 
	tLhsV›w
::
	tty³
 
	tLhsSCÚš”
;

2368 
SCÚš”Reã»nû
 
	glhs_¡l_cÚš”
 = 
LhsV›w
::
CÚ¡Reã»nû
(
lhs
);

2369 ià(
	glhs_¡l_cÚš”
 =ğ
ex³ùed_
)

2370  
Œue
;

2372 ::
¡d
::
o¡»am
* cÚ¡ 
os
 = 
li¡’”
->
¡»am
();

2373 ià(
	gos
 !ğ
nuÎ±r
) {

2375 
boŞ
 
´š‹d_h—d”
 = 
çl£
;

2376 
ty³Çme
 
	gLhsSCÚš”
::
cÚ¡_™”©Ü
 
™
 =

2377 
lhs_¡l_cÚš”
.
begš
();

2378 
	g™
 !ğ
lhs_¡l_cÚš”
.
’d
(); ++it) {

2379 ià(
	gš‹º®
::
A¼ayAw¬eFšd
(
ex³ùed_
.
begš
(),ƒx³ùed_.
’d
(), *
™
) ==

2380 
ex³ùed_
.
’d
()) {

2381 ià(
´š‹d_h—d”
) {

2382 *
os
 << ", ";

2384 *
	gos
 << "which hashese unexpectedƒlements: ";

2385 
	g´š‹d_h—d”
 = 
Œue
;

2387 
Univ”§lPršt
(*
™
, 
os
);

2392 
boŞ
 
	g´š‹d_h—d”2
 = 
çl£
;

2393 
ty³Çme
 
	gSCÚš”
::
cÚ¡_™”©Ü
 
™
 = 
ex³ùed_
.
begš
();

2394 
	g™
 !ğ
ex³ùed_
.
’d
(); ++it) {

2395 ià(
	gš‹º®
::
A¼ayAw¬eFšd
(

2396 
lhs_¡l_cÚš”
.
begš
(),†hs_¡l_cÚš”.
’d
(), *
™
) ==

2397 
lhs_¡l_cÚš”
.
’d
()) {

2398 ià(
´š‹d_h—d”2
) {

2399 *
os
 << ", ";

2401 *
	gos
 << (
	g´š‹d_h—d”
 ? ",\nand" : "which")

2403 
	g´š‹d_h—d”2
 = 
Œue
;

2405 
Univ”§lPršt
(*
™
, 
os
);

2410  
	gçl£
;

2413 
	g´iv©e
:

2414 cÚ¡ 
SCÚš”
 
ex³ùed_
;

2418 
	sLessCom·¿tÜ
 {

2419 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gU
>

2420 
boŞ
 
İ”©Ü
()(cÚ¡ 
	gT
& 
	glhs
, cÚ¡ 
	gU
& 
	grhs
) const { †hs <„hs; }

2424 
	g‹m¶©e
 <
ty³Çme
 
	gCom·¿tÜ
,y³Çm
	gCÚš”M©ch”
>

2425 şas 
	cWh’SÜ‹dByM©ch”
 {

2426 
	gpublic
:

2427 
Wh’SÜ‹dByM©ch”
(cÚ¡ 
Com·¿tÜ
& 
com·¿tÜ
,

2428 cÚ¡ 
CÚš”M©ch”
& 
m©ch”
)

2429 : 
com·¿tÜ_
(
com·¿tÜ
), 
m©ch”_
(
m©ch”
) {}

2431 
	g‹m¶©e
 <
ty³Çme
 
	gLhsCÚš”
>

2432 
İ”©Ü
 
	gM©ch”
<
	gLhsCÚš”
>() const {

2433  
MakeM©ch”
(
Ãw
 
Im¶
<
LhsCÚš”
>(
com·¿tÜ_
, 
m©ch”_
));

2436 
	g‹m¶©e
 <
ty³Çme
 
	gLhsCÚš”
>

2437 
şass
 
	gIm¶
 : 
public
 
M©ch”IÁ”çû
<
LhsCÚš”
> {

2438 
public
:

2439 
š‹º®
::
	tSCÚš”V›w
<

2440 
	tGTEST_REMOVE_REFERENCE_AND_CONST_
(
	tLhsCÚš”
)> 
	tLhsV›w
;

2441 
ty³Çme
 
	tLhsV›w
::
	tty³
 
	tLhsSCÚš”
;

2442 
ty³Çme
 
	tLhsV›w
::
	tcÚ¡_»ã»nû
 
	tLhsSCÚš”Reã»nû
;

2445 
ty³Çme
 
	tRemoveCÚ¡FromKey
<

2446 
	tty³Çme
 
	tLhsSCÚš”
::
	tv®ue_ty³
>::
	tty³
 
	tLhsV®ue
;

2448 
Im¶
(cÚ¡ 
Com·¿tÜ
& 
com·¿tÜ
, cÚ¡ 
CÚš”M©ch”
& 
m©ch”
)

2449 : 
com·¿tÜ_
(
com·¿tÜ
), 
m©ch”_
(
m©ch”
) {}

2451 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2452 *
os
 << "(when sorted) ";

2453 
	gm©ch”_
.
DesüibeTo
(
os
);

2456 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2457 *
os
 << "(when sorted) ";

2458 
	gm©ch”_
.
DesüibeNeg©iÚTo
(
os
);

2461 
boŞ
 
M©chAndEx¶aš
(
LhsCÚš”
 
lhs
,

2462 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

2463 
LhsSCÚš”Reã»nû
 
	glhs_¡l_cÚš”
 = 
LhsV›w
::
CÚ¡Reã»nû
(
lhs
);

2464 ::
¡d
::
veùÜ
<
LhsV®ue
> 
sÜ‹d_cÚš”
(
lhs_¡l_cÚš”
.
begš
(),

2465 
lhs_¡l_cÚš”
.
’d
());

2466 ::
¡d
::
sÜt
(

2467 
sÜ‹d_cÚš”
.
begš
(), sÜ‹d_cÚš”.
’d
(), 
com·¿tÜ_
);

2469 ià(!
	gli¡’”
->
IsIÁ”e¡ed
()) {

2472  
	gm©ch”_
.
M©ches
(
sÜ‹d_cÚš”
);

2475 *
	gli¡’”
 << "which is ";

2476 
Univ”§lPršt
(
sÜ‹d_cÚš”
, 
li¡’”
->
¡»am
());

2477 *
	gli¡’”
 << " when sorted";

2479 
SŒšgM©chResuÉLi¡’”
 
	gšÃr_li¡’”
;

2480 cÚ¡ 
boŞ
 
	gm©ch
 = 
m©ch”_
.
M©chAndEx¶aš
(
sÜ‹d_cÚš”
,

2481 &
šÃr_li¡’”
);

2482 
PrštIfNÙEm±y
(
šÃr_li¡’”
.
¡r
(), 
li¡’”
->
¡»am
());

2483  
	gm©ch
;

2486 
	g´iv©e
:

2487 cÚ¡ 
Com·¿tÜ
 
com·¿tÜ_
;

2488 cÚ¡ 
	gM©ch”
<cÚ¡ ::
¡d
::
veùÜ
<
LhsV®ue
>&> 
m©ch”_
;

2490 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Im¶
);

2493 
	g´iv©e
:

2494 cÚ¡ 
Com·¿tÜ
 
com·¿tÜ_
;

2495 cÚ¡ 
CÚš”M©ch”
 
	gm©ch”_
;

2502 
	g‹m¶©e
 <
ty³Çme
 
	gTu¶eM©ch”
,y³Çm
	gRhsCÚš”
>

2503 şas 
	cPoštwi£M©ch”
 {

2504 
GTEST_COMPILE_ASSERT_
(

2505 !
IsHashTabË
<
GTEST_REMOVE_REFERENCE_AND_CONST_
(
RhsCÚš”
)>::
v®ue
,

2506 
u£_UnÜd”edPoštwi£_w™h_hash_bËs
);

2508 
	gpublic
:

2509 
š‹º®
::
	tSCÚš”V›w
<
	tRhsCÚš”
> 
	tRhsV›w
;

2510 
ty³Çme
 
	tRhsV›w
::
	tty³
 
	tRhsSCÚš”
;

2511 
ty³Çme
 
	tRhsSCÚš”
::
	tv®ue_ty³
 
	tRhsV®ue
;

2513 
¡©ic_as£¹
(!
¡d
::
is_cÚ¡
<
RhsCÚš”
>::
v®ue
,

2515 
¡©ic_as£¹
(!
¡d
::
is_»ã»nû
<
RhsCÚš”
>::
v®ue
,

2520 
Poštwi£M©ch”
(cÚ¡ 
Tu¶eM©ch”
& 
tu¶e_m©ch”
, cÚ¡ 
RhsCÚš”
& 
rhs
)

2521 : 
tu¶e_m©ch”_
(
tu¶e_m©ch”
), 
rhs_
(
RhsV›w
::
Cİy
(
rhs
)) {}

2523 
‹m¶©e
 <
ty³Çme
 
LhsCÚš”
>

2524 
İ”©Ü
 
M©ch”
<
LhsCÚš”
>() const {

2525 
GTEST_COMPILE_ASSERT_
(

2526 !
IsHashTabË
<
GTEST_REMOVE_REFERENCE_AND_CONST_
(
LhsCÚš”
)>::
v®ue
,

2527 
u£_UnÜd”edPoštwi£_w™h_hash_bËs
);

2529  
	gM©ch”
<
	gLhsCÚš”
>(

2530 
Ãw
 
	gIm¶
<cÚ¡ 
	gLhsCÚš”
&>(
	gtu¶e_m©ch”_
, 
	grhs_
));

2533 
	g‹m¶©e
 <
ty³Çme
 
	gLhsCÚš”
>

2534 
şass
 
	gIm¶
 : 
public
 
M©ch”IÁ”çû
<
LhsCÚš”
> {

2535 
public
:

2536 
š‹º®
::
	tSCÚš”V›w
<

2537 
	tGTEST_REMOVE_REFERENCE_AND_CONST_
(
	tLhsCÚš”
)> 
	tLhsV›w
;

2538 
ty³Çme
 
	tLhsV›w
::
	tty³
 
	tLhsSCÚš”
;

2539 
ty³Çme
 
	tLhsV›w
::
	tcÚ¡_»ã»nû
 
	tLhsSCÚš”Reã»nû
;

2540 
ty³Çme
 
	tLhsSCÚš”
::
	tv®ue_ty³
 
	tLhsV®ue
;

2545 ::
¡d
::
	ttu¶e
<cÚ¡ 
	tLhsV®ue
&, cÚ¡ 
	tRhsV®ue
&> 
	tIÂ”M©ch”Arg
;

2547 
Im¶
(cÚ¡ 
Tu¶eM©ch”
& 
tu¶e_m©ch”
, cÚ¡ 
RhsSCÚš”
& 
rhs
)

2549 : 
mÚo_tu¶e_m©ch”_
(
SaãM©ch”Ca¡
<
IÂ”M©ch”Arg
>(
tu¶e_m©ch”
)),

2550 
rhs_
(
rhs
) {}

2552 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2553 *
os
 << "cÚš " << 
rhs_
.
size
()

2555 
	gUniv”§lPrš‹r
<
	gRhsSCÚš”
>::
Pršt
(
rhs_
, 
os
);

2556 *
	gos
 << " ";

2557 
	gmÚo_tu¶e_m©ch”_
.
DesüibeTo
(
os
);

2559 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2560 *
os
 << "dÛ¢'ˆcÚšƒxaùly " << 
rhs_
.
size
()

2563 
Univ”§lPršt
(
rhs_
, 
os
);

2564 *
	gos
 << " ";

2565 
	gmÚo_tu¶e_m©ch”_
.
DesüibeNeg©iÚTo
(
os
);

2568 
boŞ
 
M©chAndEx¶aš
(
LhsCÚš”
 
lhs
,

2569 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

2570 
LhsSCÚš”Reã»nû
 
	glhs_¡l_cÚš”
 = 
LhsV›w
::
CÚ¡Reã»nû
(
lhs
);

2571 cÚ¡ 
size_t
 
	gaùu®_size
 = 
lhs_¡l_cÚš”
.
size
();

2572 ià(
	gaùu®_size
 !ğ
rhs_
.
size
()) {

2573 *
li¡’”
 << "which cÚš " << 
aùu®_size
 << " values";

2574  
	gçl£
;

2577 
ty³Çme
 
	gLhsSCÚš”
::
cÚ¡_™”©Ü
 
Ëá
 = 
lhs_¡l_cÚš”
.
begš
();

2578 
ty³Çme
 
	gRhsSCÚš”
::
cÚ¡_™”©Ü
 
right
 = 
rhs_
.
begš
();

2579 
size_t
 
	gi
 = 0; i !ğ
aùu®_size
; ++i, ++
	gËá
, ++
	gright
) {

2580 ià(
	gli¡’”
->
IsIÁ”e¡ed
()) {

2581 
SŒšgM©chResuÉLi¡’”
 
	gšÃr_li¡’”
;

2585 ià(!
	gmÚo_tu¶e_m©ch”_
.
M©chAndEx¶aš
(

2586 
IÂ”M©ch”Arg
(
Im¶ic™Ca¡_
<cÚ¡ 
LhsV®ue
&>(*
Ëá
),

2587 
Im¶ic™Ca¡_
<cÚ¡ 
RhsV®ue
&>(*
right
)),

2588 &
šÃr_li¡’”
)) {

2589 *
	gli¡’”
 << "wherehe value…air (";

2590 
Univ”§lPršt
(*
Ëá
, 
li¡’”
->
¡»am
());

2591 *
	gli¡’”
 << ", ";

2592 
Univ”§lPršt
(*
right
, 
li¡’”
->
¡»am
());

2593 *
	gli¡’”
 << "è© index #" << 
	gi
 << " don't match";

2594 
PrštIfNÙEm±y
(
šÃr_li¡’”
.
¡r
(), 
li¡’”
->
¡»am
());

2595  
	gçl£
;

2598 ià(!
	gmÚo_tu¶e_m©ch”_
.
M©ches
(

2599 
IÂ”M©ch”Arg
(
Im¶ic™Ca¡_
<cÚ¡ 
LhsV®ue
&>(*
Ëá
),

2600 
Im¶ic™Ca¡_
<cÚ¡ 
RhsV®ue
&>(*
right
))))

2601  
	gçl£
;

2605  
	gŒue
;

2608 
	g´iv©e
:

2609 cÚ¡ 
M©ch”
<
IÂ”M©ch”Arg
> 
mÚo_tu¶e_m©ch”_
;

2610 cÚ¡ 
RhsSCÚš”
 
	grhs_
;

2613 
	g´iv©e
:

2614 cÚ¡ 
Tu¶eM©ch”
 
tu¶e_m©ch”_
;

2615 cÚ¡ 
RhsSCÚš”
 
	grhs_
;

2619 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

2620 
şass
 
	gQuªtif›rM©ch”Im¶
 : 
public
 
M©ch”IÁ”çû
<
CÚš”
> {

2621 
public
:

2622 
GTEST_REMOVE_REFERENCE_AND_CONST_
(
	tCÚš”
è
	tRawCÚš”
;

2623 
	gSCÚš”V›w
<
	tRawCÚš”
> 
	tV›w
;

2624 
ty³Çme
 
	tV›w
::
	tty³
 
	tSCÚš”
;

2625 
ty³Çme
 
	tV›w
::
	tcÚ¡_»ã»nû
 
	tSCÚš”Reã»nû
;

2626 
ty³Çme
 
	tSCÚš”
::
	tv®ue_ty³
 
	tEËm’t
;

2628 
	g‹m¶©e
 <
ty³Çme
 
	gIÂ”M©ch”
>

2629 
ex¶ic™
 
Quªtif›rM©ch”Im¶
(
IÂ”M©ch”
 
šÃr_m©ch”
)

2630 : 
šÃr_m©ch”_
(

2631 
‹¡šg
::
SaãM©ch”Ca¡
<cÚ¡ 
EËm’t
&>(
šÃr_m©ch”
)) {}

2636 
boŞ
 
M©chAndEx¶ašIm¶
(boŞ 
®l_–em’ts_should_m©ch
,

2637 
CÚš”
 
cÚš”
,

2638 
M©chResuÉLi¡’”
* 
li¡’”
) const {

2639 
SCÚš”Reã»nû
 
	g¡l_cÚš”
 = 
V›w
::
CÚ¡Reã»nû
(
cÚš”
);

2640 
size_t
 
	gi
 = 0;

2641 
ty³Çme
 
	gSCÚš”
::
cÚ¡_™”©Ü
 
™
 = 
¡l_cÚš”
.
begš
();

2642 
	g™
 !ğ
¡l_cÚš”
.
’d
(); ++™, ++
	gi
) {

2643 
SŒšgM©chResuÉLi¡’”
 
	gšÃr_li¡’”
;

2644 cÚ¡ 
boŞ
 
	gm©ches
 = 
šÃr_m©ch”_
.
M©chAndEx¶aš
(*
™
, &
šÃr_li¡’”
);

2646 ià(
	gm©ches
 !ğ
®l_–em’ts_should_m©ch
) {

2647 *
li¡’”
 << "who£ƒËm’ˆ#" << 
i


2648 << (
m©ches
 ? " matches" : " doesn't match");

2649 
PrštIfNÙEm±y
(
šÃr_li¡’”
.
¡r
(), 
li¡’”
->
¡»am
());

2650  !
	g®l_–em’ts_should_m©ch
;

2653  
	g®l_–em’ts_should_m©ch
;

2656 
	g´Ùeùed
:

2657 cÚ¡ 
M©ch”
<cÚ¡ 
EËm’t
&> 
šÃr_m©ch”_
;

2662 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

2663 
şass
 
	gCÚšsM©ch”Im¶
 : 
public
 
Quªtif›rM©ch”Im¶
<
CÚš”
> {

2664 
public
:

2665 
‹m¶©e
 <
ty³Çme
 
IÂ”M©ch”
>

2666 
ex¶ic™
 
CÚšsM©ch”Im¶
(
IÂ”M©ch”
 
šÃr_m©ch”
)

2667 : 
Quªtif›rM©ch”Im¶
<
CÚš”
>(
šÃr_m©ch”
) {}

2670 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2671 *
os
 << "contains‡t†east oneƒlementhat ";

2672 
	gthis
->
	gšÃr_m©ch”_
.
DesüibeTo
(
os
);

2675 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2676 *
os
 << "doesn't contain‡nyƒlementhat ";

2677 
	gthis
->
	gšÃr_m©ch”_
.
DesüibeTo
(
os
);

2680 
boŞ
 
M©chAndEx¶aš
(
CÚš”
 
cÚš”
,

2681 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

2682  
	gthis
->
M©chAndEx¶ašIm¶
(
çl£
, 
cÚš”
, 
li¡’”
);

2688 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

2689 
şass
 
	gEachM©ch”Im¶
 : 
public
 
Quªtif›rM©ch”Im¶
<
CÚš”
> {

2690 
public
:

2691 
‹m¶©e
 <
ty³Çme
 
IÂ”M©ch”
>

2692 
ex¶ic™
 
EachM©ch”Im¶
(
IÂ”M©ch”
 
šÃr_m©ch”
)

2693 : 
Quªtif›rM©ch”Im¶
<
CÚš”
>(
šÃr_m©ch”
) {}

2696 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2697 *
os
 << "only containsƒlementshat ";

2698 
	gthis
->
	gšÃr_m©ch”_
.
DesüibeTo
(
os
);

2701 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2702 *
os
 << "contains someƒlementhat ";

2703 
	gthis
->
	gšÃr_m©ch”_
.
DesüibeNeg©iÚTo
(
os
);

2706 
boŞ
 
M©chAndEx¶aš
(
CÚš”
 
cÚš”
,

2707 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

2708  
	gthis
->
M©chAndEx¶ašIm¶
(
Œue
, 
cÚš”
, 
li¡’”
);

2713 
	g‹m¶©e
 <
ty³Çme
 
	gM
>

2714 şas 
	cCÚšsM©ch”
 {

2715 
	gpublic
:

2716 
ex¶ic™
 
CÚšsM©ch”
(
M
 
m
è: 
šÃr_m©ch”_
(m) {}

2718 
‹m¶©e
 <
ty³Çme
 
CÚš”
>

2719 
İ”©Ü
 
M©ch”
<
CÚš”
>() const {

2720  
M©ch”
<
CÚš”
>(

2721 
Ãw
 
CÚšsM©ch”Im¶
<cÚ¡ 
CÚš”
&>(
šÃr_m©ch”_
));

2724 
	g´iv©e
:

2725 cÚ¡ 
M
 
šÃr_m©ch”_
;

2729 
	g‹m¶©e
 <
ty³Çme
 
	gM
>

2730 şas 
	cEachM©ch”
 {

2731 
	gpublic
:

2732 
ex¶ic™
 
EachM©ch”
(
M
 
m
è: 
šÃr_m©ch”_
(m) {}

2734 
‹m¶©e
 <
ty³Çme
 
CÚš”
>

2735 
İ”©Ü
 
M©ch”
<
CÚš”
>() const {

2736  
M©ch”
<
CÚš”
>(

2737 
Ãw
 
EachM©ch”Im¶
<cÚ¡ 
CÚš”
&>(
šÃr_m©ch”_
));

2740 
	g´iv©e
:

2741 cÚ¡ 
M
 
šÃr_m©ch”_
;

2744 
	sRªk1
 {};

2745 
	gRªk0
 : 
Rªk1
 {};

2747 
Çme¥aû
 
	g·œ_g‘‹rs
 {

2748 
usšg
 
	g¡d
::
g‘
;

2749 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2750 autØ
Fœ¡
(
T
& 
x
, 
Rªk1
è-> 
deşty³
(
g‘
<0>(x)) {

2751  
	gg‘
<0>(
	gx
);

2753 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2754 autØ
Fœ¡
(
T
& 
x
, 
Rªk0
è-> 
deşty³
((x.
fœ¡
)) {

2755  
	gx
.
	gfœ¡
;

2758 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2759 autØ
SecÚd
(
T
& 
x
, 
Rªk1
è-> 
deşty³
(
g‘
<1>(x)) {

2760  
	gg‘
<1>(
	gx
);

2762 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2763 autØ
SecÚd
(
T
& 
x
, 
Rªk0
è-> 
deşty³
((x.
£cÚd
)) {

2764  
	gx
.
	g£cÚd
;

2772 
	g‹m¶©e
 <
ty³Çme
 
	gPaœTy³
>

2773 
şass
 
	gKeyM©ch”Im¶
 : 
public
 
M©ch”IÁ”çû
<
PaœTy³
> {

2774 
public
:

2775 
GTEST_REMOVE_REFERENCE_AND_CONST_
(
	tPaœTy³
è
	tRawPaœTy³
;

2776 
ty³Çme
 
	tRawPaœTy³
::
	tfœ¡_ty³
 
	tKeyTy³
;

2778 
	g‹m¶©e
 <
ty³Çme
 
	gIÂ”M©ch”
>

2779 
ex¶ic™
 
KeyM©ch”Im¶
(
IÂ”M©ch”
 
šÃr_m©ch”
)

2780 : 
šÃr_m©ch”_
(

2781 
‹¡šg
::
SaãM©ch”Ca¡
<cÚ¡ 
KeyTy³
&>(
šÃr_m©ch”
)) {

2786 
boŞ
 
M©chAndEx¶aš
(
PaœTy³
 
key_v®ue
,

2787 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

2788 
SŒšgM©chResuÉLi¡’”
 
	gšÃr_li¡’”
;

2789 cÚ¡ 
boŞ
 
	gm©ch
 = 
šÃr_m©ch”_
.
M©chAndEx¶aš
(

2790 
·œ_g‘‹rs
::
Fœ¡
(
key_v®ue
, 
Rªk0
()), &
šÃr_li¡’”
);

2791 cÚ¡ 
	g¡d
::
¡ršg
 
ex¶ª©iÚ
 = 
šÃr_li¡’”
.
¡r
();

2792 ià(
	gex¶ª©iÚ
 != "") {

2793 *
li¡’”
 << "who£ fœ¡ f›ld i ¨v®u" << 
ex¶ª©iÚ
;

2795  
	gm©ch
;

2799 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2800 *
os
 << "has‡ keyhat ";

2801 
	gšÃr_m©ch”_
.
DesüibeTo
(
os
);

2805 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2806 *
os
 << "doesn't have‡ keyhat ";

2807 
	gšÃr_m©ch”_
.
DesüibeTo
(
os
);

2810 
	g´iv©e
:

2811 cÚ¡ 
M©ch”
<cÚ¡ 
KeyTy³
&> 
šÃr_m©ch”_
;

2815 
	g‹m¶©e
 <
ty³Çme
 
	gM
>

2816 şas 
	cKeyM©ch”
 {

2817 
	gpublic
:

2818 
ex¶ic™
 
KeyM©ch”
(
M
 
m
è: 
m©ch”_fÜ_key_
(m) {}

2820 
‹m¶©e
 <
ty³Çme
 
PaœTy³
>

2821 
İ”©Ü
 
M©ch”
<
PaœTy³
>() const {

2822  
M©ch”
<
PaœTy³
>(

2823 
Ãw
 
KeyM©ch”Im¶
<cÚ¡ 
PaœTy³
&>(
m©ch”_fÜ_key_
));

2826 
	g´iv©e
:

2827 cÚ¡ 
M
 
m©ch”_fÜ_key_
;

2831 
	g‹m¶©e
 <
ty³Çme
 
	gIÂ”M©ch”
>

2832 şas 
	cAdd»ssM©ch”
 {

2833 
	gpublic
:

2834 
ex¶ic™
 
Add»ssM©ch”
(
IÂ”M©ch”
 
m
è: 
m©ch”_
(m) {}

2836 
‹m¶©e
 <
ty³Çme
 
Ty³
>

2837 
İ”©Ü
 
M©ch”
<
Ty³
>() const {

2838  
M©ch”
<
Ty³
>(
Ãw
 
Im¶
<cÚ¡ Ty³&>(
m©ch”_
));

2841 
	g´iv©e
:

2843 
‹m¶©e
 <
ty³Çme
 
Ty³
>

2844 
şass
 
Im¶
 : 
public
 
M©ch”IÁ”çû
<
Ty³
> {

2845 
public
:

2846 
usšg
 
Add»ss
 = cÚ¡ 
GTEST_REMOVE_REFERENCE_AND_CONST_
(
Ty³
) *;

2847 
ex¶ic™
 
Im¶
(cÚ¡ 
IÂ”M©ch”
& 
m©ch”
)

2848 : 
m©ch”_
(
M©ch”Ca¡
<
Add»ss
>(
m©ch”
)) {}

2850 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2851 *
os
 << "has‡ddresshat ";

2852 
	gm©ch”_
.
DesüibeTo
(
os
);

2855 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2856 *
os
 << "does‚ot have‡ddresshat ";

2857 
	gm©ch”_
.
DesüibeTo
(
os
);

2860 
boŞ
 
M©chAndEx¶aš
(
Ty³
 
objeù
,

2861 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

2862 *
	gli¡’”
 << "which has‡ddress ";

2863 
Add»ss
 
	gadd»ss
 = 
¡d
::
add»ssof
(
objeù
);

2864  
M©chPrštAndEx¶aš
(
add»ss
, 
m©ch”_
, 
li¡’”
);

2867 
	g´iv©e
:

2868 cÚ¡ 
M©ch”
<
Add»ss
> 
m©ch”_
;

2870 cÚ¡ 
IÂ”M©ch”
 
	gm©ch”_
;

2875 
	g‹m¶©e
 <
ty³Çme
 
	gPaœTy³
>

2876 
şass
 
	gPaœM©ch”Im¶
 : 
public
 
M©ch”IÁ”çû
<
PaœTy³
> {

2877 
public
:

2878 
GTEST_REMOVE_REFERENCE_AND_CONST_
(
	tPaœTy³
è
	tRawPaœTy³
;

2879 
ty³Çme
 
	tRawPaœTy³
::
	tfœ¡_ty³
 
	tFœ¡Ty³
;

2880 
ty³Çme
 
	tRawPaœTy³
::
	t£cÚd_ty³
 
	tSecÚdTy³
;

2882 
	g‹m¶©e
 <
ty³Çme
 
	gFœ¡M©ch”
,y³Çm
	gSecÚdM©ch”
>

2883 
PaœM©ch”Im¶
(
Fœ¡M©ch”
 
fœ¡_m©ch”
, 
SecÚdM©ch”
 
£cÚd_m©ch”
)

2884 : 
fœ¡_m©ch”_
(

2885 
‹¡šg
::
SaãM©ch”Ca¡
<cÚ¡ 
Fœ¡Ty³
&>(
fœ¡_m©ch”
)),

2886 
£cÚd_m©ch”_
(

2887 
‹¡šg
::
SaãM©ch”Ca¡
<cÚ¡ 
SecÚdTy³
&>(
£cÚd_m©ch”
)) {

2891 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2892 *
os
 << "has‡ first fieldhat ";

2893 
	gfœ¡_m©ch”_
.
DesüibeTo
(
os
);

2894 *
	gos
 << ",‡nd has‡ second fieldhat ";

2895 
	g£cÚd_m©ch”_
.
DesüibeTo
(
os
);

2899 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

2900 *
os
 << "has‡ first fieldhat ";

2901 
	gfœ¡_m©ch”_
.
DesüibeNeg©iÚTo
(
os
);

2902 *
	gos
 << ", or has‡ second fieldhat ";

2903 
	g£cÚd_m©ch”_
.
DesüibeNeg©iÚTo
(
os
);

2908 
boŞ
 
M©chAndEx¶aš
(
PaœTy³
 
a_·œ
,

2909 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

2910 ià(!
	gli¡’”
->
IsIÁ”e¡ed
()) {

2913  
	gfœ¡_m©ch”_
.
M©ches
(
·œ_g‘‹rs
::
Fœ¡
(
a_·œ
, 
Rªk0
())) &&

2914 
	g£cÚd_m©ch”_
.
M©ches
(
·œ_g‘‹rs
::
SecÚd
(
a_·œ
, 
Rªk0
()));

2916 
SŒšgM©chResuÉLi¡’”
 
	gfœ¡_šÃr_li¡’”
;

2917 ià(!
	gfœ¡_m©ch”_
.
M©chAndEx¶aš
(
·œ_g‘‹rs
::
Fœ¡
(
a_·œ
, 
Rªk0
()),

2918 &
fœ¡_šÃr_li¡’”
)) {

2919 *
	gli¡’”
 << "whose first field does‚ot match";

2920 
PrštIfNÙEm±y
(
fœ¡_šÃr_li¡’”
.
¡r
(), 
li¡’”
->
¡»am
());

2921  
	gçl£
;

2923 
SŒšgM©chResuÉLi¡’”
 
	g£cÚd_šÃr_li¡’”
;

2924 ià(!
	g£cÚd_m©ch”_
.
M©chAndEx¶aš
(
·œ_g‘‹rs
::
SecÚd
(
a_·œ
, 
Rªk0
()),

2925 &
£cÚd_šÃr_li¡’”
)) {

2926 *
	gli¡’”
 << "whose second field does‚ot match";

2927 
PrštIfNÙEm±y
(
£cÚd_šÃr_li¡’”
.
¡r
(), 
li¡’”
->
¡»am
());

2928  
	gçl£
;

2930 
Ex¶ašSucûss
(
fœ¡_šÃr_li¡’”
.
¡r
(), 
£cÚd_šÃr_li¡’”
.str(),

2931 
li¡’”
);

2932  
	gŒue
;

2935 
	g´iv©e
:

2936 
Ex¶ašSucûss
(cÚ¡ 
¡d
::
¡ršg
& 
fœ¡_ex¶ª©iÚ
,

2937 cÚ¡ 
¡d
::
¡ršg
& 
£cÚd_ex¶ª©iÚ
,

2938 
M©chResuÉLi¡’”
* 
li¡’”
) const {

2939 *
	gli¡’”
 << "whose both fields match";

2940 ià(
	gfœ¡_ex¶ª©iÚ
 != "") {

2941 *
li¡’”
 << ", wh”thfœ¡ f›ld i ¨v®u" << 
fœ¡_ex¶ª©iÚ
;

2943 ià(
	g£cÚd_ex¶ª©iÚ
 != "") {

2944 *
li¡’”
 << ", ";

2945 ià(
	gfœ¡_ex¶ª©iÚ
 != "") {

2946 *
li¡’”
 << "and ";

2948 *
	gli¡’”
 << "where ";

2950 *
	gli¡’”
 << "th£cÚd f›ld i ¨v®u" << 
	g£cÚd_ex¶ª©iÚ
;

2954 cÚ¡ 
	gM©ch”
<cÚ¡ 
	gFœ¡Ty³
&> 
	gfœ¡_m©ch”_
;

2955 cÚ¡ 
	gM©ch”
<cÚ¡ 
	gSecÚdTy³
&> 
	g£cÚd_m©ch”_
;

2959 
	g‹m¶©e
 <
ty³Çme
 
	gFœ¡M©ch”
,y³Çm
	gSecÚdM©ch”
>

2960 şas 
	cPaœM©ch”
 {

2961 
	gpublic
:

2962 
PaœM©ch”
(
Fœ¡M©ch”
 
fœ¡_m©ch”
, 
SecÚdM©ch”
 
£cÚd_m©ch”
)

2963 : 
fœ¡_m©ch”_
(
fœ¡_m©ch”
), 
£cÚd_m©ch”_
(
£cÚd_m©ch”
) {}

2965 
	g‹m¶©e
 <
ty³Çme
 
	gPaœTy³
>

2966 
İ”©Ü
 
	gM©ch”
<
	gPaœTy³
> () const {

2967  
	gM©ch”
<
	gPaœTy³
>(

2968 
Ãw
 
	gPaœM©ch”Im¶
<cÚ¡ 
	gPaœTy³
&>(
	gfœ¡_m©ch”_
, 
	g£cÚd_m©ch”_
));

2971 
	g´iv©e
:

2972 cÚ¡ 
Fœ¡M©ch”
 
fœ¡_m©ch”_
;

2973 cÚ¡ 
SecÚdM©ch”
 
	g£cÚd_m©ch”_
;

2976 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gsize_t
... 
	gI
>

2977 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
IndexSequ’û
<
I
...>, )

2978 -> 
deşty³
(
¡d
::
t›
(
g‘
<
I
>(
t
)...)) {

2979 
¡©ic_as£¹
(
¡d
::
tu¶e_size
<
T
>::
v®ue
 =ğ...(
I
),

2981  
	g¡d
::
t›
(
g‘
<
I
>(
t
)...);

2984 #ià
defšed
(
__ıp_¡ruùu»d_bšdšgs
) && __cpp_structured_bindings >= 201606

2985 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2986 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<1>, ) {

2987 cÚ¡‡uto& [
a
] = 
t
;

2988  
	g¡d
::
t›
(
a
);

2990 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2991 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<2>, ) {

2992 cÚ¡‡uto& [
a
, 
b
] = 
t
;

2993  
	g¡d
::
t›
(
a
, 
b
);

2995 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2996 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<3>, ) {

2997 cÚ¡‡uto& [
a
, 
b
, 
c
] = 
t
;

2998  
	g¡d
::
t›
(
a
, 
b
, 
c
);

3000 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3001 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<4>, ) {

3002 cÚ¡‡uto& [
a
, 
b
, 
c
, 
d
] = 
t
;

3003  
	g¡d
::
t›
(
a
, 
b
, 
c
, 
d
);

3005 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3006 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<5>, ) {

3007 cÚ¡‡uto& [
a
, 
b
, 
c
, 
d
, 
e
] = 
t
;

3008  
	g¡d
::
t›
(
a
, 
b
, 
c
, 
d
, 
e
);

3010 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3011 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<6>, ) {

3012 cÚ¡‡uto& [
a
, 
b
, 
c
, 
d
, 
e
, 
f
] = 
t
;

3013  
	g¡d
::
t›
(
a
, 
b
, 
c
, 
d
, 
e
, 
f
);

3015 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3016 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<7>, ) {

3017 cÚ¡‡uto& [
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
] = 
t
;

3018  
	g¡d
::
t›
(
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
);

3020 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3021 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<8>, ) {

3022 cÚ¡‡uto& [
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
] = 
t
;

3023  
	g¡d
::
t›
(
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
);

3025 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3026 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<9>, ) {

3027 cÚ¡‡uto& [
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
] = 
t
;

3028  
	g¡d
::
t›
(
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
);

3030 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3031 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<10>, ) {

3032 cÚ¡‡uto& [
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
, 
j
] = 
t
;

3033  
	g¡d
::
t›
(
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
, 
j
);

3035 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3036 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<11>, ) {

3037 cÚ¡‡uto& [
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
, 
j
, 
k
] = 
t
;

3038  
	g¡d
::
t›
(
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
, 
j
, 
k
);

3040 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3041 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<12>, ) {

3042 cÚ¡‡uto& [
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
, 
j
, 
k
, 
l
] = 
t
;

3043  
	g¡d
::
t›
(
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
, 
j
, 
k
, 
l
);

3045 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3046 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<13>, ) {

3047 cÚ¡‡uto& [
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
, 
j
, 
k
, 
l
, 
m
] = 
t
;

3048  
	g¡d
::
t›
(
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
, 
j
, 
k
, 
l
, 
m
);

3050 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3051 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<14>, ) {

3052 cÚ¡‡uto& [
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
, 
j
, 
k
, 
l
, 
m
, 
n
] = 
t
;

3053  
	g¡d
::
t›
(
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
, 
j
, 
k
, 
l
, 
m
, 
n
);

3055 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3056 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<15>, ) {

3057 cÚ¡‡uto& [
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
, 
j
, 
k
, 
l
, 
m
, 
n
, 
o
] = 
t
;

3058  
	g¡d
::
t›
(
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
, 
j
, 
k
, 
l
, 
m
, 
n
, 
o
);

3060 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3061 autØ
UÅackSŒuùIm¶
(cÚ¡ 
T
& 
t
, 
MakeIndexSequ’û
<16>, ) {

3062 cÚ¡‡uto& [
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
, 
j
, 
k
, 
l
, 
m
, 
n
, 
o
, 
p
] = 
t
;

3063  
	g¡d
::
t›
(
a
, 
b
, 
c
, 
d
, 
e
, 
f
, 
g
, 
h
, 
i
, 
j
, 
k
, 
l
, 
m
, 
n
, 
o
, 
p
);

3067 
	g‹m¶©e
 <
size_t
 
	gI
, 
ty³Çme
 
	gT
>

3068 autØ
UÅackSŒuù
(cÚ¡ 
T
& 
t
)

3069 -> 
deşty³
((
UÅackSŒuùIm¶
)(
t
, 
MakeIndexSequ’û
<
I
>{}, 0)) {

3070  (
	gUÅackSŒuùIm¶
)(
	gt
, 
	gMakeIndexSequ’û
<
	gI
>{}, 0);

3076 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
size_t
 
	gN
>

3077 
V¬ŸdicEx·nd
(cÚ¡ 
T
 (&)[
N
]) {}

3079 
	g‹m¶©e
 <
ty³Çme
 
	gSŒuù
,y³Çm
	gSŒuùSize
>

3080 
şass
 
	gF›ldsA»M©ch”Im¶
;

3082 
	g‹m¶©e
 <
ty³Çme
 
	gSŒuù
, 
	gsize_t
... 
	gI
>

3083 
şass
 
	gF›ldsA»M©ch”Im¶
<
	gSŒuù
, 
	gIndexSequ’û
<
	gI
...>>

3084 : 
public
 
M©ch”IÁ”çû
<
SŒuù
> {

3085 
usšg
 
UÅackedTy³
 =

3086 
deşty³
(
UÅackSŒuù
<...(
I
)>(
¡d
::
deşv®
<cÚ¡ 
SŒuù
&>()));

3087 
usšg
 
	gM©ch”sTy³
 = 
¡d
::
tu¶e
<

3088 
M©ch”
<cÚ¡ 
ty³Çme
 
¡d
::
tu¶e_–em’t
<
I
, 
	gUÅackedTy³
>::
ty³
&>...>;

3090 
	gpublic
:

3091 
‹m¶©e
 <
ty³Çme
 
IÂ”
>

3092 
ex¶ic™
 
F›ldsA»M©ch”Im¶
(cÚ¡ 
IÂ”
& 
m©ch”s
)

3093 : 
m©ch”s_
(
‹¡šg
::
SaãM©ch”Ca¡
<

3094 cÚ¡ 
ty³Çme
 
¡d
::
tu¶e_–em’t
<
I
, 
UÅackedTy³
>::
ty³
&>(

3095 
¡d
::
g‘
<
I
>(
m©ch”s
))...) {}

3097 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

3098 cÚ¡ * 
£·¿tÜ
 = "";

3099 
V¬ŸdicEx·nd
(

3100 {(*
os
 << 
£·¿tÜ
 << "ha f›ld #" << 
I
 << "hat ",

3101 
¡d
::
g‘
<
I
>(
m©ch”s_
).
DesüibeTo
(
os
), 
£·¿tÜ
 = ",‡nd ")...});

3104 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

3105 cÚ¡ * 
£·¿tÜ
 = "";

3106 
V¬ŸdicEx·nd
({(*
os
 << 
£·¿tÜ
 << "ha f›ld #" << 
I
 << "hat ",

3107 
¡d
::
g‘
<
I
>(
m©ch”s_
).
DesüibeNeg©iÚTo
(
os
),

3108 
£·¿tÜ
 = ", or ")...});

3111 
boŞ
 
M©chAndEx¶aš
(
SŒuù
 
t
, 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

3112  
M©chIÁ”Çl
((
UÅackSŒuù
<...(
I
)>)(
t
), 
li¡’”
);

3115 
	g´iv©e
:

3116 
boŞ
 
M©chIÁ”Çl
(
UÅackedTy³
 
tu¶e
, 
M©chResuÉLi¡’”
* 
li¡’”
) const {

3117 ià(!
	gli¡’”
->
IsIÁ”e¡ed
()) {

3120 
boŞ
 
	ggood
 = 
Œue
;

3121 
V¬ŸdicEx·nd
({
good
 = good && 
¡d
::
g‘
<
I
>(
m©ch”s_
).
M©ches
(

3122 
¡d
::
g‘
<
I
>(
tu¶e
))...});

3123  
	ggood
;

3126 
size_t
 
	gçed_pos
 = ~size_t{};

3128 
	g¡d
::
veùÜ
<
SŒšgM©chResuÉLi¡’”
> 
šÃr_li¡’”
(...(
I
));

3130 
V¬ŸdicEx·nd
(

3131 {
çed_pos
 =ğ~
size_t
{} && !
¡d
::
g‘
<
I
>(
m©ch”s_
).
M©chAndEx¶aš
(

3132 
¡d
::
g‘
<
I
>(
tu¶e
), &
šÃr_li¡’”
[I])

3133 ? 
çed_pos
 = 
I


3135 ià(
	gçed_pos
 !ğ~
size_t
{}) {

3136 *
li¡’”
 << "who£ f›ld #" << 
çed_pos
 << " does‚ot match";

3137 
PrštIfNÙEm±y
(
šÃr_li¡’”
[
çed_pos
].
¡r
(), 
li¡’”
->
¡»am
());

3138  
	gçl£
;

3141 *
	gli¡’”
 << "whose‡llƒlements match";

3142 cÚ¡ * 
	g£·¿tÜ
 = ", where";

3143 
size_t
 
	gšdex
 = 0; index < ...(
	gI
); ++index) {

3144 cÚ¡ 
	g¡d
::
¡ršg
 
¡r
 = 
šÃr_li¡’”
[
šdex
].str();

3145 ià(!
	g¡r
.
em±y
()) {

3146 *
	gli¡’”
 << 
	g£·¿tÜ
 << " f›ld #" << 
	gšdex
 << " i ¨v®u" << 
	g¡r
;

3147 
	g£·¿tÜ
 = ",‡nd";

3151  
	gŒue
;

3154 
M©ch”sTy³
 
	gm©ch”s_
;

3157 
	g‹m¶©e
 <
	gty³Çme
... 
	gIÂ”
>

3158 şas 
	cF›ldsA»M©ch”
 {

3159 
	gpublic
:

3160 
ex¶ic™
 
F›ldsA»M©ch”
(
IÂ”
... 
šÃr
è: 
m©ch”s_
(
¡d
::
move
(inner)...) {}

3162 
‹m¶©e
 <
ty³Çme
 
SŒuù
>

3163 
İ”©Ü
 
M©ch”
<
SŒuù
>() const {

3164  
M©ch”
<
SŒuù
>(

3165 
Ãw
 
F›ldsA»M©ch”Im¶
<cÚ¡ 
SŒuù
&, 
	gIndexSequ’ûFÜ
<
	gIÂ”
...>>(

3166 
	gm©ch”s_
));

3169 
	g´iv©e
:

3170 
¡d
::
tu¶e
<
IÂ”
...> 
m©ch”s_
;

3174 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

3175 
şass
 
	gEËm’tsA»M©ch”Im¶
 : 
public
 
M©ch”IÁ”çû
<
CÚš”
> {

3176 
public
:

3177 
GTEST_REMOVE_REFERENCE_AND_CONST_
(
	tCÚš”
è
	tRawCÚš”
;

3178 
	gš‹º®
::
	tSCÚš”V›w
<
	tRawCÚš”
> 
	tV›w
;

3179 
ty³Çme
 
	tV›w
::
	tty³
 
	tSCÚš”
;

3180 
ty³Çme
 
	tV›w
::
	tcÚ¡_»ã»nû
 
	tSCÚš”Reã»nû
;

3181 
ty³Çme
 
	tSCÚš”
::
	tv®ue_ty³
 
	tEËm’t
;

3185 
	g‹m¶©e
 <
ty³Çme
 
	gIÅutI‹r
>

3186 
EËm’tsA»M©ch”Im¶
(
IÅutI‹r
 
fœ¡
, IÅutI‹¸
Ï¡
) {

3187 
	gfœ¡
 !ğ
Ï¡
) {

3188 
m©ch”s_
.
push_back
(
M©ch”Ca¡
<cÚ¡ 
EËm’t
&>(*
fœ¡
++));

3193 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

3194 ià(
couÁ
() == 0) {

3195 *
os
 << "isƒmpty";

3196 } ià(
couÁ
() == 1) {

3197 *
os
 << "has 1ƒlementhat ";

3198 
	gm©ch”s_
[0].
DesüibeTo
(
os
);

3200 *
	gos
 << "ha " << 
EËm’ts
(
couÁ
()) << " where\n";

3201 
size_t
 
	gi
 = 0; i !ğ
couÁ
(); ++i) {

3202 *
	gos
 << "–em’ˆ#" << 
	gi
 << " ";

3203 
	gm©ch”s_
[
i
].
DesüibeTo
(
os
);

3204 ià(
	gi
 + 1 < 
couÁ
()) {

3205 *
	gos
 << ",\n";

3212 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

3213 ià(
couÁ
() == 0) {

3214 *
os
 << "isn'tƒmpty";

3218 *
	gos
 << "dÛ¢'ˆhav" << 
EËm’ts
(
couÁ
()) << ", or\n";

3219 
size_t
 
	gi
 = 0; i !ğ
couÁ
(); ++i) {

3220 *
	gos
 << "–em’ˆ#" << 
	gi
 << " ";

3221 
	gm©ch”s_
[
i
].
DesüibeNeg©iÚTo
(
os
);

3222 ià(
	gi
 + 1 < 
couÁ
()) {

3223 *
	gos
 << ", or\n";

3228 
boŞ
 
M©chAndEx¶aš
(
CÚš”
 
cÚš”
,

3229 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

3233 cÚ¡ 
boŞ
 
	gli¡’”_š‹»¡ed
 = 
li¡’”
->
IsIÁ”e¡ed
();

3236 ::
¡d
::
veùÜ
<¡d::
¡ršg
> 
ex¶ª©iÚs
(
couÁ
());

3237 
SCÚš”Reã»nû
 
	g¡l_cÚš”
 = 
V›w
::
CÚ¡Reã»nû
(
cÚš”
);

3238 
ty³Çme
 
	gSCÚš”
::
cÚ¡_™”©Ü
 
™
 = 
¡l_cÚš”
.
begš
();

3239 
size_t
 
	gexam_pos
 = 0;

3240 
boŞ
 
	gmism©ch_found
 = 
çl£
;

3245 ; 
	g™
 !ğ
¡l_cÚš”
.
’d
(è&& 
exam_pos
 !ğ
couÁ
(); ++™, ++
	gexam_pos
) {

3246 
boŞ
 
	gm©ch
;

3247 ià(
	gli¡’”_š‹»¡ed
) {

3248 
SŒšgM©chResuÉLi¡’”
 
	gs
;

3249 
	gm©ch
 = 
m©ch”s_
[
exam_pos
].
M©chAndEx¶aš
(*
™
, &
s
);

3250 
	gex¶ª©iÚs
[
exam_pos
] = 
s
.
¡r
();

3252 
	gm©ch
 = 
m©ch”s_
[
exam_pos
].
M©ches
(*
™
);

3255 ià(!
	gm©ch
) {

3256 
	gmism©ch_found
 = 
Œue
;

3265 
size_t
 
	gaùu®_couÁ
 = 
exam_pos
;

3266 ; 
	g™
 !ğ
¡l_cÚš”
.
’d
(); ++it) {

3267 ++
	gaùu®_couÁ
;

3270 ià(
	gaùu®_couÁ
 !ğ
couÁ
()) {

3275 ià(
li¡’”_š‹»¡ed
 && (
aùu®_couÁ
 != 0)) {

3276 *
li¡’”
 << "which ha " << 
EËm’ts
(
aùu®_couÁ
);

3278  
	gçl£
;

3281 ià(
	gmism©ch_found
) {

3283 ià(
	gli¡’”_š‹»¡ed
) {

3284 *
	gli¡’”
 << "who£ƒËm’ˆ#" << 
	gexam_pos
 << " doesn't match";

3285 
PrštIfNÙEm±y
(
ex¶ª©iÚs
[
exam_pos
], 
li¡’”
->
¡»am
());

3287  
	gçl£
;

3292 ià(
	gli¡’”_š‹»¡ed
) {

3293 
boŞ
 
	g»asÚ_´š‹d
 = 
çl£
;

3294 
size_t
 
	gi
 = 0; i !ğ
couÁ
(); ++i) {

3295 cÚ¡ 
	g¡d
::
¡ršg
& 
s
 = 
ex¶ª©iÚs
[
i
];

3296 ià(!
	gs
.
em±y
()) {

3297 ià(
	g»asÚ_´š‹d
) {

3298 *
	gli¡’”
 << ",\nand ";

3300 *
	gli¡’”
 << "who£ƒËm’ˆ#" << 
	gi
 << " m©ches, " << 
	gs
;

3301 
	g»asÚ_´š‹d
 = 
Œue
;

3305  
	gŒue
;

3308 
	g´iv©e
:

3309 
Mes§ge
 
EËm’ts
(
size_t
 
couÁ
) {

3310  
Mes§ge
(è<< 
couÁ
 << (count == 1 ? "ƒlement" : "ƒlements");

3313 
size_t
 
couÁ
(ècÚ¡ {  
	gm©ch”s_
.
size
(); }

3315 ::
¡d
::
veùÜ
<
M©ch”
<cÚ¡ 
EËm’t
&> > 
m©ch”s_
;

3322 şas 
	cGTEST_API_
 
	gM©chM©rix
 {

3323 
	gpublic
:

3324 
M©chM©rix
(
size_t
 
num_–em’ts
, size_ˆ
num_m©ch”s
)

3325 : 
num_–em’ts_
(
num_–em’ts
),

3326 
num_m©ch”s_
(
num_m©ch”s
),

3327 
m©ched_
(
num_–em’ts_
* 
num_m©ch”s_
, 0) {

3330 
size_t
 
LhsSize
(ècÚ¡ {  
	gnum_–em’ts_
; }

3331 
size_t
 
RhsSize
(ècÚ¡ {  
	gnum_m©ch”s_
; }

3332 
boŞ
 
HasEdge
(
size_t
 
hs
, size_ˆ
œhs
) const {

3333  
	gm©ched_
[
S·ûIndex
(
hs
, 
œhs
)] == 1;

3335 
S‘Edge
(
size_t
 
hs
, size_ˆ
œhs
, 
boŞ
 
b
) {

3336 
	gm©ched_
[
S·ûIndex
(
hs
, 
œhs
)] = 
b
 ? 1 : 0;

3342 
boŞ
 
NextG¿ph
();

3344 
Rªdomize
();

3346 
	g¡d
::
¡ršg
 
DebugSŒšg
() const;

3348 
	g´iv©e
:

3349 
size_t
 
S·ûIndex
(size_ˆ
hs
, size_ˆ
œhs
) const {

3350  
hs
 * 
	gnum_m©ch”s_
 + 
	gœhs
;

3353 
size_t
 
	gnum_–em’ts_
;

3354 
size_t
 
	gnum_m©ch”s_
;

3359 ::
¡d
::
veùÜ
<> 
m©ched_
;

3362 ::
¡d
::
	t·œ
<
	tsize_t
, size_t> 
	tEËm’tM©ch”Paœ
;

3363 ::
¡d
::
	tveùÜ
<
	tEËm’tM©ch”Paœ
> 
	tEËm’tM©ch”Paœs
;

3367 
GTEST_API_
 
EËm’tM©ch”Paœs


3368 
FšdMaxB¬t™eM©chšg
(cÚ¡ 
M©chM©rix
& 
g
);

3370 
	sUnÜd”edM©ch”Requœe
 {

3371 
	eFÏgs
 {

3372 
	gSu³r£t
 = 1 << 0,

3373 
	gSub£t
 = 1 << 1,

3374 
	gExaùM©ch
 = 
Su³r£t
 | 
Sub£t
,

3381 şas 
	cGTEST_API_
 
	gUnÜd”edEËm’tsA»M©ch”Im¶Ba£
 {

3382 
	g´Ùeùed
:

3383 
ex¶ic™
 
UnÜd”edEËm’tsA»M©ch”Im¶Ba£
(

3384 
UnÜd”edM©ch”Requœe
::
FÏgs
 
m©ch”_æags
)

3385 : 
m©ch_æags_
(
m©ch”_æags
) {}

3390 ::
¡d
::
	tveùÜ
<cÚ¡ 
	tM©ch”Desüib”IÁ”çû
*> 
	tM©ch”Desüib”Vec
;

3393 
DesüibeToIm¶
(::
¡d
::
o¡»am
* 
os
) const;

3396 
DesüibeNeg©iÚToIm¶
(::
¡d
::
o¡»am
* 
os
) const;

3398 
boŞ
 
V”ifyM©chM©rix
(cÚ¡ ::
¡d
::
veùÜ
<¡d::
¡ršg
>& 
–em’t_´štouts
,

3399 cÚ¡ 
M©chM©rix
& 
m©rix
,

3400 
M©chResuÉLi¡’”
* 
li¡’”
) const;

3402 
boŞ
 
FšdPaœšg
(cÚ¡ 
M©chM©rix
& 
m©rix
,

3403 
M©chResuÉLi¡’”
* 
li¡’”
) const;

3405 
	gM©ch”Desüib”Vec
& 
m©ch”_desüib”s
() {

3406  
	gm©ch”_desüib”s_
;

3409 
Mes§ge
 
EËm’ts
(
size_t
 
n
) {

3410  
Mes§ge
(è<< 
	gn
 << "ƒlement" << (n == 1 ? "" : "s");

3413 
	gUnÜd”edM©ch”Requœe
::
FÏgs
 
m©ch_æags
(ècÚ¡ {  
m©ch_æags_
; }

3415 
	g´iv©e
:

3416 
UnÜd”edM©ch”Requœe
::
FÏgs
 
m©ch_æags_
;

3417 
M©ch”Desüib”Vec
 
	gm©ch”_desüib”s_
;

3422 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

3423 
şass
 
	gUnÜd”edEËm’tsA»M©ch”Im¶


3424 : 
public
 
M©ch”IÁ”çû
<
CÚš”
>,

3425 
public
 
	gUnÜd”edEËm’tsA»M©ch”Im¶Ba£
 {

3426 
	gpublic
:

3427 
GTEST_REMOVE_REFERENCE_AND_CONST_
(
	tCÚš”
è
	tRawCÚš”
;

3428 
	gš‹º®
::
	tSCÚš”V›w
<
	tRawCÚš”
> 
	tV›w
;

3429 
ty³Çme
 
	tV›w
::
	tty³
 
	tSCÚš”
;

3430 
ty³Çme
 
	tV›w
::
	tcÚ¡_»ã»nû
 
	tSCÚš”Reã»nû
;

3431 
ty³Çme
 
	tSCÚš”
::
	tcÚ¡_™”©Ü
 
	tSCÚš”CÚ¡I‹¿tÜ
;

3432 
ty³Çme
 
	tSCÚš”
::
	tv®ue_ty³
 
	tEËm’t
;

3434 
	g‹m¶©e
 <
ty³Çme
 
	gIÅutI‹r
>

3435 
UnÜd”edEËm’tsA»M©ch”Im¶
(
UnÜd”edM©ch”Requœe
::
FÏgs
 
m©ch”_æags
,

3436 
IÅutI‹r
 
fœ¡
, IÅutI‹¸
Ï¡
)

3437 : 
UnÜd”edEËm’tsA»M©ch”Im¶Ba£
(
m©ch”_æags
) {

3438 ; 
	gfœ¡
 !ğ
Ï¡
; ++first) {

3439 
	gm©ch”s_
.
push_back
(
M©ch”Ca¡
<cÚ¡ 
EËm’t
&>(*
fœ¡
));

3441 cÚ¡‡uto& 
	gm
 : 
m©ch”s_
) {

3442 
m©ch”_desüib”s
().
push_back
(
m
.
G‘Desüib”
());

3447 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

3448  
UnÜd”edEËm’tsA»M©ch”Im¶Ba£
::
DesüibeToIm¶
(
os
);

3452 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

3453  
UnÜd”edEËm’tsA»M©ch”Im¶Ba£
::
DesüibeNeg©iÚToIm¶
(
os
);

3456 
boŞ
 
M©chAndEx¶aš
(
CÚš”
 
cÚš”
,

3457 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

3458 
SCÚš”Reã»nû
 
	g¡l_cÚš”
 = 
V›w
::
CÚ¡Reã»nû
(
cÚš”
);

3459 ::
¡d
::
veùÜ
<¡d::
¡ršg
> 
–em’t_´štouts
;

3460 
M©chM©rix
 
	gm©rix
 =

3461 
AÇlyzeEËm’ts
(
¡l_cÚš”
.
begš
(), s_cÚš”.
’d
(),

3462 &
–em’t_´štouts
, 
li¡’”
);

3464 ià(
	gm©rix
.
LhsSize
(è=ğ0 && 
m©rix
.
RhsSize
() == 0) {

3465  
Œue
;

3468 ià(
m©ch_æags
(è=ğ
UnÜd”edM©ch”Requœe
::
ExaùM©ch
) {

3469 ià(
m©rix
.
LhsSize
(è!ğm©rix.
RhsSize
()) {

3474 ià(
m©rix
.
LhsSize
(è!ğ0 && 
li¡’”
->
IsIÁ”e¡ed
()) {

3475 *
li¡’”
 << "which ha " << 
EËm’ts
(
m©rix
.
LhsSize
());

3477  
	gçl£
;

3481  
V”ifyM©chM©rix
(
–em’t_´štouts
, 
m©rix
, 
li¡’”
) &&

3482 
FšdPaœšg
(
m©rix
, 
li¡’”
);

3485 
	g´iv©e
:

3486 
‹m¶©e
 <
ty³Çme
 
EËm’tI‹r
>

3487 
M©chM©rix
 
AÇlyzeEËm’ts
(
EËm’tI‹r
 
–em_fœ¡
, EËm’tI‹¸
–em_Ï¡
,

3488 ::
¡d
::
veùÜ
<¡d::
¡ršg
>* 
–em’t_´štouts
,

3489 
M©chResuÉLi¡’”
* 
li¡’”
) const {

3490 
	g–em’t_´štouts
->
ş—r
();

3491 ::
¡d
::
veùÜ
<> 
did_m©ch
;

3492 
size_t
 
	gnum_–em’ts
 = 0;

3493 
DummyM©chResuÉLi¡’”
 
	gdummy
;

3494 ; 
	g–em_fœ¡
 !ğ
–em_Ï¡
; ++
	gnum_–em’ts
, ++elem_first) {

3495 ià(
	gli¡’”
->
IsIÁ”e¡ed
()) {

3496 
	g–em’t_´štouts
->
push_back
(
PrštToSŒšg
(*
–em_fœ¡
));

3498 
size_t
 
	gœhs
 = 0; irh !ğ
m©ch”s_
.
size
(); ++irhs) {

3499 
	gdid_m©ch
.
push_back
(

3500 
m©ch”s_
[
œhs
].
M©chAndEx¶aš
(*
–em_fœ¡
, &
dummy
));

3504 
M©chM©rix
 
m©rix
(
num_–em’ts
, 
m©ch”s_
.
size
());

3505 ::
¡d
::
veùÜ
<>::
cÚ¡_™”©Ü
 
did_m©ch_™”
 = 
did_m©ch
.
begš
();

3506 
size_t
 
	ghs
 = 0; ilh !ğ
num_–em’ts
; ++ilhs) {

3507 
size_t
 
	gœhs
 = 0; irh !ğ
m©ch”s_
.
size
(); ++irhs) {

3508 
	gm©rix
.
S‘Edge
(
hs
, 
œhs
, *
did_m©ch_™”
++ != 0);

3511  
	gm©rix
;

3514 ::
¡d
::
veùÜ
<
M©ch”
<cÚ¡ 
EËm’t
&> > 
m©ch”s_
;

3519 
	g‹m¶©e
 <
ty³Çme
 
	gT¬g‘
>

3520 
	sCa¡AndAµ’dT¿nsfÜm
 {

3521 
	g‹m¶©e
 <
ty³Çme
 
	gArg
>

3522 
	gM©ch”
<
	gT¬g‘
> 
İ”©Ü
()(cÚ¡ 
	gArg
& 
	ga
) const {

3523  
	gM©ch”Ca¡
<
	gT¬g‘
>(
	ga
);

3528 
	g‹m¶©e
 <
ty³Çme
 
	gM©ch”Tu¶e
>

3529 şas 
	cUnÜd”edEËm’tsA»M©ch”
 {

3530 
	gpublic
:

3531 
ex¶ic™
 
UnÜd”edEËm’tsA»M©ch”
(cÚ¡ 
M©ch”Tu¶e
& 
¬gs
)

3532 : 
m©ch”s_
(
¬gs
) {}

3534 
‹m¶©e
 <
ty³Çme
 
CÚš”
>

3535 
İ”©Ü
 
M©ch”
<
CÚš”
>() const {

3536 
GTEST_REMOVE_REFERENCE_AND_CONST_
(
	tCÚš”
è
	tRawCÚš”
;

3537 
ty³Çme
 
	tš‹º®
::
	tSCÚš”V›w
<
	tRawCÚš”
>::
	tty³
 
	tV›w
;

3538 
ty³Çme
 
	tV›w
::
	tv®ue_ty³
 
	tEËm’t
;

3539 ::
¡d
::
	tveùÜ
<
	tM©ch”
<cÚ¡ 
	tEËm’t
&> > 
	tM©ch”Vec
;

3540 
M©ch”Vec
 
	gm©ch”s
;

3541 
	gm©ch”s
.
»£rve
(::
¡d
::
tu¶e_size
<
M©ch”Tu¶e
>::
v®ue
);

3542 
T¿nsfÜmTu¶eV®ues
(
Ca¡AndAµ’dT¿nsfÜm
<cÚ¡ 
EËm’t
&>(), 
m©ch”s_
,

3543 ::
¡d
::
back_š£¹”
(
m©ch”s
));

3544  
	gM©ch”
<
	gCÚš”
>(

3545 
Ãw
 
	gUnÜd”edEËm’tsA»M©ch”Im¶
<cÚ¡ 
	gCÚš”
&>(

3546 
	gUnÜd”edM©ch”Requœe
::
ExaùM©ch
, 
	gm©ch”s
.
begš
(),

3547 
	gm©ch”s
.
’d
()));

3550 
	g´iv©e
:

3551 cÚ¡ 
M©ch”Tu¶e
 
m©ch”s_
;

3555 
	g‹m¶©e
 <
ty³Çme
 
	gM©ch”Tu¶e
>

3556 şas 
	cEËm’tsA»M©ch”
 {

3557 
	gpublic
:

3558 
ex¶ic™
 
EËm’tsA»M©ch”
(cÚ¡ 
M©ch”Tu¶e
& 
¬gs
è: 
m©ch”s_
(args) {}

3560 
‹m¶©e
 <
ty³Çme
 
CÚš”
>

3561 
İ”©Ü
 
M©ch”
<
CÚš”
>() const {

3562 
GTEST_COMPILE_ASSERT_
(

3563 !
IsHashTabË
<
GTEST_REMOVE_REFERENCE_AND_CONST_
(
CÚš”
)>::
v®ue
 ||

3564 ::
¡d
::
tu¶e_size
<
M©ch”Tu¶e
>::
v®ue
 < 2,

3565 
u£_UnÜd”edEËm’tsA»_w™h_hash_bËs
);

3567 
GTEST_REMOVE_REFERENCE_AND_CONST_
(
	tCÚš”
è
	tRawCÚš”
;

3568 
ty³Çme
 
	tš‹º®
::
	tSCÚš”V›w
<
	tRawCÚš”
>::
	tty³
 
	tV›w
;

3569 
ty³Çme
 
	tV›w
::
	tv®ue_ty³
 
	tEËm’t
;

3570 ::
¡d
::
	tveùÜ
<
	tM©ch”
<cÚ¡ 
	tEËm’t
&> > 
	tM©ch”Vec
;

3571 
M©ch”Vec
 
	gm©ch”s
;

3572 
	gm©ch”s
.
»£rve
(::
¡d
::
tu¶e_size
<
M©ch”Tu¶e
>::
v®ue
);

3573 
T¿nsfÜmTu¶eV®ues
(
Ca¡AndAµ’dT¿nsfÜm
<cÚ¡ 
EËm’t
&>(), 
m©ch”s_
,

3574 ::
¡d
::
back_š£¹”
(
m©ch”s
));

3575  
	gM©ch”
<
	gCÚš”
>(
Ãw
 
	gEËm’tsA»M©ch”Im¶
<const Container&>(

3576 
	gm©ch”s
.
begš
(), m©ch”s.
’d
()));

3579 
	g´iv©e
:

3580 cÚ¡ 
M©ch”Tu¶e
 
m©ch”s_
;

3584 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3585 şas 
	cUnÜd”edEËm’tsA»A¼ayM©ch”
 {

3586 
	gpublic
:

3587 
‹m¶©e
 <
ty³Çme
 
I‹r
>

3588 
UnÜd”edEËm’tsA»A¼ayM©ch”
(
UnÜd”edM©ch”Requœe
::
FÏgs
 
m©ch_æags
,

3589 
I‹r
 
fœ¡
, I‹¸
Ï¡
)

3590 : 
m©ch_æags_
(
m©ch_æags
), 
m©ch”s_
(
fœ¡
, 
Ï¡
) {}

3592 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

3593 
İ”©Ü
 
	gM©ch”
<
	gCÚš”
>() const {

3594  
	gM©ch”
<
	gCÚš”
>(

3595 
Ãw
 
	gUnÜd”edEËm’tsA»M©ch”Im¶
<cÚ¡ 
	gCÚš”
&>(

3596 
	gm©ch_æags_
, 
	gm©ch”s_
.
begš
(), m©ch”s_.
’d
()));

3599 
	g´iv©e
:

3600 
UnÜd”edM©ch”Requœe
::
FÏgs
 
m©ch_æags_
;

3601 ::
¡d
::
veùÜ
<
T
> 
m©ch”s_
;

3605 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3606 şas 
	cEËm’tsA»A¼ayM©ch”
 {

3607 
	gpublic
:

3608 
‹m¶©e
 <
ty³Çme
 
I‹r
>

3609 
EËm’tsA»A¼ayM©ch”
(
I‹r
 
fœ¡
, I‹¸
Ï¡
è: 
m©ch”s_
(first,†ast) {}

3611 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

3612 
İ”©Ü
 
	gM©ch”
<
	gCÚš”
>() const {

3613 
GTEST_COMPILE_ASSERT_
(

3614 !
IsHashTabË
<
GTEST_REMOVE_REFERENCE_AND_CONST_
(
CÚš”
)>::
v®ue
,

3615 
u£_UnÜd”edEËm’tsA»A¼ay_w™h_hash_bËs
);

3617  
	gM©ch”
<
	gCÚš”
>(
Ãw
 
	gEËm’tsA»M©ch”Im¶
<const Container&>(

3618 
	gm©ch”s_
.
begš
(), m©ch”s_.
’d
()));

3621 
	g´iv©e
:

3622 cÚ¡ ::
¡d
::
veùÜ
<
T
> 
m©ch”s_
;

3634 
	g‹m¶©e
 <
ty³Çme
 
	gTu¶e2M©ch”
,y³Çm
	gSecÚd
>

3635 şas 
	cBoundSecÚdM©ch”
 {

3636 
	gpublic
:

3637 
BoundSecÚdM©ch”
(cÚ¡ 
Tu¶e2M©ch”
& 
tm
, cÚ¡ 
SecÚd
& 
£cÚd
)

3638 : 
tu¶e2_m©ch”_
(
tm
), 
£cÚd_v®ue_
(
£cÚd
) {}

3640 
BoundSecÚdM©ch”
(cÚ¡ BoundSecÚdM©ch”& 
Ùh”
) = ;

3642 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3643 
İ”©Ü
 
	gM©ch”
<
	gT
>() const {

3644  
MakeM©ch”
(
Ãw
 
Im¶
<
T
>(
tu¶e2_m©ch”_
, 
£cÚd_v®ue_
));

3655 
	gİ”©Ü
=(cÚ¡ 
BoundSecÚdM©ch”
& ) {

3656 
GTEST_LOG_
(
FATAL
) << "BoundSecondMatcher should‚ever be‡ssigned.";

3659 
	g´iv©e
:

3660 
‹m¶©e
 <
ty³Çme
 
T
>

3661 
şass
 
Im¶
 : 
public
 
M©ch”IÁ”çû
<
T
> {

3662 
public
:

3663 ::
¡d
::
	ttu¶e
<
	tT
, 
	tSecÚd
> 
	tArgTu¶e
;

3665 
Im¶
(cÚ¡ 
Tu¶e2M©ch”
& 
tm
, cÚ¡ 
SecÚd
& 
£cÚd
)

3666 : 
mÚo_tu¶e2_m©ch”_
(
SaãM©ch”Ca¡
<cÚ¡ 
ArgTu¶e
&>(
tm
)),

3667 
£cÚd_v®ue_
(
£cÚd
) {}

3669 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

3670 *
os
 << "and ";

3671 
Univ”§lPršt
(
£cÚd_v®ue_
, 
os
);

3672 *
	gos
 << " ";

3673 
	gmÚo_tu¶e2_m©ch”_
.
DesüibeTo
(
os
);

3676 
boŞ
 
M©chAndEx¶aš
(
T
 
x
, 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

3677  
	gmÚo_tu¶e2_m©ch”_
.
M©chAndEx¶aš
(
ArgTu¶e
(
x
, 
£cÚd_v®ue_
),

3678 
li¡’”
);

3681 
	g´iv©e
:

3682 cÚ¡ 
M©ch”
<cÚ¡ 
ArgTu¶e
&> 
mÚo_tu¶e2_m©ch”_
;

3683 cÚ¡ 
SecÚd
 
	g£cÚd_v®ue_
;

3686 cÚ¡ 
Tu¶e2M©ch”
 
	gtu¶e2_m©ch”_
;

3687 cÚ¡ 
SecÚd
 
	g£cÚd_v®ue_
;

3694 
	g‹m¶©e
 <
ty³Çme
 
	gTu¶e2M©ch”
,y³Çm
	gSecÚd
>

3695 
	gBoundSecÚdM©ch”
<
	gTu¶e2M©ch”
, 
	gSecÚd
> 
M©ch”BšdSecÚd
(

3696 cÚ¡ 
Tu¶e2M©ch”
& 
tm
, cÚ¡ 
SecÚd
& 
£cÚd
) {

3697  
	gBoundSecÚdM©ch”
<
	gTu¶e2M©ch”
, 
	gSecÚd
>(
	gtm
, 
	g£cÚd
);

3705 
GTEST_API_
 
	g¡d
::
¡ršg
 
FÜm©M©ch”DesütiÚ
(
boŞ
 
Ãg©iÚ
,

3706 cÚ¡ * 
m©ch”_Çme
,

3707 cÚ¡ 
SŒšgs
& 
·¿m_v®ues
);

3710 
	g‹m¶©e
 <
ty³Çme
 
	gV®ueM©ch”
>

3711 şas 
	cO±iÚ®M©ch”
 {

3712 
	gpublic
:

3713 
ex¶ic™
 
O±iÚ®M©ch”
(cÚ¡ 
V®ueM©ch”
& 
v®ue_m©ch”
)

3714 : 
v®ue_m©ch”_
(
v®ue_m©ch”
) {}

3716 
‹m¶©e
 <
ty³Çme
 
O±iÚ®
>

3717 
İ”©Ü
 
M©ch”
<
O±iÚ®
>() const {

3718  
M©ch”
<
O±iÚ®
>(
Ãw
 
Im¶
<cÚ¡ O±iÚ®&>(
v®ue_m©ch”_
));

3721 
	g‹m¶©e
 <
ty³Çme
 
	gO±iÚ®
>

3722 
şass
 
	gIm¶
 : 
public
 
M©ch”IÁ”çû
<
O±iÚ®
> {

3723 
public
:

3724 
GTEST_REMOVE_REFERENCE_AND_CONST_
(
	tO±iÚ®
è
	tO±iÚ®V›w
;

3725 
ty³Çme
 
	tO±iÚ®V›w
::
	tv®ue_ty³
 
	tV®ueTy³
;

3726 
ex¶ic™
 
Im¶
(cÚ¡ 
V®ueM©ch”
& 
v®ue_m©ch”
)

3727 : 
v®ue_m©ch”_
(
M©ch”Ca¡
<
V®ueTy³
>(
v®ue_m©ch”
)) {}

3729 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

3730 *
os
 << "value ";

3731 
	gv®ue_m©ch”_
.
DesüibeTo
(
os
);

3734 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

3735 *
os
 << "value ";

3736 
	gv®ue_m©ch”_
.
DesüibeNeg©iÚTo
(
os
);

3739 
boŞ
 
M©chAndEx¶aš
(
O±iÚ®
 
İtiÚ®
,

3740 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

3741 ià(!
	gİtiÚ®
) {

3742 *
	gli¡’”
 << "which is‚otƒngaged";

3743  
	gçl£
;

3745 cÚ¡ 
	gV®ueTy³
& 
	gv®ue
 = *
İtiÚ®
;

3746 
SŒšgM©chResuÉLi¡’”
 
	gv®ue_li¡’”
;

3747 cÚ¡ 
boŞ
 
	gm©ch
 = 
v®ue_m©ch”_
.
M©chAndEx¶aš
(
v®ue
, &
v®ue_li¡’”
);

3748 *
	gli¡’”
 << "who£ v®u" << 
PrštToSŒšg
(
v®ue
)

3749 << (
	gm©ch
 ? " matches" : " doesn't match");

3750 
PrštIfNÙEm±y
(
v®ue_li¡’”
.
¡r
(), 
li¡’”
->
¡»am
());

3751  
	gm©ch
;

3754 
	g´iv©e
:

3755 cÚ¡ 
M©ch”
<
V®ueTy³
> 
v®ue_m©ch”_
;

3758 
	g´iv©e
:

3759 cÚ¡ 
V®ueM©ch”
 
v®ue_m©ch”_
;

3762 
Çme¥aû
 
	gv¬ŸÁ_m©ch”
 {

3764 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3765 
hŞds_®‹º©ive
() {}

3766 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3767 
g‘
() {}

3770 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3771 şas 
	cV¬ŸÁM©ch”
 {

3772 
	gpublic
:

3773 
ex¶ic™
 
V¬ŸÁM©ch”
(::
‹¡šg
::
M©ch”
<cÚ¡ 
T
&> 
m©ch”
)

3774 : 
m©ch”_
(
¡d
::
move
(
m©ch”
)) {}

3776 
‹m¶©e
 <
ty³Çme
 
V¬ŸÁ
>

3777 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
V¬ŸÁ
& 
v®ue
,

3778 ::
‹¡šg
::
M©chResuÉLi¡’”
* 
li¡’”
) const {

3779 
usšg
 
¡d
::
g‘
;

3780 ià(!
	gli¡’”
->
IsIÁ”e¡ed
()) {

3781  
	ghŞds_®‹º©ive
<
	gT
>(
	gv®ue
è&& 
	gm©ch”_
.
M©ches
(
g‘
<
T
>(
v®ue
));

3784 ià(!
	ghŞds_®‹º©ive
<
	gT
>(
	gv®ue
)) {

3785 *
	gli¡’”
 << "who£ v®ui nÙ oàty³ '" << 
G‘Ty³Name
() << "'";

3786  
	gçl£
;

3789 cÚ¡ 
	gT
& 
	g–em
 = 
g‘
<
T
>(
v®ue
);

3790 
SŒšgM©chResuÉLi¡’”
 
	g–em_li¡’”
;

3791 cÚ¡ 
boŞ
 
	gm©ch
 = 
m©ch”_
.
M©chAndEx¶aš
(
–em
, &
–em_li¡’”
);

3792 *
	gli¡’”
 << "who£ v®u" << 
PrštToSŒšg
(
–em
)

3793 << (
	gm©ch
 ? " matches" : " doesn't match");

3794 
PrštIfNÙEm±y
(
–em_li¡’”
.
¡r
(), 
li¡’”
->
¡»am
());

3795  
	gm©ch
;

3798 
DesüibeTo
(
¡d
::
o¡»am
* 
os
) const {

3799 *
os
 << "i ¨v¬ŸÁ<> w™h v®uoàty³ '" << 
G‘Ty³Name
()

3801 
	gm©ch”_
.
DesüibeTo
(
os
);

3804 
DesüibeNeg©iÚTo
(
¡d
::
o¡»am
* 
os
) const {

3805 *
os
 << "i ¨v¬ŸÁ<> w™h v®uoàty³ oth”hª '" << 
G‘Ty³Name
()

3807 
	gm©ch”_
.
DesüibeNeg©iÚTo
(
os
);

3810 
	g´iv©e
:

3811 
¡d
::
¡ršg
 
G‘Ty³Name
() {

3812 #ià
GTEST_HAS_RTTI


3813 
GTEST_SUPPRESS_UNREACHABLE_CODE_WARNING_BELOW_
(

3814  
š‹º®
::
G‘Ty³Name
<
T
>());

3819 cÚ¡ ::
‹¡šg
::
M©ch”
<cÚ¡ 
T
&> 
m©ch”_
;

3824 
Çme¥aû
 
	gªy_ÿ¡_m©ch”
 {

3827 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3828 
ªy_ÿ¡
() {}

3831 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3832 şas 
	cAnyCa¡M©ch”
 {

3833 
	gpublic
:

3834 
ex¶ic™
 
AnyCa¡M©ch”
(cÚ¡ ::
‹¡šg
::
M©ch”
<cÚ¡ 
T
&>& 
m©ch”
)

3835 : 
m©ch”_
(
m©ch”
) {}

3837 
‹m¶©e
 <
ty³Çme
 
AnyTy³
>

3838 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
AnyTy³
& 
v®ue
,

3839 ::
‹¡šg
::
M©chResuÉLi¡’”
* 
li¡’”
) const {

3840 ià(!
li¡’”
->
IsIÁ”e¡ed
()) {

3841 cÚ¡ 
T
* 
±r
 = 
ªy_ÿ¡
<T>(&
v®ue
);

3842  
	g±r
 !ğ
nuÎ±r
 && 
m©ch”_
.
M©ches
(*
±r
);

3845 cÚ¡ 
T
* 
	g–em
 = 
ªy_ÿ¡
<T>(&
v®ue
);

3846 ià(
	g–em
 =ğ
nuÎ±r
) {

3847 *
li¡’”
 << "who£ v®ui nÙ oàty³ '" << 
G‘Ty³Name
() << "'";

3848  
	gçl£
;

3851 
SŒšgM©chResuÉLi¡’”
 
	g–em_li¡’”
;

3852 cÚ¡ 
boŞ
 
	gm©ch
 = 
m©ch”_
.
M©chAndEx¶aš
(*
–em
, &
–em_li¡’”
);

3853 *
	gli¡’”
 << "who£ v®u" << 
PrštToSŒšg
(*
–em
)

3854 << (
	gm©ch
 ? " matches" : " doesn't match");

3855 
PrštIfNÙEm±y
(
–em_li¡’”
.
¡r
(), 
li¡’”
->
¡»am
());

3856  
	gm©ch
;

3859 
DesüibeTo
(
¡d
::
o¡»am
* 
os
) const {

3860 *
os
 << "i ª 'ªy'y³ w™h v®uoàty³ '" << 
G‘Ty³Name
()

3862 
	gm©ch”_
.
DesüibeTo
(
os
);

3865 
DesüibeNeg©iÚTo
(
¡d
::
o¡»am
* 
os
) const {

3866 *
os
 << "i ª 'ªy'y³ w™h v®uoàty³ oth”hª '" << 
G‘Ty³Name
()

3868 
	gm©ch”_
.
DesüibeNeg©iÚTo
(
os
);

3871 
	g´iv©e
:

3872 
¡d
::
¡ršg
 
G‘Ty³Name
() {

3873 #ià
GTEST_HAS_RTTI


3874 
GTEST_SUPPRESS_UNREACHABLE_CODE_WARNING_BELOW_
(

3875  
š‹º®
::
G‘Ty³Name
<
T
>());

3880 cÚ¡ ::
‹¡šg
::
M©ch”
<cÚ¡ 
T
&> 
m©ch”_
;

3886 
	g‹m¶©e
 <
şass
 
	gArgsTu¶e
, 
	gsize_t
... 
	gk
>

3887 
şass
 
	gArgsM©ch”Im¶
 : 
public
 
M©ch”IÁ”çû
<
ArgsTu¶e
> {

3888 
public
:

3889 
usšg
 
RawArgsTu¶e
 = 
ty³Çme
 
¡d
::
deÿy
<
ArgsTu¶e
>::
ty³
;

3890 
usšg
 
	gS–eùedArgs
 =

3891 
¡d
::
tu¶e
<
ty³Çme
 std::
tu¶e_–em’t
<
k
, 
	gRawArgsTu¶e
>::
ty³
...>;

3892 
usšg
 
	gMÚomÜphicIÂ”M©ch”
 = 
M©ch”
<cÚ¡ 
S–eùedArgs
&>;

3894 
	g‹m¶©e
 <
ty³Çme
 
	gIÂ”M©ch”
>

3895 
ex¶ic™
 
ArgsM©ch”Im¶
(cÚ¡ 
IÂ”M©ch”
& 
šÃr_m©ch”
)

3896 : 
šÃr_m©ch”_
(
SaãM©ch”Ca¡
<cÚ¡ 
S–eùedArgs
&>(
šÃr_m©ch”
)) {}

3898 
boŞ
 
M©chAndEx¶aš
(
ArgsTu¶e
 
¬gs
,

3899 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

3901 ()
	g¬gs
;

3902 cÚ¡ 
	gS–eùedArgs
& 
	g£Ëùed_¬gs
 =

3903 
¡d
::
fÜw¬d_as_tu¶e
(¡d::
g‘
<
k
>(
¬gs
)...);

3904 ià(!
	gli¡’”
->
IsIÁ”e¡ed
()è 
	gšÃr_m©ch”_
.
M©ches
(
£Ëùed_¬gs
);

3906 
PrštIndiûs
(
li¡’”
->
¡»am
());

3907 *
	gli¡’”
 << "¬" << 
PrštToSŒšg
(
£Ëùed_¬gs
);

3909 
SŒšgM©chResuÉLi¡’”
 
	gšÃr_li¡’”
;

3910 cÚ¡ 
boŞ
 
	gm©ch
 =

3911 
šÃr_m©ch”_
.
M©chAndEx¶aš
(
£Ëùed_¬gs
, &
šÃr_li¡’”
);

3912 
PrštIfNÙEm±y
(
šÃr_li¡’”
.
¡r
(), 
li¡’”
->
¡»am
());

3913  
	gm©ch
;

3916 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

3917 *
os
 << "are‡uple ";

3918 
PrštIndiûs
(
os
);

3919 
	gšÃr_m©ch”_
.
DesüibeTo
(
os
);

3922 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

3923 *
os
 << "are‡uple ";

3924 
PrštIndiûs
(
os
);

3925 
	gšÃr_m©ch”_
.
DesüibeNeg©iÚTo
(
os
);

3928 
	g´iv©e
:

3930 
PrštIndiûs
(::
¡d
::
o¡»am
* 
os
) {

3931 *
os
 << "whose fields (";

3932 cÚ¡ * 
	g£p
 = "";

3934 ()
	g£p
;

3935 cÚ¡ * 
	gdummy
[] = {"", (*
os
 << 
£p
 << "#" << 
k
, sep = ", ")...};

3936 ()
	gdummy
;

3937 *
	gos
 << ") ";

3940 
MÚomÜphicIÂ”M©ch”
 
	gšÃr_m©ch”_
;

3943 
	g‹m¶©e
 <
şass
 
	gIÂ”M©ch”
, 
	gsize_t
... 
	gk
>

3944 şas 
	cArgsM©ch”
 {

3945 
	gpublic
:

3946 
ex¶ic™
 
ArgsM©ch”
(
IÂ”M©ch”
 
šÃr_m©ch”
)

3947 : 
šÃr_m©ch”_
(
¡d
::
move
(
šÃr_m©ch”
)) {}

3949 
‹m¶©e
 <
ty³Çme
 
ArgsTu¶e
>

3950 
İ”©Ü
 
M©ch”
<
ArgsTu¶e
>() const {

3951  
MakeM©ch”
(
Ãw
 
ArgsM©ch”Im¶
<
ArgsTu¶e
, 
k
...>(
šÃr_m©ch”_
));

3954 
	g´iv©e
:

3955 
IÂ”M©ch”
 
šÃr_m©ch”_
;

3975 
	g‹m¶©e
 <
ty³Çme
 
	gI‹r
>

3976 
šlše
 
	gš‹º®
::
EËm’tsA»A¼ayM©ch”
<

3977 
ty³Çme
 ::
¡d
::
™”©Ü_Œa™s
<
I‹r
>::
v®ue_ty³
>

3978 
	$EËm’tsA»A¼ay
(
I‹r
 
fœ¡
, I‹¸
Ï¡
) {

3979 
ty³Çme
 ::
	t¡d
::
	t™”©Ü_Œa™s
<
	tI‹r
>::
	tv®ue_ty³
 
	tT
;

3980  
š‹º®
::
EËm’tsA»A¼ayM©ch”
<
T
>(
fœ¡
, 
Ï¡
);

3981 
	}
}

3983 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

3984 
šlše
 
	gš‹º®
::
EËm’tsA»A¼ayM©ch”
<
T
> 
	$EËm’tsA»A¼ay
(

3985 cÚ¡ 
T
* 
poš‹r
, 
size_t
 
couÁ
) {

3986  
	`EËm’tsA»A¼ay
(
poš‹r
,…oš‹¸+ 
couÁ
);

3987 
	}
}

3989 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
size_t
 
	gN
>

3990 
šlše
 
	gš‹º®
::
EËm’tsA»A¼ayM©ch”
<
T
> 
EËm’tsA»A¼ay
(

3991 cÚ¡ 
T
 (&
¬¿y
)[
N
]) {

3992  
EËm’tsA»A¼ay
(
¬¿y
, 
N
);

3995 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

3996 
šlše
 
	gš‹º®
::
EËm’tsA»A¼ayM©ch”
<
ty³Çme
 
CÚš”
::
v®ue_ty³
>

3997 
	$EËm’tsA»A¼ay
(cÚ¡ 
CÚš”
& 
cÚš”
) {

3998  
	`EËm’tsA»A¼ay
(
cÚš”
.
	`begš
(), cÚš”.
	`’d
());

3999 
	}
}

4001 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

4002 
šlše
 
	gš‹º®
::
EËm’tsA»A¼ayM©ch”
<
T
>

4003 
EËm’tsA»A¼ay
(::
¡d
::
š™Ÿliz”_li¡
<
T
> 
xs
) {

4004  
EËm’tsA»A¼ay
(
xs
.
begš
(), xs.
’d
());

4020 
	g‹m¶©e
 <
ty³Çme
 
	gI‹r
>

4021 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<

4022 
ty³Çme
 ::
¡d
::
™”©Ü_Œa™s
<
I‹r
>::
v®ue_ty³
>

4023 
	$UnÜd”edEËm’tsA»A¼ay
(
I‹r
 
fœ¡
, I‹¸
Ï¡
) {

4024 
ty³Çme
 ::
	t¡d
::
	t™”©Ü_Œa™s
<
	tI‹r
>::
	tv®ue_ty³
 
	tT
;

4025  
š‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<
T
>(

4026 
š‹º®
::
UnÜd”edM©ch”Requœe
::
ExaùM©ch
, 
fœ¡
, 
Ï¡
);

4027 
	}
}

4029 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

4030 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<
T
>

4031 
	$UnÜd”edEËm’tsA»A¼ay
(cÚ¡ 
T
* 
poš‹r
, 
size_t
 
couÁ
) {

4032  
	`UnÜd”edEËm’tsA»A¼ay
(
poš‹r
,…oš‹¸+ 
couÁ
);

4033 
	}
}

4035 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
size_t
 
	gN
>

4036 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<
T
>

4037 
UnÜd”edEËm’tsA»A¼ay
(cÚ¡ 
T
 (&
¬¿y
)[
N
]) {

4038  
UnÜd”edEËm’tsA»A¼ay
(
¬¿y
, 
N
);

4041 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

4042 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<

4043 
ty³Çme
 
CÚš”
::
v®ue_ty³
>

4044 
	$UnÜd”edEËm’tsA»A¼ay
(cÚ¡ 
CÚš”
& 
cÚš”
) {

4045  
	`UnÜd”edEËm’tsA»A¼ay
(
cÚš”
.
	`begš
(), cÚš”.
	`’d
());

4046 
	}
}

4048 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

4049 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<
T
>

4050 
UnÜd”edEËm’tsA»A¼ay
(::
¡d
::
š™Ÿliz”_li¡
<
T
> 
xs
) {

4051  
UnÜd”edEËm’tsA»A¼ay
(
xs
.
begš
(), xs.
’d
());

4063 cÚ¡ 
	gš‹º®
::
AnythšgM©ch”
 
_
 = {};

4065 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

4066 
šlše
 
	gM©ch”
<
	gT
> 
	$A
() {

4067  
_
;

4068 
	}
}

4071 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

4072 
šlše
 
	gM©ch”
<
	gT
> 
	$An
() {

4073  
_
;

4074 
	}
}

4076 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gM
>

4077 
	gM©ch”
<
	gT
> 
	gš‹º®
::
M©ch”Ca¡Im¶
<
T
, 
	gM
>::
	$Ca¡Im¶
(

4078 cÚ¡ 
M
& 
v®ue
, 
¡d
::
çl£_ty³
 ,

4079 
¡d
::
çl£_ty³
 ) {

4080  
	`Eq
(
v®ue
);

4081 
	}
}

4084 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
IsNuÎM©ch”
 > 
	$IsNuÎ
() {

4085  
	`MakePŞymÜphicM©ch”
(
š‹º®
::
	`IsNuÎM©ch”
());

4086 
	}
}

4091 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
NÙNuÎM©ch”
 > 
	$NÙNuÎ
() {

4092  
	`MakePŞymÜphicM©ch”
(
š‹º®
::
	`NÙNuÎM©ch”
());

4093 
	}
}

4097 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

4098 
šlše
 
	gš‹º®
::
RefM©ch”
<
T
&> 
	$Ref
(
T
& 
x
) {

4099  
š‹º®
::
RefM©ch”
<
T
&>(
x
);

4100 
	}
}

4103 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
IsNªM©ch”
> 
	$IsNª
() {

4104  
	`MakePŞymÜphicM©ch”
(
š‹º®
::
	`IsNªM©ch”
());

4105 
	}
}

4109 
šlše
 
	gš‹º®
::
FlßtšgEqM©ch”
<> 
	$DoubËEq
(
rhs
) {

4110  
š‹º®
::
FlßtšgEqM©ch”
<>(
rhs
, 
çl£
);

4111 
	}
}

4115 
šlše
 
	gš‹º®
::
FlßtšgEqM©ch”
<> 
	$NªS’s™iveDoubËEq
(
rhs
) {

4116  
š‹º®
::
FlßtšgEqM©ch”
<>(
rhs
, 
Œue
);

4117 
	}
}

4122 
šlše
 
	gš‹º®
::
FlßtšgEqM©ch”
<> 
	$DoubËN—r
(

4123 
rhs
, 
max_abs_”rÜ
) {

4124  
š‹º®
::
FlßtšgEqM©ch”
<>(
rhs
, 
çl£
, 
max_abs_”rÜ
);

4125 
	}
}

4130 
šlše
 
	gš‹º®
::
FlßtšgEqM©ch”
<> 
	$NªS’s™iveDoubËN—r
(

4131 
rhs
, 
max_abs_”rÜ
) {

4132  
š‹º®
::
FlßtšgEqM©ch”
<>(
rhs
, 
Œue
, 
max_abs_”rÜ
);

4133 
	}
}

4137 
šlše
 
	gš‹º®
::
FlßtšgEqM©ch”
<> 
	$FlßtEq
(
rhs
) {

4138  
š‹º®
::
FlßtšgEqM©ch”
<>(
rhs
, 
çl£
);

4139 
	}
}

4143 
šlše
 
	gš‹º®
::
FlßtšgEqM©ch”
<> 
	$NªS’s™iveFlßtEq
(
rhs
) {

4144  
š‹º®
::
FlßtšgEqM©ch”
<>(
rhs
, 
Œue
);

4145 
	}
}

4150 
šlše
 
	gš‹º®
::
FlßtšgEqM©ch”
<> 
	$FlßtN—r
(

4151 
rhs
, 
max_abs_”rÜ
) {

4152  
š‹º®
::
FlßtšgEqM©ch”
<>(
rhs
, 
çl£
, 
max_abs_”rÜ
);

4153 
	}
}

4158 
šlše
 
	gš‹º®
::
FlßtšgEqM©ch”
<> 
	$NªS’s™iveFlßtN—r
(

4159 
rhs
, 
max_abs_”rÜ
) {

4160  
š‹º®
::
FlßtšgEqM©ch”
<>(
rhs
, 
Œue
, 
max_abs_”rÜ
);

4161 
	}
}

4165 
	g‹m¶©e
 <
ty³Çme
 
	gIÂ”M©ch”
>

4166 
šlše
 
	gš‹º®
::
Poš‹eM©ch”
<
IÂ”M©ch”
> 
	$Poš‹e
(

4167 cÚ¡ 
IÂ”M©ch”
& 
šÃr_m©ch”
) {

4168  
š‹º®
::
Poš‹eM©ch”
<
IÂ”M©ch”
>(
šÃr_m©ch”
);

4169 
	}
}

4171 #ià
GTEST_HAS_RTTI


4178 
	g‹m¶©e
 <
ty³Çme
 
	gTo
>

4179 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
Wh’DyÇmicCa¡ToM©ch”
<
To
> >

4180 
Wh’DyÇmicCa¡To
(cÚ¡ 
M©ch”
<
To
>& 
šÃr_m©ch”
) {

4181  
MakePŞymÜphicM©ch”
(

4182 
š‹º®
::
Wh’DyÇmicCa¡ToM©ch”
<
To
>(
šÃr_m©ch”
));

4190 
	g‹m¶©e
 <
ty³Çme
 
	gCÏss
,y³Çm
	gF›ldTy³
,y³Çm
	gF›ldM©ch”
>

4191 
šlše
 
	gPŞymÜphicM©ch”
<

4192 
	gš‹º®
::
F›ldM©ch”
<
CÏss
, 
	gF›ldTy³
> > 
	$F›ld
(

4193 
F›ldTy³
 
CÏss
::*
f›ld
, cÚ¡ 
F›ldM©ch”
& 
m©ch”
) {

4194  
	`MakePŞymÜphicM©ch”
(

4195 
š‹º®
::
F›ldM©ch”
<
CÏss
, 
F›ldTy³
>(

4196 
f›ld
, 
M©ch”Ca¡
<cÚ¡ 
F›ldTy³
&>(
m©ch”
)));

4201 
	}
}

4205 
	g‹m¶©e
 <
ty³Çme
 
	gCÏss
,y³Çm
	gF›ldTy³
,y³Çm
	gF›ldM©ch”
>

4206 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
F›ldM©ch”
<
CÏss
, 
	gF›ldTy³
> > 
	$F›ld
(

4207 cÚ¡ 
¡d
::
¡ršg
& 
f›ld_Çme
, 
F›ldTy³
 
CÏss
::*
f›ld
,

4208 cÚ¡ 
F›ldM©ch”
& 
m©ch”
) {

4209  
	`MakePŞymÜphicM©ch”
(
š‹º®
::
F›ldM©ch”
<
CÏss
, 
F›ldTy³
>(

4210 
f›ld_Çme
, 
f›ld
, 
M©ch”Ca¡
<cÚ¡ 
F›ldTy³
&>(
m©ch”
)));

4211 
	}
}

4217 
	g‹m¶©e
 <
ty³Çme
 
	gCÏss
,y³Çm
	gPrİ”tyTy³
,y³Çm
	gPrİ”tyM©ch”
>

4218 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
Prİ”tyM©ch”
<

4219 
CÏss
, 
	gPrİ”tyTy³
, 
	$Prİ”tyTy³
 (
CÏss
::*)() const> >

4220 
	`Prİ”ty
(
	$Prİ”tyTy³
 (
CÏss
::*
´İ”ty
)() const,

4221 cÚ¡ 
Prİ”tyM©ch”
& 
m©ch”
) {

4222  
	`MakePŞymÜphicM©ch”
(

4223 
š‹º®
::
Prİ”tyM©ch”
<
CÏss
, 
Prİ”tyTy³
,

4224 
	`Prİ”tyTy³
 (
CÏss
::*)() const>(

4225 
´İ”ty
, 
M©ch”Ca¡
<cÚ¡ 
Prİ”tyTy³
&>(
m©ch”
)));

4230 
	}
}

4234 
	g‹m¶©e
 <
ty³Çme
 
	gCÏss
,y³Çm
	gPrİ”tyTy³
,y³Çm
	gPrİ”tyM©ch”
>

4235 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
Prİ”tyM©ch”
<

4236 
CÏss
, 
	gPrİ”tyTy³
, 
	$Prİ”tyTy³
 (
CÏss
::*)() const> >

4237 
	`Prİ”ty
(cÚ¡ 
¡d
::
¡ršg
& 
´İ”ty_Çme
,

4238 
	$Prİ”tyTy³
 (
CÏss
::*
´İ”ty
)() const,

4239 cÚ¡ 
Prİ”tyM©ch”
& 
m©ch”
) {

4240  
	`MakePŞymÜphicM©ch”
(

4241 
š‹º®
::
Prİ”tyM©ch”
<
CÏss
, 
Prİ”tyTy³
,

4242 
	`Prİ”tyTy³
 (
CÏss
::*)() const>(

4243 
´İ”ty_Çme
, 
´İ”ty
, 
M©ch”Ca¡
<cÚ¡ 
Prİ”tyTy³
&>(
m©ch”
)));

4244 
	}
}

4247 
	g‹m¶©e
 <
ty³Çme
 
	gCÏss
,y³Çm
	gPrİ”tyTy³
,y³Çm
	gPrİ”tyM©ch”
>

4248 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
Prİ”tyM©ch”
<

4249 
CÏss
, 
	gPrİ”tyTy³
, 
	$Prİ”tyTy³
 (
CÏss
::*)() const &> >

4250 
	`Prİ”ty
(
	$Prİ”tyTy³
 (
CÏss
::*
´İ”ty
)() const &,

4251 cÚ¡ 
Prİ”tyM©ch”
& 
m©ch”
) {

4252  
	`MakePŞymÜphicM©ch”
(

4253 
š‹º®
::
Prİ”tyM©ch”
<
CÏss
, 
Prİ”tyTy³
,

4254 
	`Prİ”tyTy³
 (
CÏss
::*)() const&>(

4255 
´İ”ty
, 
M©ch”Ca¡
<cÚ¡ 
Prİ”tyTy³
&>(
m©ch”
)));

4256 
	}
}

4259 
	g‹m¶©e
 <
ty³Çme
 
	gCÏss
,y³Çm
	gPrİ”tyTy³
,y³Çm
	gPrİ”tyM©ch”
>

4260 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
Prİ”tyM©ch”
<

4261 
CÏss
, 
	gPrİ”tyTy³
, 
	$Prİ”tyTy³
 (
CÏss
::*)() const &> >

4262 
	`Prİ”ty
(cÚ¡ 
¡d
::
¡ršg
& 
´İ”ty_Çme
,

4263 
	$Prİ”tyTy³
 (
CÏss
::*
´İ”ty
)() const &,

4264 cÚ¡ 
Prİ”tyM©ch”
& 
m©ch”
) {

4265  
	`MakePŞymÜphicM©ch”
(

4266 
š‹º®
::
Prİ”tyM©ch”
<
CÏss
, 
Prİ”tyTy³
,

4267 
	`Prİ”tyTy³
 (
CÏss
::*)() const&>(

4268 
´İ”ty_Çme
, 
´İ”ty
, 
M©ch”Ca¡
<cÚ¡ 
Prİ”tyTy³
&>(
m©ch”
)));

4269 
	}
}

4279 
	g‹m¶©e
 <
ty³Çme
 
	gC®ÏbË
,y³Çm
	gIÂ”M©ch”
>

4280 
	gš‹º®
::
ResuÉOfM©ch”
<
C®ÏbË
, 
	gIÂ”M©ch”
> 
	$ResuÉOf
(

4281 
C®ÏbË
 
ÿÎabË
, 
IÂ”M©ch”
 
m©ch”
) {

4282  
š‹º®
::
ResuÉOfM©ch”
<
C®ÏbË
, 
IÂ”M©ch”
>(

4283 
¡d
::
	`move
(
ÿÎabË
), std::move(
m©ch”
));

4284 
	}
}

4289 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = 
¡d
::
¡ršg
>

4290 
PŞymÜphicM©ch”
<
š‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
¡ršg
> > 
SŒEq
(

4291 cÚ¡ 
š‹º®
::
SŒšgLike
<
T
>& 
¡r
) {

4292  
MakePŞymÜphicM©ch”
(

4293 
š‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
¡ršg
>(¡d::¡ršg(
¡r
), 
Œue
,rue));

4297 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = 
¡d
::
¡ršg
>

4298 
PŞymÜphicM©ch”
<
š‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
¡ršg
> > 
SŒNe
(

4299 cÚ¡ 
š‹º®
::
SŒšgLike
<
T
>& 
¡r
) {

4300  
MakePŞymÜphicM©ch”
(

4301 
š‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
¡ršg
>(¡d::¡ršg(
¡r
), 
çl£
, 
Œue
));

4305 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = 
¡d
::
¡ršg
>

4306 
PŞymÜphicM©ch”
<
š‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
¡ršg
> > 
SŒCa£Eq
(

4307 cÚ¡ 
š‹º®
::
SŒšgLike
<
T
>& 
¡r
) {

4308  
MakePŞymÜphicM©ch”
(

4309 
š‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
¡ršg
>(¡d::¡ršg(
¡r
), 
Œue
, 
çl£
));

4313 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = 
¡d
::
¡ršg
>

4314 
PŞymÜphicM©ch”
<
š‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
¡ršg
> > 
SŒCa£Ne
(

4315 cÚ¡ 
š‹º®
::
SŒšgLike
<
T
>& 
¡r
) {

4316  
MakePŞymÜphicM©ch”
(
š‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
¡ršg
>(

4317 
¡d
::
¡ršg
(
¡r
), 
çl£
, false));

4322 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = 
¡d
::
¡ršg
>

4323 
PŞymÜphicM©ch”
<
š‹º®
::
HasSub¡rM©ch”
<
¡d
::
¡ršg
> > 
HasSub¡r
(

4324 cÚ¡ 
š‹º®
::
SŒšgLike
<
T
>& 
sub¡ršg
) {

4325  
MakePŞymÜphicM©ch”
(

4326 
š‹º®
::
HasSub¡rM©ch”
<
¡d
::
¡ršg
>(¡d::¡ršg(
sub¡ršg
)));

4330 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = 
¡d
::
¡ršg
>

4331 
PŞymÜphicM©ch”
<
š‹º®
::
S¹sW™hM©ch”
<
¡d
::
¡ršg
> > 
S¹sW™h
(

4332 cÚ¡ 
š‹º®
::
SŒšgLike
<
T
>& 
´efix
) {

4333  
MakePŞymÜphicM©ch”
(

4334 
š‹º®
::
S¹sW™hM©ch”
<
¡d
::
¡ršg
>(¡d::¡ršg(
´efix
)));

4338 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = 
¡d
::
¡ršg
>

4339 
PŞymÜphicM©ch”
<
š‹º®
::
EndsW™hM©ch”
<
¡d
::
¡ršg
> > 
EndsW™h
(

4340 cÚ¡ 
š‹º®
::
SŒšgLike
<
T
>& 
suffix
) {

4341  
MakePŞymÜphicM©ch”
(

4342 
š‹º®
::
EndsW™hM©ch”
<
¡d
::
¡ršg
>(¡d::¡ršg(
suffix
)));

4345 #ià
GTEST_HAS_STD_WSTRING


4349 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
w¡ršg
> > 
	$SŒEq
(

4350 cÚ¡ 
¡d
::
w¡ršg
& 
¡r
) {

4351  
	`MakePŞymÜphicM©ch”
(

4352 
š‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
w¡ršg
>(
¡r
, 
Œue
,rue));

4353 
	}
}

4356 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
w¡ršg
> > 
	$SŒNe
(

4357 cÚ¡ 
¡d
::
w¡ršg
& 
¡r
) {

4358  
	`MakePŞymÜphicM©ch”
(

4359 
š‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
w¡ršg
>(
¡r
, 
çl£
, 
Œue
));

4360 
	}
}

4363 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
w¡ršg
> >

4364 
	$SŒCa£Eq
(cÚ¡ 
¡d
::
w¡ršg
& 
¡r
) {

4365  
	`MakePŞymÜphicM©ch”
(

4366 
š‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
w¡ršg
>(
¡r
, 
Œue
, 
çl£
));

4367 
	}
}

4370 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
w¡ršg
> >

4371 
	$SŒCa£Ne
(cÚ¡ 
¡d
::
w¡ršg
& 
¡r
) {

4372  
	`MakePŞymÜphicM©ch”
(

4373 
š‹º®
::
SŒEqu®™yM©ch”
<
¡d
::
w¡ršg
>(
¡r
, 
çl£
, false));

4374 
	}
}

4378 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
HasSub¡rM©ch”
<
¡d
::
w¡ršg
> > 
	$HasSub¡r
(

4379 cÚ¡ 
¡d
::
w¡ršg
& 
sub¡ršg
) {

4380  
	`MakePŞymÜphicM©ch”
(

4381 
š‹º®
::
HasSub¡rM©ch”
<
¡d
::
w¡ršg
>(
sub¡ršg
));

4382 
	}
}

4385 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
S¹sW™hM©ch”
<
¡d
::
w¡ršg
> >

4386 
	$S¹sW™h
(cÚ¡ 
¡d
::
w¡ršg
& 
´efix
) {

4387  
	`MakePŞymÜphicM©ch”
(

4388 
š‹º®
::
S¹sW™hM©ch”
<
¡d
::
w¡ršg
>(
´efix
));

4389 
	}
}

4392 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
EndsW™hM©ch”
<
¡d
::
w¡ršg
> > 
	$EndsW™h
(

4393 cÚ¡ 
¡d
::
w¡ršg
& 
suffix
) {

4394  
	`MakePŞymÜphicM©ch”
(

4395 
š‹º®
::
EndsW™hM©ch”
<
¡d
::
w¡ršg
>(
suffix
));

4396 
	}
}

4402 
šlše
 
	gš‹º®
::
Eq2M©ch”
 
	$Eq
(è{  
š‹º®
::
	`Eq2M©ch”
(); 
	}
}

4406 
šlše
 
	gš‹º®
::
Ge2M©ch”
 
	$Ge
(è{  
š‹º®
::
	`Ge2M©ch”
(); 
	}
}

4410 
šlše
 
	gš‹º®
::
Gt2M©ch”
 
	$Gt
(è{  
š‹º®
::
	`Gt2M©ch”
(); 
	}
}

4414 
šlše
 
	gš‹º®
::
Le2M©ch”
 
	$Le
(è{  
š‹º®
::
	`Le2M©ch”
(); 
	}
}

4418 
šlše
 
	gš‹º®
::
Lt2M©ch”
 
	$Lt
(è{  
š‹º®
::
	`Lt2M©ch”
(); 
	}
}

4422 
šlše
 
	gš‹º®
::
Ne2M©ch”
 
	$Ne
(è{  
š‹º®
::
	`Ne2M©ch”
(); 
	}
}

4426 
šlše
 
	gš‹º®
::
FlßtšgEq2M©ch”
<> 
	$FlßtEq
() {

4427  
š‹º®
::
FlßtšgEq2M©ch”
<>();

4428 
	}
}

4432 
šlše
 
	gš‹º®
::
FlßtšgEq2M©ch”
<> 
	$DoubËEq
() {

4433  
š‹º®
::
FlßtšgEq2M©ch”
<>();

4434 
	}
}

4438 
šlše
 
	gš‹º®
::
FlßtšgEq2M©ch”
<> 
	$NªS’s™iveFlßtEq
() {

4439  
š‹º®
::
FlßtšgEq2M©ch”
<>(
Œue
);

4440 
	}
}

4444 
šlše
 
	gš‹º®
::
FlßtšgEq2M©ch”
<> 
	$NªS’s™iveDoubËEq
() {

4445  
š‹º®
::
FlßtšgEq2M©ch”
<>(
Œue
);

4446 
	}
}

4450 
šlše
 
	gš‹º®
::
FlßtšgEq2M©ch”
<> 
	$FlßtN—r
(
max_abs_”rÜ
) {

4451  
š‹º®
::
FlßtšgEq2M©ch”
<>(
max_abs_”rÜ
);

4452 
	}
}

4456 
šlše
 
	gš‹º®
::
FlßtšgEq2M©ch”
<> 
	$DoubËN—r
(
max_abs_”rÜ
) {

4457  
š‹º®
::
FlßtšgEq2M©ch”
<>(
max_abs_”rÜ
);

4458 
	}
}

4463 
šlše
 
	gš‹º®
::
FlßtšgEq2M©ch”
<> 
	$NªS’s™iveFlßtN—r
(

4464 
max_abs_”rÜ
) {

4465  
š‹º®
::
FlßtšgEq2M©ch”
<>(
max_abs_”rÜ
, 
Œue
);

4466 
	}
}

4471 
šlše
 
	gš‹º®
::
FlßtšgEq2M©ch”
<> 
	$NªS’s™iveDoubËN—r
(

4472 
max_abs_”rÜ
) {

4473  
š‹º®
::
FlßtšgEq2M©ch”
<>(
max_abs_”rÜ
, 
Œue
);

4474 
	}
}

4478 
	g‹m¶©e
 <
ty³Çme
 
	gIÂ”M©ch”
>

4479 
šlše
 
	gš‹º®
::
NÙM©ch”
<
IÂ”M©ch”
> 
	$NÙ
(
IÂ”M©ch”
 
m
) {

4480  
š‹º®
::
NÙM©ch”
<
IÂ”M©ch”
>(
m
);

4481 
	}
}

4486 
	g‹m¶©e
 <
ty³Çme
 
	gP»diÿ‹
>

4487 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
TrulyM©ch”
<
P»diÿ‹
> >

4488 
	$Truly
(
P»diÿ‹
 
´ed
) {

4489  
	`MakePŞymÜphicM©ch”
(
š‹º®
::
TrulyM©ch”
<
P»diÿ‹
>(
´ed
));

4490 
	}
}

4498 
	g‹m¶©e
 <
ty³Çme
 
	gSizeM©ch”
>

4499 
šlše
 
	gš‹º®
::
SizeIsM©ch”
<
SizeM©ch”
>

4500 
	$SizeIs
(cÚ¡ 
SizeM©ch”
& 
size_m©ch”
) {

4501  
š‹º®
::
SizeIsM©ch”
<
SizeM©ch”
>(
size_m©ch”
);

4502 
	}
}

4509 
	g‹m¶©e
 <
ty³Çme
 
	gDi¡ªûM©ch”
>

4510 
šlše
 
	gš‹º®
::
BegšEndDi¡ªûIsM©ch”
<
Di¡ªûM©ch”
>

4511 
	$BegšEndDi¡ªûIs
(cÚ¡ 
Di¡ªûM©ch”
& 
di¡ªû_m©ch”
) {

4512  
š‹º®
::
BegšEndDi¡ªûIsM©ch”
<
Di¡ªûM©ch”
>(
di¡ªû_m©ch”
);

4513 
	}
}

4519 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

4520 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
CÚš”EqM©ch”
<

4521 
ty³Çme
 
¡d
::
»move_cÚ¡
<
CÚš”
>::
ty³
>>

4522 
	$CÚš”Eq
(cÚ¡ 
CÚš”
& 
rhs
) {

4523  
	`MakePŞymÜphicM©ch”
(
š‹º®
::
CÚš”EqM©ch”
<
CÚš”
>(
rhs
));

4524 
	}
}

4528 
	g‹m¶©e
 <
ty³Çme
 
	gCom·¿tÜ
,y³Çm
	gCÚš”M©ch”
>

4529 
šlše
 
	gš‹º®
::
Wh’SÜ‹dByM©ch”
<
Com·¿tÜ
, 
	gCÚš”M©ch”
>

4530 
	$Wh’SÜ‹dBy
(cÚ¡ 
Com·¿tÜ
& 
com·¿tÜ
,

4531 cÚ¡ 
CÚš”M©ch”
& 
cÚš”_m©ch”
) {

4532  
š‹º®
::
Wh’SÜ‹dByM©ch”
<
Com·¿tÜ
, 
CÚš”M©ch”
>(

4533 
com·¿tÜ
, 
cÚš”_m©ch”
);

4534 
	}
}

4538 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”M©ch”
>

4539 
šlše
 
	gš‹º®
::
Wh’SÜ‹dByM©ch”
<
š‹º®
::
LessCom·¿tÜ
, 
	gCÚš”M©ch”
>

4540 
	$Wh’SÜ‹d
(cÚ¡ 
CÚš”M©ch”
& 
cÚš”_m©ch”
) {

4542 
š‹º®
::
Wh’SÜ‹dByM©ch”
<š‹º®::
LessCom·¿tÜ
, 
CÚš”M©ch”
>(

4543 
š‹º®
::
	`LessCom·¿tÜ
(), 
cÚš”_m©ch”
);

4544 
	}
}

4552 
	g‹m¶©e
 <
ty³Çme
 
	gTu¶eM©ch”
,y³Çm
	gCÚš”
>

4553 
šlše
 
	gš‹º®
::
Poštwi£M©ch”
<
Tu¶eM©ch”
,

4554 
ty³Çme
 
	g¡d
::
»move_cÚ¡
<
CÚš”
>::
ty³
>

4555 
	$Poštwi£
(cÚ¡ 
Tu¶eM©ch”
& 
tu¶e_m©ch”
, cÚ¡ 
CÚš”
& 
rhs
) {

4556  
š‹º®
::
Poštwi£M©ch”
<
Tu¶eM©ch”
, 
CÚš”
>(
tu¶e_m©ch”
,

4557 
rhs
);

4558 
	}
}

4562 
	g‹m¶©e
 <
ty³Çme
 
	gTu¶eM©ch”
,y³Çm
	gT
>

4563 
šlše
 
	gš‹º®
::
Poštwi£M©ch”
<
Tu¶eM©ch”
, 
	g¡d
::
veùÜ
<
T
> > 
Poštwi£
(

4564 cÚ¡ 
Tu¶eM©ch”
& 
tu¶e_m©ch”
, 
¡d
::
š™Ÿliz”_li¡
<
T
> 
rhs
) {

4565  
Poštwi£
(
tu¶e_m©ch”
, 
¡d
::
veùÜ
<
T
>(
rhs
));

4580 
	g‹m¶©e
 <
ty³Çme
 
	gTu¶e2M©ch”
,y³Çm
	gRhsCÚš”
>

4581 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<

4582 
ty³Çme
 
š‹º®
::
BoundSecÚdM©ch”
<

4583 
Tu¶e2M©ch”
,

4584 
ty³Çme
 
	gš‹º®
::
SCÚš”V›w
<

4585 
ty³Çme
 
¡d
::
»move_cÚ¡
<
RhsCÚš”
>::
ty³
>::ty³::
v®ue_ty³
>>

4586 
	$UnÜd”edPoštwi£
(cÚ¡ 
Tu¶e2M©ch”
& 
tu¶e2_m©ch”
,

4587 cÚ¡ 
RhsCÚš”
& 
rhs_cÚš”
) {

4590 
ty³Çme
 
	tš‹º®
::
	tSCÚš”V›w
<
	tRhsCÚš”
> 
	tRhsV›w
;

4591 
ty³Çme
 
	tRhsV›w
::
	tty³
 
	tRhsSCÚš”
;

4592 
ty³Çme
 
	tRhsSCÚš”
::
	tv®ue_ty³
 
	tSecÚd
;

4593 cÚ¡ 
RhsSCÚš”
& 
rhs_¡l_cÚš”
 =

4594 
RhsV›w
::
	`CÚ¡Reã»nû
(
rhs_cÚš”
);

4597 ::
¡d
::
veùÜ
<
š‹º®
::
BoundSecÚdM©ch”
<
Tu¶e2M©ch”
, 
SecÚd
> > 
m©ch”s
;

4598 
ty³Çme
 
RhsSCÚš”
::
cÚ¡_™”©Ü
 
™
 = 
rhs_¡l_cÚš”
.
	`begš
();

4599 
™
 !ğ
rhs_¡l_cÚš”
.
	`’d
(); ++it) {

4600 
m©ch”s
.
	`push_back
(

4601 
š‹º®
::
	`M©ch”BšdSecÚd
(
tu¶e2_m©ch”
, *
™
));

4605  
	`UnÜd”edEËm’tsA»A¼ay
(
m©ch”s
);

4606 
	}
}

4610 
	g‹m¶©e
 <
ty³Çme
 
	gTu¶e2M©ch”
,y³Çm
	gT
>

4611 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<

4612 
ty³Çme
 
š‹º®
::
BoundSecÚdM©ch”
<
Tu¶e2M©ch”
, 
	gT
> >

4613 
UnÜd”edPoštwi£
(cÚ¡ 
Tu¶e2M©ch”
& 
tu¶e2_m©ch”
,

4614 
¡d
::
š™Ÿliz”_li¡
<
T
> 
rhs
) {

4615  
UnÜd”edPoštwi£
(
tu¶e2_m©ch”
, 
¡d
::
veùÜ
<
T
>(
rhs
));

4637 
	g‹m¶©e
 <
ty³Çme
 
	gM
>

4638 
šlše
 
	gš‹º®
::
CÚšsM©ch”
<
M
> 
	$CÚšs
(
M
 
m©ch”
) {

4639  
š‹º®
::
CÚšsM©ch”
<
M
>(
m©ch”
);

4640 
	}
}

4669 
	g‹m¶©e
 <
ty³Çme
 
	gI‹r
>

4670 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<

4671 
ty³Çme
 ::
¡d
::
™”©Ü_Œa™s
<
I‹r
>::
v®ue_ty³
>

4672 
	$IsSu³r£tOf
(
I‹r
 
fœ¡
, I‹¸
Ï¡
) {

4673 
ty³Çme
 ::
	t¡d
::
	t™”©Ü_Œa™s
<
	tI‹r
>::
	tv®ue_ty³
 
	tT
;

4674  
š‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<
T
>(

4675 
š‹º®
::
UnÜd”edM©ch”Requœe
::
Su³r£t
, 
fœ¡
, 
Ï¡
);

4676 
	}
}

4678 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

4679 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<
T
> 
	$IsSu³r£tOf
(

4680 cÚ¡ 
T
* 
poš‹r
, 
size_t
 
couÁ
) {

4681  
	`IsSu³r£tOf
(
poš‹r
,…oš‹¸+ 
couÁ
);

4682 
	}
}

4684 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
size_t
 
	gN
>

4685 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<
T
> 
IsSu³r£tOf
(

4686 cÚ¡ 
T
 (&
¬¿y
)[
N
]) {

4687  
IsSu³r£tOf
(
¬¿y
, 
N
);

4690 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

4691 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<

4692 
ty³Çme
 
CÚš”
::
v®ue_ty³
>

4693 
	$IsSu³r£tOf
(cÚ¡ 
CÚš”
& 
cÚš”
) {

4694  
	`IsSu³r£tOf
(
cÚš”
.
	`begš
(), cÚš”.
	`’d
());

4695 
	}
}

4697 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

4698 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<
T
> 
IsSu³r£tOf
(

4699 ::
¡d
::
š™Ÿliz”_li¡
<
T
> 
xs
) {

4700  
IsSu³r£tOf
(
xs
.
begš
(), xs.
’d
());

4726 
	g‹m¶©e
 <
ty³Çme
 
	gI‹r
>

4727 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<

4728 
ty³Çme
 ::
¡d
::
™”©Ü_Œa™s
<
I‹r
>::
v®ue_ty³
>

4729 
	$IsSub£tOf
(
I‹r
 
fœ¡
, I‹¸
Ï¡
) {

4730 
ty³Çme
 ::
	t¡d
::
	t™”©Ü_Œa™s
<
	tI‹r
>::
	tv®ue_ty³
 
	tT
;

4731  
š‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<
T
>(

4732 
š‹º®
::
UnÜd”edM©ch”Requœe
::
Sub£t
, 
fœ¡
, 
Ï¡
);

4733 
	}
}

4735 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

4736 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<
T
> 
	$IsSub£tOf
(

4737 cÚ¡ 
T
* 
poš‹r
, 
size_t
 
couÁ
) {

4738  
	`IsSub£tOf
(
poš‹r
,…oš‹¸+ 
couÁ
);

4739 
	}
}

4741 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
size_t
 
	gN
>

4742 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<
T
> 
IsSub£tOf
(

4743 cÚ¡ 
T
 (&
¬¿y
)[
N
]) {

4744  
IsSub£tOf
(
¬¿y
, 
N
);

4747 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

4748 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<

4749 
ty³Çme
 
CÚš”
::
v®ue_ty³
>

4750 
	$IsSub£tOf
(cÚ¡ 
CÚš”
& 
cÚš”
) {

4751  
	`IsSub£tOf
(
cÚš”
.
	`begš
(), cÚš”.
	`’d
());

4752 
	}
}

4754 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

4755 
šlše
 
	gš‹º®
::
UnÜd”edEËm’tsA»A¼ayM©ch”
<
T
> 
IsSub£tOf
(

4756 ::
¡d
::
š™Ÿliz”_li¡
<
T
> 
xs
) {

4757  
IsSub£tOf
(
xs
.
begš
(), xs.
’d
());

4787 
	g‹m¶©e
 <
ty³Çme
 
	gM
>

4788 
šlše
 
	gš‹º®
::
EachM©ch”
<
M
> 
	$Each
(
M
 
m©ch”
) {

4789  
š‹º®
::
EachM©ch”
<
M
>(
m©ch”
);

4790 
	}
}

4795 
	g‹m¶©e
 <
ty³Çme
 
	gM
>

4796 
šlše
 
	gš‹º®
::
KeyM©ch”
<
M
> 
	$Key
(
M
 
šÃr_m©ch”
) {

4797  
š‹º®
::
KeyM©ch”
<
M
>(
šÃr_m©ch”
);

4798 
	}
}

4805 
	g‹m¶©e
 <
ty³Çme
 
	gFœ¡M©ch”
,y³Çm
	gSecÚdM©ch”
>

4806 
šlše
 
	gš‹º®
::
PaœM©ch”
<
Fœ¡M©ch”
, 
	gSecÚdM©ch”
>

4807 
	$Paœ
(
Fœ¡M©ch”
 
fœ¡_m©ch”
, 
SecÚdM©ch”
 
£cÚd_m©ch”
) {

4808  
š‹º®
::
PaœM©ch”
<
Fœ¡M©ch”
, 
SecÚdM©ch”
>(

4809 
fœ¡_m©ch”
, 
£cÚd_m©ch”
);

4810 
	}
}

4812 
Çme¥aû
 
	gno_adl
 {

4817 
	g‹m¶©e
 <
	gty³Çme
... 
	gM
>

4818 
	gš‹º®
::
F›ldsA»M©ch”
<
ty³Çme
 
¡d
::
deÿy
<
M
>::
ty³
...> 
F›ldsA»
(

4819 
M
&&... 
m©ch”s
) {

4820  
š‹º®
::
F›ldsA»M©ch”
<
ty³Çme
 
¡d
::
deÿy
<
M
>::
ty³
...>(

4821 
¡d
::
fÜw¬d
<
M
>(
m©ch”s
)...);

4826 
	g‹m¶©e
 <
ty³Çme
 
	gIÂ”M©ch”
>

4827 
šlše
 
	gš‹º®
::
Poš‹rM©ch”
<
IÂ”M©ch”
> 
Poš‹r
(

4828 cÚ¡ 
IÂ”M©ch”
& 
šÃr_m©ch”
) {

4829  
š‹º®
::
Poš‹rM©ch”
<
IÂ”M©ch”
>(
šÃr_m©ch”
);

4834 
	g‹m¶©e
 <
ty³Çme
 
	gIÂ”M©ch”
>

4835 
šlše
 
	gš‹º®
::
Add»ssM©ch”
<
IÂ”M©ch”
> 
Add»ss
(

4836 cÚ¡ 
IÂ”M©ch”
& 
šÃr_m©ch”
) {

4837  
š‹º®
::
Add»ssM©ch”
<
IÂ”M©ch”
>(
šÃr_m©ch”
);

4843 
	g‹m¶©e
 <
ty³Çme
 
	gM
>

4844 
šlše
 
	gš‹º®
::
M©ch”AsP»diÿ‹
<
M
> 
	$M©ches
(
M
 
m©ch”
) {

4845  
š‹º®
::
M©ch”AsP»diÿ‹
<
M
>(
m©ch”
);

4846 
	}
}

4849 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gM
>

4850 
šlše
 
boŞ
 
	$V®ue
(cÚ¡ 
T
& 
v®ue
, 
M
 
m©ch”
) {

4851  
‹¡šg
::
	`M©ches
(
m©ch”
)(
v®ue
);

4852 
	}
}

4856 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gM
>

4857 
šlše
 
boŞ
 
	$Ex¶ašM©chResuÉ
(

4858 
M
 
m©ch”
, cÚ¡ 
T
& 
v®ue
, 
M©chResuÉLi¡’”
* 
li¡’”
) {

4859  
SaãM©ch”Ca¡
<cÚ¡ 
T
&>(
m©ch”
).
	`M©chAndEx¶aš
(
v®ue
, 
li¡’”
);

4860 
	}
}

4872 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gM
>

4873 
	g¡d
::
¡ršg
 
	$DesüibeM©ch”
(cÚ¡ 
M
& 
m©ch”
, 
boŞ
 
Ãg©iÚ
 = 
çl£
) {

4874 ::
¡d
::
¡ršg¡»am
 
ss
;

4875 
M©ch”
<
T
> 
mÚomÜphic_m©ch”
 = 
SaãM©ch”Ca¡
<T>(
m©ch”
);

4876 ià(
Ãg©iÚ
) {

4877 
mÚomÜphic_m©ch”
.
	`DesüibeNeg©iÚTo
(&
ss
);

4879 
mÚomÜphic_m©ch”
.
	`DesüibeTo
(&
ss
);

4881  
ss
.
	`¡r
();

4882 
	}
}

4884 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

4885 
	gš‹º®
::
EËm’tsA»M©ch”
<

4886 
¡d
::
tu¶e
<
ty³Çme
 std::
deÿy
<cÚ¡ 
Args
&>::
ty³
...>>

4887 
	$EËm’tsA»
(cÚ¡ 
Args
&... 
m©ch”s
) {

4888  
š‹º®
::
EËm’tsA»M©ch”
<

4889 
¡d
::
tu¶e
<
ty³Çme
 std::
deÿy
<cÚ¡ 
Args
&>::
ty³
...>>(

4890 
¡d
::
	`make_tu¶e
(
m©ch”s
...));

4891 
	}
}

4893 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

4894 
	gš‹º®
::
UnÜd”edEËm’tsA»M©ch”
<

4895 
¡d
::
tu¶e
<
ty³Çme
 std::
deÿy
<cÚ¡ 
Args
&>::
ty³
...>>

4896 
	$UnÜd”edEËm’tsA»
(cÚ¡ 
Args
&... 
m©ch”s
) {

4897  
š‹º®
::
UnÜd”edEËm’tsA»M©ch”
<

4898 
¡d
::
tu¶e
<
ty³Çme
 std::
deÿy
<cÚ¡ 
Args
&>::
ty³
...>>(

4899 
¡d
::
	`make_tu¶e
(
m©ch”s
...));

4900 
	}
}

4903 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

4904 
	gš‹º®
::
AÎOfM©ch”
<
ty³Çme
 
¡d
::
deÿy
<cÚ¡ 
Args
&>::
ty³
...> 
	$AÎOf
(

4905 cÚ¡ 
Args
&... 
m©ch”s
) {

4906  
š‹º®
::
AÎOfM©ch”
<
ty³Çme
 
¡d
::
deÿy
<cÚ¡ 
Args
&>::
ty³
...>(

4907 
m©ch”s
...);

4908 
	}
}

4910 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

4911 
	gš‹º®
::
AnyOfM©ch”
<
ty³Çme
 
¡d
::
deÿy
<cÚ¡ 
Args
&>::
ty³
...> 
	$AnyOf
(

4912 cÚ¡ 
Args
&... 
m©ch”s
) {

4913  
š‹º®
::
AnyOfM©ch”
<
ty³Çme
 
¡d
::
deÿy
<cÚ¡ 
Args
&>::
ty³
...>(

4914 
m©ch”s
...);

4915 
	}
}

4939 
	g‹m¶©e
 <
ty³Çme
 
	gI‹r
>

4940 
šlše
 
	gš‹º®
::
AnyOfA¼ayM©ch”
<

4941 
ty³Çme
 ::
¡d
::
™”©Ü_Œa™s
<
I‹r
>::
v®ue_ty³
>

4942 
	$AnyOfA¼ay
(
I‹r
 
fœ¡
, I‹¸
Ï¡
) {

4943  
š‹º®
::
AnyOfA¼ayM©ch”
<

4944 
ty³Çme
 ::
¡d
::
™”©Ü_Œa™s
<
I‹r
>::
v®ue_ty³
>(
fœ¡
, 
Ï¡
);

4945 
	}
}

4947 
	g‹m¶©e
 <
ty³Çme
 
	gI‹r
>

4948 
šlše
 
	gš‹º®
::
AÎOfA¼ayM©ch”
<

4949 
ty³Çme
 ::
¡d
::
™”©Ü_Œa™s
<
I‹r
>::
v®ue_ty³
>

4950 
	$AÎOfA¼ay
(
I‹r
 
fœ¡
, I‹¸
Ï¡
) {

4951  
š‹º®
::
AÎOfA¼ayM©ch”
<

4952 
ty³Çme
 ::
¡d
::
™”©Ü_Œa™s
<
I‹r
>::
v®ue_ty³
>(
fœ¡
, 
Ï¡
);

4953 
	}
}

4955 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

4956 
šlše
 
	gš‹º®
::
AnyOfA¼ayM©ch”
<
T
> 
	$AnyOfA¼ay
(cÚ¡ 
T
* 
±r
, 
size_t
 
couÁ
) {

4957  
	`AnyOfA¼ay
(
±r
,…Œ + 
couÁ
);

4958 
	}
}

4960 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

4961 
šlše
 
	gš‹º®
::
AÎOfA¼ayM©ch”
<
T
> 
	$AÎOfA¼ay
(cÚ¡ 
T
* 
±r
, 
size_t
 
couÁ
) {

4962  
	`AÎOfA¼ay
(
±r
,…Œ + 
couÁ
);

4963 
	}
}

4965 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
size_t
 
	gN
>

4966 
šlše
 
	gš‹º®
::
AnyOfA¼ayM©ch”
<
T
> 
AnyOfA¼ay
(cÚ¡ T (&
¬¿y
)[
N
]) {

4967  
AnyOfA¼ay
(
¬¿y
, 
N
);

4970 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
size_t
 
	gN
>

4971 
šlše
 
	gš‹º®
::
AÎOfA¼ayM©ch”
<
T
> 
AÎOfA¼ay
(cÚ¡ T (&
¬¿y
)[
N
]) {

4972  
AÎOfA¼ay
(
¬¿y
, 
N
);

4975 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

4976 
šlše
 
	gš‹º®
::
AnyOfA¼ayM©ch”
<
ty³Çme
 
CÚš”
::
v®ue_ty³
> 
	$AnyOfA¼ay
(

4977 cÚ¡ 
CÚš”
& 
cÚš”
) {

4978  
	`AnyOfA¼ay
(
cÚš”
.
	`begš
(), cÚš”.
	`’d
());

4979 
	}
}

4981 
	g‹m¶©e
 <
ty³Çme
 
	gCÚš”
>

4982 
šlše
 
	gš‹º®
::
AÎOfA¼ayM©ch”
<
ty³Çme
 
CÚš”
::
v®ue_ty³
> 
	$AÎOfA¼ay
(

4983 cÚ¡ 
CÚš”
& 
cÚš”
) {

4984  
	`AÎOfA¼ay
(
cÚš”
.
	`begš
(), cÚš”.
	`’d
());

4985 
	}
}

4987 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

4988 
šlše
 
	gš‹º®
::
AnyOfA¼ayM©ch”
<
T
> 
AnyOfA¼ay
(

4989 ::
¡d
::
š™Ÿliz”_li¡
<
T
> 
xs
) {

4990  
AnyOfA¼ay
(
xs
.
begš
(), xs.
’d
());

4993 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

4994 
šlše
 
	gš‹º®
::
AÎOfA¼ayM©ch”
<
T
> 
AÎOfA¼ay
(

4995 ::
¡d
::
š™Ÿliz”_li¡
<
T
> 
xs
) {

4996  
AÎOfA¼ay
(
xs
.
begš
(), xs.
’d
());

5002 
	g‹m¶©e
 <
	gsize_t
... 
	gk
, 
ty³Çme
 
	gIÂ”M©ch”
>

5003 
	gš‹º®
::
ArgsM©ch”
<
ty³Çme
 
¡d
::
deÿy
<
IÂ”M©ch”
>::
ty³
, 
	gk
...> 
	$Args
(

5004 
IÂ”M©ch”
&& 
m©ch”
) {

5005  
š‹º®
::
ArgsM©ch”
<
ty³Çme
 
¡d
::
deÿy
<
IÂ”M©ch”
>::
ty³
, 
k
...>(

5006 
¡d
::
fÜw¬d
<
IÂ”M©ch”
>(
m©ch”
));

5007 
	}
}

5016 
	g‹m¶©e
 <
ty³Çme
 
	gIÂ”M©ch”
>

5017 
šlše
 
IÂ”M©ch”
 
	$AÎArgs
(cÚ¡ 
IÂ”M©ch”
& 
m©ch”
è{  m©ch”; 
	}
}

5027 
	g‹m¶©e
 <
ty³Çme
 
	gV®ueM©ch”
>

5028 
šlše
 
	gš‹º®
::
O±iÚ®M©ch”
<
V®ueM©ch”
> 
	$O±iÚ®
(

5029 cÚ¡ 
V®ueM©ch”
& 
v®ue_m©ch”
) {

5030  
š‹º®
::
O±iÚ®M©ch”
<
V®ueM©ch”
>(
v®ue_m©ch”
);

5031 
	}
}

5034 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

5035 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
ªy_ÿ¡_m©ch”
::
AnyCa¡M©ch”
<
T
> > 
AnyW™h
(

5036 cÚ¡ 
M©ch”
<cÚ¡ 
T
&>& 
m©ch”
) {

5037  
MakePŞymÜphicM©ch”
(

5038 
š‹º®
::
ªy_ÿ¡_m©ch”
::
AnyCa¡M©ch”
<
T
>(
m©ch”
));

5045 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

5046 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
v¬ŸÁ_m©ch”
::
V¬ŸÁM©ch”
<
T
> > 
V¬ŸÁW™h
(

5047 cÚ¡ 
M©ch”
<cÚ¡ 
T
&>& 
m©ch”
) {

5048  
MakePŞymÜphicM©ch”
(

5049 
š‹º®
::
v¬ŸÁ_m©ch”
::
V¬ŸÁM©ch”
<
T
>(
m©ch”
));

5052 #ià
GTEST_HAS_EXCEPTIONS


5056 
Çme¥aû
 
	gš‹º®
 {

5058 şas 
	cW™hWh©M©ch”Im¶
 {

5059 
	gpublic
:

5060 
W™hWh©M©ch”Im¶
(
M©ch”
<
¡d
::
¡ršg
> 
m©ch”
)

5061 : 
m©ch”_
(
¡d
::
move
(
m©ch”
)) {}

5063 
DesüibeTo
(
¡d
::
o¡»am
* 
os
) const {

5064 *
os
 << "contains .what()hat ";

5065 
	gm©ch”_
.
DesüibeTo
(
os
);

5068 
DesüibeNeg©iÚTo
(
¡d
::
o¡»am
* 
os
) const {

5069 *
os
 << "contains .what()hat does‚ot ";

5070 
	gm©ch”_
.
DesüibeTo
(
os
);

5073 
	g‹m¶©e
 <
ty³Çme
 
	gE¼
>

5074 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
E¼
& 
”r
, 
M©chResuÉLi¡’”
* 
li¡’”
) const {

5075 *
	gli¡’”
 << "which contains .what()hat ";

5076  
	gm©ch”_
.
M©chAndEx¶aš
(
”r
.
wh©
(), 
li¡’”
);

5079 
	g´iv©e
:

5080 cÚ¡ 
M©ch”
<
¡d
::
¡ršg
> 
m©ch”_
;

5083 
šlše
 
	gPŞymÜphicM©ch”
<
	gW™hWh©M©ch”Im¶
> 
W™hWh©
(

5084 
M©ch”
<
¡d
::
¡ršg
> 
m
) {

5085  
MakePŞymÜphicM©ch”
(
W™hWh©M©ch”Im¶
(
¡d
::
move
(
m
)));

5088 
	g‹m¶©e
 <
ty³Çme
 
	gE¼
>

5089 şas 
	cExû±iÚM©ch”Im¶
 {

5090 şas 
	cNev”Thrown
 {

5091 
	gpublic
:

5092 cÚ¡ * 
wh©
(ècÚ¡ 
nÛxû±
 {

5118 
usšg
 
	gDeçuÉExû±iÚTy³
 = 
ty³Çme
 
¡d
::
cÚd™iÚ®
<

5119 
¡d
::
is_§me
<
ty³Çme
 std::
»move_cv
<

5120 
ty³Çme
 
¡d
::
»move_»ã»nû
<
E¼
>::
ty³
>::type,

5121 
	g¡d
::
exû±iÚ
>::
v®ue
,

5122 cÚ¡ 
	gNev”Thrown
&, cÚ¡ 
	g¡d
::
exû±iÚ
&>::
ty³
;

5124 
	gpublic
:

5125 
Exû±iÚM©ch”Im¶
(
M©ch”
<cÚ¡ 
E¼
&> 
m©ch”
)

5126 : 
m©ch”_
(
¡d
::
move
(
m©ch”
)) {}

5128 
DesüibeTo
(
¡d
::
o¡»am
* 
os
) const {

5129 *
os
 << "throw ªƒxû±iÚ which i ¨" << 
G‘Ty³Name
<
E¼
>();

5130 *
	gos
 << " which ";

5131 
	gm©ch”_
.
DesüibeTo
(
os
);

5134 
DesüibeNeg©iÚTo
(
¡d
::
o¡»am
* 
os
) const {

5135 *
os
 << "throw ªƒxû±iÚ which i nÙ‡ " << 
G‘Ty³Name
<
E¼
>();

5136 *
	gos
 << " which ";

5137 
	gm©ch”_
.
DesüibeNeg©iÚTo
(
os
);

5140 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

5141 
boŞ
 
M©chAndEx¶aš
(
T
&& 
x
, 
M©chResuÉLi¡’”
* 
li¡’”
) const {

5142 
	gŒy
 {

5143 ()(
	g¡d
::
fÜw¬d
<
T
>(
x
)());

5144 } 
ÿtch
 (cÚ¡ 
E¼
& 
”r
) {

5145 *
	gli¡’”
 << "throw ªƒxû±iÚ which i ¨" << 
	gG‘Ty³Name
<
	gE¼
>();

5146 *
	gli¡’”
 << " ";

5147  
	gm©ch”_
.
M©chAndEx¶aš
(
”r
, 
li¡’”
);

5148 } 
ÿtch
 (
DeçuÉExû±iÚTy³
 
”r
) {

5149 #ià
GTEST_HAS_RTTI


5150 *
	gli¡’”
 << "throw ªƒxû±iÚ oàty³ " << 
G‘Ty³Name
(
ty³id
(
”r
));

5151 *
	gli¡’”
 << " ";

5153 *
	gli¡’”
 << "throws‡n std::exception-derivedype ";

5155 *
	gli¡’”
 << "w™h desütiÚ \"" << 
	g”r
.
wh©
() << "\"";

5156  
	gçl£
;

5157 } 
ÿtch
 (...) {

5158 *
	gli¡’”
 << "throws‡nƒxception of‡n unknownype";

5159  
	gçl£
;

5162 *
	gli¡’”
 << "does‚othrow‡nyƒxception";

5163  
	gçl£
;

5166 
	g´iv©e
:

5167 cÚ¡ 
M©ch”
<cÚ¡ 
E¼
&> 
m©ch”_
;

5194 
	g‹m¶©e
 <
ty³Çme
 
	gE¼
>

5195 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
Exû±iÚM©ch”Im¶
<
E¼
>> 
	$Throws
() {

5196  
	`MakePŞymÜphicM©ch”
(

5197 
š‹º®
::
Exû±iÚM©ch”Im¶
<
E¼
>(
A
<const Err&>()));

5198 
	}
}

5200 
	g‹m¶©e
 <
ty³Çme
 
	gE¼
,y³Çm
	gExû±iÚM©ch”
>

5201 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
Exû±iÚM©ch”Im¶
<
E¼
>> 
	$Throws
(

5202 cÚ¡ 
Exû±iÚM©ch”
& 
exû±iÚ_m©ch”
) {

5206  
	`MakePŞymÜphicM©ch”
(
š‹º®
::
Exû±iÚM©ch”Im¶
<
E¼
>(

5207 
SaãM©ch”Ca¡
<cÚ¡ 
E¼
&>(
exû±iÚ_m©ch”
)));

5208 
	}
}

5210 
	g‹m¶©e
 <
ty³Çme
 
	gE¼
,y³Çm
	gMes§geM©ch”
>

5211 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
Exû±iÚM©ch”Im¶
<
E¼
>> 
	$ThrowsMes§ge
(

5212 
Mes§geM©ch”
&& 
mes§ge_m©ch”
) {

5213 
	`¡©ic_as£¹
(
¡d
::
is_ba£_of
<¡d::
exû±iÚ
, 
E¼
>::
v®ue
,

5215  
Throws
<
E¼
>(
š‹º®
::
	`W™hWh©
(

5216 
M©ch”Ca¡
<
¡d
::
¡ršg
>(¡d::
fÜw¬d
<
Mes§geM©ch”
>(
mes§ge_m©ch”
))));

5217 
	}
}

5225 
	#ASSERT_THAT
(
v®ue
, 
m©ch”
è
	`ASSERT_PRED_FORMAT1
(\

5226 ::
‹¡šg
::
š‹º®
::
	`MakeP»diÿ‹FÜm©‹rFromM©ch”
(
m©ch”
), 
v®ue
)

	)

5227 
	#EXPECT_THAT
(
v®ue
, 
m©ch”
è
	`EXPECT_PRED_FORMAT1
(\

5228 ::
‹¡šg
::
š‹º®
::
	`MakeP»diÿ‹FÜm©‹rFromM©ch”
(
m©ch”
), 
v®ue
)

	)

5231 
	#MATCHER
(
Çme
, 
desütiÚ
) \

5232 
şass
 
Çme
##
M©ch”
 \

5233 : 
public
 ::
‹¡šg
::
š‹º®
::
M©ch”Ba£Im¶
<
Çme
##
M©ch”
> { \

5234 
public
: \

5235 
‹m¶©e
 <
ty³Çme
 
¬g_ty³
> \

5236 
şass
 
gmock_Im¶
 : 
public
 ::
‹¡šg
::
M©ch”IÁ”çû
<cÚ¡ 
¬g_ty³
&> { \

5237 
public
: \

5238 
	`gmock_Im¶
() {} \

5239 
boŞ
 
	`M©chAndEx¶aš
( \

5240 cÚ¡ 
¬g_ty³
& 
¬g
, \

5241 ::
‹¡šg
::
M©chResuÉLi¡’”
* 
»suÉ_li¡’”
ècÚ¡ 
ov”ride
; \

5242 
	`DesüibeTo
(::
¡d
::
o¡»am
* 
gmock_os
ècÚ¡ 
ov”ride
 { \

5243 *
gmock_os
 << 
	`FÜm©DesütiÚ
(
çl£
); \

5245 
	`DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
gmock_os
ècÚ¡ 
ov”ride
 { \

5246 *
gmock_os
 << 
	`FÜm©DesütiÚ
(
Œue
); \

5249 
´iv©e
: \

5250 ::
¡d
::
¡ršg
 
	`FÜm©DesütiÚ
(
boŞ
 
Ãg©iÚ
) const { \

5251 ::
¡d
::
¡ršg
 
gmock_desütiÚ
 = (
desütiÚ
); \

5252 ià(!
gmock_desütiÚ
.
	`em±y
()) { \

5253  
gmock_desütiÚ
; \

5255  ::
‹¡šg
::
š‹º®
::
	`FÜm©M©ch”DesütiÚ
(
Ãg©iÚ
, #name, \

5260 
GTEST_ATTRIBUTE_UNUSED_
 
šlše
 
Çme
##
M©ch”
 
	$Çme
(è{  {}; 
	}
} \

5261 
‹m¶©e
 <
ty³Çme
 
¬g_ty³
> \

5262 
boŞ
 
Çme
##
M©ch”
::
gmock_Im¶
<
¬g_ty³
>::
	`M©chAndEx¶aš
( \

5263 cÚ¡ 
¬g_ty³
& 
¬g
, \

5264 ::
‹¡šg
::
M©chResuÉLi¡’”
* 
»suÉ_li¡’”
 
GTEST_ATTRIBUTE_UNUSED_
) \

5265 cÚ¡

	)

5267 
	#MATCHER_P
(
Çme
, 
p0
, 
desütiÚ
) \

5268 
	`GMOCK_INTERNAL_MATCHER
(
Çme
,‚ame##
M©ch”P
, 
desütiÚ
, (
p0
))

	)

5269 
	#MATCHER_P2
(
Çme
, 
p0
, 
p1
, 
desütiÚ
) \

5270 
	`GMOCK_INTERNAL_MATCHER
(
Çme
,‚ame##
M©ch”P2
, 
desütiÚ
, (
p0
, 
p1
))

	)

5271 
	#MATCHER_P3
(
Çme
, 
p0
, 
p1
, 
p2
, 
desütiÚ
) \

5272 
	`GMOCK_INTERNAL_MATCHER
(
Çme
,‚ame##
M©ch”P3
, 
desütiÚ
, (
p0
, 
p1
, 
p2
))

	)

5273 
	#MATCHER_P4
(
Çme
, 
p0
, 
p1
, 
p2
, 
p3
, 
desütiÚ
) \

5274 
	`GMOCK_INTERNAL_MATCHER
(
Çme
,‚ame##
M©ch”P4
, 
desütiÚ
, (
p0
, 
p1
, 
p2
, 
p3
))

	)

5275 
	#MATCHER_P5
(
Çme
, 
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
desütiÚ
) \

5276 
	`GMOCK_INTERNAL_MATCHER
(
Çme
,‚ame##
M©ch”P5
, 
desütiÚ
, \

5277 (
p0
, 
p1
, 
p2
, 
p3
, 
p4
))

	)

5278 
	#MATCHER_P6
(
Çme
, 
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
desütiÚ
) \

5279 
	`GMOCK_INTERNAL_MATCHER
(
Çme
,‚ame##
M©ch”P6
, 
desütiÚ
, \

5280 (
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
))

	)

5281 
	#MATCHER_P7
(
Çme
, 
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, 
desütiÚ
) \

5282 
	`GMOCK_INTERNAL_MATCHER
(
Çme
,‚ame##
M©ch”P7
, 
desütiÚ
, \

5283 (
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
))

	)

5284 
	#MATCHER_P8
(
Çme
, 
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, 
p7
, 
desütiÚ
) \

5285 
	`GMOCK_INTERNAL_MATCHER
(
Çme
,‚ame##
M©ch”P8
, 
desütiÚ
, \

5286 (
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, 
p7
))

	)

5287 
	#MATCHER_P9
(
Çme
, 
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, 
p7
, 
p8
, 
desütiÚ
) \

5288 
	`GMOCK_INTERNAL_MATCHER
(
Çme
,‚ame##
M©ch”P9
, 
desütiÚ
, \

5289 (
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, 
p7
, 
p8
))

	)

5290 
	#MATCHER_P10
(
Çme
, 
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, 
p7
, 
p8
, 
p9
, 
desütiÚ
) \

5291 
	`GMOCK_INTERNAL_MATCHER
(
Çme
,‚ame##
M©ch”P10
, 
desütiÚ
, \

5292 (
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, 
p7
, 
p8
, 
p9
))

	)

5294 
	#GMOCK_INTERNAL_MATCHER
(
Çme
, 
fuÎ_Çme
, 
desütiÚ
, 
¬gs
) \

5295 
‹m¶©e
 <
	`GMOCK_INTERNAL_MATCHER_TEMPLATE_PARAMS
(
¬gs
)> \

5296 
şass
 
fuÎ_Çme
 : 
public
 ::
‹¡šg
::
š‹º®
::
M©ch”Ba£Im¶
< \

5297 
fuÎ_Çme
<
	`GMOCK_INTERNAL_MATCHER_TYPE_PARAMS
(
¬gs
)>> { \

5298 
public
: \

5299 
usšg
 
fuÎ_Çme
::
M©ch”Ba£Im¶
::MatcherBaseImpl; \

5300 
‹m¶©e
 <
ty³Çme
 
¬g_ty³
> \

5301 
şass
 
gmock_Im¶
 : 
public
 ::
‹¡šg
::
M©ch”IÁ”çû
<cÚ¡ 
¬g_ty³
&> { \

5302 
public
: \

5303 
ex¶ic™
 
	`gmock_Im¶
(
	`GMOCK_INTERNAL_MATCHER_FUNCTION_ARGS
(
¬gs
)) \

5304 : 
	`GMOCK_INTERNAL_MATCHER_FORWARD_ARGS
(
¬gs
) {} \

5305 
boŞ
 
	`M©chAndEx¶aš
( \

5306 cÚ¡ 
¬g_ty³
& 
¬g
, \

5307 ::
‹¡šg
::
M©chResuÉLi¡’”
* 
»suÉ_li¡’”
ècÚ¡ 
ov”ride
; \

5308 
	`DesüibeTo
(::
¡d
::
o¡»am
* 
gmock_os
ècÚ¡ 
ov”ride
 { \

5309 *
gmock_os
 << 
	`FÜm©DesütiÚ
(
çl£
); \

5311 
	`DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
gmock_os
ècÚ¡ 
ov”ride
 { \

5312 *
gmock_os
 << 
	`FÜm©DesütiÚ
(
Œue
); \

5314 
	`GMOCK_INTERNAL_MATCHER_MEMBERS
(
¬gs
) \

5316 
´iv©e
: \

5317 ::
¡d
::
¡ršg
 
	`FÜm©DesütiÚ
(
boŞ
 
Ãg©iÚ
) const { \

5318 ::
¡d
::
¡ršg
 
gmock_desütiÚ
 = (
desütiÚ
); \

5319 ià(!
gmock_desütiÚ
.
	`em±y
()) { \

5320  
gmock_desütiÚ
; \

5322  ::
‹¡šg
::
š‹º®
::
	`FÜm©M©ch”DesütiÚ
( \

5323 
Ãg©iÚ
, #name, \

5324 ::
‹¡šg
::
š‹º®
::
	`Univ”§lT”£PrštTu¶eF›ldsToSŒšgs
( \

5325 ::
¡d
::
tu¶e
<
	`GMOCK_INTERNAL_MATCHER_TYPE_PARAMS
(
¬gs
)>( \

5326 
	`GMOCK_INTERNAL_MATCHER_MEMBERS_USAGE
(
¬gs
)))); \

5330 
‹m¶©e
 <
	`GMOCK_INTERNAL_MATCHER_TEMPLATE_PARAMS
(
¬gs
)> \

5331 
šlše
 
fuÎ_Çme
<
	`GMOCK_INTERNAL_MATCHER_TYPE_PARAMS
(
¬gs
)> 
	`Çme
( \

5332 
	$GMOCK_INTERNAL_MATCHER_FUNCTION_ARGS
(
¬gs
)) { \

5333  
fuÎ_Çme
<
	`GMOCK_INTERNAL_MATCHER_TYPE_PARAMS
(
¬gs
)>( \

5334 
	`GMOCK_INTERNAL_MATCHER_ARGS_USAGE
(
¬gs
)); \

5335 
	}
} \

5336 
‹m¶©e
 <
	`GMOCK_INTERNAL_MATCHER_TEMPLATE_PARAMS
(
¬gs
)> \

5337 
‹m¶©e
 <
ty³Çme
 
¬g_ty³
> \

5338 
boŞ
 
fuÎ_Çme
<
	`GMOCK_INTERNAL_MATCHER_TYPE_PARAMS
(
¬gs
)>::
gmock_Im¶
< \

5339 
¬g_ty³
>::
	`M©chAndEx¶aš
(cÚ¡‡rg_ty³& 
¬g
, \

5340 ::
‹¡šg
::
M©chResuÉLi¡’”
* \

5341 
»suÉ_li¡’”
 
GTEST_ATTRIBUTE_UNUSED_
) \

5342 cÚ¡

	)

5344 
	#GMOCK_INTERNAL_MATCHER_TEMPLATE_PARAMS
(
¬gs
) \

5345 
	`GMOCK_PP_TAIL
( \

5346 
	$GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_MATCHER_TEMPLATE_PARAM
, , 
¬gs
))

	)

5347 
	#GMOCK_INTERNAL_MATCHER_TEMPLATE_PARAM
(
i_unu£d
, 
d©a_unu£d
, 
¬g
) \

5348 , 
ty³Çme
 
¬g
##
_ty³


	)

5350 
	#GMOCK_INTERNAL_MATCHER_TYPE_PARAMS
(
¬gs
) \

5351 
	`GMOCK_PP_TAIL
(
	$GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_MATCHER_TYPE_PARAM
, , 
¬gs
))

	)

5352 
	#GMOCK_INTERNAL_MATCHER_TYPE_PARAM
(
i_unu£d
, 
d©a_unu£d
, 
¬g
) \

5353 , 
¬g
##
_ty³


	)

5355 
	#GMOCK_INTERNAL_MATCHER_FUNCTION_ARGS
(
¬gs
) \

5356 
	`GMOCK_PP_TAIL
(
dummy_fœ¡
 
	`GMOCK_PP_FOR_EACH
( \

5357 
GMOCK_INTERNAL_MATCHER_FUNCTION_ARG
, , 
¬gs
))

	)

5358 
	#GMOCK_INTERNAL_MATCHER_FUNCTION_ARG
(
i
, 
d©a_unu£d
, 
¬g
) \

5359 , 
¬g
##
_ty³
 
gmock_p
##
i


	)

5361 
	#GMOCK_INTERNAL_MATCHER_FORWARD_ARGS
(
¬gs
) \

5362 
	`GMOCK_PP_TAIL
(
	$GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_MATCHER_FORWARD_ARG
, , 
¬gs
))

	)

5363 
	#GMOCK_INTERNAL_MATCHER_FORWARD_ARG
(
i
, 
d©a_unu£d
, 
¬g
) \

5364 , 
	`¬g
(::
¡d
::
fÜw¬d
<
¬g
##
_ty³
>(
gmock_p
##
i
))

	)

5366 
	#GMOCK_INTERNAL_MATCHER_MEMBERS
(
¬gs
) \

5367 
	$GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_MATCHER_MEMBER
, , 
¬gs
)

	)

5368 
	#GMOCK_INTERNAL_MATCHER_MEMBER
(
i_unu£d
, 
d©a_unu£d
, 
¬g
) \

5369 cÚ¡ 
¬g
##
_ty³
‡rg;

	)

5371 
	#GMOCK_INTERNAL_MATCHER_MEMBERS_USAGE
(
¬gs
) \

5372 
	`GMOCK_PP_TAIL
(
	$GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_MATCHER_MEMBER_USAGE
, , 
¬gs
))

	)

5373 
	#GMOCK_INTERNAL_MATCHER_MEMBER_USAGE
(
i_unu£d
, 
d©a_unu£d
, 
¬g
è, 
	)
arg

5375 
	#GMOCK_INTERNAL_MATCHER_ARGS_USAGE
(
¬gs
) \

5376 
	`GMOCK_PP_TAIL
(
	$GMOCK_PP_FOR_EACH
(
GMOCK_INTERNAL_MATCHER_ARG_USAGE
, , 
¬gs
))

	)

5377 
	#GMOCK_INTERNAL_MATCHER_ARG_USAGE
(
i
, 
d©a_unu£d
, 
¬g_unu£d
) \

5378 , 
gmock_p
##
i


	)

5381 
usšg
 
Çme¥aû
 
no_adl
;

5383 
	}
}

5385 
	$GTEST_DISABLE_MSC_WARNINGS_POP_
()

5390 
	~"gmock/š‹º®/cu¡om/gmock-m©ch”s.h
"

	@/usr/include/gmock/gmock-more-actions.h

37 #iâdeà
GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_MORE_ACTIONS_H_


38 
	#GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_MORE_ACTIONS_H_


	)

40 
	~<memÜy
>

41 
	~<ut™y
>

43 
	~"gmock/gmock-aùiÚs.h
"

44 
	~"gmock/š‹º®/gmock-pÜt.h
"

47 
	~"gmock/š‹º®/cu¡om/gmock-g’”©ed-aùiÚs.h
"

131 
	#GMOCK_INTERNAL_DECL_HAS_1_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
èkšd0 
	)
name0

132 
	#GMOCK_INTERNAL_DECL_HAS_2_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, \

133 
Çme1
è
kšd0
 
Çme0
, 
kšd1
 
	)
name1

134 
	#GMOCK_INTERNAL_DECL_HAS_3_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, 
Çme1
, \

135 
kšd2
, 
Çme2
è
kšd0
 
Çme0
, 
kšd1
 
Çme1
, kšd2 
	)
name2

136 
	#GMOCK_INTERNAL_DECL_HAS_4_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, 
Çme1
, \

137 
kšd2
, 
Çme2
, 
kšd3
, 
Çme3
è
kšd0
 
Çme0
, 
kšd1
 
Çme1
, kind2‚ame2, \

138 
kšd3
 
Çme3


	)

139 
	#GMOCK_INTERNAL_DECL_HAS_5_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, 
Çme1
, \

140 
kšd2
, 
Çme2
, 
kšd3
, 
Çme3
, 
kšd4
, 
Çme4
è
kšd0
 
Çme0
, 
kšd1
 
Çme1
, \

141 
kšd2
 
Çme2
, 
kšd3
 
Çme3
, 
kšd4
 
Çme4


	)

142 
	#GMOCK_INTERNAL_DECL_HAS_6_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, 
Çme1
, \

143 
kšd2
, 
Çme2
, 
kšd3
, 
Çme3
, 
kšd4
, 
Çme4
, 
kšd5
, 
Çme5
è
kšd0
 
Çme0
, \

144 
kšd1
 
Çme1
, 
kšd2
 
Çme2
, 
kšd3
 
Çme3
, 
kšd4
 
Çme4
, 
kšd5
 
Çme5


	)

145 
	#GMOCK_INTERNAL_DECL_HAS_7_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, 
Çme1
, \

146 
kšd2
, 
Çme2
, 
kšd3
, 
Çme3
, 
kšd4
, 
Çme4
, 
kšd5
, 
Çme5
, 
kšd6
, \

147 
Çme6
è
kšd0
 
Çme0
, 
kšd1
 
Çme1
, 
kšd2
 
Çme2
, 
kšd3
 
Çme3
, 
kšd4
 
Çme4
, \

148 
kšd5
 
Çme5
, 
kšd6
 
Çme6


	)

149 
	#GMOCK_INTERNAL_DECL_HAS_8_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, 
Çme1
, \

150 
kšd2
, 
Çme2
, 
kšd3
, 
Çme3
, 
kšd4
, 
Çme4
, 
kšd5
, 
Çme5
, 
kšd6
, 
Çme6
, \

151 
kšd7
, 
Çme7
è
kšd0
 
Çme0
, 
kšd1
 
Çme1
, 
kšd2
 
Çme2
, 
kšd3
 
Çme3
, \

152 
kšd4
 
Çme4
, 
kšd5
 
Çme5
, 
kšd6
 
Çme6
, 
kšd7
 
Çme7


	)

153 
	#GMOCK_INTERNAL_DECL_HAS_9_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, 
Çme1
, \

154 
kšd2
, 
Çme2
, 
kšd3
, 
Çme3
, 
kšd4
, 
Çme4
, 
kšd5
, 
Çme5
, 
kšd6
, 
Çme6
, \

155 
kšd7
, 
Çme7
, 
kšd8
, 
Çme8
è
kšd0
 
Çme0
, 
kšd1
 
Çme1
, 
kšd2
 
Çme2
, \

156 
kšd3
 
Çme3
, 
kšd4
 
Çme4
, 
kšd5
 
Çme5
, 
kšd6
 
Çme6
, 
kšd7
 
Çme7
, \

157 
kšd8
 
Çme8


	)

158 
	#GMOCK_INTERNAL_DECL_HAS_10_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, \

159 
Çme1
, 
kšd2
, 
Çme2
, 
kšd3
, 
Çme3
, 
kšd4
, 
Çme4
, 
kšd5
, 
Çme5
, 
kšd6
, \

160 
Çme6
, 
kšd7
, 
Çme7
, 
kšd8
, 
Çme8
, 
kšd9
, 
Çme9
è
kšd0
 
Çme0
, \

161 
kšd1
 
Çme1
, 
kšd2
 
Çme2
, 
kšd3
 
Çme3
, 
kšd4
 
Çme4
, 
kšd5
 
Çme5
, \

162 
kšd6
 
Çme6
, 
kšd7
 
Çme7
, 
kšd8
 
Çme8
, 
kšd9
 
Çme9


	)

165 
	#GMOCK_INTERNAL_LIST_HAS_1_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
è
	)
name0

166 
	#GMOCK_INTERNAL_LIST_HAS_2_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, \

167 
Çme1
è
Çme0
, 
	)
name1

168 
	#GMOCK_INTERNAL_LIST_HAS_3_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, 
Çme1
, \

169 
kšd2
, 
Çme2
è
Çme0
, 
Çme1
, 
	)
name2

170 
	#GMOCK_INTERNAL_LIST_HAS_4_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, 
Çme1
, \

171 
kšd2
, 
Çme2
, 
kšd3
, 
Çme3
è
Çme0
, 
Çme1
,‚ame2, 
	)
name3

172 
	#GMOCK_INTERNAL_LIST_HAS_5_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, 
Çme1
, \

173 
kšd2
, 
Çme2
, 
kšd3
, 
Çme3
, 
kšd4
, 
Çme4
è
Çme0
, 
Çme1
,‚ame2,‚ame3, \

174 
Çme4


	)

175 
	#GMOCK_INTERNAL_LIST_HAS_6_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, 
Çme1
, \

176 
kšd2
, 
Çme2
, 
kšd3
, 
Çme3
, 
kšd4
, 
Çme4
, 
kšd5
, 
Çme5
è
Çme0
, 
Çme1
, \

177 
Çme2
, 
Çme3
, 
Çme4
, 
Çme5


	)

178 
	#GMOCK_INTERNAL_LIST_HAS_7_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, 
Çme1
, \

179 
kšd2
, 
Çme2
, 
kšd3
, 
Çme3
, 
kšd4
, 
Çme4
, 
kšd5
, 
Çme5
, 
kšd6
, \

180 
Çme6
è
Çme0
, 
Çme1
, 
Çme2
, 
Çme3
, 
Çme4
, 
Çme5
, 
	)
name6

181 
	#GMOCK_INTERNAL_LIST_HAS_8_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, 
Çme1
, \

182 
kšd2
, 
Çme2
, 
kšd3
, 
Çme3
, 
kšd4
, 
Çme4
, 
kšd5
, 
Çme5
, 
kšd6
, 
Çme6
, \

183 
kšd7
, 
Çme7
è
Çme0
, 
Çme1
, 
Çme2
, 
Çme3
, 
Çme4
, 
Çme5
, 
Çme6
, 
	)
name7

184 
	#GMOCK_INTERNAL_LIST_HAS_9_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, 
Çme1
, \

185 
kšd2
, 
Çme2
, 
kšd3
, 
Çme3
, 
kšd4
, 
Çme4
, 
kšd5
, 
Çme5
, 
kšd6
, 
Çme6
, \

186 
kšd7
, 
Çme7
, 
kšd8
, 
Çme8
è
Çme0
, 
Çme1
, 
Çme2
, 
Çme3
, 
Çme4
, 
Çme5
, \

187 
Çme6
, 
Çme7
, 
Çme8


	)

188 
	#GMOCK_INTERNAL_LIST_HAS_10_TEMPLATE_PARAMS
(
kšd0
, 
Çme0
, 
kšd1
, \

189 
Çme1
, 
kšd2
, 
Çme2
, 
kšd3
, 
Çme3
, 
kšd4
, 
Çme4
, 
kšd5
, 
Çme5
, 
kšd6
, \

190 
Çme6
, 
kšd7
, 
Çme7
, 
kšd8
, 
Çme8
, 
kšd9
, 
Çme9
è
Çme0
, 
Çme1
, 
Çme2
, \

191 
Çme3
, 
Çme4
, 
Çme5
, 
Çme6
, 
Çme7
, 
Çme8
, 
Çme9


	)

194 
	#GMOCK_INTERNAL_DECL_TYPE_AND_0_VALUE_PARAMS
()

	)

195 
	#GMOCK_INTERNAL_DECL_TYPE_AND_1_VALUE_PARAMS
(
p0
è, 
ty³Çme
…0##
_ty³


	)

196 
	#GMOCK_INTERNAL_DECL_TYPE_AND_2_VALUE_PARAMS
(
p0
, 
p1
) , \

197 
ty³Çme
 
p0
##
_ty³
,y³Çm
p1
##
	)
_type

198 
	#GMOCK_INTERNAL_DECL_TYPE_AND_3_VALUE_PARAMS
(
p0
, 
p1
, 
p2
) , \

199 
ty³Çme
 
p0
##
_ty³
,y³Çm
p1
##_ty³,y³Çm
p2
##
	)
_type

200 
	#GMOCK_INTERNAL_DECL_TYPE_AND_4_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
) , \

201 
ty³Çme
 
p0
##
_ty³
,y³Çm
p1
##_ty³,y³Çm
p2
##_type, \

202 
ty³Çme
 
p3
##
_ty³


	)

203 
	#GMOCK_INTERNAL_DECL_TYPE_AND_5_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
) , \

204 
ty³Çme
 
p0
##
_ty³
,y³Çm
p1
##_ty³,y³Çm
p2
##_type, \

205 
ty³Çme
 
p3
##
_ty³
,y³Çm
p4
##
	)
_type

206 
	#GMOCK_INTERNAL_DECL_TYPE_AND_6_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
) , \

207 
ty³Çme
 
p0
##
_ty³
,y³Çm
p1
##_ty³,y³Çm
p2
##_type, \

208 
ty³Çme
 
p3
##
_ty³
,y³Çm
p4
##_ty³,y³Çm
p5
##
	)
_type

209 
	#GMOCK_INTERNAL_DECL_TYPE_AND_7_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, \

210 
p6
è, 
ty³Çme
 
p0
##
_ty³
,y³Çm
p1
##_ty³,y³Çm
p2
##_type, \

211 
ty³Çme
 
p3
##
_ty³
,y³Çm
p4
##_ty³,y³Çm
p5
##_type, \

212 
ty³Çme
 
p6
##
_ty³


	)

213 
	#GMOCK_INTERNAL_DECL_TYPE_AND_8_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, \

214 
p6
, 
p7
è, 
ty³Çme
 
p0
##
_ty³
,y³Çm
p1
##_ty³,y³Çm
p2
##_type, \

215 
ty³Çme
 
p3
##
_ty³
,y³Çm
p4
##_ty³,y³Çm
p5
##_type, \

216 
ty³Çme
 
p6
##
_ty³
,y³Çm
p7
##
	)
_type

217 
	#GMOCK_INTERNAL_DECL_TYPE_AND_9_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, \

218 
p6
, 
p7
, 
p8
è, 
ty³Çme
 
p0
##
_ty³
,y³Çm
p1
##_ty³,y³Çm
p2
##_type, \

219 
ty³Çme
 
p3
##
_ty³
,y³Çm
p4
##_ty³,y³Çm
p5
##_type, \

220 
ty³Çme
 
p6
##
_ty³
,y³Çm
p7
##_ty³,y³Çm
p8
##
	)
_type

221 
	#GMOCK_INTERNAL_DECL_TYPE_AND_10_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, \

222 
p6
, 
p7
, 
p8
, 
p9
è, 
ty³Çme
 
p0
##
_ty³
,y³Çm
p1
##_type, \

223 
ty³Çme
 
p2
##
_ty³
,y³Çm
p3
##_ty³,y³Çm
p4
##_type, \

224 
ty³Çme
 
p5
##
_ty³
,y³Çm
p6
##_ty³,y³Çm
p7
##_type, \

225 
ty³Çme
 
p8
##
_ty³
,y³Çm
p9
##
	)
_type

228 
	#GMOCK_INTERNAL_INIT_AND_0_VALUE_PARAMS
()\

229 ()

	)

230 
	#GMOCK_INTERNAL_INIT_AND_1_VALUE_PARAMS
(
p0
)\

231 (
p0
##
_ty³
 
gmock_p0
è: 
	`p0
(::
¡d
::
	`move
(gmock_p0))

	)

232 
	#GMOCK_INTERNAL_INIT_AND_2_VALUE_PARAMS
(
p0
, 
p1
)\

233 (
p0
##
_ty³
 
gmock_p0
, 
p1
##_ty³ 
gmock_p1
è: 
	`p0
(::
¡d
::
	`move
(gmock_p0)), \

234 
	`p1
(::
¡d
::
	`move
(
gmock_p1
))

	)

235 
	#GMOCK_INTERNAL_INIT_AND_3_VALUE_PARAMS
(
p0
, 
p1
, 
p2
)\

236 (
p0
##
_ty³
 
gmock_p0
, 
p1
##_ty³ 
gmock_p1
, \

237 
p2
##
_ty³
 
gmock_p2
è: 
	`p0
(::
¡d
::
	`move
(
gmock_p0
)), \

238 
	`p1
(::
¡d
::
	`move
(
gmock_p1
)), 
	`p2
(::¡d::move(
gmock_p2
))

	)

239 
	#GMOCK_INTERNAL_INIT_AND_4_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
)\

240 (
p0
##
_ty³
 
gmock_p0
, 
p1
##_ty³ 
gmock_p1
, 
p2
##_ty³ 
gmock_p2
, \

241 
p3
##
_ty³
 
gmock_p3
è: 
	`p0
(::
¡d
::
	`move
(
gmock_p0
)), \

242 
	`p1
(::
¡d
::
	`move
(
gmock_p1
)), 
	`p2
(::¡d::move(
gmock_p2
)), \

243 
	`p3
(::
¡d
::
	`move
(
gmock_p3
))

	)

244 
	#GMOCK_INTERNAL_INIT_AND_5_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
)\

245 (
p0
##
_ty³
 
gmock_p0
, 
p1
##_ty³ 
gmock_p1
, 
p2
##_ty³ 
gmock_p2
, \

246 
p3
##
_ty³
 
gmock_p3
, 
p4
##_ty³ 
gmock_p4
è: 
	`p0
(::
¡d
::
	`move
(
gmock_p0
)), \

247 
	`p1
(::
¡d
::
	`move
(
gmock_p1
)), 
	`p2
(::¡d::move(
gmock_p2
)), \

248 
	`p3
(::
¡d
::
	`move
(
gmock_p3
)), 
	`p4
(::¡d::move(
gmock_p4
))

	)

249 
	#GMOCK_INTERNAL_INIT_AND_6_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
)\

250 (
p0
##
_ty³
 
gmock_p0
, 
p1
##_ty³ 
gmock_p1
, 
p2
##_ty³ 
gmock_p2
, \

251 
p3
##
_ty³
 
gmock_p3
, 
p4
##_ty³ 
gmock_p4
, \

252 
p5
##
_ty³
 
gmock_p5
è: 
	`p0
(::
¡d
::
	`move
(
gmock_p0
)), \

253 
	`p1
(::
¡d
::
	`move
(
gmock_p1
)), 
	`p2
(::¡d::move(
gmock_p2
)), \

254 
	`p3
(::
¡d
::
	`move
(
gmock_p3
)), 
	`p4
(::¡d::move(
gmock_p4
)), \

255 
	`p5
(::
¡d
::
	`move
(
gmock_p5
))

	)

256 
	#GMOCK_INTERNAL_INIT_AND_7_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
)\

257 (
p0
##
_ty³
 
gmock_p0
, 
p1
##_ty³ 
gmock_p1
, 
p2
##_ty³ 
gmock_p2
, \

258 
p3
##
_ty³
 
gmock_p3
, 
p4
##_ty³ 
gmock_p4
, 
p5
##_ty³ 
gmock_p5
, \

259 
p6
##
_ty³
 
gmock_p6
è: 
	`p0
(::
¡d
::
	`move
(
gmock_p0
)), \

260 
	`p1
(::
¡d
::
	`move
(
gmock_p1
)), 
	`p2
(::¡d::move(
gmock_p2
)), \

261 
	`p3
(::
¡d
::
	`move
(
gmock_p3
)), 
	`p4
(::¡d::move(
gmock_p4
)), \

262 
	`p5
(::
¡d
::
	`move
(
gmock_p5
)), 
	`p6
(::¡d::move(
gmock_p6
))

	)

263 
	#GMOCK_INTERNAL_INIT_AND_8_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, 
p7
)\

264 (
p0
##
_ty³
 
gmock_p0
, 
p1
##_ty³ 
gmock_p1
, 
p2
##_ty³ 
gmock_p2
, \

265 
p3
##
_ty³
 
gmock_p3
, 
p4
##_ty³ 
gmock_p4
, 
p5
##_ty³ 
gmock_p5
, \

266 
p6
##
_ty³
 
gmock_p6
, 
p7
##_ty³ 
gmock_p7
è: 
	`p0
(::
¡d
::
	`move
(
gmock_p0
)), \

267 
	`p1
(::
¡d
::
	`move
(
gmock_p1
)), 
	`p2
(::¡d::move(
gmock_p2
)), \

268 
	`p3
(::
¡d
::
	`move
(
gmock_p3
)), 
	`p4
(::¡d::move(
gmock_p4
)), \

269 
	`p5
(::
¡d
::
	`move
(
gmock_p5
)), 
	`p6
(::¡d::move(
gmock_p6
)), \

270 
	`p7
(::
¡d
::
	`move
(
gmock_p7
))

	)

271 
	#GMOCK_INTERNAL_INIT_AND_9_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, \

272 
p7
, 
p8
)\

273 (
p0
##
_ty³
 
gmock_p0
, 
p1
##_ty³ 
gmock_p1
, 
p2
##_ty³ 
gmock_p2
, \

274 
p3
##
_ty³
 
gmock_p3
, 
p4
##_ty³ 
gmock_p4
, 
p5
##_ty³ 
gmock_p5
, \

275 
p6
##
_ty³
 
gmock_p6
, 
p7
##_ty³ 
gmock_p7
, \

276 
p8
##
_ty³
 
gmock_p8
è: 
	`p0
(::
¡d
::
	`move
(
gmock_p0
)), \

277 
	`p1
(::
¡d
::
	`move
(
gmock_p1
)), 
	`p2
(::¡d::move(
gmock_p2
)), \

278 
	`p3
(::
¡d
::
	`move
(
gmock_p3
)), 
	`p4
(::¡d::move(
gmock_p4
)), \

279 
	`p5
(::
¡d
::
	`move
(
gmock_p5
)), 
	`p6
(::¡d::move(
gmock_p6
)), \

280 
	`p7
(::
¡d
::
	`move
(
gmock_p7
)), 
	`p8
(::¡d::move(
gmock_p8
))

	)

281 
	#GMOCK_INTERNAL_INIT_AND_10_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, \

282 
p7
, 
p8
, 
p9
)\

283 (
p0
##
_ty³
 
gmock_p0
, 
p1
##_ty³ 
gmock_p1
, 
p2
##_ty³ 
gmock_p2
, \

284 
p3
##
_ty³
 
gmock_p3
, 
p4
##_ty³ 
gmock_p4
, 
p5
##_ty³ 
gmock_p5
, \

285 
p6
##
_ty³
 
gmock_p6
, 
p7
##_ty³ 
gmock_p7
, 
p8
##_ty³ 
gmock_p8
, \

286 
p9
##
_ty³
 
gmock_p9
è: 
	`p0
(::
¡d
::
	`move
(
gmock_p0
)), \

287 
	`p1
(::
¡d
::
	`move
(
gmock_p1
)), 
	`p2
(::¡d::move(
gmock_p2
)), \

288 
	`p3
(::
¡d
::
	`move
(
gmock_p3
)), 
	`p4
(::¡d::move(
gmock_p4
)), \

289 
	`p5
(::
¡d
::
	`move
(
gmock_p5
)), 
	`p6
(::¡d::move(
gmock_p6
)), \

290 
	`p7
(::
¡d
::
	`move
(
gmock_p7
)), 
	`p8
(::¡d::move(
gmock_p8
)), \

291 
	`p9
(::
¡d
::
	`move
(
gmock_p9
))

	)

294 
	#GMOCK_INTERNAL_DEFN_COPY_AND_0_VALUE_PARAMS
() \

296 
	#GMOCK_INTERNAL_DEFN_COPY_AND_1_VALUE_PARAMS
(...èğ;

	)

297 
	#GMOCK_INTERNAL_DEFN_COPY_AND_2_VALUE_PARAMS
(...èğ;

	)

298 
	#GMOCK_INTERNAL_DEFN_COPY_AND_3_VALUE_PARAMS
(...èğ;

	)

299 
	#GMOCK_INTERNAL_DEFN_COPY_AND_4_VALUE_PARAMS
(...èğ;

	)

300 
	#GMOCK_INTERNAL_DEFN_COPY_AND_5_VALUE_PARAMS
(...èğ;

	)

301 
	#GMOCK_INTERNAL_DEFN_COPY_AND_6_VALUE_PARAMS
(...èğ;

	)

302 
	#GMOCK_INTERNAL_DEFN_COPY_AND_7_VALUE_PARAMS
(...èğ;

	)

303 
	#GMOCK_INTERNAL_DEFN_COPY_AND_8_VALUE_PARAMS
(...èğ;

	)

304 
	#GMOCK_INTERNAL_DEFN_COPY_AND_9_VALUE_PARAMS
(...èğ;

	)

305 
	#GMOCK_INTERNAL_DEFN_COPY_AND_10_VALUE_PARAMS
(...èğ;

	)

308 
	#GMOCK_INTERNAL_DEFN_AND_0_VALUE_PARAMS
()

	)

309 
	#GMOCK_INTERNAL_DEFN_AND_1_VALUE_PARAMS
(
p0
èp0##
_ty³
…0;

	)

310 
	#GMOCK_INTERNAL_DEFN_AND_2_VALUE_PARAMS
(
p0
, 
p1
èp0##
_ty³
…0; \

311 
p1
##
_ty³
…1;

	)

312 
	#GMOCK_INTERNAL_DEFN_AND_3_VALUE_PARAMS
(
p0
, 
p1
, 
p2
èp0##
_ty³
…0; \

313 
p1
##
_ty³
…1; 
p2
##_ty³…2;

	)

314 
	#GMOCK_INTERNAL_DEFN_AND_4_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
èp0##
_ty³
…0; \

315 
p1
##
_ty³
…1; 
p2
##_ty³…2; 
p3
##_ty³…3;

	)

316 
	#GMOCK_INTERNAL_DEFN_AND_5_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, \

317 
p4
è
p0
##
_ty³
…0; 
p1
##_ty³…1; 
p2
##_ty³…2; 
p3
##_ty³…3;…4##_ty³…4;

	)

318 
	#GMOCK_INTERNAL_DEFN_AND_6_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, \

319 
p5
è
p0
##
_ty³
…0; 
p1
##_ty³…1; 
p2
##_ty³…2; 
p3
##_ty³…3; 
p4
##_type…4; \

320 
p5
##
_ty³
…5;

	)

321 
	#GMOCK_INTERNAL_DEFN_AND_7_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, \

322 
p6
è
p0
##
_ty³
…0; 
p1
##_ty³…1; 
p2
##_ty³…2; 
p3
##_ty³…3; 
p4
##_type…4; \

323 
p5
##
_ty³
…5; 
p6
##_ty³…6;

	)

324 
	#GMOCK_INTERNAL_DEFN_AND_8_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, \

325 
p7
è
p0
##
_ty³
…0; 
p1
##_ty³…1; 
p2
##_ty³…2; 
p3
##_ty³…3; 
p4
##_type…4; \

326 
p5
##
_ty³
…5; 
p6
##_ty³…6; 
p7
##_ty³…7;

	)

327 
	#GMOCK_INTERNAL_DEFN_AND_9_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, \

328 
p7
, 
p8
è
p0
##
_ty³
…0; 
p1
##_ty³…1; 
p2
##_ty³…2; 
p3
##_type…3; \

329 
p4
##
_ty³
…4; 
p5
##_ty³…5; 
p6
##_ty³…6; 
p7
##_ty³…7; 
p8
##_ty³…8;

	)

330 
	#GMOCK_INTERNAL_DEFN_AND_10_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, \

331 
p7
, 
p8
, 
p9
è
p0
##
_ty³
…0; 
p1
##_ty³…1; 
p2
##_ty³…2; 
p3
##_type…3; \

332 
p4
##
_ty³
…4; 
p5
##_ty³…5; 
p6
##_ty³…6; 
p7
##_ty³…7; 
p8
##_type…8; \

333 
p9
##
_ty³
…9;

	)

336 
	#GMOCK_INTERNAL_LIST_AND_0_VALUE_PARAMS
()

	)

337 
	#GMOCK_INTERNAL_LIST_AND_1_VALUE_PARAMS
(
p0
è
	)
p0

338 
	#GMOCK_INTERNAL_LIST_AND_2_VALUE_PARAMS
(
p0
, 
p1
èp0, 
	)
p1

339 
	#GMOCK_INTERNAL_LIST_AND_3_VALUE_PARAMS
(
p0
, 
p1
, 
p2
èp0,…1, 
	)
p2

340 
	#GMOCK_INTERNAL_LIST_AND_4_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
èp0,…1,…2, 
	)
p3

341 
	#GMOCK_INTERNAL_LIST_AND_5_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
)…0,…1, \

342 
p2
, 
p3
, 
p4


	)

343 
	#GMOCK_INTERNAL_LIST_AND_6_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
)…0, \

344 
p1
, 
p2
, 
p3
, 
p4
, 
p5


	)

345 
	#GMOCK_INTERNAL_LIST_AND_7_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, \

346 
p6
è
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
	)
p6

347 
	#GMOCK_INTERNAL_LIST_AND_8_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, \

348 
p7
è
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, 
	)
p7

349 
	#GMOCK_INTERNAL_LIST_AND_9_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, \

350 
p7
, 
p8
è
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
,…7, 
	)
p8

351 
	#GMOCK_INTERNAL_LIST_AND_10_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, \

352 
p7
, 
p8
, 
p9
è
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
,…7,…8, 
	)
p9

355 
	#GMOCK_INTERNAL_LIST_TYPE_AND_0_VALUE_PARAMS
()

	)

356 
	#GMOCK_INTERNAL_LIST_TYPE_AND_1_VALUE_PARAMS
(
p0
è,…0##
_ty³


	)

357 
	#GMOCK_INTERNAL_LIST_TYPE_AND_2_VALUE_PARAMS
(
p0
, 
p1
è,…0##
_ty³
, \

358 
p1
##
_ty³


	)

359 
	#GMOCK_INTERNAL_LIST_TYPE_AND_3_VALUE_PARAMS
(
p0
, 
p1
, 
p2
è,…0##
_ty³
, \

360 
p1
##
_ty³
, 
p2
##
	)
_type

361 
	#GMOCK_INTERNAL_LIST_TYPE_AND_4_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
) , \

362 
p0
##
_ty³
, 
p1
##_ty³, 
p2
##_ty³, 
p3
##
	)
_type

363 
	#GMOCK_INTERNAL_LIST_TYPE_AND_5_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
) , \

364 
p0
##
_ty³
, 
p1
##_ty³, 
p2
##_ty³, 
p3
##_ty³, 
p4
##
	)
_type

365 
	#GMOCK_INTERNAL_LIST_TYPE_AND_6_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
) , \

366 
p0
##
_ty³
, 
p1
##_ty³, 
p2
##_ty³, 
p3
##_ty³, 
p4
##_ty³, 
p5
##
	)
_type

367 
	#GMOCK_INTERNAL_LIST_TYPE_AND_7_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, \

368 
p6
è, 
p0
##
_ty³
, 
p1
##_ty³, 
p2
##_ty³, 
p3
##_ty³, 
p4
##_ty³, 
p5
##_type, \

369 
p6
##
_ty³


	)

370 
	#GMOCK_INTERNAL_LIST_TYPE_AND_8_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, \

371 
p6
, 
p7
è, 
p0
##
_ty³
, 
p1
##_ty³, 
p2
##_ty³, 
p3
##_ty³, 
p4
##_type, \

372 
p5
##
_ty³
, 
p6
##_ty³, 
p7
##
	)
_type

373 
	#GMOCK_INTERNAL_LIST_TYPE_AND_9_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, \

374 
p6
, 
p7
, 
p8
è, 
p0
##
_ty³
, 
p1
##_ty³, 
p2
##_ty³, 
p3
##_ty³, 
p4
##_type, \

375 
p5
##
_ty³
, 
p6
##_ty³, 
p7
##_ty³, 
p8
##
	)
_type

376 
	#GMOCK_INTERNAL_LIST_TYPE_AND_10_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, \

377 
p6
, 
p7
, 
p8
, 
p9
è, 
p0
##
_ty³
, 
p1
##_ty³, 
p2
##_ty³, 
p3
##_ty³, 
p4
##_type, \

378 
p5
##
_ty³
, 
p6
##_ty³, 
p7
##_ty³, 
p8
##_ty³, 
p9
##
	)
_type

381 
	#GMOCK_INTERNAL_DECL_AND_0_VALUE_PARAMS
()

	)

382 
	#GMOCK_INTERNAL_DECL_AND_1_VALUE_PARAMS
(
p0
èp0##
_ty³
 
	)
p0

383 
	#GMOCK_INTERNAL_DECL_AND_2_VALUE_PARAMS
(
p0
, 
p1
èp0##
_ty³
…0, \

384 
p1
##
_ty³
 
	)
p1

385 
	#GMOCK_INTERNAL_DECL_AND_3_VALUE_PARAMS
(
p0
, 
p1
, 
p2
èp0##
_ty³
…0, \

386 
p1
##
_ty³
…1, 
p2
##_ty³ 
	)
p2

387 
	#GMOCK_INTERNAL_DECL_AND_4_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
èp0##
_ty³
…0, \

388 
p1
##
_ty³
…1, 
p2
##_ty³…2, 
p3
##_ty³ 
	)
p3

389 
	#GMOCK_INTERNAL_DECL_AND_5_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, \

390 
p4
è
p0
##
_ty³
…0, 
p1
##_ty³…1, 
p2
##_ty³…2, 
p3
##_ty³…3,…4##_ty³ 
	)
p4

391 
	#GMOCK_INTERNAL_DECL_AND_6_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, \

392 
p5
è
p0
##
_ty³
…0, 
p1
##_ty³…1, 
p2
##_ty³…2, 
p3
##_ty³…3, 
p4
##_type…4, \

393 
p5
##
_ty³
 
	)
p5

394 
	#GMOCK_INTERNAL_DECL_AND_7_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, \

395 
p6
è
p0
##
_ty³
…0, 
p1
##_ty³…1, 
p2
##_ty³…2, 
p3
##_ty³…3, 
p4
##_type…4, \

396 
p5
##
_ty³
…5, 
p6
##_ty³ 
	)
p6

397 
	#GMOCK_INTERNAL_DECL_AND_8_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, \

398 
p7
è
p0
##
_ty³
…0, 
p1
##_ty³…1, 
p2
##_ty³…2, 
p3
##_ty³…3, 
p4
##_type…4, \

399 
p5
##
_ty³
…5, 
p6
##_ty³…6, 
p7
##_ty³ 
	)
p7

400 
	#GMOCK_INTERNAL_DECL_AND_9_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, \

401 
p7
, 
p8
è
p0
##
_ty³
…0, 
p1
##_ty³…1, 
p2
##_ty³…2, 
p3
##_type…3, \

402 
p4
##
_ty³
…4, 
p5
##_ty³…5, 
p6
##_ty³…6, 
p7
##_ty³…7, 
p8
##_ty³ 
	)
p8

403 
	#GMOCK_INTERNAL_DECL_AND_10_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, \

404 
p7
, 
p8
, 
p9
è
p0
##
_ty³
…0, 
p1
##_ty³…1, 
p2
##_ty³…2, 
p3
##_type…3, \

405 
p4
##
_ty³
…4, 
p5
##_ty³…5, 
p6
##_ty³…6, 
p7
##_ty³…7, 
p8
##_type…8, \

406 
p9
##
_ty³
 
	)
p9

409 
	#GMOCK_INTERNAL_COUNT_AND_0_VALUE_PARAMS
()

	)

410 
	#GMOCK_INTERNAL_COUNT_AND_1_VALUE_PARAMS
(
p0
è
P


	)

411 
	#GMOCK_INTERNAL_COUNT_AND_2_VALUE_PARAMS
(
p0
, 
p1
è
P2


	)

412 
	#GMOCK_INTERNAL_COUNT_AND_3_VALUE_PARAMS
(
p0
, 
p1
, 
p2
è
P3


	)

413 
	#GMOCK_INTERNAL_COUNT_AND_4_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
è
P4


	)

414 
	#GMOCK_INTERNAL_COUNT_AND_5_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
è
P5


	)

415 
	#GMOCK_INTERNAL_COUNT_AND_6_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
è
P6


	)

416 
	#GMOCK_INTERNAL_COUNT_AND_7_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
è
P7


	)

417 
	#GMOCK_INTERNAL_COUNT_AND_8_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, \

418 
p7
è
P8


	)

419 
	#GMOCK_INTERNAL_COUNT_AND_9_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, \

420 
p7
, 
p8
è
P9


	)

421 
	#GMOCK_INTERNAL_COUNT_AND_10_VALUE_PARAMS
(
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, \

422 
p7
, 
p8
, 
p9
è
P10


	)

425 
	#GMOCK_ACTION_CLASS_
(
Çme
, 
v®ue_·¿ms
)\

426 
	`GTEST_CONCAT_TOKEN_
(
Çme
##
AùiÚ
, 
GMOCK_INTERNAL_COUNT_
##
v®ue_·¿ms
)

	)

428 
	#ACTION_TEMPLATE
(
Çme
, 
‹m¶©e_·¿ms
, 
v®ue_·¿ms
) \

429 
‹m¶©e
 <
GMOCK_INTERNAL_DECL_
##
‹m¶©e_·¿ms
 \

430 
GMOCK_INTERNAL_DECL_TYPE_
##
v®ue_·¿ms
> \

431 
şass
 
	`GMOCK_ACTION_CLASS_
(
Çme
, 
v®ue_·¿ms
) { \

432 
public
: \

433 
ex¶ic™
 
	`GMOCK_ACTION_CLASS_
(
Çme
, 
v®ue_·¿ms
)( \

434 
GMOCK_INTERNAL_DECL_
##
v®ue_·¿ms
) \

435 
	`GMOCK_PP_IF
(
	`GMOCK_PP_IS_EMPTY
(
GMOCK_INTERNAL_COUNT_
##
v®ue_·¿ms
), \

437 : 
	`im¶_
(
¡d
::
make_sh¬ed
<
gmock_Im¶
>( \

438 
GMOCK_INTERNAL_LIST_
##
v®ue_·¿ms
)) { }) \

439 
	`GMOCK_ACTION_CLASS_
(
Çme
, 
v®ue_·¿ms
)( \

440 cÚ¡ 
	`GMOCK_ACTION_CLASS_
(
Çme
, 
v®ue_·¿ms
)&è
nÛxû±
 \

441 
GMOCK_INTERNAL_DEFN_COPY_
##
v®ue_·¿ms
 \

442 
	`GMOCK_ACTION_CLASS_
(
Çme
, 
v®ue_·¿ms
)( \

443 
	`GMOCK_ACTION_CLASS_
(
Çme
, 
v®ue_·¿ms
)&&è
nÛxû±
 \

444 
GMOCK_INTERNAL_DEFN_COPY_
##
v®ue_·¿ms
 \

445 
‹m¶©e
 <
ty³Çme
 
F
> \

446 
İ”©Ü
 ::
‹¡šg
::
AùiÚ
<
F
>() const { \

447  
	`GMOCK_PP_IF
( \

448 
	`GMOCK_PP_IS_EMPTY
(
GMOCK_INTERNAL_COUNT_
##
v®ue_·¿ms
), \

449 (::
‹¡šg
::
š‹º®
::
MakeAùiÚ
<
F
, 
gmock_Im¶
>()), \

450 (::
‹¡šg
::
š‹º®
::
MakeAùiÚ
<
F
>(
im¶_
))); \

452 
´iv©e
: \

453 şas 
	cgmock_Im¶
 { \

454 
public
: \

455 
ex¶ic™
 
gmock_Im¶
 
GMOCK_INTERNAL_INIT_
##
v®ue_·¿ms
 {} \

456 
‹m¶©e
 <
ty³Çme
 
funùiÚ_ty³
,y³Çm
»tuº_ty³
, \

457 
ty³Çme
 
¬gs_ty³
, 
GMOCK_ACTION_TEMPLATE_ARGS_NAMES_
> \

458 
»tuº_ty³
 
	`gmock_P”fÜmIm¶
(
GMOCK_ACTION_ARG_TYPES_AND_NAMES_
) const; \

459 
GMOCK_INTERNAL_DEFN_
##
v®ue_·¿ms
 \

461 
	`GMOCK_PP_IF
(
	`GMOCK_PP_IS_EMPTY
(
GMOCK_INTERNAL_COUNT_
##
v®ue_·¿ms
), \

462 , 
¡d
::
sh¬ed_±r
<cÚ¡ 
gmock_Im¶
> 
im¶_
;) \

464 
‹m¶©e
 <
GMOCK_INTERNAL_DECL_
##
‹m¶©e_·¿ms
 \

465 
GMOCK_INTERNAL_DECL_TYPE_
##
v®ue_·¿ms
> \

466 
	`GMOCK_ACTION_CLASS_
(
Çme
, 
v®ue_·¿ms
)< \

467 
GMOCK_INTERNAL_LIST_
##
‹m¶©e_·¿ms
 \

468 
GMOCK_INTERNAL_LIST_TYPE_
##
v®ue_·¿ms
> 
	`Çme
( \

469 
GMOCK_INTERNAL_DECL_
##
v®ue_·¿ms
è
GTEST_MUST_USE_RESULT_
; \

470 
‹m¶©e
 <
GMOCK_INTERNAL_DECL_
##
‹m¶©e_·¿ms
 \

471 
GMOCK_INTERNAL_DECL_TYPE_
##
v®ue_·¿ms
> \

472 
šlše
 
	`GMOCK_ACTION_CLASS_
(
Çme
, 
v®ue_·¿ms
)< \

473 
GMOCK_INTERNAL_LIST_
##
‹m¶©e_·¿ms
 \

474 
GMOCK_INTERNAL_LIST_TYPE_
##
v®ue_·¿ms
> 
	`Çme
( \

475 
GMOCK_INTERNAL_DECL_
##
v®ue_·¿ms
) { \

476  
	`GMOCK_ACTION_CLASS_
(
Çme
, 
v®ue_·¿ms
)< \

477 
GMOCK_INTERNAL_LIST_
##
‹m¶©e_·¿ms
 \

478 
GMOCK_INTERNAL_LIST_TYPE_
##
v®ue_·¿ms
>( \

479 
GMOCK_INTERNAL_LIST_
##
v®ue_·¿ms
); \

481 
‹m¶©e
 <
GMOCK_INTERNAL_DECL_
##
‹m¶©e_·¿ms
 \

482 
GMOCK_INTERNAL_DECL_TYPE_
##
v®ue_·¿ms
> \

483 
‹m¶©e
 <
ty³Çme
 
funùiÚ_ty³
,y³Çm
»tuº_ty³
,y³Çm
¬gs_ty³
, \

484 
GMOCK_ACTION_TEMPLATE_ARGS_NAMES_
> \

485 
»tuº_ty³
 
	`GMOCK_ACTION_CLASS_
(
Çme
, 
v®ue_·¿ms
)< \

486 
GMOCK_INTERNAL_LIST_
##
‹m¶©e_·¿ms
 \

487 
GMOCK_INTERNAL_LIST_TYPE_
##
v®ue_·¿ms
>::
gmock_Im¶
::
	`gmock_P”fÜmIm¶
( \

488 
GMOCK_ACTION_ARG_TYPES_AND_NAMES_UNUSED_
ècÚ¡

	)

490 
Çme¥aû
 
	g‹¡šg
 {

497 #ifdeà
_MSC_VER


498 #´agm¨
w¬nšg
(
push
)

499 #´agm¨
w¬nšg
(
di§bË
:4100)

502 
Çme¥aû
 
	gš‹º®
 {

508 
	g‹m¶©e
 <
ty³Çme
 
	gF
, 
	gty³Çme
... 
	gArgs
>

509 autØ
InvokeArgum’t
(
F
 
f
, 
Args
... 
¬gs
è-> 
deşty³
(f(args...)) {

510  
f
(
¬gs
...);

513 
	g‹m¶©e
 <
	g¡d
::
size_t
 
šdex
, 
	gty³Çme
... 
	gP¬ams
>

514 
	sInvokeArgum’tAùiÚ
 {

515 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

516 autØ
İ”©Ü
()(
	gArgs
&&... 
	g¬gs
ècÚ¡ -> 
deşty³
(
š‹º®
::
InvokeArgum’t
(

517 
¡d
::
g‘
<
šdex
>(¡d::
fÜw¬d_as_tu¶e
(¡d::
fÜw¬d
<
Args
>(
¬gs
)...)),

518 
¡d
::
deşv®
<cÚ¡ 
P¬ams
&>()...)) {

519 
š‹º®
::
FÏtTu¶e
<
Args
&&...> 
¬gs_tu¶e
(
FÏtTu¶eCÚ¡ruùTag
{},

520 
¡d
::
fÜw¬d
<
Args
>(
¬gs
)...);

521  
	g·¿ms
.
Aµly
([&](cÚ¡ 
P¬ams
&... 
uÅacked_·¿ms
) {

522 auto&& 
ÿÎabË
 = 
¬gs_tu¶e
.
‹m¶©e
 
G‘
<
šdex
>();

523  
š‹º®
::
InvokeArgum’t
(

524 
¡d
::
fÜw¬d
<
deşty³
(
ÿÎabË
)>(ÿÎabË), 
uÅacked_·¿ms
...);

528 
	gš‹º®
::
FÏtTu¶e
<
P¬ams
...> 
·¿ms
;

560 
	g‹m¶©e
 <
	g¡d
::
size_t
 
šdex
, 
	gty³Çme
... 
	gP¬ams
>

561 
	gš‹º®
::
InvokeArgum’tAùiÚ
<
šdex
, 
ty³Çme
 
	g¡d
::
deÿy
<
P¬ams
>::
ty³
...>

562 
InvokeArgum’t
(
P¬ams
&&... 
·¿ms
) {

563  {
š‹º®
::
FÏtTu¶e
<
ty³Çme
 
¡d
::
deÿy
<
P¬ams
>::
ty³
...>(

564 
š‹º®
::
FÏtTu¶eCÚ¡ruùTag
{}, 
	g¡d
::
fÜw¬d
<
P¬ams
>(
·¿ms
)...)};

567 #ifdeà
_MSC_VER


568 #´agm¨
w¬nšg
(
pİ
)

	@/usr/include/gmock/gmock-more-matchers.h

40 #iâdeà
GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_MORE_MATCHERS_H_


41 
	#GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_MORE_MATCHERS_H_


	)

43 
	~"gmock/gmock-m©ch”s.h
"

45 
Çme¥aû
 
	g‹¡šg
 {

49 #ifdeà
_MSC_VER


50 #´agm¨
w¬nšg
(
push
)

51 #´agm¨
w¬nšg
(
di§bË
:4100)

52 #ià(
_MSC_VER
 == 1900)

55 #´agm¨
w¬nšg
(
di§bË
:4800)

61 
MATCHER
(
IsEm±y
, 
Ãg©iÚ
 ? "isn'tƒmpty" : "isƒmpty") {

62 ià(
¬g
.
em±y
()) {

63  
Œue
;

65 *
	g»suÉ_li¡’”
 << "who£ sizi " << 
	g¬g
.
size
();

66  
	gçl£
;

73 
MATCHER
(
IsTrue
, 
Ãg©iÚ
 ? "is false" : "isrue") {

74  
¡©ic_ÿ¡
<
boŞ
>(
¬g
);

81 
MATCHER
(
IsF®£
, 
Ãg©iÚ
 ? "isrue" : "is false") {

82  !
¡©ic_ÿ¡
<
boŞ
>(
¬g
);

85 #ifdeà
_MSC_VER


86 #´agm¨
w¬nšg
(
pİ
)

	@/usr/include/gmock/gmock-nice-strict.h

63 #iâdeà
GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_NICE_STRICT_H_


64 
	#GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_NICE_STRICT_H_


	)

66 
	~<ty³_Œa™s
>

68 
	~"gmock/gmock-¥ec-bud”s.h
"

69 
	~"gmock/š‹º®/gmock-pÜt.h
"

71 
Çme¥aû
 
	g‹¡šg
 {

72 
	g‹m¶©e
 <
şass
 
	gMockCÏss
>

73 
şass
 
	gNiûMock
;

74 
	g‹m¶©e
 <
şass
 
	gMockCÏss
>

75 
şass
 
	gNaggyMock
;

76 
	g‹m¶©e
 <
şass
 
	gMockCÏss
>

77 
şass
 
	gSŒiùMock
;

79 
Çme¥aû
 
	gš‹º®
 {

80 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

81 
	g¡d
::
Œue_ty³
 
SŒiùÃssModif›rProbe
(cÚ¡ 
NiûMock
<
T
>&);

82 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

83 
	g¡d
::
Œue_ty³
 
SŒiùÃssModif›rProbe
(cÚ¡ 
NaggyMock
<
T
>&);

84 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

85 
	g¡d
::
Œue_ty³
 
SŒiùÃssModif›rProbe
(cÚ¡ 
SŒiùMock
<
T
>&);

86 
	g¡d
::
çl£_ty³
 
SŒiùÃssModif›rProbe
(...);

88 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

89 
cÚ¡ex´
 
boŞ
 
HasSŒiùÃssModif›r
() {

90  
deşty³
(
SŒiùÃssModif›rProbe
(
¡d
::
deşv®
<cÚ¡ 
T
&>()))::
v®ue
;

100 #ià
GTEST_OS_WINDOWS
 && !
GTEST_OS_WINDOWS_MINGW
 && \

101 (
defšed
(
_MSC_VER
è|| defšed(
__şªg__
))

104 
	#GTEST_INTERNAL_EMPTY_BASE_CLASS
 
	`__deş¥ec
(
em±y_ba£s
)

	)

106 
	#GTEST_INTERNAL_EMPTY_BASE_CLASS


	)

109 
	g‹m¶©e
 <
ty³Çme
 
	gBa£
>

110 şas 
	cNiûMockIm¶
 {

111 
	gpublic
:

112 
NiûMockIm¶
(è{ ::
‹¡šg
::
Mock
::
AÎowUnš‹»¡šgC®ls
(
this
); }

114 ~
NiûMockIm¶
(è{ ::
‹¡šg
::
Mock
::
UÄegi¡”C®lR—ùiÚ
(
this
); }

117 
	g‹m¶©e
 <
ty³Çme
 
	gBa£
>

118 şas 
	cNaggyMockIm¶
 {

119 
	gpublic
:

120 
NaggyMockIm¶
(è{ ::
‹¡šg
::
Mock
::
W¬nUnš‹»¡šgC®ls
(
this
); }

122 ~
NaggyMockIm¶
(è{ ::
‹¡šg
::
Mock
::
UÄegi¡”C®lR—ùiÚ
(
this
); }

125 
	g‹m¶©e
 <
ty³Çme
 
	gBa£
>

126 şas 
	cSŒiùMockIm¶
 {

127 
	gpublic
:

128 
SŒiùMockIm¶
(è{ ::
‹¡šg
::
Mock
::
FaUnš‹»¡šgC®ls
(
this
); }

130 ~
SŒiùMockIm¶
(è{ ::
‹¡šg
::
Mock
::
UÄegi¡”C®lR—ùiÚ
(
this
); }

135 
	g‹m¶©e
 <
şass
 
	gMockCÏss
>

136 
şass
 
GTEST_INTERNAL_EMPTY_BASE_CLASS
 
	gNiûMock


137 : 
´iv©e
 
š‹º®
::
NiûMockIm¶
<
MockCÏss
>,

138 
public
 
	gMockCÏss
 {

139 
	gpublic
:

140 
¡©ic_as£¹
(!
š‹º®
::
HasSŒiùÃssModif›r
<
MockCÏss
>(),

145 
NiûMock
(è: 
MockCÏss
() {

146 
¡©ic_as£¹
((*
this
è=ğ(
MockCÏss
),

157 
	g‹m¶©e
 <
ty³Çme
 
	gA
>

158 
ex¶ic™
 
NiûMock
(
A
&& 
¬g
è: 
MockCÏss
(
¡d
::
fÜw¬d
<A>(arg)) {

159 
¡©ic_as£¹
((*
this
è=ğ(
MockCÏss
),

163 
	g‹m¶©e
 <
ty³Çme
 
	gTArg1
,y³Çm
	gTArg2
, 
	gty³Çme
... 
	gAn
>

164 
NiûMock
(
TArg1
&& 
¬g1
, 
TArg2
&& 
¬g2
, 
An
&&... 
¬gs
)

165 : 
MockCÏss
(
¡d
::
fÜw¬d
<
TArg1
>(
¬g1
), std::fÜw¬d<
TArg2
>(
¬g2
),

166 
¡d
::
fÜw¬d
<
An
>(
¬gs
)...) {

167 
¡©ic_as£¹
((*
this
è=ğ(
MockCÏss
),

171 
	g´iv©e
:

172 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
NiûMock
);

175 
	g‹m¶©e
 <
şass
 
	gMockCÏss
>

176 
şass
 
GTEST_INTERNAL_EMPTY_BASE_CLASS
 
	gNaggyMock


177 : 
´iv©e
 
š‹º®
::
NaggyMockIm¶
<
MockCÏss
>,

178 
public
 
	gMockCÏss
 {

179 
¡©ic_as£¹
(!
š‹º®
::
HasSŒiùÃssModif›r
<
MockCÏss
>(),

185 
	gpublic
:

186 
NaggyMock
(è: 
MockCÏss
() {

187 
¡©ic_as£¹
((*
this
è=ğ(
MockCÏss
),

198 
	g‹m¶©e
 <
ty³Çme
 
	gA
>

199 
ex¶ic™
 
NaggyMock
(
A
&& 
¬g
è: 
MockCÏss
(
¡d
::
fÜw¬d
<A>(arg)) {

200 
¡©ic_as£¹
((*
this
è=ğ(
MockCÏss
),

204 
	g‹m¶©e
 <
ty³Çme
 
	gTArg1
,y³Çm
	gTArg2
, 
	gty³Çme
... 
	gAn
>

205 
NaggyMock
(
TArg1
&& 
¬g1
, 
TArg2
&& 
¬g2
, 
An
&&... 
¬gs
)

206 : 
MockCÏss
(
¡d
::
fÜw¬d
<
TArg1
>(
¬g1
), std::fÜw¬d<
TArg2
>(
¬g2
),

207 
¡d
::
fÜw¬d
<
An
>(
¬gs
)...) {

208 
¡©ic_as£¹
((*
this
è=ğ(
MockCÏss
),

212 
	g´iv©e
:

213 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
NaggyMock
);

216 
	g‹m¶©e
 <
şass
 
	gMockCÏss
>

217 
şass
 
GTEST_INTERNAL_EMPTY_BASE_CLASS
 
	gSŒiùMock


218 : 
´iv©e
 
š‹º®
::
SŒiùMockIm¶
<
MockCÏss
>,

219 
public
 
	gMockCÏss
 {

220 
	gpublic
:

221 
¡©ic_as£¹
(

222 !
š‹º®
::
HasSŒiùÃssModif›r
<
MockCÏss
>(),

227 
SŒiùMock
(è: 
MockCÏss
() {

228 
¡©ic_as£¹
((*
this
è=ğ(
MockCÏss
),

239 
	g‹m¶©e
 <
ty³Çme
 
	gA
>

240 
ex¶ic™
 
SŒiùMock
(
A
&& 
¬g
è: 
MockCÏss
(
¡d
::
fÜw¬d
<A>(arg)) {

241 
¡©ic_as£¹
((*
this
è=ğ(
MockCÏss
),

245 
	g‹m¶©e
 <
ty³Çme
 
	gTArg1
,y³Çm
	gTArg2
, 
	gty³Çme
... 
	gAn
>

246 
SŒiùMock
(
TArg1
&& 
¬g1
, 
TArg2
&& 
¬g2
, 
An
&&... 
¬gs
)

247 : 
MockCÏss
(
¡d
::
fÜw¬d
<
TArg1
>(
¬g1
), std::fÜw¬d<
TArg2
>(
¬g2
),

248 
¡d
::
fÜw¬d
<
An
>(
¬gs
)...) {

249 
¡©ic_as£¹
((*
this
è=ğ(
MockCÏss
),

253 
	g´iv©e
:

254 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
SŒiùMock
);

257 #undeà
GTEST_INTERNAL_EMPTY_BASE_CLASS


	@/usr/include/gmock/internal/gmock-internal-utils.h

39 #iâdeà
GOOGLEMOCK_INCLUDE_GMOCK_INTERNAL_GMOCK_INTERNAL_UTILS_H_


40 
	#GOOGLEMOCK_INCLUDE_GMOCK_INTERNAL_GMOCK_INTERNAL_UTILS_H_


	)

42 
	~<¡dio.h
>

43 
	~<o¡»am
>

44 
	~<¡ršg
>

45 
	~<ty³_Œa™s
>

46 
	~"gmock/š‹º®/gmock-pÜt.h
"

47 
	~"g‹¡/g‹¡.h
"

49 
Çme¥aû
 
	g‹¡šg
 {

51 
	g‹m¶©e
 <
	gty³Çme
>

52 
şass
 
	gM©ch”
;

54 
Çme¥aû
 
	gš‹º®
 {

58 #ifdeà
_MSC_VER


59 #´agm¨
w¬nšg
(
push
)

60 #´agm¨
w¬nšg
(
di§bË
:4100)

61 #´agm¨
w¬nšg
(
di§bË
:4805)

66 
GTEST_API_
 
	g¡d
::
¡ršg
 
JošAsTu¶e
(cÚ¡ 
SŒšgs
& 
f›lds
);

72 
GTEST_API_
 
	g¡d
::
¡ršg
 
CÚv”tId’tif›rNameToWÜds
(cÚ¡ * 
id_Çme
);

77 
	g‹m¶©e
 <
ty³Çme
 
	gPoš‹r
>

78 
šlše
 cÚ¡ 
ty³Çme
 
	gPoš‹r
::
–em’t_ty³
* 
G‘RawPoš‹r
(cÚ¡ 
Poš‹r
& 
p
) {

79  
p
.
g‘
();

82 
	g‹m¶©e
 <
ty³Çme
 
	gEËm’t
>

83 
šlše
 
EËm’t
* 
G‘RawPoš‹r
(EËm’t* 
p
è{  
	gp
; }

89 #ià
defšed
(
_MSC_VER
è&& !defšed(
_NATIVE_WCHAR_T_DEFINED
)

92 
	#GMOCK_WCHAR_T_IS_NATIVE_
 1

	)

100 
	eTy³Kšd
 {

101 
	gkBoŞ
, 
	gkIÁeg”
, 
	gkFlßtšgPošt
, 
	gkOth”


105 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
	sKšdOf
 {

106 ’um { 
	gv®ue
 = 
kOth”
 };

110 
	#GMOCK_DECLARE_KIND_
(
ty³
, 
kšd
) \

111 
‹m¶©e
 <> 
KšdOf
<
ty³
> {ƒnum { 
v®ue
 = 
kšd
 }; }

	)

113 
GMOCK_DECLARE_KIND_
(
boŞ
, 
kBoŞ
);

116 
GMOCK_DECLARE_KIND_
(, 
kIÁeg”
);

117 
GMOCK_DECLARE_KIND_
(sigÃd , 
kIÁeg”
);

118 
GMOCK_DECLARE_KIND_
(, 
kIÁeg”
);

119 
GMOCK_DECLARE_KIND_
(, 
kIÁeg”
);

120 
GMOCK_DECLARE_KIND_
(, 
kIÁeg”
);

121 
GMOCK_DECLARE_KIND_
(, 
kIÁeg”
);

122 
GMOCK_DECLARE_KIND_
(, 
kIÁeg”
);

123 
GMOCK_DECLARE_KIND_
(, 
kIÁeg”
);

124 
GMOCK_DECLARE_KIND_
(, 
kIÁeg”
);

125 
GMOCK_DECLARE_KIND_
(, 
kIÁeg”
);

126 
GMOCK_DECLARE_KIND_
(, 
kIÁeg”
);

128 #ià
GMOCK_WCHAR_T_IS_NATIVE_


129 
GMOCK_DECLARE_KIND_
(
wch¬_t
, 
kIÁeg”
);

133 
GMOCK_DECLARE_KIND_
(, 
kFlßtšgPošt
);

134 
GMOCK_DECLARE_KIND_
(, 
kFlßtšgPošt
);

135 
GMOCK_DECLARE_KIND_
(, 
kFlßtšgPošt
);

137 #undeà
GMOCK_DECLARE_KIND_


140 
	#GMOCK_KIND_OF_
(
ty³
) \

141 
¡©ic_ÿ¡
< ::
‹¡šg
::
š‹º®
::
Ty³Kšd
>( \

142 ::
‹¡šg
::
š‹º®
::
KšdOf
<
ty³
>::
v®ue
)

	)

153 
	g‹m¶©e
 <
Ty³Kšd
 
	gkFromKšd
, 
ty³Çme
 
	gFrom
, Ty³Kšd 
	gkToKšd
,y³Çm
	gTo
>

154 
usšg
 
	gLos¦essAr™hm‘icCÚv”tibËIm¶
 = 
¡d
::
š‹g¿l_cÚ¡ªt
<

155 
boŞ
,

158 (
	gkFromKšd
 =ğ
kBoŞ
è? 
Œue


161 : (
kFromKšd
 !ğ
kToKšd
è? 
çl£


162 : (
kFromKšd
 =ğ
kIÁeg”
 &&

165 ((((
From
è< (
To
)) &&

166 !(
¡d
::
is_sigÃd
<
From
>::
v®ue
 && !¡d::is_sigÃd<
To
>::value)) ||

169 (((
From
è=ğ(
To
)) &&

170 (
¡d
::
is_sigÃd
<
From
>::
v®ue
 =ğ¡d::is_sigÃd<
To
>::value)))

171 è? 
Œue


174 : (
kFromKšd
 =ğ
kFlßtšgPošt
 && ((
From
è<ğ(
To
))è? 
Œue


175 : 
çl£


186 
	g‹m¶©e
 <
ty³Çme
 
	gFrom
,y³Çm
	gTo
>

187 
usšg
 
	gLos¦essAr™hm‘icCÚv”tibË
 =

188 
Los¦essAr™hm‘icCÚv”tibËIm¶
<
GMOCK_KIND_OF_
(
From
), 
	gFrom
,

189 
GMOCK_KIND_OF_
(
To
), 
	gTo
>;

193 şas 
	cFau»R•Ü‹rIÁ”çû
 {

194 
	gpublic
:

196 
	eFau»Ty³
 {

197 
kNÚçl
, 
	gkF©®


200 
	gvœtu®
 ~
Fau»R•Ü‹rIÁ”çû
() {}

203 
vœtu®
 
R•ÜtFau»
(
Fau»Ty³
 
ty³
, cÚ¡ * 
fe
, 
lše
,

204 cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
) = 0;

208 
GTEST_API_
 
Fau»R•Ü‹rIÁ”çû
* 
G‘Fau»R•Ü‹r
();

215 
šlše
 
As£¹
(
boŞ
 
cÚd™iÚ
, cÚ¡ * 
fe
, 
lše
,

216 cÚ¡ 
¡d
::
¡ršg
& 
msg
) {

217 ià(!
cÚd™iÚ
) {

218 
G‘Fau»R•Ü‹r
()->
R•ÜtFau»
(
Fau»R•Ü‹rIÁ”çû
::
kF©®
,

219 
fe
, 
lše
, 
msg
);

222 
šlše
 
As£¹
(
boŞ
 
cÚd™iÚ
, cÚ¡ * 
fe
, 
lše
) {

223 
As£¹
(
cÚd™iÚ
, 
fe
, 
lše
, "Assertion failed.");

228 
šlše
 
Ex³ù
(
boŞ
 
cÚd™iÚ
, cÚ¡ * 
fe
, 
lše
,

229 cÚ¡ 
¡d
::
¡ršg
& 
msg
) {

230 ià(!
cÚd™iÚ
) {

231 
G‘Fau»R•Ü‹r
()->
R•ÜtFau»
(
Fau»R•Ü‹rIÁ”çû
::
kNÚçl
,

232 
fe
, 
lše
, 
msg
);

235 
šlše
 
Ex³ù
(
boŞ
 
cÚd™iÚ
, cÚ¡ * 
fe
, 
lše
) {

236 
Ex³ù
(
cÚd™iÚ
, 
fe
, 
lše
, "Expectation failed.");

240 
	eLogSev”™y
 {

241 
	gkInfo
 = 0,

242 
	gkW¬nšg
 = 1

248 cÚ¡ 
	gkInfoV”bos™y
[] = "info";

250 cÚ¡ 
	gkW¬nšgV”bos™y
[] = "warning";

252 cÚ¡ 
	gkE¼ÜV”bos™y
[] = "error";

256 
GTEST_API_
 
boŞ
 
LogIsVisibË
(
LogSev”™y
 
£v”™y
);

265 
GTEST_API_
 
Log
(
LogSev”™y
 
£v”™y
, cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
,

266 
¡ack_äames_to_sk
);

274 şas 
	cW™houtM©ch”s
 {

275 
	g´iv©e
:

276 
W™houtM©ch”s
() {}

277 
ä›nd
 
GTEST_API_
 
W™houtM©ch”s
 
G‘W™houtM©ch”s
();

281 
GTEST_API_
 
W™houtM©ch”s
 
G‘W™houtM©ch”s
();

285 #ifdeà
_MSC_VER


286 #´agm¨
w¬nšg
(
push
)

287 #´agm¨
w¬nšg
(
di§bË
:4717)

295 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

296 
šlše
 
T
 
Inv®id
() {

297 
As£¹
(
çl£
, "", -1, "Internalƒrror:‡ttempto„eturn invalid value");

301  
	gInv®id
<
	gT
>();

304 #ifdeà
_MSC_VER


305 #´agm¨
w¬nšg
(
pİ
)

324 
	g‹m¶©e
 <
şass
 
	gRawCÚš”
>

325 şas 
	cSCÚš”V›w
 {

326 
	gpublic
:

327 
RawCÚš”
 
	tty³
;

328 cÚ¡ 
	tty³
& 
	tcÚ¡_»ã»nû
;

330 
cÚ¡_»ã»nû
 
CÚ¡Reã»nû
(cÚ¡ 
RawCÚš”
& 
cÚš”
) {

331 
¡©ic_as£¹
(!
¡d
::
is_cÚ¡
<
RawCÚš”
>::
v®ue
,

333  
	gcÚš”
;

335 
ty³
 
Cİy
(cÚ¡ 
RawCÚš”
& 
cÚš”
è{  
	gcÚš”
; }

339 
	g‹m¶©e
 <
ty³Çme
 
	gEËm’t
, 
size_t
 
	gN
>

340 
şass
 
	gSCÚš”V›w
<
	gEËm’t
[
N
]> {

341 
	gpublic
:

342 
ty³Çme
 
	t¡d
::
	t»move_cÚ¡
<
	tEËm’t
>::
	tty³
 
	tRawEËm’t
;

343 
	gš‹º®
::
	tN©iveA¼ay
<
	tRawEËm’t
> 
	tty³
;

349 cÚ¡ 
	tty³
 
	tcÚ¡_»ã»nû
;

351 
cÚ¡_»ã»nû
 
CÚ¡Reã»nû
(cÚ¡ 
EËm’t
 (&
¬¿y
)[
N
]) {

352 
¡©ic_as£¹
(
¡d
::
is_§me
<
EËm’t
, 
RawEËm’t
>::
v®ue
,

354  
ty³
(
¬¿y
, 
N
, 
R–©iÚToSourûReã»nû
());

356 
ty³
 
Cİy
(cÚ¡ 
EËm’t
 (&
¬¿y
)[
N
]) {

357  
ty³
(
¬¿y
, 
N
, 
R–©iÚToSourûCİy
());

363 
	g‹m¶©e
 <
ty³Çme
 
	gEËm’tPoš‹r
,y³Çm
	gSize
>

364 
şass
 
	gSCÚš”V›w
< ::
¡d
::
tu¶e
<
EËm’tPoš‹r
, 
	gSize
> > {

365 
	gpublic
:

366 
ty³Çme
 
	t¡d
::
	t»move_cÚ¡
<

367 
	tty³Çme
 
	t¡d
::
	tpoš‹r_Œa™s
<
	tEËm’tPoš‹r
>::
	t–em’t_ty³
>::
	tty³


368 
	tRawEËm’t
;

369 
	gš‹º®
::
	tN©iveA¼ay
<
	tRawEËm’t
> 
	tty³
;

370 cÚ¡ 
	tty³
 
	tcÚ¡_»ã»nû
;

372 
cÚ¡_»ã»nû
 
CÚ¡Reã»nû
(

373 cÚ¡ ::
¡d
::
tu¶e
<
EËm’tPoš‹r
, 
Size
>& 
¬¿y
) {

374  
ty³
(
¡d
::
g‘
<0>(
¬¿y
), std::get<1>(array),

375 
R–©iÚToSourûReã»nû
());

377 
ty³
 
Cİy
(cÚ¡ ::
¡d
::
tu¶e
<
EËm’tPoš‹r
, 
Size
>& 
¬¿y
) {

378  
ty³
(
¡d
::
g‘
<0>(
¬¿y
), std::g‘<1>×¼ay), 
R–©iÚToSourûCİy
());

384 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
şass
 
	gSCÚš”V›w
<T&>;

389 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

390 
	sRemoveCÚ¡FromKey
 {

391 
T
 
	tty³
;

395 
	g‹m¶©e
 <
ty³Çme
 
	gK
,y³Çm
	gV
>

396 
	gRemoveCÚ¡FromKey
<
	g¡d
::
·œ
<cÚ¡ 
K
, 
	gV
> > {

397 
	g¡d
::
	t·œ
<
	tK
, 
	tV
> 
	tty³
;

402 
GTEST_API_
 
IÎeg®DoDeçuÉ
(cÚ¡ * 
fe
, 
lše
);

404 
	g‹m¶©e
 <
ty³Çme
 
	gF
,y³Çm
	gTu¶e
, 
	gsize_t
... 
	gIdx
>

405 autØ
AµlyIm¶
(
F
&& 
f
, 
Tu¶e
&& 
¬gs
, 
IndexSequ’û
<
Idx
...>è-> 
deşty³
(

406 
¡d
::
fÜw¬d
<
F
>(
f
)(¡d::
g‘
<
Idx
>(¡d::fÜw¬d<
Tu¶e
>(
¬gs
))...)) {

407  
¡d
::
fÜw¬d
<
F
>(
f
)(¡d::
g‘
<
Idx
>(¡d::fÜw¬d<
Tu¶e
>(
¬gs
))...);

411 
	g‹m¶©e
 <
ty³Çme
 
	gF
,y³Çm
	gTu¶e
>

412 autØ
Aµly
(
F
&& 
f
, 
Tu¶e
&& 
¬gs
è-> 
deşty³
(

413 
AµlyIm¶
(
¡d
::
fÜw¬d
<
F
>(
f
), std::fÜw¬d<
Tu¶e
>(
¬gs
),

414 
MakeIndexSequ’û
<
¡d
::
tu¶e_size
<

415 
ty³Çme
 
¡d
::
»move_»ã»nû
<
Tu¶e
>::
ty³
>::
v®ue
>())) {

416  
AµlyIm¶
(
¡d
::
fÜw¬d
<
F
>(
f
), std::fÜw¬d<
Tu¶e
>(
¬gs
),

417 
MakeIndexSequ’û
<
¡d
::
tu¶e_size
<

418 
ty³Çme
 
¡d
::
»move_»ã»nû
<
Tu¶e
>::
ty³
>::
v®ue
>());

434 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

435 
	gFunùiÚ
;

437 
	g‹m¶©e
 <
ty³Çme
 
	gR
, 
	gty³Çme
... 
	gArgs
>

438 
	gFunùiÚ
<
R
(
Args
...)> {

439 
usšg
 
	gResuÉ
 = 
R
;

440 
cÚ¡ex´
 
size_t
 
	gArgum’tCouÁ
 = ...(
Args
);

441 
	g‹m¶©e
 <
size_t
 
	gI
>

442 
usšg
 
	gArg
 = 
EËmFromLi¡
<
I
, 
	gArgs
...>;

443 
usšg
 
	gArgum’tTu¶e
 = 
¡d
::
tu¶e
<
Args
...>;

444 
usšg
 
	gArgum’tM©ch”Tu¶e
 = 
¡d
::
tu¶e
<
M©ch”
<
Args
>...>;

445 
usšg
 
	gMakeResuÉVoid
 = (
Args
...);

446 
usšg
 
	gMakeResuÉIgnÜedV®ue
 = 
IgnÜedV®ue
(
Args
...);

449 
	g‹m¶©e
 <
ty³Çme
 
	gR
, 
	gty³Çme
... 
	gArgs
>

450 
cÚ¡ex´
 
size_t
 
	gFunùiÚ
<
R
(
Args
...)>::
Argum’tCouÁ
;

452 #ifdeà
_MSC_VER


453 #´agm¨
w¬nšg
(
pİ
)

	@/usr/include/gtest/gtest-death-test.h

38 #iâdeà
GOOGLETEST_INCLUDE_GTEST_GTEST_DEATH_TEST_H_


39 
	#GOOGLETEST_INCLUDE_GTEST_GTEST_DEATH_TEST_H_


	)

41 
	~"g‹¡/š‹º®/g‹¡-d—th-‹¡-š‹º®.h
"

43 
Çme¥aû
 
	g‹¡šg
 {

50 
GTEST_DECLARE_¡ršg_
(
d—th_‹¡_¡yË
);

52 #ià
GTEST_HAS_DEATH_TEST


54 
Çme¥aû
 
	gš‹º®
 {

61 
GTEST_API_
 
boŞ
 
InD—thTe¡Chd
();

172 
	#ASSERT_EXIT
(
¡©em’t
, 
´ediÿ‹
, 
m©ch”
) \

173 
	`GTEST_DEATH_TEST_
(
¡©em’t
, 
´ediÿ‹
, 
m©ch”
, 
GTEST_FATAL_FAILURE_
)

	)

177 
	#EXPECT_EXIT
(
¡©em’t
, 
´ediÿ‹
, 
m©ch”
) \

178 
	`GTEST_DEATH_TEST_
(
¡©em’t
, 
´ediÿ‹
, 
m©ch”
, 
GTEST_NONFATAL_FAILURE_
)

	)

183 
	#ASSERT_DEATH
(
¡©em’t
, 
m©ch”
) \

184 
	`ASSERT_EXIT
(
¡©em’t
, ::
‹¡šg
::
š‹º®
::
Ex™edUnsucûssfuÎy
, 
m©ch”
)

	)

188 
	#EXPECT_DEATH
(
¡©em’t
, 
m©ch”
) \

189 
	`EXPECT_EXIT
(
¡©em’t
, ::
‹¡šg
::
š‹º®
::
Ex™edUnsucûssfuÎy
, 
m©ch”
)

	)

194 şas 
	cGTEST_API_
 
	gEx™edW™hCode
 {

195 
	gpublic
:

196 
ex¶ic™
 
Ex™edW™hCode
(
ex™_code
);

197 
Ex™edW™hCode
(const ExitedWithCode&) = ;

198 
	gİ”©Ü
=(cÚ¡ 
Ex™edW™hCode
& 
Ùh”
èğ
d–‘e
;

199 
boŞ
 
İ”©Ü
()(
	gex™_¡©us
) const;

200 
	g´iv©e
:

201 cÚ¡ 
ex™_code_
;

204 #ià!
GTEST_OS_WINDOWS
 && !
GTEST_OS_FUCHSIA


208 şas 
	cGTEST_API_
 
	gKËdBySigÇl
 {

209 
	gpublic
:

210 
ex¶ic™
 
KËdBySigÇl
(
signum
);

211 
boŞ
 
İ”©Ü
()(
	gex™_¡©us
) const;

212 
	g´iv©e
:

213 cÚ¡ 
signum_
;

260 #ifdeà
NDEBUG


262 
	#EXPECT_DEBUG_DEATH
(
¡©em’t
, 
»gex
) \

263 
	$GTEST_EXECUTE_STATEMENT_
(
¡©em’t
, 
»gex
)

	)

265 
	#ASSERT_DEBUG_DEATH
(
¡©em’t
, 
»gex
) \

266 
	$GTEST_EXECUTE_STATEMENT_
(
¡©em’t
, 
»gex
)

	)

270 
	#EXPECT_DEBUG_DEATH
(
¡©em’t
, 
»gex
) \

271 
	$EXPECT_DEATH
(
¡©em’t
, 
»gex
)

	)

273 
	#ASSERT_DEBUG_DEATH
(
¡©em’t
, 
»gex
) \

274 
	$ASSERT_DEATH
(
¡©em’t
, 
»gex
)

	)

314 
	#GTEST_UNSUPPORTED_DEATH_TEST
(
¡©em’t
, 
»gex
, 
‹rmš©Ü
) \

315 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

316 ià(::
‹¡šg
::
š‹º®
::
	$AlwaysTrue
()) { \

317 
	`GTEST_LOG_
(
WARNING
) \

320 
	}
} ià(::
‹¡šg
::
š‹º®
::
	$AlwaysF®£
()) { \

321 ::
‹¡šg
::
š‹º®
::
RE
::
	`P¬tŸlM©ch
(".*", (
»gex
)); \

322 
	`GTEST_SUPPRESS_UNREACHABLE_CODE_WARNING_BELOW_
(
¡©em’t
); \

323 
‹rmš©Ü
; \

324 
	}
} \

325 ::
‹¡šg
::
	$Mes§ge
()

	)

332 #ià
GTEST_HAS_DEATH_TEST


333 
	#EXPECT_DEATH_IF_SUPPORTED
(
¡©em’t
, 
»gex
) \

334 
	$EXPECT_DEATH
(
¡©em’t
, 
»gex
)

	)

335 
	#ASSERT_DEATH_IF_SUPPORTED
(
¡©em’t
, 
»gex
) \

336 
	$ASSERT_DEATH
(
¡©em’t
, 
»gex
)

	)

338 
	#EXPECT_DEATH_IF_SUPPORTED
(
¡©em’t
, 
»gex
) \

339 
	$GTEST_UNSUPPORTED_DEATH_TEST
(
¡©em’t
, 
»gex
, )

	)

340 
	#ASSERT_DEATH_IF_SUPPORTED
(
¡©em’t
, 
»gex
) \

341 
	$GTEST_UNSUPPORTED_DEATH_TEST
(
¡©em’t
, 
»gex
, )

	)

344 
	}
}

	@/usr/include/gtest/gtest-matchers.h

35 #iâdeà
GOOGLETEST_INCLUDE_GTEST_GTEST_MATCHERS_H_


36 
	#GOOGLETEST_INCLUDE_GTEST_GTEST_MATCHERS_H_


	)

38 
	~<©omic
>

39 
	~<memÜy
>

40 
	~<o¡»am
>

41 
	~<¡ršg
>

42 
	~<ty³_Œa™s
>

44 
	~"g‹¡/g‹¡-´š‹rs.h
"

45 
	~"g‹¡/š‹º®/g‹¡-š‹º®.h
"

46 
	~"g‹¡/š‹º®/g‹¡-pÜt.h
"

49 #ià
defšed
(
_MSC_VER
) && _MSC_VER >= 1915

50 
	#GTEST_MAYBE_5046_
 5046

	)

52 
	#GTEST_MAYBE_5046_


	)

55 
	$GTEST_DISABLE_MSC_WARNINGS_PUSH_
(

56 4251 
GTEST_MAYBE_5046_


60 
Çme¥aû
 
‹¡šg
 {

73 şas 
	cM©chResuÉLi¡’”
 {

74 
public
:

78 
ex¶ic™
 
	`M©chResuÉLi¡’”
(::
¡d
::
o¡»am
* 
os
è: 
	`¡»am_
(os) {}

79 
vœtu®
 ~
	`M©chResuÉLi¡’”
() = 0;

83 
‹m¶©e
 <
ty³Çme
 
T
>

84 
M©chResuÉLi¡’”
& 
İ”©Ü
<<(cÚ¡ 
T
& 
x
) {

85 ià(
¡»am_
 !ğ
nuÎ±r
è*¡»am_ << 
x
;

86  *
this
;

90 ::
¡d
::
o¡»am
* 
	`¡»am
(è{  
¡»am_
; }

96 
boŞ
 
	`IsIÁ”e¡ed
(ècÚ¡ {  
¡»am_
 !ğ
nuÎ±r
; }

98 
´iv©e
:

99 ::
¡d
::
o¡»am
* cÚ¡ 
¡»am_
;

101 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
M©chResuÉLi¡’”
);

102 
	}
};

104 
šlše
 
	gM©chResuÉLi¡’”
::~
	$M©chResuÉLi¡’”
() {

105 
	}
}

109 şas 
	cGTEST_API_
 
M©ch”Desüib”IÁ”çû
 {

110 
public
:

111 
vœtu®
 ~
M©ch”Desüib”IÁ”çû
() {}

118 
vœtu®
 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
) const = 0;

126 
vœtu®
 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
) const {

127 *
os
 << "not (";

128 
DesüibeTo
(
os
);

129 *
	gos
 << ")";

134 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

135 şas 
	cM©ch”IÁ”çû
 : 
public
 
M©ch”Desüib”IÁ”çû
 {

136 
public
:

168 
vœtu®
 
boŞ
 
M©chAndEx¶aš
(
T
 
x
, 
M©chResuÉLi¡’”
* 
li¡’”
) const = 0;

175 
Çme¥aû
 
	gš‹º®
 {

177 
	sAnyEq
 {

178 
	g‹m¶©e
 <
ty³Çme
 
	gA
,y³Çm
	gB
>

179 
boŞ
 
İ”©Ü
()(cÚ¡ 
	gA
& 
	ga
, cÚ¡ 
	gB
& 
	gb
ècÚ¡ { ‡ =ğ
b
; }

181 
	sAnyNe
 {

182 
	g‹m¶©e
 <
ty³Çme
 
	gA
,y³Çm
	gB
>

183 
boŞ
 
İ”©Ü
()(cÚ¡ 
	gA
& 
	ga
, cÚ¡ 
	gB
& 
	gb
ècÚ¡ { ‡ !ğ
b
; }

185 
	sAnyLt
 {

186 
	g‹m¶©e
 <
ty³Çme
 
	gA
,y³Çm
	gB
>

187 
boŞ
 
İ”©Ü
()(cÚ¡ 
	gA
& 
	ga
, cÚ¡ 
	gB
& 
	gb
) const { ‡ < b; }

189 
	sAnyGt
 {

190 
	g‹m¶©e
 <
ty³Çme
 
	gA
,y³Çm
	gB
>

191 
boŞ
 
İ”©Ü
()(cÚ¡ 
	gA
& 
	ga
, cÚ¡ 
	gB
& 
	gb
) const { ‡ > b; }

193 
	sAnyLe
 {

194 
	g‹m¶©e
 <
ty³Çme
 
	gA
,y³Çm
	gB
>

195 
boŞ
 
İ”©Ü
()(cÚ¡ 
	gA
& 
	ga
, cÚ¡ 
	gB
& 
	gb
ècÚ¡ { ‡ <ğ
b
; }

197 
	sAnyGe
 {

198 
	g‹m¶©e
 <
ty³Çme
 
	gA
,y³Çm
	gB
>

199 
boŞ
 
İ”©Ü
()(cÚ¡ 
	gA
& 
	ga
, cÚ¡ 
	gB
& 
	gb
ècÚ¡ { ‡ >ğ
b
; }

203 şas 
	cDummyM©chResuÉLi¡’”
 : 
public
 
M©chResuÉLi¡’”
 {

204 
public
:

205 
DummyM©chResuÉLi¡’”
(è: 
M©chResuÉLi¡’”
(
nuÎ±r
) {}

207 
´iv©e
:

208 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
DummyM©chResuÉLi¡’”
);

214 şas 
	cSŒ—mM©chResuÉLi¡’”
 : 
public
 
M©chResuÉLi¡’”
 {

215 
public
:

216 
ex¶ic™
 
SŒ—mM©chResuÉLi¡’”
(::
¡d
::
o¡»am
* 
os
)

217 : 
M©chResuÉLi¡’”
(
os
) {}

219 
´iv©e
:

220 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
SŒ—mM©chResuÉLi¡’”
);

223 
	sSh¬edPaylßdBa£
 {

224 
	g¡d
::
©omic
<> 
»f
{1};

225 
Ref
(è{ 
	g»f
.
ãtch_add
(1, 
¡d
::
memÜy_Üd”_»Ïxed
); }

226 
boŞ
 
UÄef
(è{  
	g»f
.
ãtch_sub
(1, 
¡d
::
memÜy_Üd”_acq_»l
) == 1; }

229 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

230 
	gSh¬edPaylßd
 : 
Sh¬edPaylßdBa£
 {

231 
ex¶ic™
 
Sh¬edPaylßd
(cÚ¡ 
T
& 
v
è: 
v®ue
(v) {}

232 
ex¶ic™
 
Sh¬edPaylßd
(
T
&& 
v
è: 
v®ue
(
¡d
::
move
(v)) {}

234 
De¡roy
(
Sh¬edPaylßdBa£
* 
sh¬ed
) {

235 
d–‘e
 
¡©ic_ÿ¡
<
Sh¬edPaylßd
*>(
sh¬ed
);

238 
T
 
	gv®ue
;

244 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

245 şas 
	cM©ch”Ba£
 : 
´iv©e
 
M©ch”Desüib”IÁ”çû
 {

246 
public
:

249 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
T
& 
x
, 
M©chResuÉLi¡’”
* 
li¡’”
) const {

250 
GTEST_CHECK_
(
vbË_
 !ğ
nuÎ±r
);

251  
	gvbË_
->
m©ch_ªd_ex¶aš
(*
this
, 
x
, 
li¡’”
);

255 
boŞ
 
M©ches
(cÚ¡ 
T
& 
x
) const {

256 
DummyM©chResuÉLi¡’”
 
	gdummy
;

257  
M©chAndEx¶aš
(
x
, &
dummy
);

261 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
fš®
 {

262 
GTEST_CHECK_
(
vbË_
 !ğ
nuÎ±r
);

263 
	gvbË_
->
desüibe
(*
this
, 
os
, 
çl£
);

267 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
fš®
 {

268 
GTEST_CHECK_
(
vbË_
 !ğ
nuÎ±r
);

269 
	gvbË_
->
desüibe
(*
this
, 
os
, 
Œue
);

273 
Ex¶ašM©chResuÉTo
(cÚ¡ 
T
& 
x
, ::
¡d
::
o¡»am
* 
os
) const {

274 
SŒ—mM©chResuÉLi¡’”
 
li¡’”
(
os
);

275 
M©chAndEx¶aš
(
x
, &
li¡’”
);

281 cÚ¡ 
M©ch”Desüib”IÁ”çû
* 
G‘Desüib”
() const {

282 ià(
	gvbË_
 =ğ
nuÎ±r
) ‚ullptr;

283  
	gvbË_
->
g‘_desüib”
(*
this
);

286 
	g´Ùeùed
:

287 
M©ch”Ba£
(è: 
vbË_
(
nuÎ±r
) {}

290 
‹m¶©e
 <
ty³Çme
 
U
>

291 
ex¶ic™
 
M©ch”Ba£
(cÚ¡ 
M©ch”IÁ”çû
<
U
>* 
im¶
) {

292 
In™
(
im¶
);

295 
	g‹m¶©e
 <
ty³Çme
 
	gM
, 
	gty³Çme
 =y³Çm
¡d
::
»move_»ã»nû
<

296 
M
>::
ty³
::
is_g‹¡_m©ch”
>

297 
M©ch”Ba£
(
M
&& 
m
) {

298 
In™
(
¡d
::
fÜw¬d
<
M
>(
m
));

301 
M©ch”Ba£
(cÚ¡ M©ch”Ba£& 
Ùh”
)

302 : 
vbË_
(
Ùh”
.vbË_), 
bufãr_
(other.buffer_) {

303 ià(
IsSh¬ed
()è
	gbufãr_
.
	gsh¬ed
->
Ref
();

306 
	gM©ch”Ba£
& 
	gİ”©Ü
=(cÚ¡ 
M©ch”Ba£
& 
Ùh”
) {

307 ià(
this
 =ğ&
Ùh”
)  *this;

308 
De¡roy
();

309 
	gvbË_
 = 
Ùh”
.
vbË_
;

310 
	gbufãr_
 = 
Ùh”
.
bufãr_
;

311 ià(
IsSh¬ed
()è
	gbufãr_
.
	gsh¬ed
->
Ref
();

312  *
	gthis
;

315 
M©ch”Ba£
(M©ch”Ba£&& 
Ùh”
)

316 : 
vbË_
(
Ùh”
.vbË_), 
bufãr_
(other.buffer_) {

317 
	gÙh”
.
	gvbË_
 = 
nuÎ±r
;

320 
	gM©ch”Ba£
& 
	gİ”©Ü
=(
M©ch”Ba£
&& 
Ùh”
) {

321 ià(
this
 =ğ&
Ùh”
)  *this;

322 
De¡roy
();

323 
	gvbË_
 = 
Ùh”
.
vbË_
;

324 
	gbufãr_
 = 
Ùh”
.
bufãr_
;

325 
	gÙh”
.
	gvbË_
 = 
nuÎ±r
;

326  *
	gthis
;

329 ~
M©ch”Ba£
(è
	gov”ride
 { 
De¡roy
(); }

331 
	g´iv©e
:

332 
	sVTabË
 {

333 
boŞ
 (*
m©ch_ªd_ex¶aš
)(cÚ¡ 
M©ch”Ba£
&, cÚ¡ 
	gT
&,

334 
	gM©chResuÉLi¡’”
*);

335 (*
	gdesüibe
)(cÚ¡ 
	gM©ch”Ba£
&, 
	g¡d
::
o¡»am
*, 
boŞ
 
	gÃg©iÚ
);

338 cÚ¡ 
	gM©ch”Desüib”IÁ”çû
* (*
	gg‘_desüib”
)(cÚ¡ 
	gM©ch”Ba£
&);

340 (*
	gsh¬ed_de¡roy
)(
	gSh¬edPaylßdBa£
*);

343 
boŞ
 
IsSh¬ed
() const {

344  
	gvbË_
 !ğ
nuÎ±r
 && 
vbË_
->
sh¬ed_de¡roy
 !=‚ullptr;

348 
	g‹m¶©e
 <
ty³Çme
 
	gP
>

349 autØ
M©chAndEx¶ašIm¶
(cÚ¡ 
M©ch”Ba£
& 
m
, cÚ¡ 
T
& 
v®ue
,

350 
M©chResuÉLi¡’”
* 
li¡’”
)

351 -> 
deşty³
(
P
::
G‘
(
m
).
M©chAndEx¶aš
(
v®ue
, 
li¡’”
->
¡»am
())) {

352  
	gP
::
G‘
(
m
).
M©chAndEx¶aš
(
v®ue
, 
li¡’”
->
¡»am
());

355 
	g‹m¶©e
 <
ty³Çme
 
	gP
>

356 autØ
M©chAndEx¶ašIm¶
(cÚ¡ 
M©ch”Ba£
& 
m
, cÚ¡ 
T
& 
v®ue
,

357 
M©chResuÉLi¡’”
* 
li¡’”
)

358 -> 
deşty³
(
P
::
G‘
(
m
).
M©chAndEx¶aš
(
v®ue
, 
li¡’”
)) {

359  
	gP
::
G‘
(
m
).
M©chAndEx¶aš
(
v®ue
, 
li¡’”
);

362 
	g‹m¶©e
 <
ty³Çme
 
	gP
>

363 
DesüibeIm¶
(cÚ¡ 
M©ch”Ba£
& 
m
, 
¡d
::
o¡»am
* 
os
,

364 
boŞ
 
Ãg©iÚ
) {

365 ià(
	gÃg©iÚ
) {

366 
	gP
::
G‘
(
m
).
DesüibeNeg©iÚTo
(
os
);

368 
	gP
::
G‘
(
m
).
DesüibeTo
(
os
);

372 
	g‹m¶©e
 <
ty³Çme
 
	gP
>

373 cÚ¡ 
M©ch”Desüib”IÁ”çû
* 
G‘Desüib”Im¶
(

374 cÚ¡ 
M©ch”Ba£
& 
m
) {

381  
	g¡d
::
g‘
<(

382 
¡d
::
is_cÚv”tibË
<
deşty³
(&
P
::
G‘
(
m
)),

383 cÚ¡ 
	gM©ch”Desüib”IÁ”çû
*>::
v®ue


385 : 0)>(
¡d
::
make_tu¶e
(&
m
, &
P
::
G‘
(m)));

388 
	g‹m¶©e
 <
ty³Çme
 
	gP
>

389 cÚ¡ 
VTabË
* 
G‘VTabË
() {

390 
cÚ¡ex´
 
VTabË
 
	gkVTabË
 = {&
M©chAndEx¶ašIm¶
<
P
>,

391 &
DesüibeIm¶
<
P
>, &
G‘Desüib”Im¶
<P>,

392 
P
::
sh¬ed_de¡roy
};

393  &
	gkVTabË
;

396 
	uBufãr
 {

398 * 
	g±r
;

399 
	gd
;

400 
št64_t
 
	gi
;

402 
Sh¬edPaylßdBa£
* 
	gsh¬ed
;

405 
De¡roy
() {

406 ià(
IsSh¬ed
(è&& 
	gbufãr_
.
	gsh¬ed
->
UÄef
()) {

407 
	gvbË_
->
sh¬ed_de¡roy
(
bufãr_
.
sh¬ed
);

411 
	g‹m¶©e
 <
ty³Çme
 
	gM
>

412 
cÚ¡ex´
 
boŞ
 
IsIÆšed
() {

413  (
	gM
è<ğ(
Bufãr
è&& 
®ignof
(
M
) <=‡lignof(Buffer) &&

414 
¡d
::
is_ŒivŸÎy_cİy_cÚ¡ruùibË
<
M
>::
v®ue
 &&

415 
¡d
::
is_ŒivŸÎy_de¡ruùibË
<
M
>::
v®ue
;

418 
	g‹m¶©e
 <
ty³Çme
 
	gM
, 
	gboŞ
 = 
M©ch”Ba£
::
IsIÆšed
<
M
>()>

419 
	sV®uePŞicy
 {

420 cÚ¡ 
M
& 
G‘
(cÚ¡ 
M©ch”Ba£
& 
m
) {

423 cÚ¡ 
M
 *
±r
 = 
¡©ic_ÿ¡
<const M*>(

424 
¡©ic_ÿ¡
<cÚ¡ *>(&
m
.
bufãr_
));

425  *
	g±r
;

427 
In™
(
M©ch”Ba£
& 
m
, 
M
 
im¶
) {

428 ::
Ãw
 (
¡©ic_ÿ¡
<*>(&
m
.
bufãr_
)è
M
(
im¶
);

430 
cÚ¡ex´
‡utØ
	gsh¬ed_de¡roy
 = 
nuÎ±r
;

433 
	g‹m¶©e
 <
ty³Çme
 
	gM
>

434 
	gV®uePŞicy
<
	gM
, 
	gçl£
> {

435 
usšg
 
	gSh¬ed
 = 
Sh¬edPaylßd
<
M
>;

436 cÚ¡ 
	gM
& 
G‘
(cÚ¡ 
M©ch”Ba£
& 
m
) {

437  
	g¡©ic_ÿ¡
<
	gSh¬ed
*>(
	gm
.
	gbufãr_
.
	gsh¬ed
)->
	gv®ue
;

439 
	g‹m¶©e
 <
ty³Çme
 
	gArg
>

440 
In™
(
M©ch”Ba£
& 
m
, 
Arg
&& 
¬g
) {

441 
	gm
.
	gbufãr_
.
	gsh¬ed
 = 
Ãw
 
Sh¬ed
(
¡d
::
fÜw¬d
<
Arg
>(
¬g
));

443 
cÚ¡ex´
‡utØ
	gsh¬ed_de¡roy
 = &
Sh¬ed
::
De¡roy
;

446 
	g‹m¶©e
 <
ty³Çme
 
	gU
, 
boŞ
 
	gB
>

447 
	gV®uePŞicy
<cÚ¡ 
	gM©ch”IÁ”çû
<
	gU
>*, 
	gB
> {

448 
usšg
 
	gM
 = cÚ¡ 
M©ch”IÁ”çû
<
U
>;

449 
usšg
 
	gSh¬ed
 = 
Sh¬edPaylßd
<
¡d
::
unique_±r
<
M
>>;

450 cÚ¡ 
	gM
& 
G‘
(cÚ¡ 
M©ch”Ba£
& 
m
) {

451  *
	g¡©ic_ÿ¡
<
	gSh¬ed
*>(
	gm
.
	gbufãr_
.
	gsh¬ed
)->
	gv®ue
;

453 
In™
(
M©ch”Ba£
& 
m
, 
M
* 
im¶
) {

454 
	gm
.
	gbufãr_
.
	gsh¬ed
 = 
Ãw
 
Sh¬ed
(
¡d
::
unique_±r
<
M
>(
im¶
));

457 
cÚ¡ex´
‡utØ
	gsh¬ed_de¡roy
 = &
Sh¬ed
::
De¡roy
;

460 
	g‹m¶©e
 <
ty³Çme
 
	gM
>

461 
In™
(
M
&& 
m
) {

462 
usšg
 
	gMM
 = 
ty³Çme
 
¡d
::
deÿy
<
M
>::
ty³
;

463 
usšg
 
	gPŞicy
 = 
V®uePŞicy
<
MM
>;

464 
	gvbË_
 = 
G‘VTabË
<
PŞicy
>();

465 
	gPŞicy
::
In™
(*
this
, 
¡d
::
fÜw¬d
<
M
>(
m
));

468 cÚ¡ 
VTabË
* 
	gvbË_
;

469 
Bufãr
 
	gbufãr_
;

478 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

479 
şass
 
	gM©ch”
 : 
public
 
š‹º®
::
M©ch”Ba£
<
T
> {

480 
public
:

484 
ex¶ic™
 
M©ch”
() {}

487 
ex¶ic™
 
M©ch”
(cÚ¡ 
M©ch”IÁ”çû
<cÚ¡ 
T
&>* 
im¶
)

488 : 
š‹º®
::
M©ch”Ba£
<
T
>(
im¶
) {}

490 
‹m¶©e
 <
ty³Çme
 
U
>

491 
ex¶ic™
 
M©ch”
(

492 cÚ¡ 
M©ch”IÁ”çû
<
U
>* 
im¶
,

493 
ty³Çme
 
¡d
::
’abË_if
<!¡d::
is_§me
<
U
, cÚ¡ U&>::
v®ue
>::
ty³
* =

494 
nuÎ±r
)

495 : 
š‹º®
::
M©ch”Ba£
<
T
>(
im¶
) {}

497 
‹m¶©e
 <
ty³Çme
 
M
, 
	gty³Çme
 =y³Çm
¡d
::
»move_»ã»nû
<

498 
M
>::
ty³
::
is_g‹¡_m©ch”
>

499 
M©ch”
(
M
&& 
m
è: 
š‹º®
::
M©ch”Ba£
<
T
>(
¡d
::
fÜw¬d
<M>(m)) {}

503 
M©ch”
(
T
 
v®ue
);

509 
	g‹m¶©e
 <>

510 
şass
 
GTEST_API_
 
	gM©ch”
<cÚ¡ 
	g¡d
::
¡ršg
&>

511 : 
public
 
š‹º®
::
M©ch”Ba£
<cÚ¡ 
¡d
::
¡ršg
&> {

512 
public
:

513 
M©ch”
() {}

515 
ex¶ic™
 
M©ch”
(cÚ¡ 
M©ch”IÁ”çû
<cÚ¡ 
¡d
::
¡ršg
&>* 
im¶
)

516 : 
š‹º®
::
M©ch”Ba£
<cÚ¡ 
¡d
::
¡ršg
&>(
im¶
) {}

518 
‹m¶©e
 <
ty³Çme
 
M
, 
	gty³Çme
 =y³Çm
¡d
::
»move_»ã»nû
<

519 
M
>::
ty³
::
is_g‹¡_m©ch”
>

520 
M©ch”
(
M
&& 
m
)

521 : 
š‹º®
::
M©ch”Ba£
<cÚ¡ 
¡d
::
¡ršg
&>(¡d::
fÜw¬d
<
M
>(
m
)) {}

525 
M©ch”
(cÚ¡ 
¡d
::
¡ršg
& 
s
);

528 
M©ch”
(cÚ¡ * 
s
);

531 
	g‹m¶©e
 <>

532 
şass
 
GTEST_API_
 
	gM©ch”
<
	g¡d
::
¡ršg
>

533 : 
public
 
š‹º®
::
M©ch”Ba£
<
¡d
::
¡ršg
> {

534 
public
:

535 
M©ch”
() {}

537 
ex¶ic™
 
M©ch”
(cÚ¡ 
M©ch”IÁ”çû
<cÚ¡ 
¡d
::
¡ršg
&>* 
im¶
)

538 : 
š‹º®
::
M©ch”Ba£
<
¡d
::
¡ršg
>(
im¶
) {}

539 
ex¶ic™
 
M©ch”
(cÚ¡ 
M©ch”IÁ”çû
<
¡d
::
¡ršg
>* 
im¶
)

540 : 
š‹º®
::
M©ch”Ba£
<
¡d
::
¡ršg
>(
im¶
) {}

542 
‹m¶©e
 <
ty³Çme
 
M
, 
	gty³Çme
 =y³Çm
¡d
::
»move_»ã»nû
<

543 
M
>::
ty³
::
is_g‹¡_m©ch”
>

544 
M©ch”
(
M
&& 
m
)

545 : 
š‹º®
::
M©ch”Ba£
<
¡d
::
¡ršg
>(¡d::
fÜw¬d
<
M
>(
m
)) {}

549 
M©ch”
(cÚ¡ 
¡d
::
¡ršg
& 
s
);

552 
M©ch”
(cÚ¡ * 
s
);

555 #ià
GTEST_INTERNAL_HAS_STRING_VIEW


559 
	g‹m¶©e
 <>

560 
şass
 
GTEST_API_
 
	gM©ch”
<cÚ¡ 
	gš‹º®
::
SŒšgV›w
&>

561 : 
public
 
š‹º®
::
M©ch”Ba£
<cÚ¡ iÁ”Çl::
SŒšgV›w
&> {

562 
public
:

563 
M©ch”
() {}

565 
ex¶ic™
 
M©ch”
(cÚ¡ 
M©ch”IÁ”çû
<cÚ¡ 
š‹º®
::
SŒšgV›w
&>* 
im¶
)

566 : 
š‹º®
::
M©ch”Ba£
<cÚ¡ iÁ”Çl::
SŒšgV›w
&>(
im¶
) {}

568 
‹m¶©e
 <
ty³Çme
 
M
, 
	gty³Çme
 =y³Çm
¡d
::
»move_»ã»nû
<

569 
M
>::
ty³
::
is_g‹¡_m©ch”
>

570 
M©ch”
(
M
&& 
m
)

571 : 
š‹º®
::
M©ch”Ba£
<cÚ¡ iÁ”Çl::
SŒšgV›w
&>(
¡d
::
fÜw¬d
<
M
>(
m
)) {

576 
M©ch”
(cÚ¡ 
¡d
::
¡ršg
& 
s
);

579 
M©ch”
(cÚ¡ * 
s
);

582 
M©ch”
(
š‹º®
::
SŒšgV›w
 
s
);

585 
	g‹m¶©e
 <>

586 
şass
 
GTEST_API_
 
	gM©ch”
<
	gš‹º®
::
SŒšgV›w
>

587 : 
public
 
š‹º®
::
M©ch”Ba£
<š‹º®::
SŒšgV›w
> {

588 
public
:

589 
M©ch”
() {}

591 
ex¶ic™
 
M©ch”
(cÚ¡ 
M©ch”IÁ”çû
<cÚ¡ 
š‹º®
::
SŒšgV›w
&>* 
im¶
)

592 : 
š‹º®
::
M©ch”Ba£
<š‹º®::
SŒšgV›w
>(
im¶
) {}

593 
ex¶ic™
 
M©ch”
(cÚ¡ 
M©ch”IÁ”çû
<
š‹º®
::
SŒšgV›w
>* 
im¶
)

594 : 
š‹º®
::
M©ch”Ba£
<š‹º®::
SŒšgV›w
>(
im¶
) {}

596 
‹m¶©e
 <
ty³Çme
 
M
, 
	gty³Çme
 =y³Çm
¡d
::
»move_»ã»nû
<

597 
M
>::
ty³
::
is_g‹¡_m©ch”
>

598 
M©ch”
(
M
&& 
m
)

599 : 
š‹º®
::
M©ch”Ba£
<š‹º®::
SŒšgV›w
>(
¡d
::
fÜw¬d
<
M
>(
m
)) {}

603 
M©ch”
(cÚ¡ 
¡d
::
¡ršg
& 
s
);

606 
M©ch”
(cÚ¡ * 
s
);

609 
M©ch”
(
š‹º®
::
SŒšgV›w
 
s
);

614 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

615 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
os
, cÚ¡ 
	gM©ch”
<
	gT
>& 
	gm©ch”
) {

616 
	gm©ch”
.
DesüibeTo
(&
os
);

617  
	gos
;

632 
	g‹m¶©e
 <
şass
 
	gIm¶
>

633 şas 
	cPŞymÜphicM©ch”
 {

634 
	gpublic
:

635 
ex¶ic™
 
PŞymÜphicM©ch”
(cÚ¡ 
Im¶
& 
ª_im¶
è: 
im¶_
(an_impl) {}

639 
Im¶
& 
mubË_im¶
(è{  
im¶_
; }

643 cÚ¡ 
	gIm¶
& 
im¶
(ècÚ¡ {  
	gim¶_
; }

645 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

646 
İ”©Ü
 
	gM©ch”
<
	gT
>() const {

647  
	gM©ch”
<
	gT
>(
Ãw
 
	gMÚomÜphicIm¶
<cÚ¡ T&>(
	gim¶_
));

650 
	g´iv©e
:

651 
‹m¶©e
 <
ty³Çme
 
T
>

652 
şass
 
MÚomÜphicIm¶
 : 
public
 
M©ch”IÁ”çû
<
T
> {

653 
public
:

654 
ex¶ic™
 
MÚomÜphicIm¶
(cÚ¡ 
Im¶
& 
im¶
è: 
im¶_
(impl) {}

656 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 { 
im¶_
.DescribeTo(os); }

658 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

659 
im¶_
.
DesüibeNeg©iÚTo
(
os
);

662 
boŞ
 
M©chAndEx¶aš
(
T
 
x
, 
M©chResuÉLi¡’”
* 
li¡’”
ècÚ¡ 
	gov”ride
 {

663  
	gim¶_
.
M©chAndEx¶aš
(
x
, 
li¡’”
);

666 
	g´iv©e
:

667 cÚ¡ 
Im¶
 
im¶_
;

670 
Im¶
 
	gim¶_
;

679 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

680 
šlše
 
	gM©ch”
<
	gT
> 
MakeM©ch”
(cÚ¡ 
M©ch”IÁ”çû
<
T
>* 
im¶
) {

681  
	gM©ch”
<
	gT
>(
	gim¶
);

691 
	g‹m¶©e
 <
şass
 
	gIm¶
>

692 
šlše
 
	gPŞymÜphicM©ch”
<
	gIm¶
> 
	$MakePŞymÜphicM©ch”
(cÚ¡ 
Im¶
& 
im¶
) {

693  
PŞymÜphicM©ch”
<
Im¶
>(
im¶
);

694 
	}
}

696 
Çme¥aû
 
	gš‹º®
 {

707 
	g‹m¶©e
 <
ty³Çme
 
	gD
,y³Çm
	gRhs
,y³Çm
	gOp
>

708 şas 
	cCom·risÚBa£
 {

709 
	gpublic
:

710 
ex¶ic™
 
Com·risÚBa£
(cÚ¡ 
Rhs
& 
rhs
è: 
rhs_
(rhs) {}

712 
usšg
 
is_g‹¡_m©ch”
 = ;

714 
	g‹m¶©e
 <
ty³Çme
 
	gLhs
>

715 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
Lhs
& 
lhs
, 
¡d
::
o¡»am
*) const {

716  
Op
()(
lhs
, 
Unw¿p
(
rhs_
));

718 
DesüibeTo
(
¡d
::
o¡»am
* 
os
) const {

719 *
os
 << 
D
::
Desc
() << " ";

720 
Univ”§lPršt
(
Unw¿p
(
rhs_
), 
os
);

722 
DesüibeNeg©iÚTo
(
¡d
::
o¡»am
* 
os
) const {

723 *
os
 << 
D
::
Neg©edDesc
() << " ";

724 
Univ”§lPršt
(
Unw¿p
(
rhs_
), 
os
);

727 
	g´iv©e
:

728 
‹m¶©e
 <
ty³Çme
 
T
>

729 cÚ¡ 
T
& 
Unw¿p
(cÚ¡ T& 
v
) {

730  
v
;

732 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

733 cÚ¡ 
	gT
& 
Unw¿p
(
¡d
::
»ã»nû_w¿µ”
<
T
> 
v
) {

734  
v
;

737 
Rhs
 
	grhs_
;

740 
	g‹m¶©e
 <
ty³Çme
 
	gRhs
>

741 
şass
 
	gEqM©ch”
 : 
public
 
Com·risÚBa£
<
EqM©ch”
<
Rhs
>, 
	gRhs
, 
	gAnyEq
> {

742 
	gpublic
:

743 
ex¶ic™
 
EqM©ch”
(cÚ¡ 
Rhs
& 
rhs
)

744 : 
Com·risÚBa£
<
EqM©ch”
<
Rhs
>, 
	gRhs
, 
	gAnyEq
>(
	grhs
) { }

745 cÚ¡ * 
Desc
() {  "isƒqualo"; }

746 cÚ¡ * 
Neg©edDesc
() {  "isn'tƒqualo"; }

748 
	g‹m¶©e
 <
ty³Çme
 
	gRhs
>

749 
şass
 
	gNeM©ch”
 : 
public
 
Com·risÚBa£
<
NeM©ch”
<
Rhs
>, 
	gRhs
, 
	gAnyNe
> {

750 
	gpublic
:

751 
ex¶ic™
 
NeM©ch”
(cÚ¡ 
Rhs
& 
rhs
)

752 : 
Com·risÚBa£
<
NeM©ch”
<
Rhs
>, 
	gRhs
, 
	gAnyNe
>(
	grhs
) { }

753 cÚ¡ * 
Desc
() {  "isn'tƒqualo"; }

754 cÚ¡ * 
Neg©edDesc
() {  "isƒqualo"; }

756 
	g‹m¶©e
 <
ty³Çme
 
	gRhs
>

757 
şass
 
	gLtM©ch”
 : 
public
 
Com·risÚBa£
<
LtM©ch”
<
Rhs
>, 
	gRhs
, 
	gAnyLt
> {

758 
	gpublic
:

759 
ex¶ic™
 
LtM©ch”
(cÚ¡ 
Rhs
& 
rhs
)

760 : 
Com·risÚBa£
<
LtM©ch”
<
Rhs
>, 
	gRhs
, 
	gAnyLt
>(
	grhs
) { }

761 cÚ¡ * 
Desc
() {  "is <"; }

762 cÚ¡ * 
Neg©edDesc
() {  "isn't <"; }

764 
	g‹m¶©e
 <
ty³Çme
 
	gRhs
>

765 
şass
 
	gGtM©ch”
 : 
public
 
Com·risÚBa£
<
GtM©ch”
<
Rhs
>, 
	gRhs
, 
	gAnyGt
> {

766 
	gpublic
:

767 
ex¶ic™
 
GtM©ch”
(cÚ¡ 
Rhs
& 
rhs
)

768 : 
Com·risÚBa£
<
GtM©ch”
<
Rhs
>, 
	gRhs
, 
	gAnyGt
>(
	grhs
) { }

769 cÚ¡ * 
Desc
() {  "is >"; }

770 cÚ¡ * 
Neg©edDesc
() {  "isn't >"; }

772 
	g‹m¶©e
 <
ty³Çme
 
	gRhs
>

773 
şass
 
	gLeM©ch”
 : 
public
 
Com·risÚBa£
<
LeM©ch”
<
Rhs
>, 
	gRhs
, 
	gAnyLe
> {

774 
	gpublic
:

775 
ex¶ic™
 
LeM©ch”
(cÚ¡ 
Rhs
& 
rhs
)

776 : 
Com·risÚBa£
<
LeM©ch”
<
Rhs
>, 
	gRhs
, 
	gAnyLe
>(
	grhs
) { }

777 cÚ¡ * 
Desc
() {  "is <="; }

778 cÚ¡ * 
Neg©edDesc
() {  "isn't <="; }

780 
	g‹m¶©e
 <
ty³Çme
 
	gRhs
>

781 
şass
 
	gGeM©ch”
 : 
public
 
Com·risÚBa£
<
GeM©ch”
<
Rhs
>, 
	gRhs
, 
	gAnyGe
> {

782 
	gpublic
:

783 
ex¶ic™
 
GeM©ch”
(cÚ¡ 
Rhs
& 
rhs
)

784 : 
Com·risÚBa£
<
GeM©ch”
<
Rhs
>, 
	gRhs
, 
	gAnyGe
>(
	grhs
) { }

785 cÚ¡ * 
Desc
() {  "is >="; }

786 cÚ¡ * 
Neg©edDesc
() {  "isn't >="; }

789 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gty³Çme
 =y³Çm
¡d
::
’abË_if
<

790 
¡d
::
is_cÚ¡ruùibË
<¡d::
¡ršg
, 
	gT
>::
v®ue
>::
ty³
>

791 
usšg
 
SŒšgLike
 = 
T
;

796 şas 
	cM©chesRegexM©ch”
 {

797 
	gpublic
:

798 
M©chesRegexM©ch”
(cÚ¡ 
RE
* 
»gex
, 
boŞ
 
fuÎ_m©ch
)

799 : 
»gex_
(
»gex
), 
fuÎ_m©ch_
(
fuÎ_m©ch
) {}

801 #ià
GTEST_INTERNAL_HAS_STRING_VIEW


802 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
š‹º®
::
SŒšgV›w
& 
s
,

803 
M©chResuÉLi¡’”
* 
li¡’”
) const {

804  
M©chAndEx¶aš
(
¡d
::
¡ršg
(
s
), 
li¡’”
);

813 
	g‹m¶©e
 <
ty³Çme
 
	gCh¬Ty³
>

814 
boŞ
 
M©chAndEx¶aš
(
Ch¬Ty³
* 
s
, 
M©chResuÉLi¡’”
* 
li¡’”
) const {

815  
	gs
 !ğ
nuÎ±r
 && 
M©chAndEx¶aš
(
¡d
::
¡ršg
(
s
), 
li¡’”
);

822 
	g‹m¶©e
 <
şass
 
	gM©ch“SŒšgTy³
>

823 
boŞ
 
M©chAndEx¶aš
(cÚ¡ 
M©ch“SŒšgTy³
& 
s
,

824 
M©chResuÉLi¡’”
* ) const {

825 cÚ¡ 
	g¡d
::
¡ršg
& 
s2
(
s
);

826  
	gfuÎ_m©ch_
 ? 
	gRE
::
FuÎM©ch
(
s2
, *
»gex_
)

827 : 
RE
::
P¬tŸlM©ch
(
s2
, *
»gex_
);

830 
DesüibeTo
(::
¡d
::
o¡»am
* 
os
) const {

831 *
os
 << (
fuÎ_m©ch_
 ? "matches" : "contains") << "„egularƒxpression ";

832 
	gUniv”§lPrš‹r
<
	g¡d
::
¡ršg
>::
Pršt
(
»gex_
->
·‰”n
(), 
os
);

835 
DesüibeNeg©iÚTo
(::
¡d
::
o¡»am
* 
os
) const {

836 *
os
 << "dÛ¢'ˆ" << (
fuÎ_m©ch_
 ? "match" : "contain")

838 
	gUniv”§lPrš‹r
<
	g¡d
::
¡ršg
>::
Pršt
(
»gex_
->
·‰”n
(), 
os
);

841 
	g´iv©e
:

842 cÚ¡ 
¡d
::
sh¬ed_±r
<cÚ¡ 
RE
> 
»gex_
;

843 cÚ¡ 
boŞ
 
	gfuÎ_m©ch_
;

849 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
M©chesRegexM©ch”
> 
	$M©chesRegex
(

850 cÚ¡ 
š‹º®
::
RE
* 
»gex
) {

851  
	`MakePŞymÜphicM©ch”
(
š‹º®
::
	`M©chesRegexM©ch”
(
»gex
, 
Œue
));

852 
	}
}

853 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = 
¡d
::
¡ršg
>

854 
PŞymÜphicM©ch”
<
š‹º®
::
M©chesRegexM©ch”
> 
M©chesRegex
(

855 cÚ¡ 
š‹º®
::
SŒšgLike
<
T
>& 
»gex
) {

856  
M©chesRegex
(
Ãw
 
š‹º®
::
RE
(
¡d
::
¡ršg
(
»gex
)));

861 
šlše
 
	gPŞymÜphicM©ch”
<
	gš‹º®
::
M©chesRegexM©ch”
> 
	$CÚšsRegex
(

862 cÚ¡ 
š‹º®
::
RE
* 
»gex
) {

863  
	`MakePŞymÜphicM©ch”
(
š‹º®
::
	`M©chesRegexM©ch”
(
»gex
, 
çl£
));

864 
	}
}

865 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = 
¡d
::
¡ršg
>

866 
PŞymÜphicM©ch”
<
š‹º®
::
M©chesRegexM©ch”
> 
CÚšsRegex
(

867 cÚ¡ 
š‹º®
::
SŒšgLike
<
T
>& 
»gex
) {

868  
CÚšsRegex
(
Ãw
 
š‹º®
::
RE
(
¡d
::
¡ršg
(
»gex
)));

874 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

875 
šlše
 
	gš‹º®
::
EqM©ch”
<
T
> 
	$Eq
(
T
 
x
è{  
š‹º®
::
EqM©ch”
<T>(x); 
	}
}

879 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

880 
	gM©ch”
<
	gT
>::
	$M©ch”
(
T
 
v®ue
è{ *
this
 = 
	`Eq
(v®ue); 
	}
}

894 
	g‹m¶©e
 <
ty³Çme
 
	gLhs
,y³Çm
	gRhs
>

895 
šlše
 
	gM©ch”
<
	gLhs
> 
	$Ty³dEq
(cÚ¡ 
Rhs
& 
rhs
è{  
	`Eq
Ôhs); 
	}
}

898 
	g‹m¶©e
 <
ty³Çme
 
	gRhs
>

899 
šlše
 
	gš‹º®
::
GeM©ch”
<
Rhs
> 
	$Ge
(
Rhs
 
x
) {

900  
š‹º®
::
GeM©ch”
<
Rhs
>(
x
);

901 
	}
}

904 
	g‹m¶©e
 <
ty³Çme
 
	gRhs
>

905 
šlše
 
	gš‹º®
::
GtM©ch”
<
Rhs
> 
	$Gt
(
Rhs
 
x
) {

906  
š‹º®
::
GtM©ch”
<
Rhs
>(
x
);

907 
	}
}

910 
	g‹m¶©e
 <
ty³Çme
 
	gRhs
>

911 
šlše
 
	gš‹º®
::
LeM©ch”
<
Rhs
> 
	$Le
(
Rhs
 
x
) {

912  
š‹º®
::
LeM©ch”
<
Rhs
>(
x
);

913 
	}
}

916 
	g‹m¶©e
 <
ty³Çme
 
	gRhs
>

917 
šlše
 
	gš‹º®
::
LtM©ch”
<
Rhs
> 
	$Lt
(
Rhs
 
x
) {

918  
š‹º®
::
LtM©ch”
<
Rhs
>(
x
);

919 
	}
}

922 
	g‹m¶©e
 <
ty³Çme
 
	gRhs
>

923 
šlše
 
	gš‹º®
::
NeM©ch”
<
Rhs
> 
	$Ne
(
Rhs
 
x
) {

924  
š‹º®
::
NeM©ch”
<
Rhs
>(
x
);

925 
	}
}

928 
	$GTEST_DISABLE_MSC_WARNINGS_POP_
()

	@/usr/include/gtest/gtest-message.h

47 #iâdeà
GOOGLETEST_INCLUDE_GTEST_GTEST_MESSAGE_H_


48 
	#GOOGLETEST_INCLUDE_GTEST_GTEST_MESSAGE_H_


	)

50 
	~<lim™s
>

51 
	~<memÜy
>

52 
	~<s¡»am
>

54 
	~"g‹¡/š‹º®/g‹¡-pÜt.h
"

56 
GTEST_DISABLE_MSC_WARNINGS_PUSH_
(4251 \

61 
	gİ”©Ü
<<(cÚ¡ 
	g‹¡šg
::
š‹º®
::
Seü‘
&, );

63 
Çme¥aû
 
	g‹¡šg
 {

91 şas 
	cGTEST_API_
 
	gMes§ge
 {

92 
	g´iv©e
:

95 
¡d
::
	to¡»am
& (*
	tBasicN¬rowIoMª
)(
	t¡d
::ostream&);

97 
	gpublic
:

99 
Mes§ge
();

102 
Mes§ge
(cÚ¡ Mes§ge& 
msg
è: 
ss_
(
Ãw
 ::
¡d
::
¡ršg¡»am
) {

103 *
ss_
 << 
msg
.
G‘SŒšg
();

107 
ex¶ic™
 
Mes§ge
(cÚ¡ * 
¡r
è: 
ss_
(
Ãw
 ::
¡d
::
¡ršg¡»am
) {

108 *
ss_
 << 
¡r
;

112 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

113 
šlše
 
	gMes§ge
& 
	gİ”©Ü
 <<(cÚ¡ 
	gT
& 
	gv®
) {

128 
	gusšg
 ::
İ”©Ü
 <<;

129 *
	gss_
 << 
	gv®
;

130  *
	gthis
;

146 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

147 
šlše
 
	gMes§ge
& 
	gİ”©Ü
 <<(
T
* cÚ¡& 
	gpoš‹r
) {

148 ià(
	gpoš‹r
 =ğ
nuÎ±r
) {

149 *
ss_
 << "(null)";

151 *
	gss_
 << 
	gpoš‹r
;

153  *
	gthis
;

162 
	gMes§ge
& 
	gİ”©Ü
 <<(
BasicN¬rowIoMª
 
	gv®
) {

163 *
	gss_
 << 
	gv®
;

164  *
	gthis
;

168 
	gMes§ge
& 
	gİ”©Ü
 <<(
boŞ
 
	gb
) {

169  *
	gthis
 << (
	gb
 ? "true" : "false");

174 
	gMes§ge
& 
	gİ”©Ü
 <<(cÚ¡ 
wch¬_t
* 
	gwide_c_¡r
);

175 
	gMes§ge
& 
	gİ”©Ü
 <<(
wch¬_t
* 
	gwide_c_¡r
);

177 #ià
GTEST_HAS_STD_WSTRING


180 
	gMes§ge
& 
	gİ”©Ü
 <<(cÚ¡ ::
¡d
::
w¡ršg
& 
w¡r
);

187 
	g¡d
::
¡ršg
 
G‘SŒšg
() const;

189 
	g´iv©e
:

191 cÚ¡ 
¡d
::
unique_±r
< ::¡d::
¡ršg¡»am
> 
ss_
;

195 
	gİ”©Ü
=(cÚ¡ 
Mes§ge
&);

199 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
 <<(
¡d
::o¡»am& 
os
, cÚ¡ 
	gMes§ge
& 
	gsb
) {

200  
	gos
 << 
	gsb
.
G‘SŒšg
();

203 
Çme¥aû
 
	gš‹º®
 {

209 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

210 
	g¡d
::
¡ršg
 
SŒ—mabËToSŒšg
(cÚ¡ 
T
& 
¡»amabË
) {

211  (
Mes§ge
(è<< 
¡»amabË
).
G‘SŒšg
();

217 
	$GTEST_DISABLE_MSC_WARNINGS_POP_
()

	@/usr/include/gtest/gtest-param-test.h

34 #iâdeà
GOOGLETEST_INCLUDE_GTEST_GTEST_PARAM_TEST_H_


35 
	#GOOGLETEST_INCLUDE_GTEST_GTEST_PARAM_TEST_H_


	)

52 
şass
 
	gFooTe¡
 : 
public
 ::
‹¡šg
::
Te¡W™hP¬am
<const *> {

60 
	$TEST_P
(
FooTe¡
, 
DÛsBÏh
) {

63 
	`EXPECT_TRUE
(
foo
.
	`BÏh
(
	`G‘P¬am
()));

65 
	}
}

67 
	$TEST_P
(
FooTe¡
, 
HasBÏhBÏh
) {

69 
	}
}

95 
INSTANTIATE_TEST_SUITE_P
(
In¡ªtŸtiÚName
,

96 
FooTe¡
,

97 
V®ues
("meeny", "miny", "moe"));

118 cÚ¡ * 
	g³ts
[] = {"cat", "dog"};

119 
INSTANTIATE_TEST_SUITE_P
(
AnÙh”In¡ªtŸtiÚName
, 
FooTe¡
, 
V®uesIn
(
³ts
));

154 şas 
	cBa£Te¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

159 
şass
 
	gD”ivedTe¡
 : 
public
 
Ba£Te¡
, 
	gpublic
 ::
‹¡šg
::
W™hP¬amIÁ”çû
<> {

163 
	$TEST_F
(
Ba£Te¡
, 
HasFoo
) {

165 
	}
}

167 
	$TEST_P
(
D”ivedTe¡
, 
DÛsBÏh
) {

169 
	`EXPECT_TRUE
(
foo
.
	`BÏh
(
	`G‘P¬am
()));

170 
	}
}

174 
	~<™”©Ü
>

175 
	~<ut™y
>

177 
	~"g‹¡/š‹º®/g‹¡-š‹º®.h
"

178 
	~"g‹¡/š‹º®/g‹¡-·¿m-ut.h
"

179 
	~"g‹¡/š‹º®/g‹¡-pÜt.h
"

181 
Çme¥aû
 
	g‹¡šg
 {

225 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gInüem’tT
>

226 
	gš‹º®
::
P¬amG’”©Ü
<
T
> 
Rªge
(T 
¡¬t
, T 
’d
, 
Inüem’tT
 
¡•
) {

227  
	gš‹º®
::
P¬amG’”©Ü
<
T
>(

228 
Ãw
 
š‹º®
::
RªgeG’”©Ü
<
T
, 
	gInüem’tT
>(
	g¡¬t
, 
	g’d
, 
	g¡•
));

231 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

232 
	gš‹º®
::
P¬amG’”©Ü
<
T
> 
Rªge
(T 
¡¬t
, T 
’d
) {

233  
Rªge
(
¡¬t
, 
’d
, 1);

291 
	g‹m¶©e
 <
ty³Çme
 
	gFÜw¬dI‹¿tÜ
>

292 
	gš‹º®
::
P¬amG’”©Ü
<

293 
ty³Çme
 
¡d
::
™”©Ü_Œa™s
<
FÜw¬dI‹¿tÜ
>::
v®ue_ty³
>

294 
V®uesIn
(
FÜw¬dI‹¿tÜ
 
begš
, FÜw¬dI‹¿tÜ 
’d
) {

295 
ty³Çme
 
	t¡d
::
	t™”©Ü_Œa™s
<
	tFÜw¬dI‹¿tÜ
>::
	tv®ue_ty³
 
	tP¬amTy³
;

296  
	gš‹º®
::
P¬amG’”©Ü
<
P¬amTy³
>(

297 
Ãw
 
š‹º®
::
V®uesInI‹¿tÜRªgeG’”©Ü
<
P¬amTy³
>(
begš
, 
	g’d
));

300 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
size_t
 
	gN
>

301 
	gš‹º®
::
P¬amG’”©Ü
<
T
> 
V®uesIn
(cÚ¡ T (&
¬¿y
)[
N
]) {

302  
V®uesIn
(
¬¿y
,‡¼ay + 
N
);

305 
	g‹m¶©e
 <
şass
 
	gCÚš”
>

306 
	gš‹º®
::
P¬amG’”©Ü
<
ty³Çme
 
CÚš”
::
v®ue_ty³
> 
V®uesIn
(

307 cÚ¡ 
CÚš”
& 
cÚš”
) {

308  
V®uesIn
(
cÚš”
.
begš
(), cÚš”.
’d
());

331 
	g‹m¶©e
 <
	gty³Çme
... 
	gT
>

332 
	gš‹º®
::
V®ueA¼ay
<
T
...> 
V®ues
(T... 
v
) {

333  
š‹º®
::
V®ueA¼ay
<
T
...>(
¡d
::
move
(
v
)...);

356 
šlše
 
	gš‹º®
::
P¬amG’”©Ü
<
boŞ
> 
BoŞ
() {

357  
V®ues
(
çl£
, 
Œue
);

404 
	g‹m¶©e
 <
	gty³Çme
... 
	gG’”©Ü
>

405 
	gš‹º®
::
C¬‹sŸnProduùHŞd”
<
G’”©Ü
...> 
Combše
(cÚ¡ G’”©Ü&... 
g
) {

406  
š‹º®
::
C¬‹sŸnProduùHŞd”
<
G’”©Ü
...>(
g
...);

409 
	#TEST_P
(
‹¡_su™e_Çme
, 
‹¡_Çme
) \

410 
şass
 
	`GTEST_TEST_CLASS_NAME_
(
‹¡_su™e_Çme
, 
‹¡_Çme
) \

411 : 
public
 
‹¡_su™e_Çme
 { \

412 
public
: \

413 
	`GTEST_TEST_CLASS_NAME_
(
‹¡_su™e_Çme
, 
‹¡_Çme
)() {} \

414 
	`Te¡Body
(è
ov”ride
; \

416 
´iv©e
: \

417 
	`AddToRegi¡ry
() { \

418 ::
‹¡šg
::
Un™Te¡
::
	`G‘In¡ªû
() \

419 ->
	`·¿m‘”ized_‹¡_»gi¡ry
() \

420 .
G‘Te¡Su™eP©‹ºHŞd”
<
‹¡_su™e_Çme
>( \

421 
	`GTEST_STRINGIFY_
(
‹¡_su™e_Çme
), \

422 ::
‹¡šg
::
š‹º®
::
	`CodeLoÿtiÚ
(
__FILE__
, 
__LINE__
)) \

423 ->
	`AddTe¡P©‹º
( \

424 
	`GTEST_STRINGIFY_
(
‹¡_su™e_Çme
), GTEST_STRINGIFY_(
‹¡_Çme
), \

425 
Ãw
 ::
‹¡šg
::
š‹º®
::
Te¡M‘aFaùÜy
<
	`GTEST_TEST_CLASS_NAME_
( \

426 
‹¡_su™e_Çme
, 
‹¡_Çme
)>(), \

427 ::
‹¡šg
::
š‹º®
::
	`CodeLoÿtiÚ
(
__FILE__
, 
__LINE__
)); \

430 
g‹¡_»gi¡”šg_dummy_
 
GTEST_ATTRIBUTE_UNUSED_
; \

431 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
	`GTEST_TEST_CLASS_NAME_
(
‹¡_su™e_Çme
, \

432 
‹¡_Çme
)); \

434 
	`GTEST_TEST_CLASS_NAME_
(
‹¡_su™e_Çme
, \

435 
‹¡_Çme
)::
g‹¡_»gi¡”šg_dummy_
 = \

436 
	`GTEST_TEST_CLASS_NAME_
(
‹¡_su™e_Çme
, 
‹¡_Çme
)::
	`AddToRegi¡ry
(); \

437 
	`GTEST_TEST_CLASS_NAME_
(
‹¡_su™e_Çme
, 
‹¡_Çme
)::
	`Te¡Body
()

	)

452 
	#GTEST_EXPAND_
(
¬g
è
	)
arg

453 
	#GTEST_GET_FIRST_
(
fœ¡
, ...è
	)
first

454 
	#GTEST_GET_SECOND_
(
fœ¡
, 
£cÚd
, ...è
	)
second

456 
	#INSTANTIATE_TEST_SUITE_P
(
´efix
, 
‹¡_su™e_Çme
, ...) \

457 ::
‹¡šg
::
š‹º®
::
P¬amG’”©Ü
<
‹¡_su™e_Çme
::
P¬amTy³
> \

458 
g‹¡_
##
´efix
##
‹¡_su™e_Çme
##
	`_Ev®G’”©Ü_
() { \

459  
	`GTEST_EXPAND_
(
	`GTEST_GET_FIRST_
(
__VA_ARGS__
, 
DUMMY_PARAM_
)); \

461 ::
¡d
::
¡ršg
 
g‹¡_
##
´efix
##
‹¡_su™e_Çme
##
	`_Ev®G’”©eName_
( \

462 cÚ¡ ::
‹¡šg
::
Te¡P¬amInfo
<
‹¡_su™e_Çme
::
P¬amTy³
>& 
šfo
) { \

463 ià(::
‹¡šg
::
š‹º®
::
	`AlwaysF®£
()) { \

464 ::
‹¡šg
::
š‹º®
::
	`Te¡NÙEm±y
(
	`GTEST_EXPAND_
(
	`GTEST_GET_SECOND_
( \

465 
__VA_ARGS__
, \

466 ::
‹¡šg
::
š‹º®
::
DeçuÉP¬amName
<
‹¡_su™e_Çme
::
P¬amTy³
>, \

467 
DUMMY_PARAM_
))); \

468 autØ
t
 = 
¡d
::
	`make_tu¶e
(
__VA_ARGS__
); \

469 
	`¡©ic_as£¹
(
¡d
::
tu¶e_size
<
	`deşty³
(
t
)>::
v®ue
 <= 2, \

472  ((
	`GTEST_EXPAND_
(
	`GTEST_GET_SECOND_
( \

473 
__VA_ARGS__
, \

474 ::
‹¡šg
::
š‹º®
::
DeçuÉP¬amName
<
‹¡_su™e_Çme
::
P¬amTy³
>, \

475 
DUMMY_PARAM_
))))(
šfo
); \

477 
g‹¡_
##
´efix
##
‹¡_su™e_Çme
##
_dummy_
 \

478 
GTEST_ATTRIBUTE_UNUSED_
 = \

479 ::
‹¡šg
::
Un™Te¡
::
	`G‘In¡ªû
() \

480 ->
	`·¿m‘”ized_‹¡_»gi¡ry
() \

481 .
G‘Te¡Su™eP©‹ºHŞd”
<
‹¡_su™e_Çme
>( \

482 
	`GTEST_STRINGIFY_
(
‹¡_su™e_Çme
), \

483 ::
‹¡šg
::
š‹º®
::
	`CodeLoÿtiÚ
(
__FILE__
, 
__LINE__
)) \

484 ->
	`AddTe¡Su™eIn¡ªtŸtiÚ
( \

485 
	`GTEST_STRINGIFY_
(
´efix
), \

486 &
g‹¡_
##
´efix
##
‹¡_su™e_Çme
##
_Ev®G’”©Ü_
, \

487 &
g‹¡_
##
´efix
##
‹¡_su™e_Çme
##
_Ev®G’”©eName_
, \

488 
__FILE__
, 
__LINE__
)

	)

492 
	#GTEST_ALLOW_UNINSTANTIATED_PARAMETERIZED_TEST
(
T
) \

493 
Çme¥aû
 
g‹¡_do_nÙ_u£_outside_Çme¥aû_scİe
 {} \

494 cÚ¡ ::
‹¡šg
::
š‹º®
::
M¬kAsIgnÜed
 
g‹¡_®low_ignÜe_
##
	`T
( \

495 
	`GTEST_STRINGIFY_
(
T
))

	)

498 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


499 
	#INSTANTIATE_TEST_CASE_P
 \

500 
	`¡©ic_as£¹
(::
‹¡šg
::
š‹º®
::
	`In¡ªtŸ‹Te¡Ca£_P_IsD•»ÿ‹d
(), \

502 
INSTANTIATE_TEST_SUITE_P


	)

	@/usr/include/gtest/gtest-printers.h

100 #iâdeà
GOOGLETEST_INCLUDE_GTEST_GTEST_PRINTERS_H_


101 
	#GOOGLETEST_INCLUDE_GTEST_GTEST_PRINTERS_H_


	)

103 
	~<funùiÚ®
>

104 
	~<memÜy
>

105 
	~<o¡»am
>

106 
	~<s¡»am
>

107 
	~<¡ršg
>

108 
	~<tu¶e
>

109 
	~<ty³_Œa™s
>

110 
	~<ut™y
>

111 
	~<veùÜ
>

113 
	~"g‹¡/š‹º®/g‹¡-š‹º®.h
"

114 
	~"g‹¡/š‹º®/g‹¡-pÜt.h
"

116 
Çme¥aû
 
	g‹¡šg
 {

120 
Çme¥aû
 
	gš‹º®
 {

122 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

123 
Univ”§lPršt
(cÚ¡ 
T
& 
v®ue
, ::
¡d
::
o¡»am
* 
os
);

127 
	sCÚš”Prš‹r
 {

128 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

129 
	gty³Çme
 = 
ty³Çme
 
¡d
::
’abË_if
<

130 ((
IsCÚš”Te¡
<
T
>(0)è=ğ(
IsCÚš”
)) &&

131 !
IsRecursiveCÚš”
<
T
>::
v®ue
>::
ty³
>

132 
PrštV®ue
(cÚ¡ 
T
& 
cÚš”
, 
¡d
::
o¡»am
* 
os
) {

133 cÚ¡ 
size_t
 
kMaxCouÁ
 = 32;

134 *
	gos
 << '{';

135 
size_t
 
	gcouÁ
 = 0;

136 auto&& 
	g–em
 : 
cÚš”
) {

137 ià(
couÁ
 > 0) {

138 *
os
 << ',';

139 ià(
	gcouÁ
 =ğ
kMaxCouÁ
) {

140 *
os
 << " ...";

144 *
	gos
 << ' ';

147 
	gš‹º®
::
Univ”§lPršt
(
–em
, 
os
);

148 ++
	gcouÁ
;

151 ià(
	gcouÁ
 > 0) {

152 *
	gos
 << ' ';

154 *
	gos
 << '}';

164 
	sFunùiÚPoš‹rPrš‹r
 {

165 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gty³Çme
 =y³Çm
¡d
::
’abË_if
<

166 
¡d
::
is_funùiÚ
<
T
>::
v®ue
>::
ty³
>

167 
PrštV®ue
(
T
* 
p
, ::
¡d
::
o¡»am
* 
os
) {

168 ià(
p
 =ğ
nuÎ±r
) {

169 *
os
 << "NULL";

174 *
	gos
 << 
	g»š‹½»t_ÿ¡
<cÚ¡ *>(
	gp
);

179 
	sPoš‹rPrš‹r
 {

180 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

181 
PrštV®ue
(
T
* 
p
, ::
¡d
::
o¡»am
* 
os
) {

182 ià(
p
 =ğ
nuÎ±r
) {

183 *
os
 << "NULL";

188 *
	gos
 << 
	gp
;

193 
Çme¥aû
 
	gš‹º®_¡»am_İ”©Ü_w™hout_Ëxiÿl_Çme_lookup
 {

199 
	sLookupBlock”
 {};

200 
	gİ”©Ü
<<(
	gLookupBlock”
, LookupBlocker);

202 
	sSŒ—mPrš‹r
 {

203 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

206 
	gty³Çme
 = 
ty³Çme
 
¡d
::
’abË_if
<

207 !
¡d
::
is_memb”_poš‹r
<
T
>::
v®ue
>::
ty³
,

210 
	gty³Çme
 = 
deşty³
(
¡d
::
deşv®
<¡d::
o¡»am
&>()

211 << 
¡d
::
deşv®
<cÚ¡ 
T
&>())>

212 
PrštV®ue
(cÚ¡ 
T
& 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

215 *
os
 << 
v®ue
;

221 
	sPrÙobufPrš‹r
 {

225 cÚ¡ 
size_t
 
	gkPrÙobufOÃLš”MaxL’gth
 = 50;

227 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

228 
	gty³Çme
 = 
ty³Çme
 
¡d
::
’abË_if
<

229 
š‹º®
::
HasDebugSŒšgAndShÜtDebugSŒšg
<
T
>::
v®ue
>::
ty³
>

230 
PrštV®ue
(cÚ¡ 
T
& 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

231 
¡d
::
¡ršg
 
´‘ty_¡r
 = 
v®ue
.
ShÜtDebugSŒšg
();

232 ià(
	g´‘ty_¡r
.
Ëngth
(è> 
	gkPrÙobufOÃLš”MaxL’gth
) {

233 
	g´‘ty_¡r
 = "\n" + 
v®ue
.
DebugSŒšg
();

235 *
	gos
 << ("<" + 
	g´‘ty_¡r
 + ">");

239 
	sCÚv”tibËToIÁeg”Prš‹r
 {

247 
PrštV®ue
(
š‹º®
::
Bigge¡IÁ
 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

248 *
os
 << 
v®ue
;

252 
	sCÚv”tibËToSŒšgV›wPrš‹r
 {

253 #ià
GTEST_INTERNAL_HAS_STRING_VIEW


254 
PrštV®ue
(
š‹º®
::
SŒšgV›w
 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

255 
š‹º®
::
Univ”§lPršt
(
v®ue
, 
os
);

263 
GTEST_API_
 
PrštBy‹sInObjeùTo
(cÚ¡ * 
obj_by‹s
,

264 
size_t
 
couÁ
,

265 ::
¡d
::
o¡»am
* 
os
);

266 
	sRawBy‹sPrš‹r
 {

268 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gsize_t
 = (
T
)>

269 
PrštV®ue
(cÚ¡ 
T
& 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

270 
PrštBy‹sInObjeùTo
(

271 
¡©ic_ÿ¡
<const *>(

273 
»š‹½»t_ÿ¡
<cÚ¡ *>(
¡d
::
add»ssof
(
v®ue
))),

274 (
v®ue
), 
os
);

278 
	sF®lbackPrš‹r
 {

279 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

280 
PrštV®ue
(cÚ¡ 
T
&, ::
¡d
::
o¡»am
* 
os
) {

281 *
os
 << "(incompleteype)";

286 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gE
,y³Çm
	gPrš‹r
, 
	gty³Çme
... 
	gPrš‹rs
>

287 
	gFšdFœ¡Prš‹r
 : 
FšdFœ¡Prš‹r
<
T
, 
	gE
, 
	gPrš‹rs
...> {};

289 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gPrš‹r
, 
	gty³Çme
... 
	gPrš‹rs
>

290 
	gFšdFœ¡Prš‹r
<

291 
	gT
, 
deşty³
(
Prš‹r
::
PrštV®ue
(
¡d
::
deşv®
<cÚ¡ 
T
&>(), 
nuÎ±r
)),

292 
	gPrš‹r
, 
	gPrš‹rs
...> {

293 
usšg
 
	gty³
 = 
Prš‹r
;

305 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

306 
PrštW™hF®lback
(cÚ¡ 
T
& 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

307 
usšg
 
Prš‹r
 = 
ty³Çme
 
FšdFœ¡Prš‹r
<

308 
T
, , 
	gCÚš”Prš‹r
, 
	gFunùiÚPoš‹rPrš‹r
, 
	gPoš‹rPrš‹r
,

309 
	gš‹º®_¡»am_İ”©Ü_w™hout_Ëxiÿl_Çme_lookup
::
SŒ—mPrš‹r
,

310 
	gPrÙobufPrš‹r
, 
	gCÚv”tibËToIÁeg”Prš‹r
,

311 
	gCÚv”tibËToSŒšgV›wPrš‹r
, 
	gRawBy‹sPrš‹r
, 
	gF®lbackPrš‹r
>::
ty³
;

312 
	gPrš‹r
::
PrštV®ue
(
v®ue
, 
os
);

330 
	g‹m¶©e
 <
ty³Çme
 
	gToPršt
,y³Çm
	gOth”O³¿nd
>

331 şas 
	cFÜm©FÜCom·risÚ
 {

332 
	gpublic
:

333 ::
¡d
::
¡ršg
 
FÜm©
(cÚ¡ 
ToPršt
& 
v®ue
) {

334  ::
‹¡šg
::
PrštToSŒšg
(
v®ue
);

339 
	g‹m¶©e
 <
ty³Çme
 
	gToPršt
, 
size_t
 
	gN
,y³Çm
	gOth”O³¿nd
>

340 
şass
 
	gFÜm©FÜCom·risÚ
<
	gToPršt
[
N
], 
	gOth”O³¿nd
> {

341 
	gpublic
:

342 ::
¡d
::
¡ršg
 
FÜm©
(cÚ¡ 
ToPršt
* 
v®ue
) {

343  
FÜm©FÜCom·risÚ
<cÚ¡ 
ToPršt
*, 
	gOth”O³¿nd
>::
FÜm©
(
v®ue
);

350 
	#GTEST_IMPL_FORMAT_C_STRING_AS_POINTER_
(
Ch¬Ty³
) \

351 
‹m¶©e
 <
ty³Çme
 
Oth”O³¿nd
> \

352 
şass
 
FÜm©FÜCom·risÚ
<
Ch¬Ty³
*, 
Oth”O³¿nd
> { \

353 
public
: \

354 ::
¡d
::
¡ršg
 
	`FÜm©
(
Ch¬Ty³
* 
v®ue
) { \

355  ::
‹¡šg
::
	`PrštToSŒšg
(
¡©ic_ÿ¡
<cÚ¡ *>(
v®ue
)); \

357 }

	)

359 
GTEST_IMPL_FORMAT_C_STRING_AS_POINTER_
();

360 
GTEST_IMPL_FORMAT_C_STRING_AS_POINTER_
(const );

361 
GTEST_IMPL_FORMAT_C_STRING_AS_POINTER_
(
wch¬_t
);

362 
GTEST_IMPL_FORMAT_C_STRING_AS_POINTER_
(cÚ¡ 
wch¬_t
);

363 #ifdeà
__ıp_ch¬8_t


364 
GTEST_IMPL_FORMAT_C_STRING_AS_POINTER_
(
ch¬8_t
);

365 
GTEST_IMPL_FORMAT_C_STRING_AS_POINTER_
(cÚ¡ 
ch¬8_t
);

367 
GTEST_IMPL_FORMAT_C_STRING_AS_POINTER_
(
ch¬16_t
);

368 
GTEST_IMPL_FORMAT_C_STRING_AS_POINTER_
(cÚ¡ 
ch¬16_t
);

369 
GTEST_IMPL_FORMAT_C_STRING_AS_POINTER_
(
ch¬32_t
);

370 
GTEST_IMPL_FORMAT_C_STRING_AS_POINTER_
(cÚ¡ 
ch¬32_t
);

372 #undeà
GTEST_IMPL_FORMAT_C_STRING_AS_POINTER_


377 
	#GTEST_IMPL_FORMAT_C_STRING_AS_STRING_
(
Ch¬Ty³
, 
Oth”SŒšgTy³
) \

378 
‹m¶©e
 <> \

379 
şass
 
FÜm©FÜCom·risÚ
<
Ch¬Ty³
*, 
Oth”SŒšgTy³
> { \

380 
public
: \

381 ::
¡d
::
¡ršg
 
	`FÜm©
(
Ch¬Ty³
* 
v®ue
) { \

382  ::
‹¡šg
::
	`PrštToSŒšg
(
v®ue
); \

384 }

	)

386 
GTEST_IMPL_FORMAT_C_STRING_AS_STRING_
(, ::
¡d
::
¡ršg
);

387 
GTEST_IMPL_FORMAT_C_STRING_AS_STRING_
(cÚ¡ , ::
¡d
::
¡ršg
);

388 #ifdeà
__ıp_ch¬8_t


389 
GTEST_IMPL_FORMAT_C_STRING_AS_STRING_
(
ch¬8_t
, ::
¡d
::
u8¡ršg
);

390 
GTEST_IMPL_FORMAT_C_STRING_AS_STRING_
(cÚ¡ 
ch¬8_t
, ::
¡d
::
u8¡ršg
);

392 
GTEST_IMPL_FORMAT_C_STRING_AS_STRING_
(
ch¬16_t
, ::
¡d
::
u16¡ršg
);

393 
GTEST_IMPL_FORMAT_C_STRING_AS_STRING_
(cÚ¡ 
ch¬16_t
, ::
¡d
::
u16¡ršg
);

394 
GTEST_IMPL_FORMAT_C_STRING_AS_STRING_
(
ch¬32_t
, ::
¡d
::
u32¡ršg
);

395 
GTEST_IMPL_FORMAT_C_STRING_AS_STRING_
(cÚ¡ 
ch¬32_t
, ::
¡d
::
u32¡ršg
);

397 #ià
GTEST_HAS_STD_WSTRING


398 
GTEST_IMPL_FORMAT_C_STRING_AS_STRING_
(
wch¬_t
, ::
¡d
::
w¡ršg
);

399 
GTEST_IMPL_FORMAT_C_STRING_AS_STRING_
(cÚ¡ 
wch¬_t
, ::
¡d
::
w¡ršg
);

402 #undeà
GTEST_IMPL_FORMAT_C_STRING_AS_STRING_


412 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
>

413 
	g¡d
::
¡ršg
 
FÜm©FÜCom·risÚFau»Mes§ge
(

414 cÚ¡ 
T1
& 
v®ue
, cÚ¡ 
T2
& ) {

415  
	gFÜm©FÜCom·risÚ
<
	gT1
, 
	gT2
>::
FÜm©
(
v®ue
);

425 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

426 
şass
 
	gUniv”§lPrš‹r
;

439 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

440 
PrštTo
(cÚ¡ 
T
& 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

441 
š‹º®
::
PrštW™hF®lback
(
v®ue
, 
os
);

449 
GTEST_API_
 
PrštTo
(
c
, ::
¡d
::
o¡»am
* 
os
);

450 
GTEST_API_
 
PrštTo
(sigÃd 
c
, ::
¡d
::
o¡»am
* 
os
);

451 
šlše
 
PrštTo
(
c
, ::
¡d
::
o¡»am
* 
os
) {

455 
PrštTo
(
¡©ic_ÿ¡
<>(
c
), 
os
);

459 
šlše
 
PrštTo
(
boŞ
 
x
, ::
¡d
::
o¡»am
* 
os
) {

460 *
os
 << (
x
 ? "true" : "false");

470 
GTEST_API_
 
PrštTo
(
wch¬_t
 
wc
, ::
¡d
::
o¡»am
* 
os
);

472 
GTEST_API_
 
PrštTo
(
ch¬32_t
 
c
, ::
¡d
::
o¡»am
* 
os
);

473 
šlše
 
PrštTo
(
ch¬16_t
 
c
, ::
¡d
::
o¡»am
* 
os
) {

474 
PrštTo
(
Im¶ic™Ca¡_
<
ch¬32_t
>(
c
), 
os
);

476 #ifdeà
__ıp_ch¬8_t


477 
šlše
 
PrštTo
(
ch¬8_t
 
c
, ::
¡d
::
o¡»am
* 
os
) {

478 
PrštTo
(
Im¶ic™Ca¡_
<
ch¬32_t
>(
c
), 
os
);

483 
GTEST_API_
 
PrštTo
(cÚ¡ * 
s
, ::
¡d
::
o¡»am
* 
os
);

484 
šlše
 
PrštTo
(* 
s
, ::
¡d
::
o¡»am
* 
os
) {

485 
PrštTo
(
Im¶ic™Ca¡_
<cÚ¡ *>(
s
), 
os
);

490 
šlše
 
PrštTo
(cÚ¡ sigÃd * 
s
, ::
¡d
::
o¡»am
* 
os
) {

491 
PrštTo
(
Im¶ic™Ca¡_
<cÚ¡ *>(
s
), 
os
);

493 
šlše
 
PrštTo
(sigÃd * 
s
, ::
¡d
::
o¡»am
* 
os
) {

494 
PrštTo
(
Im¶ic™Ca¡_
<cÚ¡ *>(
s
), 
os
);

496 
šlše
 
PrštTo
(cÚ¡ * 
s
, ::
¡d
::
o¡»am
* 
os
) {

497 
PrštTo
(
Im¶ic™Ca¡_
<cÚ¡ *>(
s
), 
os
);

499 
šlše
 
PrštTo
(* 
s
, ::
¡d
::
o¡»am
* 
os
) {

500 
PrštTo
(
Im¶ic™Ca¡_
<cÚ¡ *>(
s
), 
os
);

502 #ifdeà
__ıp_ch¬8_t


504 
GTEST_API_
 
PrštTo
(cÚ¡ 
ch¬8_t
* 
s
, ::
¡d
::
o¡»am
* 
os
);

505 
šlše
 
PrštTo
(
ch¬8_t
* 
s
, ::
¡d
::
o¡»am
* 
os
) {

506 
PrštTo
(
Im¶ic™Ca¡_
<cÚ¡ 
ch¬8_t
*>(
s
), 
os
);

510 
GTEST_API_
 
PrštTo
(cÚ¡ 
ch¬16_t
* 
s
, ::
¡d
::
o¡»am
* 
os
);

511 
šlše
 
PrštTo
(
ch¬16_t
* 
s
, ::
¡d
::
o¡»am
* 
os
) {

512 
PrštTo
(
Im¶ic™Ca¡_
<cÚ¡ 
ch¬16_t
*>(
s
), 
os
);

515 
GTEST_API_
 
PrštTo
(cÚ¡ 
ch¬32_t
* 
s
, ::
¡d
::
o¡»am
* 
os
);

516 
šlše
 
PrštTo
(
ch¬32_t
* 
s
, ::
¡d
::
o¡»am
* 
os
) {

517 
PrštTo
(
Im¶ic™Ca¡_
<cÚ¡ 
ch¬32_t
*>(
s
), 
os
);

525 #ià!
defšed
(
_MSC_VER
è|| defšed(
_NATIVE_WCHAR_T_DEFINED
)

527 
GTEST_API_
 
PrštTo
(cÚ¡ 
wch¬_t
* 
s
, ::
¡d
::
o¡»am
* 
os
);

528 
šlše
 
PrštTo
(
wch¬_t
* 
s
, ::
¡d
::
o¡»am
* 
os
) {

529 
PrštTo
(
Im¶ic™Ca¡_
<cÚ¡ 
wch¬_t
*>(
s
), 
os
);

538 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

539 
PrštRawA¼ayTo
(cÚ¡ 
T
 
a
[], 
size_t
 
couÁ
, ::
¡d
::
o¡»am
* 
os
) {

540 
Univ”§lPršt
(
a
[0], 
os
);

541 
size_t
 
	gi
 = 1; i !ğ
couÁ
; i++) {

542 *
	gos
 << ", ";

543 
Univ”§lPršt
(
a
[
i
], 
os
);

548 
GTEST_API_
 
PrštSŒšgTo
(cÚ¡ ::
¡d
::
¡ršg
&
s
, ::¡d::
o¡»am
* 
os
);

549 
šlše
 
PrštTo
(cÚ¡ ::
¡d
::
¡ršg
& 
s
, ::¡d::
o¡»am
* 
os
) {

550 
PrštSŒšgTo
(
s
, 
os
);

554 #ifdeà
__ıp_ch¬8_t


555 
GTEST_API_
 
PrštU8SŒšgTo
(cÚ¡ ::
¡d
::
u8¡ršg
& 
s
, ::¡d::
o¡»am
* 
os
);

556 
šlše
 
PrštTo
(cÚ¡ ::
¡d
::
u8¡ršg
& 
s
, ::¡d::
o¡»am
* 
os
) {

557 
PrštU8SŒšgTo
(
s
, 
os
);

562 
GTEST_API_
 
PrštU16SŒšgTo
(cÚ¡ ::
¡d
::
u16¡ršg
& 
s
, ::¡d::
o¡»am
* 
os
);

563 
šlše
 
PrštTo
(cÚ¡ ::
¡d
::
u16¡ršg
& 
s
, ::¡d::
o¡»am
* 
os
) {

564 
PrštU16SŒšgTo
(
s
, 
os
);

568 
GTEST_API_
 
PrštU32SŒšgTo
(cÚ¡ ::
¡d
::
u32¡ršg
& 
s
, ::¡d::
o¡»am
* 
os
);

569 
šlše
 
PrštTo
(cÚ¡ ::
¡d
::
u32¡ršg
& 
s
, ::¡d::
o¡»am
* 
os
) {

570 
PrštU32SŒšgTo
(
s
, 
os
);

574 #ià
GTEST_HAS_STD_WSTRING


575 
GTEST_API_
 
PrštWideSŒšgTo
(cÚ¡ ::
¡d
::
w¡ršg
&
s
, ::¡d::
o¡»am
* 
os
);

576 
šlše
 
PrštTo
(cÚ¡ ::
¡d
::
w¡ršg
& 
s
, ::¡d::
o¡»am
* 
os
) {

577 
PrštWideSŒšgTo
(
s
, 
os
);

581 #ià
GTEST_INTERNAL_HAS_STRING_VIEW


583 
šlše
 
PrštTo
(
š‹º®
::
SŒšgV›w
 
¥
, ::
¡d
::
o¡»am
* 
os
) {

584 
PrštTo
(::
¡d
::
¡ršg
(
¥
), 
os
);

588 
šlše
 
PrštTo
(
¡d
::
nuÎ±r_t
, ::¡d::
o¡»am
* 
os
) { *os << "(nullptr)"; }

590 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

591 
PrštTo
(
¡d
::
»ã»nû_w¿µ”
<
T
> 
»f
, ::¡d::
o¡»am
* 
os
) {

592 
Univ”§lPrš‹r
<
T
&>::
Pršt
(
»f
.
g‘
(), 
os
);

595 
šlše
 cÚ¡ * 
VoidifyPoš‹r
(cÚ¡ * 
p
è{  
	gp
; }

596 
šlše
 cÚ¡ * 
VoidifyPoš‹r
(vŞ©cÚ¡ * 
p
) {

597  
	gcÚ¡_ÿ¡
<cÚ¡ *>(
	gp
);

600 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gPŒ
>

601 
PrštSm¬tPoš‹r
(cÚ¡ 
PŒ
& 
±r
, 
¡d
::
o¡»am
* 
os
, ) {

602 ià(
	g±r
 =ğ
nuÎ±r
) {

603 *
os
 << "(nullptr)";

606 *
	gos
 << "(" << (
	gVoidifyPoš‹r
)(
	g±r
.
g‘
()) << ")";

609 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gPŒ
,

610 
	gty³Çme
 = 
ty³Çme
 
¡d
::
’abË_if
<!¡d::
is_void
<
T
>::
v®ue
 &&

611 !
¡d
::
is_¬¿y
<
T
>::
v®ue
>::
ty³
>

612 
PrštSm¬tPoš‹r
(cÚ¡ 
PŒ
& 
±r
, 
¡d
::
o¡»am
* 
os
, ) {

613 ià(
	g±r
 =ğ
nuÎ±r
) {

614 *
os
 << "(nullptr)";

616 *
	gos
 << "ÕŒ = " << (
	gVoidifyPoš‹r
)(
	g±r
.
g‘
()) << ", value = ";

617 
	gUniv”§lPrš‹r
<
	gT
>::
Pršt
(*
±r
, 
os
);

618 *
	gos
 << ")";

622 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gD
>

623 
PrštTo
(cÚ¡ 
¡d
::
unique_±r
<
T
, 
D
>& 
±r
, std::
o¡»am
* 
os
) {

624 (
PrštSm¬tPoš‹r
<
T
>)(
±r
, 
	gos
, 0);

627 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

628 
PrštTo
(cÚ¡ 
¡d
::
sh¬ed_±r
<
T
>& 
±r
, std::
o¡»am
* 
os
) {

629 (
PrštSm¬tPoš‹r
<
T
>)(
±r
, 
	gos
, 0);

634 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

635 
PrštTu¶eTo
(cÚ¡ 
T
&, 
¡d
::
š‹g¿l_cÚ¡ªt
<
size_t
, 0>,

636 ::
¡d
::
o¡»am
*) {}

638 
‹m¶©e
 <
ty³Çme
 
T
, 
size_t
 
	gI
>

639 
PrštTu¶eTo
(cÚ¡ 
T
& 
t
, 
¡d
::
š‹g¿l_cÚ¡ªt
<
size_t
, 
I
>,

640 ::
¡d
::
o¡»am
* 
os
) {

641 
PrštTu¶eTo
(
t
, 
¡d
::
š‹g¿l_cÚ¡ªt
<
size_t
, 
I
 - 1>(), 
os
);

642 
GTEST_INTENTIONAL_CONST_COND_PUSH_
()

643 ià(
	gI
 > 1) {

644 
GTEST_INTENTIONAL_CONST_COND_POP_
()

645 *
	gos
 << ", ";

647 
	gUniv”§lPrš‹r
<
ty³Çme
 
	g¡d
::
tu¶e_–em’t
<
I
 - 1, 
	gT
>::
ty³
>::
Pršt
(

648 
¡d
::
g‘
<
I
 - 1>(
t
), 
os
);

651 
	g‹m¶©e
 <
	gty³Çme
... 
	gTy³s
>

652 
PrštTo
(cÚ¡ ::
¡d
::
tu¶e
<
Ty³s
...>& 
t
, ::¡d::
o¡»am
* 
os
) {

653 *
os
 << "(";

654 
PrštTu¶eTo
(
t
, 
¡d
::
š‹g¿l_cÚ¡ªt
<
size_t
, ...(
Ty³s
)>(), 
os
);

655 *
	gos
 << ")";

659 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
>

660 
PrštTo
(cÚ¡ ::
¡d
::
·œ
<
T1
, 
T2
>& 
v®ue
, ::¡d::
o¡»am
* 
os
) {

661 *
os
 << '(';

664 
	gUniv”§lPrš‹r
<
	gT1
>::
Pršt
(
v®ue
.
fœ¡
, 
os
);

665 *
	gos
 << ", ";

666 
	gUniv”§lPrš‹r
<
	gT2
>::
Pršt
(
v®ue
.
£cÚd
, 
os
);

667 *
	gos
 << ')';

672 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

673 şas 
	cUniv”§lPrš‹r
 {

674 
	gpublic
:

677 
GTEST_DISABLE_MSC_WARNINGS_PUSH_
(4180)

682 
Pršt
(cÚ¡ 
T
& 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

691 
PrštTo
(
v®ue
, 
os
);

694 
GTEST_DISABLE_MSC_WARNINGS_POP_
()

698 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

699 
şass
 
	gUniv”§lPrš‹r
<cÚ¡ 
	gT
> : 
public
 
Univ”§lPrš‹r
<
T
> {};

701 #ià
GTEST_INTERNAL_HAS_ANY


705 
	g‹m¶©e
 <>

706 
şass
 
	gUniv”§lPrš‹r
<
	gAny
> {

707 
	gpublic
:

708 
Pršt
(cÚ¡ 
Any
& 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

709 ià(
v®ue
.
has_v®ue
()) {

710 *
os
 << "v®uoàty³ " << 
G‘Ty³Name
(
v®ue
);

712 *
	gos
 << "no value";

716 
	g´iv©e
:

717 
¡d
::
¡ršg
 
G‘Ty³Name
(cÚ¡ 
Any
& 
v®ue
) {

718 #ià
GTEST_HAS_RTTI


719  
š‹º®
::
G‘Ty³Name
(
v®ue
.
ty³
());

721 
	g¡©ic_ÿ¡
<>(
	gv®ue
);

729 #ià
GTEST_INTERNAL_HAS_OPTIONAL


733 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

734 
şass
 
	gUniv”§lPrš‹r
<
	gO±iÚ®
<
	gT
>> {

735 
	gpublic
:

736 
Pršt
(cÚ¡ 
O±iÚ®
<
T
>& 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

737 *
os
 << '(';

738 ià(!
	gv®ue
) {

739 *
	gos
 << "nullopt";

741 
Univ”§lPršt
(*
v®ue
, 
os
);

743 *
	gos
 << ')';

749 #ià
GTEST_INTERNAL_HAS_VARIANT


753 
	g‹m¶©e
 <
	gty³Çme
... 
	gT
>

754 
şass
 
	gUniv”§lPrš‹r
<
	gV¬ŸÁ
<
	gT
...>> {

755 
	gpublic
:

756 
Pršt
(cÚ¡ 
V¬ŸÁ
<
T
...>& 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

757 *
os
 << '(';

758 #ià
GTEST_HAS_ABSL


759 
	gab¦
::
vis™
(
Vis™Ü
{
os
, 
v®ue
.
šdex
()}, value);

761 
	g¡d
::
vis™
(
Vis™Ü
{
os
, 
v®ue
.
šdex
()}, value);

763 *
	gos
 << ')';

766 
	g´iv©e
:

767 
	sVis™Ü
 {

768 
‹m¶©e
 <
ty³Çme
 
U
>

769 
İ”©Ü
()(cÚ¡ 
U
& 
u
) const {

770 *
os
 << "'" << 
G‘Ty³Name
<
U
>(è<< "(šdex = " << 
šdex


772 
Univ”§lPršt
(
u
, 
os
);

774 ::
¡d
::
o¡»am
* 
os
;

775 
	g¡d
::
size_t
 
šdex
;

783 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

784 
Univ”§lPrštA¼ay
(cÚ¡ 
T
* 
begš
, 
size_t
 
Ën
, ::
¡d
::
o¡»am
* 
os
) {

785 ià(
Ën
 == 0) {

786 *
os
 << "{}";

788 *
	gos
 << "{ ";

789 cÚ¡ 
size_t
 
	gkTh»shŞd
 = 18;

790 cÚ¡ 
size_t
 
	gkChunkSize
 = 8;

794 ià(
	gËn
 <ğ
kTh»shŞd
) {

795 
PrštRawA¼ayTo
(
begš
, 
Ën
, 
os
);

797 
PrštRawA¼ayTo
(
begš
, 
kChunkSize
, 
os
);

798 *
	gos
 << ", ..., ";

799 
PrštRawA¼ayTo
(
begš
 + 
Ën
 - 
kChunkSize
, kChunkSize, 
os
);

801 *
	gos
 << " }";

805 
GTEST_API_
 
Univ”§lPrštA¼ay
(

806 cÚ¡ * 
begš
, 
size_t
 
Ën
, ::
¡d
::
o¡»am
* 
os
);

808 #ifdeà
__ıp_ch¬8_t


810 
GTEST_API_
 
Univ”§lPrštA¼ay
(cÚ¡ 
ch¬8_t
* 
begš
, 
size_t
 
Ën
,

811 ::
¡d
::
o¡»am
* 
os
);

815 
GTEST_API_
 
Univ”§lPrštA¼ay
(cÚ¡ 
ch¬16_t
* 
begš
, 
size_t
 
Ën
,

816 ::
¡d
::
o¡»am
* 
os
);

819 
GTEST_API_
 
Univ”§lPrštA¼ay
(cÚ¡ 
ch¬32_t
* 
begš
, 
size_t
 
Ën
,

820 ::
¡d
::
o¡»am
* 
os
);

823 
GTEST_API_
 
Univ”§lPrštA¼ay
(

824 cÚ¡ 
wch¬_t
* 
begš
, 
size_t
 
Ën
, ::
¡d
::
o¡»am
* 
os
);

827 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
size_t
 
	gN
>

828 
şass
 
	gUniv”§lPrš‹r
<
	gT
[
N
]> {

829 
	gpublic
:

832 
Pršt
(cÚ¡ 
T
 (&
a
)[
N
], ::
¡d
::
o¡»am
* 
os
) {

833 
Univ”§lPrštA¼ay
(
a
, 
N
, 
os
);

838 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

839 
şass
 
	gUniv”§lPrš‹r
<
	gT
&> {

840 
	gpublic
:

843 
GTEST_DISABLE_MSC_WARNINGS_PUSH_
(4180)

845 
Pršt
(cÚ¡ 
T
& 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

848 *
os
 << "@" << 
»š‹½»t_ÿ¡
<cÚ¡ *>(&
v®ue
) << " ";

851 
Univ”§lPršt
(
v®ue
, 
os
);

854 
GTEST_DISABLE_MSC_WARNINGS_POP_
()

861 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

862 şas 
	cUniv”§lT”£Prš‹r
 {

863 
	gpublic
:

864 
Pršt
(cÚ¡ 
T
& 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

865 
Univ”§lPršt
(
v®ue
, 
os
);

868 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

869 
şass
 
	gUniv”§lT”£Prš‹r
<
	gT
&> {

870 
	gpublic
:

871 
Pršt
(cÚ¡ 
T
& 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

872 
Univ”§lPršt
(
v®ue
, 
os
);

875 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
size_t
 
	gN
>

876 
şass
 
	gUniv”§lT”£Prš‹r
<
	gT
[
N
]> {

877 
	gpublic
:

878 
Pršt
(cÚ¡ 
T
 (&
v®ue
)[
N
], ::
¡d
::
o¡»am
* 
os
) {

879 
Univ”§lPrš‹r
<
T
[
N
]>::
Pršt
(
v®ue
, 
os
);

882 
	g‹m¶©e
 <>

883 
şass
 
	gUniv”§lT”£Prš‹r
<const *> {

884 
	gpublic
:

885 
Pršt
(cÚ¡ * 
¡r
, ::
¡d
::
o¡»am
* 
os
) {

886 ià(
¡r
 =ğ
nuÎ±r
) {

887 *
os
 << "NULL";

889 
Univ”§lPršt
(
¡d
::
¡ršg
(
¡r
), 
os
);

893 
	g‹m¶©e
 <>

894 
şass
 
	gUniv”§lT”£Prš‹r
<*> : 
public
 
Univ”§lT”£Prš‹r
<const *> {

897 #ifdeà
__ıp_ch¬8_t


898 
	g‹m¶©e
 <>

899 
şass
 
	gUniv”§lT”£Prš‹r
<cÚ¡ 
	gch¬8_t
*> {

900 
	gpublic
:

901 
Pršt
(cÚ¡ 
ch¬8_t
* 
¡r
, ::
¡d
::
o¡»am
* 
os
) {

902 ià(
¡r
 =ğ
nuÎ±r
) {

903 *
os
 << "NULL";

905 
Univ”§lPršt
(::
¡d
::
u8¡ršg
(
¡r
), 
os
);

909 
	g‹m¶©e
 <>

910 
şass
 
	gUniv”§lT”£Prš‹r
<
	gch¬8_t
*>

911 : 
public
 
Univ”§lT”£Prš‹r
<cÚ¡ 
ch¬8_t
*> {};

914 
	g‹m¶©e
 <>

915 
şass
 
	gUniv”§lT”£Prš‹r
<cÚ¡ 
	gch¬16_t
*> {

916 
	gpublic
:

917 
Pršt
(cÚ¡ 
ch¬16_t
* 
¡r
, ::
¡d
::
o¡»am
* 
os
) {

918 ià(
¡r
 =ğ
nuÎ±r
) {

919 *
os
 << "NULL";

921 
Univ”§lPršt
(::
¡d
::
u16¡ršg
(
¡r
), 
os
);

925 
	g‹m¶©e
 <>

926 
şass
 
	gUniv”§lT”£Prš‹r
<
	gch¬16_t
*>

927 : 
public
 
Univ”§lT”£Prš‹r
<cÚ¡ 
ch¬16_t
*> {};

929 
	g‹m¶©e
 <>

930 
şass
 
	gUniv”§lT”£Prš‹r
<cÚ¡ 
	gch¬32_t
*> {

931 
	gpublic
:

932 
Pršt
(cÚ¡ 
ch¬32_t
* 
¡r
, ::
¡d
::
o¡»am
* 
os
) {

933 ià(
¡r
 =ğ
nuÎ±r
) {

934 *
os
 << "NULL";

936 
Univ”§lPršt
(::
¡d
::
u32¡ršg
(
¡r
), 
os
);

940 
	g‹m¶©e
 <>

941 
şass
 
	gUniv”§lT”£Prš‹r
<
	gch¬32_t
*>

942 : 
public
 
Univ”§lT”£Prš‹r
<cÚ¡ 
ch¬32_t
*> {};

944 #ià
GTEST_HAS_STD_WSTRING


945 
	g‹m¶©e
 <>

946 
şass
 
	gUniv”§lT”£Prš‹r
<cÚ¡ 
	gwch¬_t
*> {

947 
	gpublic
:

948 
Pršt
(cÚ¡ 
wch¬_t
* 
¡r
, ::
¡d
::
o¡»am
* 
os
) {

949 ià(
¡r
 =ğ
nuÎ±r
) {

950 *
os
 << "NULL";

952 
Univ”§lPršt
(::
¡d
::
w¡ršg
(
¡r
), 
os
);

958 
	g‹m¶©e
 <>

959 
şass
 
	gUniv”§lT”£Prš‹r
<
	gwch¬_t
*> {

960 
	gpublic
:

961 
Pršt
(
wch¬_t
* 
¡r
, ::
¡d
::
o¡»am
* 
os
) {

962 
Univ”§lT”£Prš‹r
<cÚ¡ 
wch¬_t
*>::
Pršt
(
¡r
, 
os
);

966 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

967 
Univ”§lT”£Pršt
(cÚ¡ 
T
& 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

968 
Univ”§lT”£Prš‹r
<
T
>::
Pršt
(
v®ue
, 
os
);

975 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

976 
Univ”§lPršt
(cÚ¡ 
T
& 
v®ue
, ::
¡d
::
o¡»am
* 
os
) {

979 
T
 
	tT1
;

980 
	gUniv”§lPrš‹r
<
	gT1
>::
Pršt
(
v®ue
, 
os
);

983 ::
¡d
::
	tveùÜ
< ::
	t¡d
::
	t¡ršg
> 
	tSŒšgs
;

987 
	g‹m¶©e
 <
ty³Çme
 
	gTu¶e
>

988 
T”£PrštP»fixToSŒšgs
(cÚ¡ 
Tu¶e
&, 
¡d
::
š‹g¿l_cÚ¡ªt
<
size_t
, 0>,

989 
SŒšgs
*) {}

990 
	g‹m¶©e
 <
ty³Çme
 
	gTu¶e
, 
size_t
 
	gI
>

991 
T”£PrštP»fixToSŒšgs
(cÚ¡ 
Tu¶e
& 
t
,

992 
¡d
::
š‹g¿l_cÚ¡ªt
<
size_t
, 
I
>,

993 
SŒšgs
* 
¡ršgs
) {

994 
T”£PrštP»fixToSŒšgs
(
t
, 
¡d
::
š‹g¿l_cÚ¡ªt
<
size_t
, 
I
 - 1>(),

995 
¡ršgs
);

996 ::
¡d
::
¡ršg¡»am
 
ss
;

997 
Univ”§lT”£Pršt
(
¡d
::
g‘
<
I
 - 1>(
t
), &
ss
);

998 
	g¡ršgs
->
push_back
(
ss
.
¡r
());

1004 
	g‹m¶©e
 <
ty³Çme
 
	gTu¶e
>

1005 
SŒšgs
 
Univ”§lT”£PrštTu¶eF›ldsToSŒšgs
(cÚ¡ 
Tu¶e
& 
v®ue
) {

1006 
SŒšgs
 
	g»suÉ
;

1007 
T”£PrštP»fixToSŒšgs
(

1008 
v®ue
, 
¡d
::
š‹g¿l_cÚ¡ªt
<
size_t
, std::
tu¶e_size
<
Tu¶e
>::value>(),

1009 &
»suÉ
);

1010  
	g»suÉ
;

1015 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1016 ::
¡d
::
¡ršg
 
	$PrštToSŒšg
(cÚ¡ 
T
& 
v®ue
) {

1017 ::
¡d
::
¡ršg¡»am
 
ss
;

1018 
š‹º®
::
Univ”§lT”£Prš‹r
<
T
>::
	`Pršt
(
v®ue
, &
ss
);

1019  
ss
.
	`¡r
();

1020 
	}
}

1027 
	~"g‹¡/š‹º®/cu¡om/g‹¡-´š‹rs.h
"

	@/usr/include/gtest/gtest-test-part.h

32 #iâdeà
GOOGLETEST_INCLUDE_GTEST_GTEST_TEST_PART_H_


33 
	#GOOGLETEST_INCLUDE_GTEST_GTEST_TEST_PART_H_


	)

35 
	~<iosfwd
>

36 
	~<veùÜ
>

37 
	~"g‹¡/š‹º®/g‹¡-š‹º®.h
"

38 
	~"g‹¡/š‹º®/g‹¡-¡ršg.h
"

40 
GTEST_DISABLE_MSC_WARNINGS_PUSH_
(4251 \

43 
Çme¥aû
 
	g‹¡šg
 {

49 şas 
	cGTEST_API_
 
	gTe¡P¬tResuÉ
 {

50 
	gpublic
:

53 
	eTy³
 {

54 
kSucûss
,

55 
	gkNÚF©®Fau»
,

56 
	gkF©®Fau»
,

57 
	gkSk


63 
Te¡P¬tResuÉ
(
Ty³
 
a_ty³
, cÚ¡ * 
a_fe_Çme
, 
a_lše_numb”
,

64 cÚ¡ * 
a_mes§ge
)

65 : 
ty³_
(
a_ty³
),

66 
fe_Çme_
(
a_fe_Çme
 =ğ
nuÎ±r
 ? "" :‡_file_name),

67 
lše_numb”_
(
a_lše_numb”
),

68 
summ¬y_
(
ExŒaùSumm¬y
(
a_mes§ge
)),

69 
mes§ge_
(
a_mes§ge
) {}

72 
Ty³
 
ty³
(ècÚ¡ {  
	gty³_
; }

76 cÚ¡ * 
fe_Çme
() const {

77  
	gfe_Çme_
.
em±y
(è? 
	gnuÎ±r
 : 
fe_Çme_
.
c_¡r
();

82 
lše_numb”
(ècÚ¡ {  
	glše_numb”_
; }

85 cÚ¡ * 
summ¬y
(ècÚ¡ {  
	gsumm¬y_
.
c_¡r
(); }

88 cÚ¡ * 
mes§ge
(ècÚ¡ {  
	gmes§ge_
.
c_¡r
(); }

91 
boŞ
 
sk³d
(ècÚ¡ {  
	gty³_
 =ğ
kSk
; }

94 
boŞ
 
·s£d
(ècÚ¡ {  
	gty³_
 =ğ
kSucûss
; }

97 
boŞ
 
nÚçÎy_çed
(ècÚ¡ {  
	gty³_
 =ğ
kNÚF©®Fau»
; }

100 
boŞ
 
çÎy_çed
(ècÚ¡ {  
	gty³_
 =ğ
kF©®Fau»
; }

103 
boŞ
 
çed
(ècÚ¡ {  
çÎy_çed
(è|| 
nÚçÎy_çed
(); }

105 
	g´iv©e
:

106 
Ty³
 
ty³_
;

110 
	g¡d
::
¡ršg
 
ExŒaùSumm¬y
(cÚ¡ * 
mes§ge
);

114 
	g¡d
::
¡ršg
 
fe_Çme_
;

117 
	glše_numb”_
;

118 
	g¡d
::
¡ršg
 
summ¬y_
;

119 
	g¡d
::
¡ršg
 
mes§ge_
;

123 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(
¡d
::o¡»am& 
os
, cÚ¡ 
	gTe¡P¬tResuÉ
& 
	g»suÉ
);

129 şas 
	cGTEST_API_
 
	gTe¡P¬tResuÉA¼ay
 {

130 
	gpublic
:

131 
Te¡P¬tResuÉA¼ay
() {}

134 
Aµ’d
(cÚ¡ 
Te¡P¬tResuÉ
& 
»suÉ
);

137 cÚ¡ 
	gTe¡P¬tResuÉ
& 
G‘Te¡P¬tResuÉ
(
šdex
) const;

140 
size
() const;

142 
	g´iv©e
:

143 
¡d
::
veùÜ
<
Te¡P¬tResuÉ
> 
¬¿y_
;

145 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Te¡P¬tResuÉA¼ay
);

149 şas 
	cGTEST_API_
 
	gTe¡P¬tResuÉR•Ü‹rIÁ”çû
 {

150 
	gpublic
:

151 
vœtu®
 ~
Te¡P¬tResuÉR•Ü‹rIÁ”çû
() {}

153 
vœtu®
 
R•ÜtTe¡P¬tResuÉ
(cÚ¡ 
Te¡P¬tResuÉ
& 
»suÉ
) = 0;

156 
Çme¥aû
 
	gš‹º®
 {

164 şas 
	cGTEST_API_
 
	gHasNewF©®Fau»H–³r


165 : 
public
 
Te¡P¬tResuÉR•Ü‹rIÁ”çû
 {

166 
public
:

167 
HasNewF©®Fau»H–³r
();

168 ~
HasNewF©®Fau»H–³r
(è
	gov”ride
;

169 
R•ÜtTe¡P¬tResuÉ
(cÚ¡ 
Te¡P¬tResuÉ
& 
»suÉ
è
	gov”ride
;

170 
boŞ
 
has_Ãw_çl_çu»
(ècÚ¡ {  
	ghas_Ãw_çl_çu»_
; }

171 
	g´iv©e
:

172 
boŞ
 
has_Ãw_çl_çu»_
;

173 
Te¡P¬tResuÉR•Ü‹rIÁ”çû
* 
	gÜigš®_»pÜ‹r_
;

175 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
HasNewF©®Fau»H–³r
);

182 
	$GTEST_DISABLE_MSC_WARNINGS_POP_
()

	@/usr/include/gtest/gtest-typed-test.h

32 #iâdeà
GOOGLETEST_INCLUDE_GTEST_GTEST_TYPED_TEST_H_


33 
	#GOOGLETEST_INCLUDE_GTEST_GTEST_TYPED_TEST_H_


	)

45 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

46 şas 
	cFooTe¡
 : 
public
 
‹¡šg
::
Te¡
 {

47 
public
:

49 
¡d
::
	tli¡
<
	tT
> 
	tLi¡
;

50 
T
 
	msh¬ed_
;

51 
T
 
	mv®ue_
;

57 
	g‹¡šg
::
	tTy³s
<, , > 
	tMyTy³s
;

58 
TYPED_TEST_SUITE
(
FooTe¡
, 
MyTy³s
);

66 
	$TYPED_TEST
(
FooTe¡
, 
DÛsBÏh
) {

70 
Ty³P¬am
 
n
 = 
this
->
v®ue_
;

74 
n
 +ğ
Te¡Fixtu»
::
sh¬ed_
;

78 
ty³Çme
 
Te¡Fixtu»
::
Li¡
 
v®ues
;

79 
v®ues
.
	`push_back
(
n
);

81 
	}
}

83 
	$TYPED_TEST
(
FooTe¡
, 
HasPrİ”tyA
è{ ... 
	}
}

123 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

124 şas 
	cFooTe¡
 : 
public
 
‹¡šg
::
Te¡
 {

131 
TYPED_TEST_SUITE_P
(
FooTe¡
);

135 
	$TYPED_TEST_P
(
FooTe¡
, 
DÛsBÏh
) {

137 
Ty³P¬am
 
n
 = 0;

139 
	}
}

141 
	$TYPED_TEST_P
(
FooTe¡
, 
HasPrİ”tyA
è{ ... 
	}
}

147 
REGISTER_TYPED_TEST_SUITE_P
(
FooTe¡
,

148 
DÛsBÏh
, 
HasPrİ”tyA
);

158 
	g‹¡šg
::
	tTy³s
<, , > 
	tMyTy³s
;

159 
INSTANTIATE_TYPED_TEST_SUITE_P
(
My
, 
FooTe¡
, 
MyTy³s
);

172 
	~"g‹¡/š‹º®/g‹¡-š‹º®.h
"

173 
	~"g‹¡/š‹º®/g‹¡-pÜt.h
"

174 
	~"g‹¡/š‹º®/g‹¡-ty³-ut.h
"

182 
	#GTEST_TYPE_PARAMS_
(
Te¡Su™eName
è
g‹¡_ty³_·¿ms_
##Te¡Su™eName##
_


	)

186 
	#GTEST_NAME_GENERATOR_
(
Te¡Su™eName
) \

187 
g‹¡_ty³_·¿ms_
##
Te¡Su™eName
##
_NameG’”©Ü


	)

189 
	#TYPED_TEST_SUITE
(
Ca£Name
, 
Ty³s
, ...) \

190 ::
‹¡šg
::
	tš‹º®
::
	tG’”©eTy³Li¡
<
	tTy³s
>::
	tty³
 \

191 
	tGTEST_TYPE_PARAMS_
(
	tCa£Name
); \

192 ::
‹¡šg
::
	tš‹º®
::
	tNameG’”©ÜS–eùÜ
<
	t__VA_ARGS__
>::
	tty³
 \

193 
	tGTEST_NAME_GENERATOR_
(
	tCa£Name
)

	)

195 
	tTYPED_TEST
(
	tCa£Name
, 
	tTe¡Name
) \

196 
	t¡©ic_as£¹
((
	tGTEST_STRINGIFY_
(
	tTe¡Name
)) > 1, \

198 
‹m¶©e
 <
ty³Çme
 
g‹¡_Ty³P¬am_
> \

199 
şass
 
	`GTEST_TEST_CLASS_NAME_
(
Ca£Name
, 
Te¡Name
) \

200 : 
public
 
Ca£Name
<
g‹¡_Ty³P¬am_
> { \

201 
´iv©e
: \

202 
Ca£Name
<
	tg‹¡_Ty³P¬am_
> 
	tTe¡Fixtu»
; \

203 
g‹¡_Ty³P¬am_
 
	tTy³P¬am
; \

204 
	`Te¡Body
(è
ov”ride
; \

206 
boŞ
 
g‹¡_
##
Ca£Name
##
_
##
Te¡Name
##
_»gi¡”ed_
 \

207 
GTEST_ATTRIBUTE_UNUSED_
 = ::
‹¡šg
::
š‹º®
::
Ty³P¬am‘”izedTe¡
< \

208 
Ca£Name
, \

209 ::
‹¡šg
::
š‹º®
::
Tem¶©eS–
<
	`GTEST_TEST_CLASS_NAME_
(
Ca£Name
, \

210 
Te¡Name
)>, \

211 
	`GTEST_TYPE_PARAMS_
( \

212 
Ca£Name
)>::
	`Regi¡”
("", \

213 ::
‹¡šg
::
š‹º®
::
	`CodeLoÿtiÚ
( \

214 
__FILE__
, 
__LINE__
), \

215 
	`GTEST_STRINGIFY_
(
Ca£Name
), \

216 
	`GTEST_STRINGIFY_
(
Te¡Name
), 0, \

217 ::
‹¡šg
::
š‹º®
::
G’”©eNames
< \

218 
	`GTEST_NAME_GENERATOR_
(
Ca£Name
), \

219 
	`GTEST_TYPE_PARAMS_
(
Ca£Name
)>()); \

220 
‹m¶©e
 <
ty³Çme
 
g‹¡_Ty³P¬am_
> \

221 
	`GTEST_TEST_CLASS_NAME_
(
Ca£Name
, \

222 
Te¡Name
)<
g‹¡_Ty³P¬am_
>::
	`Te¡Body
()

	)

225 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


226 
	#TYPED_TEST_CASE
 \

227 
	`¡©ic_as£¹
(::
‹¡šg
::
š‹º®
::
	`Ty³dTe¡Ca£IsD•»ÿ‹d
(), ""); \

228 
TYPED_TEST_SUITE


	)

238 
	#GTEST_SUITE_NAMESPACE_
(
Te¡Su™eName
è
g‹¡_su™e_
##Te¡Su™eName##
_


	)

244 
	#GTEST_TYPED_TEST_SUITE_P_STATE_
(
Te¡Su™eName
) \

245 
g‹¡_ty³d_‹¡_su™e_p_¡©e_
##
Te¡Su™eName
##
_


	)

251 
	#GTEST_REGISTERED_TEST_NAMES_
(
Te¡Su™eName
) \

252 
g‹¡_»gi¡”ed_‹¡_Çmes_
##
Te¡Su™eName
##
_


	)

257 
	#TYPED_TEST_SUITE_P
(
Su™eName
) \

258 ::
‹¡šg
::
š‹º®
::
Ty³dTe¡Su™ePS‹
 \

259 
	`GTEST_TYPED_TEST_SUITE_P_STATE_
(
Su™eName
)

	)

262 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


263 
	#TYPED_TEST_CASE_P
 \

264 
	`¡©ic_as£¹
(::
‹¡šg
::
š‹º®
::
	`Ty³dTe¡Ca£_P_IsD•»ÿ‹d
(), ""); \

265 
TYPED_TEST_SUITE_P


	)

268 
	#TYPED_TEST_P
(
Su™eName
, 
Te¡Name
) \

269 
Çme¥aû
 
	`GTEST_SUITE_NAMESPACE_
(
Su™eName
) { \

270 
‹m¶©e
 <
ty³Çme
 
g‹¡_Ty³P¬am_
> \

271 
şass
 
Te¡Name
 : 
public
 
Su™eName
<
g‹¡_Ty³P¬am_
> { \

272 
´iv©e
: \

273 
Su™eName
<
	tg‹¡_Ty³P¬am_
> 
	tTe¡Fixtu»
; \

274 
g‹¡_Ty³P¬am_
 
	tTy³P¬am
; \

275 
	`Te¡Body
(è
ov”ride
; \

277 
boŞ
 
g‹¡_
##
Te¡Name
##
_defšed_
 
GTEST_ATTRIBUTE_UNUSED_
 = \

278 
	`GTEST_TYPED_TEST_SUITE_P_STATE_
(
Su™eName
).
	`AddTe¡Name
( \

279 
__FILE__
, 
__LINE__
, 
	`GTEST_STRINGIFY_
(
Su™eName
), \

280 
	`GTEST_STRINGIFY_
(
Te¡Name
)); \

282 
‹m¶©e
 <
ty³Çme
 
g‹¡_Ty³P¬am_
> \

283 
	`GTEST_SUITE_NAMESPACE_
( \

284 
Su™eName
)::
Te¡Name
<
g‹¡_Ty³P¬am_
>::
	`Te¡Body
()

	)

287 
	#REGISTER_TYPED_TEST_SUITE_P
(
Su™eName
, ...) \

288 
Çme¥aû
 
	`GTEST_SUITE_NAMESPACE_
(
Su™eName
) { \

289 ::
‹¡šg
::
	tš‹º®
::
	tTem¶©es
<
	t__VA_ARGS__
> 
	tg‹¡_AÎTe¡s_
; \

291 cÚ¡ * cÚ¡ 
	`GTEST_REGISTERED_TEST_NAMES_
( \

292 
Su™eName
è
GTEST_ATTRIBUTE_UNUSED_
 = \

293 
	`GTEST_TYPED_TEST_SUITE_P_STATE_
(
Su™eName
).
	`V”ifyRegi¡”edTe¡Names
( \

294 
	`GTEST_STRINGIFY_
(
Su™eName
), 
__FILE__
, 
__LINE__
, #__VA_ARGS__)

	)

297 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


298 
	#REGISTER_TYPED_TEST_CASE_P
 \

299 
	`¡©ic_as£¹
(::
‹¡šg
::
š‹º®
::
	`Regi¡”Ty³dTe¡Ca£_P_IsD•»ÿ‹d
(), \

301 
REGISTER_TYPED_TEST_SUITE_P


	)

304 
	#INSTANTIATE_TYPED_TEST_SUITE_P
(
P»fix
, 
Su™eName
, 
Ty³s
, ...) \

305 
	`¡©ic_as£¹
((
	`GTEST_STRINGIFY_
(
P»fix
)) > 1, \

307 
boŞ
 
g‹¡_
##
P»fix
##
_
##
Su™eName
 
GTEST_ATTRIBUTE_UNUSED_
 = \

308 ::
‹¡šg
::
š‹º®
::
Ty³P¬am‘”izedTe¡Su™e
< \

309 
Su™eName
, 
	`GTEST_SUITE_NAMESPACE_
(Su™eName)::
g‹¡_AÎTe¡s_
, \

310 ::
‹¡šg
::
š‹º®
::
G’”©eTy³Li¡
<
Ty³s
>::
ty³
>:: \

311 
	`Regi¡”
(
	`GTEST_STRINGIFY_
(
P»fix
), \

312 ::
‹¡šg
::
š‹º®
::
	`CodeLoÿtiÚ
(
__FILE__
, 
__LINE__
), \

313 &
	`GTEST_TYPED_TEST_SUITE_P_STATE_
(
Su™eName
), \

314 
	`GTEST_STRINGIFY_
(
Su™eName
), \

315 
	`GTEST_REGISTERED_TEST_NAMES_
(
Su™eName
), \

316 ::
‹¡šg
::
š‹º®
::
G’”©eNames
< \

317 ::
‹¡šg
::
š‹º®
::
NameG’”©ÜS–eùÜ
< \

318 
__VA_ARGS__
>::
ty³
, \

319 ::
‹¡šg
::
š‹º®
::
G’”©eTy³Li¡
<
Ty³s
>::
ty³
>())

	)

322 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


323 
	#INSTANTIATE_TYPED_TEST_CASE_P
 \

324 
	`¡©ic_as£¹
( \

325 ::
‹¡šg
::
š‹º®
::
	`In¡ªtŸ‹Ty³dTe¡Ca£_P_IsD•»ÿ‹d
(), ""); \

326 
INSTANTIATE_TYPED_TEST_SUITE_P


	)

	@/usr/include/gtest/gtest_pred_impl.h

36 #iâdeà
GOOGLETEST_INCLUDE_GTEST_GTEST_PRED_IMPL_H_


37 
	#GOOGLETEST_INCLUDE_GTEST_GTEST_PRED_IMPL_H_


	)

39 
	~"g‹¡/g‹¡.h
"

41 
Çme¥aû
 
	g‹¡šg
 {

75 
	#GTEST_ASSERT_
(
ex´essiÚ
, 
Ú_çu»
) \

76 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

77 ià(cÚ¡ ::
‹¡šg
::
As£¹iÚResuÉ
 
g‹¡_¬
 = (
ex´essiÚ
)) \

80 
	`Ú_çu»
(
g‹¡_¬
.
	`çu»_mes§ge
())

	)

85 
	g‹m¶©e
 <
ty³Çme
 
	gP»d
,

86 
ty³Çme
 
	gT1
>

87 
As£¹iÚResuÉ
 
As£¹P»d1H–³r
(cÚ¡ * 
´ed_‹xt
,

88 cÚ¡ * 
e1
,

89 
P»d
 
´ed
,

90 cÚ¡ 
T1
& 
v1
) {

91 ià(
´ed
(
v1
)è 
As£¹iÚSucûss
();

93  
As£¹iÚFau»
()

94 << 
	g´ed_‹xt
 << "(" << 
	ge1
 << ")ƒvaluateso false, where"

96 << 
	ge1
 << "ƒv®u©e tØ" << ::
‹¡šg
::
PrštToSŒšg
(
v1
);

101 
	#GTEST_PRED_FORMAT1_
(
´ed_fÜm©
, 
v1
, 
Ú_çu»
)\

102 
	`GTEST_ASSERT_
(
	`´ed_fÜm©
(#v1, 
v1
), \

103 
Ú_çu»
)

	)

107 
	#GTEST_PRED1_
(
´ed
, 
v1
, 
Ú_çu»
)\

108 
	`GTEST_ASSERT_
(::
‹¡šg
::
	`As£¹P»d1H–³r
(#pred, \

110 
´ed
, \

111 
v1
), 
Ú_çu»
)

	)

114 
	#EXPECT_PRED_FORMAT1
(
´ed_fÜm©
, 
v1
) \

115 
	`GTEST_PRED_FORMAT1_
(
´ed_fÜm©
, 
v1
, 
GTEST_NONFATAL_FAILURE_
)

	)

116 
	#EXPECT_PRED1
(
´ed
, 
v1
) \

117 
	`GTEST_PRED1_
(
´ed
, 
v1
, 
GTEST_NONFATAL_FAILURE_
)

	)

118 
	#ASSERT_PRED_FORMAT1
(
´ed_fÜm©
, 
v1
) \

119 
	`GTEST_PRED_FORMAT1_
(
´ed_fÜm©
, 
v1
, 
GTEST_FATAL_FAILURE_
)

	)

120 
	#ASSERT_PRED1
(
´ed
, 
v1
) \

121 
	`GTEST_PRED1_
(
´ed
, 
v1
, 
GTEST_FATAL_FAILURE_
)

	)

127 
	g‹m¶©e
 <
ty³Çme
 
	gP»d
,

128 
ty³Çme
 
	gT1
,

129 
ty³Çme
 
	gT2
>

130 
As£¹iÚResuÉ
 
As£¹P»d2H–³r
(cÚ¡ * 
´ed_‹xt
,

131 cÚ¡ * 
e1
,

132 cÚ¡ * 
e2
,

133 
P»d
 
´ed
,

134 cÚ¡ 
T1
& 
v1
,

135 cÚ¡ 
T2
& 
v2
) {

136 ià(
´ed
(
v1
, 
v2
)è 
As£¹iÚSucûss
();

138  
As£¹iÚFau»
()

139 << 
	g´ed_‹xt
 << "(" << 
	ge1
 << ", " << 
	ge2


142 << 
	ge1
 << "ƒv®u©e tØ" << ::
‹¡šg
::
PrštToSŒšg
(
v1
) << "\n"

143 << 
e2
 << "ƒv®u©e tØ" << ::
‹¡šg
::
PrštToSŒšg
(
v2
);

148 
	#GTEST_PRED_FORMAT2_
(
´ed_fÜm©
, 
v1
, 
v2
, 
Ú_çu»
)\

149 
	`GTEST_ASSERT_
(
	`´ed_fÜm©
(#v1, #v2, 
v1
, 
v2
), \

150 
Ú_çu»
)

	)

154 
	#GTEST_PRED2_
(
´ed
, 
v1
, 
v2
, 
Ú_çu»
)\

155 
	`GTEST_ASSERT_
(::
‹¡šg
::
	`As£¹P»d2H–³r
(#pred, \

158 
´ed
, \

159 
v1
, \

160 
v2
), 
Ú_çu»
)

	)

163 
	#EXPECT_PRED_FORMAT2
(
´ed_fÜm©
, 
v1
, 
v2
) \

164 
	`GTEST_PRED_FORMAT2_
(
´ed_fÜm©
, 
v1
, 
v2
, 
GTEST_NONFATAL_FAILURE_
)

	)

165 
	#EXPECT_PRED2
(
´ed
, 
v1
, 
v2
) \

166 
	`GTEST_PRED2_
(
´ed
, 
v1
, 
v2
, 
GTEST_NONFATAL_FAILURE_
)

	)

167 
	#ASSERT_PRED_FORMAT2
(
´ed_fÜm©
, 
v1
, 
v2
) \

168 
	`GTEST_PRED_FORMAT2_
(
´ed_fÜm©
, 
v1
, 
v2
, 
GTEST_FATAL_FAILURE_
)

	)

169 
	#ASSERT_PRED2
(
´ed
, 
v1
, 
v2
) \

170 
	`GTEST_PRED2_
(
´ed
, 
v1
, 
v2
, 
GTEST_FATAL_FAILURE_
)

	)

176 
	g‹m¶©e
 <
ty³Çme
 
	gP»d
,

177 
ty³Çme
 
	gT1
,

178 
ty³Çme
 
	gT2
,

179 
ty³Çme
 
	gT3
>

180 
As£¹iÚResuÉ
 
As£¹P»d3H–³r
(cÚ¡ * 
´ed_‹xt
,

181 cÚ¡ * 
e1
,

182 cÚ¡ * 
e2
,

183 cÚ¡ * 
e3
,

184 
P»d
 
´ed
,

185 cÚ¡ 
T1
& 
v1
,

186 cÚ¡ 
T2
& 
v2
,

187 cÚ¡ 
T3
& 
v3
) {

188 ià(
´ed
(
v1
, 
v2
, 
v3
)è 
As£¹iÚSucûss
();

190  
As£¹iÚFau»
()

191 << 
	g´ed_‹xt
 << "(" << 
	ge1
 << ", " << 
	ge2
 << ", " << 
	ge3


194 << 
	ge1
 << "ƒv®u©e tØ" << ::
‹¡šg
::
PrštToSŒšg
(
v1
) << "\n"

195 << 
e2
 << "ƒv®u©e tØ" << ::
‹¡šg
::
PrštToSŒšg
(
v2
) << "\n"

196 << 
e3
 << "ƒv®u©e tØ" << ::
‹¡šg
::
PrštToSŒšg
(
v3
);

201 
	#GTEST_PRED_FORMAT3_
(
´ed_fÜm©
, 
v1
, 
v2
, 
v3
, 
Ú_çu»
)\

202 
	`GTEST_ASSERT_
(
	`´ed_fÜm©
(#v1, #v2, #v3, 
v1
, 
v2
, 
v3
), \

203 
Ú_çu»
)

	)

207 
	#GTEST_PRED3_
(
´ed
, 
v1
, 
v2
, 
v3
, 
Ú_çu»
)\

208 
	`GTEST_ASSERT_
(::
‹¡šg
::
	`As£¹P»d3H–³r
(#pred, \

212 
´ed
, \

213 
v1
, \

214 
v2
, \

215 
v3
), 
Ú_çu»
)

	)

218 
	#EXPECT_PRED_FORMAT3
(
´ed_fÜm©
, 
v1
, 
v2
, 
v3
) \

219 
	`GTEST_PRED_FORMAT3_
(
´ed_fÜm©
, 
v1
, 
v2
, 
v3
, 
GTEST_NONFATAL_FAILURE_
)

	)

220 
	#EXPECT_PRED3
(
´ed
, 
v1
, 
v2
, 
v3
) \

221 
	`GTEST_PRED3_
(
´ed
, 
v1
, 
v2
, 
v3
, 
GTEST_NONFATAL_FAILURE_
)

	)

222 
	#ASSERT_PRED_FORMAT3
(
´ed_fÜm©
, 
v1
, 
v2
, 
v3
) \

223 
	`GTEST_PRED_FORMAT3_
(
´ed_fÜm©
, 
v1
, 
v2
, 
v3
, 
GTEST_FATAL_FAILURE_
)

	)

224 
	#ASSERT_PRED3
(
´ed
, 
v1
, 
v2
, 
v3
) \

225 
	`GTEST_PRED3_
(
´ed
, 
v1
, 
v2
, 
v3
, 
GTEST_FATAL_FAILURE_
)

	)

231 
	g‹m¶©e
 <
ty³Çme
 
	gP»d
,

232 
ty³Çme
 
	gT1
,

233 
ty³Çme
 
	gT2
,

234 
ty³Çme
 
	gT3
,

235 
ty³Çme
 
	gT4
>

236 
As£¹iÚResuÉ
 
As£¹P»d4H–³r
(cÚ¡ * 
´ed_‹xt
,

237 cÚ¡ * 
e1
,

238 cÚ¡ * 
e2
,

239 cÚ¡ * 
e3
,

240 cÚ¡ * 
e4
,

241 
P»d
 
´ed
,

242 cÚ¡ 
T1
& 
v1
,

243 cÚ¡ 
T2
& 
v2
,

244 cÚ¡ 
T3
& 
v3
,

245 cÚ¡ 
T4
& 
v4
) {

246 ià(
´ed
(
v1
, 
v2
, 
v3
, 
v4
)è 
As£¹iÚSucûss
();

248  
As£¹iÚFau»
()

249 << 
	g´ed_‹xt
 << "(" << 
	ge1
 << ", " << 
	ge2
 << ", " << 
	ge3
 << ", " << 
	ge4


252 << 
	ge1
 << "ƒv®u©e tØ" << ::
‹¡šg
::
PrštToSŒšg
(
v1
) << "\n"

253 << 
e2
 << "ƒv®u©e tØ" << ::
‹¡šg
::
PrštToSŒšg
(
v2
) << "\n"

254 << 
e3
 << "ƒv®u©e tØ" << ::
‹¡šg
::
PrštToSŒšg
(
v3
) << "\n"

255 << 
e4
 << "ƒv®u©e tØ" << ::
‹¡šg
::
PrštToSŒšg
(
v4
);

260 
	#GTEST_PRED_FORMAT4_
(
´ed_fÜm©
, 
v1
, 
v2
, 
v3
, 
v4
, 
Ú_çu»
)\

261 
	`GTEST_ASSERT_
(
	`´ed_fÜm©
(#v1, #v2, #v3, #v4, 
v1
, 
v2
, 
v3
, 
v4
), \

262 
Ú_çu»
)

	)

266 
	#GTEST_PRED4_
(
´ed
, 
v1
, 
v2
, 
v3
, 
v4
, 
Ú_çu»
)\

267 
	`GTEST_ASSERT_
(::
‹¡šg
::
	`As£¹P»d4H–³r
(#pred, \

272 
´ed
, \

273 
v1
, \

274 
v2
, \

275 
v3
, \

276 
v4
), 
Ú_çu»
)

	)

279 
	#EXPECT_PRED_FORMAT4
(
´ed_fÜm©
, 
v1
, 
v2
, 
v3
, 
v4
) \

280 
	`GTEST_PRED_FORMAT4_
(
´ed_fÜm©
, 
v1
, 
v2
, 
v3
, 
v4
, 
GTEST_NONFATAL_FAILURE_
)

	)

281 
	#EXPECT_PRED4
(
´ed
, 
v1
, 
v2
, 
v3
, 
v4
) \

282 
	`GTEST_PRED4_
(
´ed
, 
v1
, 
v2
, 
v3
, 
v4
, 
GTEST_NONFATAL_FAILURE_
)

	)

283 
	#ASSERT_PRED_FORMAT4
(
´ed_fÜm©
, 
v1
, 
v2
, 
v3
, 
v4
) \

284 
	`GTEST_PRED_FORMAT4_
(
´ed_fÜm©
, 
v1
, 
v2
, 
v3
, 
v4
, 
GTEST_FATAL_FAILURE_
)

	)

285 
	#ASSERT_PRED4
(
´ed
, 
v1
, 
v2
, 
v3
, 
v4
) \

286 
	`GTEST_PRED4_
(
´ed
, 
v1
, 
v2
, 
v3
, 
v4
, 
GTEST_FATAL_FAILURE_
)

	)

292 
	g‹m¶©e
 <
ty³Çme
 
	gP»d
,

293 
ty³Çme
 
	gT1
,

294 
ty³Çme
 
	gT2
,

295 
ty³Çme
 
	gT3
,

296 
ty³Çme
 
	gT4
,

297 
ty³Çme
 
	gT5
>

298 
As£¹iÚResuÉ
 
As£¹P»d5H–³r
(cÚ¡ * 
´ed_‹xt
,

299 cÚ¡ * 
e1
,

300 cÚ¡ * 
e2
,

301 cÚ¡ * 
e3
,

302 cÚ¡ * 
e4
,

303 cÚ¡ * 
e5
,

304 
P»d
 
´ed
,

305 cÚ¡ 
T1
& 
v1
,

306 cÚ¡ 
T2
& 
v2
,

307 cÚ¡ 
T3
& 
v3
,

308 cÚ¡ 
T4
& 
v4
,

309 cÚ¡ 
T5
& 
v5
) {

310 ià(
´ed
(
v1
, 
v2
, 
v3
, 
v4
, 
v5
)è 
As£¹iÚSucûss
();

312  
As£¹iÚFau»
()

313 << 
	g´ed_‹xt
 << "(" << 
	ge1
 << ", " << 
	ge2
 << ", " << 
	ge3
 << ", " << 
	ge4


314 << ", " << 
	ge5
 << ")ƒvaluateso false, where"

316 << 
	ge1
 << "ƒv®u©e tØ" << ::
‹¡šg
::
PrštToSŒšg
(
v1
) << "\n"

317 << 
e2
 << "ƒv®u©e tØ" << ::
‹¡šg
::
PrštToSŒšg
(
v2
) << "\n"

318 << 
e3
 << "ƒv®u©e tØ" << ::
‹¡šg
::
PrštToSŒšg
(
v3
) << "\n"

319 << 
e4
 << "ƒv®u©e tØ" << ::
‹¡šg
::
PrštToSŒšg
(
v4
) << "\n"

320 << 
e5
 << "ƒv®u©e tØ" << ::
‹¡šg
::
PrštToSŒšg
(
v5
);

325 
	#GTEST_PRED_FORMAT5_
(
´ed_fÜm©
, 
v1
, 
v2
, 
v3
, 
v4
, 
v5
, 
Ú_çu»
)\

326 
	`GTEST_ASSERT_
(
	`´ed_fÜm©
(#v1, #v2, #v3, #v4, #v5, 
v1
, 
v2
, 
v3
, 
v4
, 
v5
), \

327 
Ú_çu»
)

	)

331 
	#GTEST_PRED5_
(
´ed
, 
v1
, 
v2
, 
v3
, 
v4
, 
v5
, 
Ú_çu»
)\

332 
	`GTEST_ASSERT_
(::
‹¡šg
::
	`As£¹P»d5H–³r
(#pred, \

338 
´ed
, \

339 
v1
, \

340 
v2
, \

341 
v3
, \

342 
v4
, \

343 
v5
), 
Ú_çu»
)

	)

346 
	#EXPECT_PRED_FORMAT5
(
´ed_fÜm©
, 
v1
, 
v2
, 
v3
, 
v4
, 
v5
) \

347 
	`GTEST_PRED_FORMAT5_
(
´ed_fÜm©
, 
v1
, 
v2
, 
v3
, 
v4
, 
v5
, 
GTEST_NONFATAL_FAILURE_
)

	)

348 
	#EXPECT_PRED5
(
´ed
, 
v1
, 
v2
, 
v3
, 
v4
, 
v5
) \

349 
	`GTEST_PRED5_
(
´ed
, 
v1
, 
v2
, 
v3
, 
v4
, 
v5
, 
GTEST_NONFATAL_FAILURE_
)

	)

350 
	#ASSERT_PRED_FORMAT5
(
´ed_fÜm©
, 
v1
, 
v2
, 
v3
, 
v4
, 
v5
) \

351 
	`GTEST_PRED_FORMAT5_
(
´ed_fÜm©
, 
v1
, 
v2
, 
v3
, 
v4
, 
v5
, 
GTEST_FATAL_FAILURE_
)

	)

352 
	#ASSERT_PRED5
(
´ed
, 
v1
, 
v2
, 
v3
, 
v4
, 
v5
) \

353 
	`GTEST_PRED5_
(
´ed
, 
v1
, 
v2
, 
v3
, 
v4
, 
v5
, 
GTEST_FATAL_FAILURE_
)

	)

	@/usr/include/gtest/gtest_prod.h

34 #iâdeà
GOOGLETEST_INCLUDE_GTEST_GTEST_PROD_H_


35 
	#GOOGLETEST_INCLUDE_GTEST_GTEST_PROD_H_


	)

58 
	#FRIEND_TEST
(
‹¡_ÿ£_Çme
, 
‹¡_Çme
)\

59 
ä›nd
 
şass
 
‹¡_ÿ£_Çme
##
_
##
‹¡_Çme
##
_Te¡


	)

	@/usr/include/gtest/internal/gtest-internal.h

37 #iâdeà
GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_INTERNAL_H_


38 
	#GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_INTERNAL_H_


	)

40 
	~"g‹¡/š‹º®/g‹¡-pÜt.h
"

42 #ià
GTEST_OS_LINUX


43 
	~<¡dlib.h
>

44 
	~<sys/ty³s.h
>

45 
	~<sys/wa™.h
>

46 
	~<uni¡d.h
>

49 #ià
GTEST_HAS_EXCEPTIONS


50 
	~<¡dexû±
>

53 
	~<ùy³.h
>

54 
	~<æßt.h
>

55 
	~<¡ršg.h
>

56 
	~<c¡dšt
>

57 
	~<iomª
>

58 
	~<lim™s
>

59 
	~<m­
>

60 
	~<£t
>

61 
	~<¡ršg
>

62 
	~<ty³_Œa™s
>

63 
	~<veùÜ
>

65 
	~"g‹¡/g‹¡-mes§ge.h
"

66 
	~"g‹¡/š‹º®/g‹¡-f•©h.h
"

67 
	~"g‹¡/š‹º®/g‹¡-¡ršg.h
"

68 
	~"g‹¡/š‹º®/g‹¡-ty³-ut.h
"

78 
	#GTEST_CONCAT_TOKEN_
(
foo
, 
b¬
è
	`GTEST_CONCAT_TOKEN_IMPL_
(foo, b¬)

	)

79 
	#GTEST_CONCAT_TOKEN_IMPL_
(
foo
, 
b¬
èfoØ## 
	)
bar

90 
	#GTEST_STRINGIFY_HELPER_
(
Çme
, ...è#Çme

	)

91 
	#GTEST_STRINGIFY_
(...è
	`GTEST_STRINGIFY_HELPER_
(
__VA_ARGS__
, )

	)

93 
Çme¥aû
 
	g´Ùo2
 {

94 
şass
 
	gMes§geL™e
;

97 
Çme¥aû
 
	g‹¡šg
 {

101 
şass
 
	gAs£¹iÚResuÉ
;

102 
şass
 
	gMes§ge
;

103 
şass
 
	gTe¡
;

104 
şass
 
	gTe¡Info
;

105 
şass
 
	gTe¡P¬tResuÉ
;

106 
şass
 
	gUn™Te¡
;

108 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

109 ::
¡d
::
¡ršg
 
PrštToSŒšg
(cÚ¡ 
T
& 
v®ue
);

111 
Çme¥aû
 
	gš‹º®
 {

113 
	gT¿ûInfo
;

114 
şass
 
	gTe¡InfoIm¶
;

115 
şass
 
	gUn™Te¡Im¶
;

119 
GTEST_API_
 cÚ¡ 
kSckT¿ûM¬k”
[];

122 şas 
	cIgnÜedV®ue
 {

123 
	sSšk
 {};

124 
	gpublic
:

132 
‹m¶©e
 <
ty³Çme
 
T
,

133 
ty³Çme
 
	g¡d
::
’abË_if
<!
¡d
::
is_cÚv”tibË
<
T
, 
	gSšk
>::
v®ue
,

134 >::
ty³
 = 0>

135 
IgnÜedV®ue
(cÚ¡ 
T
& ) {}

139 
GTEST_API_
 
	g¡d
::
¡ršg
 
Aµ’dU£rMes§ge
(

140 cÚ¡ 
¡d
::
¡ršg
& 
g‹¡_msg
, cÚ¡ 
Mes§ge
& 
u£r_msg
);

142 #ià
GTEST_HAS_EXCEPTIONS


144 
GTEST_DISABLE_MSC_WARNINGS_PUSH_
(4275 \

153 şas 
	cGTEST_API_
 
	gGoogËTe¡Fau»Exû±iÚ
 : 
public
 ::
¡d
::
ruÁime_”rÜ
 {

154 
public
:

155 
ex¶ic™
 
GoogËTe¡Fau»Exû±iÚ
(cÚ¡ 
Te¡P¬tResuÉ
& 
çu»
);

158 
GTEST_DISABLE_MSC_WARNINGS_POP_
()

162 
Çme¥aû
 
	ged™_di¡ªû
 {

168 
	eEd™Ty³
 { 
	gkM©ch
, 
	gkAdd
, 
	gkRemove
, 
	gkR•Ïû
 };

169 
GTEST_API_
 
	g¡d
::
veùÜ
<
Ed™Ty³
> 
C®cuÏ‹O±im®Ed™s
(

170 cÚ¡ 
¡d
::
veùÜ
<
size_t
>& 
Ëá
, cÚ¡ std::veùÜ<size_t>& 
right
);

173 
GTEST_API_
 
	g¡d
::
veùÜ
<
Ed™Ty³
> 
C®cuÏ‹O±im®Ed™s
(

174 cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
Ëá
,

175 cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
right
);

178 
GTEST_API_
 
	g¡d
::
¡ršg
 
C»©eUnif›dDiff
(cÚ¡ 
¡d
::
veùÜ
<¡d::¡ršg>& 
Ëá
,

179 cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
right
,

180 
size_t
 
cÚ‹xt
 = 2);

188 
GTEST_API_
 
	g¡d
::
¡ršg
 
DiffSŒšgs
(cÚ¡ 
¡d
::¡ršg& 
Ëá
,

189 cÚ¡ 
¡d
::
¡ršg
& 
right
,

190 
size_t
* 
tÙ®_lše_couÁ
);

207 
GTEST_API_
 
As£¹iÚResuÉ
 
EqFau»
(cÚ¡ * 
ex³ùed_ex´essiÚ
,

208 cÚ¡ * 
aùu®_ex´essiÚ
,

209 cÚ¡ 
¡d
::
¡ršg
& 
ex³ùed_v®ue
,

210 cÚ¡ 
¡d
::
¡ršg
& 
aùu®_v®ue
,

211 
boŞ
 
ignÜšg_ÿ£
);

214 
GTEST_API_
 
	g¡d
::
¡ršg
 
G‘BoŞAs£¹iÚFau»Mes§ge
(

215 cÚ¡ 
As£¹iÚResuÉ
& 
as£¹iÚ_»suÉ
,

216 cÚ¡ * 
ex´essiÚ_‹xt
,

217 cÚ¡ * 
aùu®_´ediÿ‹_v®ue
,

218 cÚ¡ * 
ex³ùed_´ediÿ‹_v®ue
);

249 
	g‹m¶©e
 <
ty³Çme
 
	gRawTy³
>

250 şas 
	cFlßtšgPošt
 {

251 
	gpublic
:

254 
ty³Çme
 
	tTy³W™hSize
<(
	tRawTy³
)>::
	tUIÁ
 
	tB™s
;

259 cÚ¡ 
size_t
 
	gkB™CouÁ
 = 8*(
RawTy³
);

262 cÚ¡ 
size_t
 
	gkF¿ùiÚB™CouÁ
 =

263 
¡d
::
num”ic_lim™s
<
RawTy³
>::
dig™s
 - 1;

266 cÚ¡ 
size_t
 
	gkExpÚ’tB™CouÁ
 = 
kB™CouÁ
 - 1 - 
kF¿ùiÚB™CouÁ
;

269 cÚ¡ 
B™s
 
	gkSignB™Mask
 = 
¡©ic_ÿ¡
<B™s>(1è<< (
kB™CouÁ
 - 1);

272 cÚ¡ 
B™s
 
	gkF¿ùiÚB™Mask
 =

273 ~
¡©ic_ÿ¡
<
B™s
>(0è>> (
kExpÚ’tB™CouÁ
 + 1);

276 cÚ¡ 
B™s
 
	gkExpÚ’tB™Mask
 = ~(
kSignB™Mask
 | 
kF¿ùiÚB™Mask
);

290 cÚ¡ 
ušt32_t
 
	gkMaxUÍs
 = 4;

298 
ex¶ic™
 
FlßtšgPošt
(cÚ¡ 
RawTy³
& 
x
è{ 
	gu_
.
	gv®ue_
 = x; }

305 
RawTy³
 
Reš‹½»tB™s
(cÚ¡ 
B™s
 
b™s
) {

306 
FlßtšgPošt
 
å
(0);

307 
	gå
.
	gu_
.
	gb™s_
 = 
b™s
;

308  
	gå
.
	gu_
.
	gv®ue_
;

312 
RawTy³
 
Infš™y
() {

313  
Reš‹½»tB™s
(
kExpÚ’tB™Mask
);

317 
RawTy³
 
Max
();

322 cÚ¡ 
	gB™s
 &
b™s
(ècÚ¡ {  
	gu_
.
	gb™s_
; }

325 
B™s
 
expÚ’t_b™s
(ècÚ¡ {  
	gkExpÚ’tB™Mask
 & 
	gu_
.
	gb™s_
; }

328 
B™s
 
äaùiÚ_b™s
(ècÚ¡ {  
	gkF¿ùiÚB™Mask
 & 
	gu_
.
	gb™s_
; }

331 
B™s
 
sign_b™
(ècÚ¡ {  
	gkSignB™Mask
 & 
	gu_
.
	gb™s_
; }

334 
boŞ
 
is_Çn
() const {

337  (
expÚ’t_b™s
(è=ğ
kExpÚ’tB™Mask
è&& (
äaùiÚ_b™s
() != 0);

346 
boŞ
 
Almo¡Equ®s
(cÚ¡ 
FlßtšgPošt
& 
rhs
) const {

349 ià(
is_Çn
(è|| 
	grhs
.is_Çn()è 
	gçl£
;

351  
Di¡ªûB‘w“nSignAndMagn™udeNumb”s
(
u_
.
b™s_
, 
rhs
.u_.bits_)

352 <ğ
kMaxUÍs
;

355 
	g´iv©e
:

357 
	uFlßtšgPoštUniÚ
 {

358 
RawTy³
 
v®ue_
;

359 
B™s
 
	gb™s_
;

377 
B™s
 
SignAndMagn™udeToBŸ£d
(cÚ¡ B™ &
§m
) {

378 ià(
	gkSignB™Mask
 & 
	g§m
) {

380  ~
	g§m
 + 1;

383  
	gkSignB™Mask
 | 
	g§m
;

389 
B™s
 
Di¡ªûB‘w“nSignAndMagn™udeNumb”s
(cÚ¡ B™ &
§m1
,

390 cÚ¡ 
B™s
 &
§m2
) {

391 cÚ¡ 
B™s
 
	gbŸ£d1
 = 
SignAndMagn™udeToBŸ£d
(
§m1
);

392 cÚ¡ 
B™s
 
	gbŸ£d2
 = 
SignAndMagn™udeToBŸ£d
(
§m2
);

393  (
	gbŸ£d1
 >ğ
bŸ£d2
è? (
bŸ£d1
 - biased2) : (biased2 - biased1);

396 
FlßtšgPoštUniÚ
 
	gu_
;

401 
	g‹m¶©e
 <>

402 
šlše
 
	gFlßtšgPošt
<>::
Max
(è{  
FLT_MAX
; }

403 
	g‹m¶©e
 <>

404 
šlše
 
	gFlßtšgPošt
<>::
Max
(è{  
DBL_MAX
; }

408 
	gFlßtšgPošt
<> 
	tFlßt
;

409 
	gFlßtšgPošt
<> 
	tDoubË
;

417 cÚ¡ * 
	tTy³Id
;

419 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

420 şas 
	cTy³IdH–³r
 {

421 
	gpublic
:

425 
boŞ
 
dummy_
;

428 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

429 
boŞ
 
	gTy³IdH–³r
<
	gT
>::
dummy_
 = 
çl£
;

434 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

435 
Ty³Id
 
G‘Ty³Id
() {

440  &(
	gTy³IdH–³r
<
	gT
>::
dummy_
);

448 
GTEST_API_
 
Ty³Id
 
G‘Te¡Ty³Id
();

452 şas 
	cTe¡FaùÜyBa£
 {

453 
	gpublic
:

454 
vœtu®
 ~
Te¡FaùÜyBa£
() {}

458 
vœtu®
 
Te¡
* 
C»©eTe¡
() = 0;

460 
	g´Ùeùed
:

461 
Te¡FaùÜyBa£
() {}

463 
´iv©e
:

464 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Te¡FaùÜyBa£
);

469 
	g‹m¶©e
 <
şass
 
	gTe¡CÏss
>

470 şas 
	cTe¡FaùÜyIm¶
 : 
public
 
Te¡FaùÜyBa£
 {

471 
public
:

472 
Te¡
* 
C»©eTe¡
(è
ov”ride
 {  
Ãw
 
Te¡CÏss
; }

475 #ià
GTEST_OS_WINDOWS


481 
GTEST_API_
 
As£¹iÚResuÉ
 
IsHRESULTSucûss
(cÚ¡ * 
ex´
,

482 
hr
);

483 
GTEST_API_
 
As£¹iÚResuÉ
 
IsHRESULTFau»
(cÚ¡ * 
ex´
,

484 
hr
);

489 
usšg
 
	gS‘UpTe¡Su™eFunc
 = (*)();

490 
usšg
 
	gT—rDownTe¡Su™eFunc
 = (*)();

492 
	sCodeLoÿtiÚ
 {

493 
CodeLoÿtiÚ
(cÚ¡ 
¡d
::
¡ršg
& 
a_fe
, 
a_lše
)

494 : 
fe
(
a_fe
), 
lše
(
a_lše
) {}

496 
	g¡d
::
¡ršg
 
fe
;

497 
	glše
;

504 
usšg
 
	gS‘UpT—rDownSu™eFuncTy³
 = (*)();

506 
šlše
 
S‘UpT—rDownSu™eFuncTy³
 
G‘NÙDeçuÉOrNuÎ
(

507 
S‘UpT—rDownSu™eFuncTy³
 
a
, S‘UpT—rDownSu™eFuncTy³ 
def
) {

508  
	ga
 =ğ
def
 ? 
nuÎ±r
 : 
a
;

511 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

515 
	gSu™eApiResŞv”
 : 
T
 {

518 
usšg
 
Te¡
 =

519 
ty³Çme
 
¡d
::
cÚd™iÚ®
<(
T
è!ğ0, ::
‹¡šg
::
Te¡
, >::
ty³
;

521 
S‘UpT—rDownSu™eFuncTy³
 
G‘S‘UpCa£OrSu™e
(cÚ¡ * 
f’ame
,

522 
lše_num
) {

523 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


524 
S‘UpT—rDownSu™eFuncTy³
 
	g‹¡_ÿ£_å
 =

525 
G‘NÙDeçuÉOrNuÎ
(&
T
::
S‘UpTe¡Ca£
, &
Te¡
::SetUpTestCase);

526 
S‘UpT—rDownSu™eFuncTy³
 
	g‹¡_su™e_å
 =

527 
G‘NÙDeçuÉOrNuÎ
(&
T
::
S‘UpTe¡Su™e
, &
Te¡
::SetUpTestSuite);

529 
GTEST_CHECK_
(!
‹¡_ÿ£_å
 || !
‹¡_su™e_å
)

532 << 
	gf’ame
 << ":" << 
	glše_num
;

534  
	g‹¡_ÿ£_å
 !ğ
nuÎ±r
 ? 
‹¡_ÿ£_å
 : 
‹¡_su™e_å
;

536 ()(
	gf’ame
);

537 ()(
	glše_num
);

538  &
	gT
::
S‘UpTe¡Su™e
;

542 
S‘UpT—rDownSu™eFuncTy³
 
G‘T—rDownCa£OrSu™e
(cÚ¡ * 
f’ame
,

543 
lše_num
) {

544 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


545 
S‘UpT—rDownSu™eFuncTy³
 
	g‹¡_ÿ£_å
 =

546 
G‘NÙDeçuÉOrNuÎ
(&
T
::
T—rDownTe¡Ca£
, &
Te¡
::TearDownTestCase);

547 
S‘UpT—rDownSu™eFuncTy³
 
	g‹¡_su™e_å
 =

548 
G‘NÙDeçuÉOrNuÎ
(&
T
::
T—rDownTe¡Su™e
, &
Te¡
::TearDownTestSuite);

550 
GTEST_CHECK_
(!
‹¡_ÿ£_å
 || !
‹¡_su™e_å
)

553 << 
	gf’ame
 << ":" << 
	glše_num
;

555  
	g‹¡_ÿ£_å
 !ğ
nuÎ±r
 ? 
‹¡_ÿ£_å
 : 
‹¡_su™e_å
;

557 ()(
	gf’ame
);

558 ()(
	glše_num
);

559  &
	gT
::
T—rDownTe¡Su™e
;

582 
GTEST_API_
 
Te¡Info
* 
MakeAndRegi¡”Te¡Info
(

583 cÚ¡ * 
‹¡_su™e_Çme
, cÚ¡ * 
Çme
, cÚ¡ * 
ty³_·¿m
,

584 cÚ¡ * 
v®ue_·¿m
, 
CodeLoÿtiÚ
 
code_loÿtiÚ
,

585 
Ty³Id
 
fixtu»_şass_id
, 
S‘UpTe¡Su™eFunc
 
£t_up_tc
,

586 
T—rDownTe¡Su™eFunc
 
‹¬_down_tc
, 
Te¡FaùÜyBa£
* 
çùÜy
);

591 
GTEST_API_
 
boŞ
 
SkP»fix
(cÚ¡ * 
´efix
, cÚ¡ ** 
p¡r
);

593 
GTEST_DISABLE_MSC_WARNINGS_PUSH_
(4251 \

597 şas 
	cGTEST_API_
 
	gTy³dTe¡Su™ePS‹
 {

598 
	gpublic
:

599 
Ty³dTe¡Su™ePS‹
(è: 
»gi¡”ed_
(
çl£
) {}

604 
boŞ
 
AddTe¡Name
(cÚ¡ * 
fe
, 
lše
, cÚ¡ * 
ÿ£_Çme
,

605 cÚ¡ * 
‹¡_Çme
) {

606 ià(
	g»gi¡”ed_
) {

607 
årštf
(
¡d”r
,

610 
FÜm©FeLoÿtiÚ
(
fe
, 
lše
).
c_¡r
(), 
‹¡_Çme
, 
ÿ£_Çme
);

611 
fæush
(
¡d”r
);

612 
	gposix
::
AbÜt
();

614 
	g»gi¡”ed_‹¡s_
.
š£¹
(

615 ::
¡d
::
make_·œ
(
‹¡_Çme
, 
CodeLoÿtiÚ
(
fe
, 
lše
)));

616  
	gŒue
;

619 
boŞ
 
Te¡Exi¡s
(cÚ¡ 
¡d
::
¡ršg
& 
‹¡_Çme
) const {

620  
»gi¡”ed_‹¡s_
.
couÁ
(
‹¡_Çme
) > 0;

623 cÚ¡ 
	gCodeLoÿtiÚ
& 
G‘CodeLoÿtiÚ
(cÚ¡ 
¡d
::
¡ršg
& 
‹¡_Çme
) const {

624 
Regi¡”edTe¡sM­
::
cÚ¡_™”©Ü
 
™
 = 
»gi¡”ed_‹¡s_
.
fšd
(
‹¡_Çme
);

625 
GTEST_CHECK_
(
™
 !ğ
»gi¡”ed_‹¡s_
.
’d
());

626  
	g™
->
	g£cÚd
;

632 cÚ¡ * 
V”ifyRegi¡”edTe¡Names
(cÚ¡ * 
‹¡_su™e_Çme
,

633 cÚ¡ * 
fe
, 
lše
,

634 cÚ¡ * 
»gi¡”ed_‹¡s
);

636 
	g´iv©e
:

637 ::
¡d
::
	tm­
<
	t¡d
::
	t¡ršg
, 
	tCodeLoÿtiÚ
> 
	tRegi¡”edTe¡sM­
;

639 
boŞ
 
	g»gi¡”ed_
;

640 
Regi¡”edTe¡sM­
 
	g»gi¡”ed_‹¡s_
;

644 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


645 
usšg
 
	gTy³dTe¡Ca£PS‹
 = 
Ty³dTe¡Su™ePS‹
;

648 
GTEST_DISABLE_MSC_WARNINGS_POP_
()

652 
šlše
 cÚ¡ * 
SkComma
(cÚ¡ * 
¡r
) {

653 cÚ¡ * 
	gcomma
 = 
¡rchr
(
¡r
, ',');

654 ià(
	gcomma
 =ğ
nuÎ±r
) {

655  
nuÎ±r
;

657 
IsS·û
(*(++
comma
))) {}

658  
	gcomma
;

663 
šlše
 
	g¡d
::
¡ršg
 
G‘P»fixUÁComma
(cÚ¡ * 
¡r
) {

664 cÚ¡ * 
comma
 = 
¡rchr
(
¡r
, ',');

665  
	gcomma
 =ğ
nuÎ±r
 ? 
¡r
 : 
¡d
::
¡ršg
(¡r, 
comma
);

670 
S¶™SŒšg
(cÚ¡ ::
¡d
::
¡ršg
& 
¡r
, 
d–im™”
,

671 ::
¡d
::
veùÜ
< ::¡d::
¡ršg
>* 
de¡
);

675 
	sDeçuÉNameG’”©Ü
 {

676 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

677 
	g¡d
::
¡ršg
 
G‘Name
(
i
) {

678  
SŒ—mabËToSŒšg
(
i
);

682 
	g‹m¶©e
 <
ty³Çme
 
	gProvided
 = 
DeçuÉNameG’”©Ü
>

683 
	sNameG’”©ÜS–eùÜ
 {

684 
Provided
 
	tty³
;

687 
	g‹m¶©e
 <
ty³Çme
 
	gNameG’”©Ü
>

688 
G’”©eNamesRecursiv–y
(
š‹º®
::
NÚe
, 
¡d
::
veùÜ
<¡d::
¡ršg
>*, ) {}

690 
	g‹m¶©e
 <
ty³Çme
 
	gNameG’”©Ü
,y³Çm
	gTy³s
>

691 
G’”©eNamesRecursiv–y
(
Ty³s
, 
¡d
::
veùÜ
<¡d::
¡ršg
>* 
»suÉ
, 
i
) {

692 
	g»suÉ
->
push_back
(
NameG’”©Ü
::
‹m¶©e
 
G‘Name
<
ty³Çme
 
Ty³s
::
H—d
>(
i
));

693 
	gG’”©eNamesRecursiv–y
<
	gNameG’”©Ü
>(
ty³Çme
 
	gTy³s
::
Ta
(), 
	g»suÉ
,

694 
	gi
 + 1);

697 
	g‹m¶©e
 <
ty³Çme
 
	gNameG’”©Ü
,y³Çm
	gTy³s
>

698 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
G’”©eNames
() {

699 
¡d
::
veùÜ
<¡d::
¡ršg
> 
»suÉ
;

700 
	gG’”©eNamesRecursiv–y
<
	gNameG’”©Ü
>(
Ty³s
(), &
	g»suÉ
, 0);

701  
	g»suÉ
;

711 
	g‹m¶©e
 <
GTEST_TEMPLATE_
 
	gFixtu»
, 
şass
 
	gTe¡S–
, 
ty³Çme
 
	gTy³s
>

712 şas 
	cTy³P¬am‘”izedTe¡
 {

713 
	gpublic
:

718 
boŞ
 
Regi¡”
(cÚ¡ * 
´efix
, cÚ¡ 
CodeLoÿtiÚ
& 
code_loÿtiÚ
,

719 cÚ¡ * 
ÿ£_Çme
, cÚ¡ * 
‹¡_Çmes
, 
šdex
,

720 cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
ty³_Çmes
 =

721 
G’”©eNames
<
DeçuÉNameG’”©Ü
, 
Ty³s
>()) {

722 
ty³Çme
 
	tTy³s
::
	tH—d
 
	tTy³
;

723 
	gFixtu»
<
	tTy³
> 
	tFixtu»CÏss
;

724 
ty³Çme
 
	tGTEST_BIND_
(
	tTe¡S–
, 
	tTy³
è
	tTe¡CÏss
;

728 
MakeAndRegi¡”Te¡Info
(

729 (
¡d
::
¡ršg
(
´efix
è+ (´efix[0] =ğ'\0' ? "" : "/"è+ 
ÿ£_Çme
 +

730 "/" + 
ty³_Çmes
[
¡©ic_ÿ¡
<
size_t
>(
šdex
)])

731 .
c_¡r
(),

732 
SŒT¿šgS·ûs
(
G‘P»fixUÁComma
(
‹¡_Çmes
)).
c_¡r
(),

733 
G‘Ty³Name
<
Ty³
>().
c_¡r
(),

734 
nuÎ±r
,

735 
code_loÿtiÚ
, 
G‘Ty³Id
<
Fixtu»CÏss
>(),

736 
Su™eApiResŞv”
<
Te¡CÏss
>::
G‘S‘UpCa£OrSu™e
(

737 
code_loÿtiÚ
.
fe
.
c_¡r
(), code_loÿtiÚ.
lše
),

738 
Su™eApiResŞv”
<
Te¡CÏss
>::
G‘T—rDownCa£OrSu™e
(

739 
code_loÿtiÚ
.
fe
.
c_¡r
(), code_loÿtiÚ.
lše
),

740 
Ãw
 
Te¡FaùÜyIm¶
<
Te¡CÏss
>);

743  
	gTy³P¬am‘”izedTe¡
<
	gFixtu»
, 
	gTe¡S–
,

744 
ty³Çme
 
	gTy³s
::
Ta
>::
Regi¡”
(
´efix
,

745 
code_loÿtiÚ
,

746 
ÿ£_Çme
,

747 
‹¡_Çmes
,

748 
šdex
 + 1,

749 
ty³_Çmes
);

754 
	g‹m¶©e
 <
GTEST_TEMPLATE_
 
	gFixtu»
, 
şass
 
	gTe¡S–
>

755 
şass
 
	gTy³P¬am‘”izedTe¡
<
	gFixtu»
, 
	gTe¡S–
, 
	gš‹º®
::
NÚe
> {

756 
public
:

757 
boŞ
 
Regi¡”
(cÚ¡ * , cÚ¡ 
CodeLoÿtiÚ
&,

760 cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& =

761 
¡d
::
veùÜ
<¡d::
¡ršg
>() ) {

762  
Œue
;

766 
GTEST_API_
 
Regi¡”Ty³P¬am‘”izedTe¡Su™e
(cÚ¡ * 
‹¡_su™e_Çme
,

767 
CodeLoÿtiÚ
 
code_loÿtiÚ
);

768 
GTEST_API_
 
Regi¡”Ty³P¬am‘”izedTe¡Su™eIn¡ªtŸtiÚ
(

769 cÚ¡ * 
ÿ£_Çme
);

775 
	g‹m¶©e
 <
GTEST_TEMPLATE_
 
	gFixtu»
, 
ty³Çme
 
	gTe¡s
,y³Çm
	gTy³s
>

776 şas 
	cTy³P¬am‘”izedTe¡Su™e
 {

777 
	gpublic
:

778 
boŞ
 
Regi¡”
(cÚ¡ * 
´efix
, 
CodeLoÿtiÚ
 
code_loÿtiÚ
,

779 cÚ¡ 
Ty³dTe¡Su™ePS‹
* 
¡©e
, cÚ¡ * 
ÿ£_Çme
,

780 cÚ¡ * 
‹¡_Çmes
,

781 cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
ty³_Çmes
 =

782 
G’”©eNames
<
DeçuÉNameG’”©Ü
, 
Ty³s
>()) {

783 
Regi¡”Ty³P¬am‘”izedTe¡Su™eIn¡ªtŸtiÚ
(
ÿ£_Çme
);

784 
	g¡d
::
¡ršg
 
‹¡_Çme
 = 
SŒT¿šgS·ûs
(

785 
G‘P»fixUÁComma
(
‹¡_Çmes
));

786 ià(!
	g¡©e
->
Te¡Exi¡s
(
‹¡_Çme
)) {

787 
årštf
(
¡d”r
, "Failedo get code†ocation forest %s.%s‡t %s.",

788 
ÿ£_Çme
, 
‹¡_Çme
.
c_¡r
(),

789 
FÜm©FeLoÿtiÚ
(
code_loÿtiÚ
.
fe
.
c_¡r
(),

790 
code_loÿtiÚ
.
lše
).
c_¡r
());

791 
fæush
(
¡d”r
);

792 
	gposix
::
AbÜt
();

794 cÚ¡ 
	gCodeLoÿtiÚ
& 
	g‹¡_loÿtiÚ
 = 
¡©e
->
G‘CodeLoÿtiÚ
(
‹¡_Çme
);

796 
ty³Çme
 
	tTe¡s
::
	tH—d
 Head;

799 
	gTy³P¬am‘”izedTe¡
<
	gFixtu»
, 
	gH—d
, 
	gTy³s
>::
Regi¡”
(

800 
´efix
, 
‹¡_loÿtiÚ
, 
ÿ£_Çme
, 
‹¡_Çmes
, 0, 
ty³_Çmes
);

803  
	gTy³P¬am‘”izedTe¡Su™e
<
	gFixtu»
, 
ty³Çme
 
	gTe¡s
::
Ta
,

804 
	gTy³s
>::
Regi¡”
(
´efix
, 
code_loÿtiÚ
,

805 
¡©e
, 
ÿ£_Çme
,

806 
SkComma
(
‹¡_Çmes
),

807 
ty³_Çmes
);

812 
	g‹m¶©e
 <
GTEST_TEMPLATE_
 
	gFixtu»
, 
ty³Çme
 
	gTy³s
>

813 
şass
 
	gTy³P¬am‘”izedTe¡Su™e
<
	gFixtu»
, 
	gš‹º®
::
NÚe
, 
	gTy³s
> {

814 
	gpublic
:

815 
boŞ
 
Regi¡”
(cÚ¡ * , cÚ¡ 
CodeLoÿtiÚ
&,

816 cÚ¡ 
Ty³dTe¡Su™ePS‹
* ,

818 cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& =

819 
¡d
::
veùÜ
<¡d::
¡ršg
>() ) {

820  
Œue
;

834 
GTEST_API_
 
	g¡d
::
¡ršg
 
G‘Cu¼’tOsSckT¿ûExû±Tİ
(

835 
Un™Te¡
* 
un™_‹¡
, 
sk_couÁ
);

841 
GTEST_API_
 
boŞ
 
AlwaysTrue
();

844 
šlše
 
boŞ
 
AlwaysF®£
(è{  !
AlwaysTrue
(); }

849 
GTEST_API_
 
	gCÚ¡Ch¬PŒ
 {

850 
CÚ¡Ch¬PŒ
(cÚ¡ * 
¡r
è: 
v®ue
(str) {}

851 
İ”©Ü
 
boŞ
(ècÚ¡ {  
Œue
; }

852 cÚ¡ * 
	gv®ue
;

857 
	sTrueW™hSŒšg
 {

858 
TrueW™hSŒšg
() = ;

859 
ex¶ic™
 
TrueW™hSŒšg
(cÚ¡ * 
¡r
è: 
v®ue
(str) {}

860 
ex¶ic™
 
TrueW™hSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
è: 
v®ue
(str) {}

861 
ex¶ic™
 
İ”©Ü
 
boŞ
(ècÚ¡ {  
Œue
; }

862 
	g¡d
::
¡ršg
 
v®ue
;

870 şas 
	cGTEST_API_
 
	gRªdom
 {

871 
	gpublic
:

872 cÚ¡ 
ušt32_t
 
kMaxRªge
 = 1u << 31;

874 
ex¶ic™
 
Rªdom
(
ušt32_t
 
£ed
è: 
¡©e_
(seed) {}

876 
Re£ed
(
ušt32_t
 
£ed
è{ 
¡©e_
 = seed; }

880 
ušt32_t
 
G’”©e
(ušt32_ˆ
¿nge
);

882 
	g´iv©e
:

883 
ušt32_t
 
¡©e_
;

884 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Rªdom
);

888 
	#GTEST_REMOVE_REFERENCE_AND_CONST_
(
T
) \

889 
ty³Çme
 
¡d
::
»move_cÚ¡
<ty³Çm¡d::
»move_»ã»nû
<
T
>::
ty³
>::
	)
type

894 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

895 şas 
	cHasDebugSŒšgAndShÜtDebugSŒšg
 {

896 
	g´iv©e
:

897 
‹m¶©e
 <
ty³Çme
 
C
>

898 autØ
CheckDebugSŒšg
(
C
*è-> 
ty³Çme
 
¡d
::
is_§me
<

899 
¡d
::
¡ršg
, 
deşty³
(¡d::
deşv®
<cÚ¡ 
C
>().
DebugSŒšg
())>::
ty³
;

900 
	g‹m¶©e
 <
	gty³Çme
>

901 
	g¡d
::
çl£_ty³
 
CheckDebugSŒšg
(...);

903 
	g‹m¶©e
 <
ty³Çme
 
	gC
>

904 autØ
CheckShÜtDebugSŒšg
(
C
*è-> 
ty³Çme
 
	g¡d
::
is_§me
<

905 
¡d
::
¡ršg
, 
deşty³
(¡d::
deşv®
<cÚ¡ 
C
>().
ShÜtDebugSŒšg
())>::
ty³
;

906 
	g‹m¶©e
 <
	gty³Çme
>

907 
	g¡d
::
çl£_ty³
 
CheckShÜtDebugSŒšg
(...);

909 
usšg
 
	gHasDebugSŒšgTy³
 = 
deşty³
(
CheckDebugSŒšg
<
T
>(
nuÎ±r
));

910 
usšg
 
	gHasShÜtDebugSŒšgTy³
 = 
deşty³
(
CheckShÜtDebugSŒšg
<
T
>(
nuÎ±r
));

912 
	gpublic
:

913 
cÚ¡ex´
 
boŞ
 
v®ue
 =

914 
HasDebugSŒšgTy³
::
v®ue
 && 
HasShÜtDebugSŒšgTy³
::value;

917 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

918 
cÚ¡ex´
 
boŞ
 
	gHasDebugSŒšgAndShÜtDebugSŒšg
<
	gT
>::
v®ue
;

944 
	tIsCÚš”
;

945 
	g‹m¶©e
 <
şass
 
	gC
,

946 
şass
 
	gI‹¿tÜ
 = 
deşty³
(::
¡d
::
deşv®
<cÚ¡ 
C
&>().
begš
()),

947 
	gşass
 = 
deşty³
(::
¡d
::
deşv®
<cÚ¡ 
C
&>().
’d
()),

948 
	gşass
 = 
deşty³
(++::
¡d
::
deşv®
<
I‹¿tÜ
&>()),

949 
	gşass
 = 
deşty³
(*::
¡d
::
deşv®
<
I‹¿tÜ
>()),

950 
	gşass
 = 
ty³Çme
 
C
::
cÚ¡_™”©Ü
>

951 
IsCÚš”
 
IsCÚš”Te¡
() {

955 
	tIsNÙCÚš”
;

956 
	g‹m¶©e
 <
şass
 
	gC
>

957 
IsNÙCÚš”
 
IsCÚš”Te¡
() {  '\0'; }

963 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

964 
	sIsHashTabË
 {

965 
	g´iv©e
:

966 
‹m¶©e
 <
ty³Çme
 
U
>

967 
‹¡
(
ty³Çme
 
U
::
hash”
*,y³ÇmU::
»v”£_™”©Ü
*);

968 
	g‹m¶©e
 <
ty³Çme
 
	gU
>

969 
‹¡
(
ty³Çme
 
U
::
hash”
*, ...);

970 
	g‹m¶©e
 <
ty³Çme
 
	gU
>

971 
‹¡
(...);

973 
	gpublic
:

974 cÚ¡ 
boŞ
 
v®ue
 = (
‹¡
<
T
>(
nuÎ±r
, 
	gnuÎ±r
)) == ();

977 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

978 cÚ¡ 
boŞ
 
	gIsHashTabË
<
	gT
>::
v®ue
;

980 
	g‹m¶©e
 <
ty³Çme
 
	gC
,

981 
	gboŞ
 = (
IsCÚš”Te¡
<
C
>(0)è=ğ(
IsCÚš”
)>

982 
IsRecursiveCÚš”Im¶
;

984 
	g‹m¶©e
 <
ty³Çme
 
	gC
>

985 
	gIsRecursiveCÚš”Im¶
<
	gC
, 
	gçl£
> : 
public
 
¡d
::
çl£_ty³
 {};

991 
	g‹m¶©e
 <
ty³Çme
 
	gC
>

992 
	gIsRecursiveCÚš”Im¶
<
	gC
, 
	gŒue
> {

993 
usšg
 
	gv®ue_ty³
 = 
deşty³
(*
¡d
::
deşv®
<
ty³Çme
 
C
::
cÚ¡_™”©Ü
>());

994 
usšg
 
	gty³
 =

995 
¡d
::
is_§me
<
ty³Çme
 std::
»move_cÚ¡
<

996 
ty³Çme
 
¡d
::
»move_»ã»nû
<
v®ue_ty³
>::
ty³
>::type,

997 
	gC
>;

1006 
	g‹m¶©e
 <
ty³Çme
 
	gC
>

1007 
	gIsRecursiveCÚš”
 : 
public
 
IsRecursiveCÚš”Im¶
<
C
>::
ty³
 {};

1015 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gU
>

1016 
boŞ
 
A¼ayEq
(cÚ¡ 
T
* 
lhs
, 
size_t
 
size
, cÚ¡ 
U
* 
rhs
);

1019 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gU
>

1020 
šlše
 
boŞ
 
A¼ayEq
(cÚ¡ 
T
& 
lhs
, cÚ¡ 
U
& 
rhs
è{  
	glhs
 ==„hs; }

1023 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gU
, 
size_t
 
	gN
>

1024 
šlše
 
boŞ
 
A¼ayEq
(cÚ¡ 
T
(&
lhs
)[
N
], cÚ¡ 
U
(&
rhs
)[N]) {

1025  
	gš‹º®
::
A¼ayEq
(
lhs
, 
N
, 
rhs
);

1031 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gU
>

1032 
boŞ
 
A¼ayEq
(cÚ¡ 
T
* 
lhs
, 
size_t
 
size
, cÚ¡ 
U
* 
rhs
) {

1033 
size_t
 
	gi
 = 0; i !ğ
size
; i++) {

1034 ià(!
	gš‹º®
::
A¼ayEq
(
lhs
[
i
], 
rhs
[i]))

1035  
	gçl£
;

1037  
	gŒue
;

1042 
	g‹m¶©e
 <
ty³Çme
 
	gI‹r
,y³Çm
	gEËm’t
>

1043 
I‹r
 
A¼ayAw¬eFšd
(I‹¸
begš
, I‹¸
’d
, cÚ¡ 
EËm’t
& 
–em
) {

1044 
I‹r
 
	g™
 = 
begš
; iˆ!ğ
’d
; ++it) {

1045 ià(
	gš‹º®
::
A¼ayEq
(*
™
, 
–em
))

1046  
	g™
;

1048  
	g’d
;

1055 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gU
>

1056 
CİyA¼ay
(cÚ¡ 
T
* 
äom
, 
size_t
 
size
, 
U
* 
to
);

1059 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gU
>

1060 
šlše
 
CİyA¼ay
(cÚ¡ 
T
& 
äom
, 
U
* 
to
è{ *
	gto
 = from; }

1063 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gU
, 
size_t
 
	gN
>

1064 
šlše
 
CİyA¼ay
(cÚ¡ 
T
(&
äom
)[
N
], 
U
(*
to
)[N]) {

1065 
	gš‹º®
::
CİyA¼ay
(
äom
, 
N
, *
to
);

1071 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gU
>

1072 
CİyA¼ay
(cÚ¡ 
T
* 
äom
, 
size_t
 
size
, 
U
* 
to
) {

1073 
size_t
 
	gi
 = 0; i !ğ
size
; i++) {

1074 
	gš‹º®
::
CİyA¼ay
(
äom
[
i
], 
to
 + i);

1082 
	sR–©iÚToSourûReã»nû
 {};

1083 
	sR–©iÚToSourûCİy
 {};

1093 
	g‹m¶©e
 <
ty³Çme
 
	gEËm’t
>

1094 şas 
	cN©iveA¼ay
 {

1095 
	gpublic
:

1097 
EËm’t
 
	tv®ue_ty³
;

1098 
EËm’t
* 
	t™”©Ü
;

1099 cÚ¡ 
	tEËm’t
* 
	tcÚ¡_™”©Ü
;

1102 
N©iveA¼ay
(cÚ¡ 
EËm’t
* 
¬¿y
, 
size_t
 
couÁ
, 
R–©iÚToSourûReã»nû
) {

1103 
In™Ref
(
¬¿y
, 
couÁ
);

1107 
N©iveA¼ay
(cÚ¡ 
EËm’t
* 
¬¿y
, 
size_t
 
couÁ
, 
R–©iÚToSourûCİy
) {

1108 
In™Cİy
(
¬¿y
, 
couÁ
);

1112 
N©iveA¼ay
(cÚ¡ N©iveA¼ay& 
rhs
) {

1113 (
	gthis
->*
	grhs
.
	gşÚe_
)Ôhs.
	g¬¿y_
,„hs.
	gsize_
);

1116 ~
N©iveA¼ay
() {

1117 ià(
	gşÚe_
 !ğ&
N©iveA¼ay
::
In™Ref
)

1118 
d–‘e
[] 
¬¿y_
;

1122 
size_t
 
size
(ècÚ¡ {  
	gsize_
; }

1123 
cÚ¡_™”©Ü
 
begš
(ècÚ¡ {  
	g¬¿y_
; }

1124 
cÚ¡_™”©Ü
 
’d
(ècÚ¡ {  
	g¬¿y_
 + 
	gsize_
; }

1125 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
N©iveA¼ay
& 
rhs
) const {

1126  
size
(è=ğ
rhs
.size() &&

1127 
A¼ayEq
(
begš
(), 
size
(), 
rhs
.begin());

1130 
	g´iv©e
:

1131 
¡©ic_as£¹
(!
¡d
::
is_cÚ¡
<
EËm’t
>::
v®ue
, "Type must‚ot be const");

1132 
¡©ic_as£¹
(!
¡d
::
is_»ã»nû
<
EËm’t
>::
v®ue
,

1136 
In™Cİy
(cÚ¡ 
EËm’t
* 
¬¿y
, 
size_t
 
a_size
) {

1137 
EËm’t
* cÚ¡ 
	gcİy
 = 
Ãw
 EËm’t[
a_size
];

1138 
CİyA¼ay
(
¬¿y
, 
a_size
, 
cİy
);

1139 
	g¬¿y_
 = 
cİy
;

1140 
	gsize_
 = 
a_size
;

1141 
	gşÚe_
 = &
N©iveA¼ay
::
In™Cİy
;

1145 
In™Ref
(cÚ¡ 
EËm’t
* 
¬¿y
, 
size_t
 
a_size
) {

1146 
	g¬¿y_
 = 
¬¿y
;

1147 
	gsize_
 = 
a_size
;

1148 
	gşÚe_
 = &
N©iveA¼ay
::
In™Ref
;

1151 cÚ¡ 
EËm’t
* 
	g¬¿y_
;

1152 
size_t
 
	gsize_
;

1153 (
	gN©iveA¼ay
::*
şÚe_
)(cÚ¡ 
EËm’t
*, 
	gsize_t
);

1157 
	g‹m¶©e
 <
	gsize_t
... 
	gIs
>

1158 
	sIndexSequ’û
 {

1159 
usšg
 
	gty³
 = 
IndexSequ’û
;

1163 
	g‹m¶©e
 <
boŞ
 
	g¶us_Úe
, 
ty³Çme
 
	gT
, 
size_t
 
	gsizeofT
>

1164 
	gDoubËSequ’û
;

1165 
	g‹m¶©e
 <
	gsize_t
... 
	gI
, 
size_t
 
	gsizeofT
>

1166 
	gDoubËSequ’û
<
	gŒue
, 
	gIndexSequ’û
<
	gI
...>, 
	gsizeofT
> {

1167 
usšg
 
	gty³
 = 
IndexSequ’û
<
I
..., (
	gsizeofT
 + 
	gI
)..., 2 * sizeofT>;

1169 
	g‹m¶©e
 <
	gsize_t
... 
	gI
, 
size_t
 
	gsizeofT
>

1170 
	gDoubËSequ’û
<
	gçl£
, 
	gIndexSequ’û
<
	gI
...>, 
	gsizeofT
> {

1171 
usšg
 
	gty³
 = 
IndexSequ’û
<
I
..., (
	gsizeofT
 + 
	gI
)...>;

1176 
	g‹m¶©e
 <
size_t
 
	gN
>

1177 
	gMakeIndexSequ’ûIm¶


1178 : 
DoubËSequ’û
<
N
 % 2 =ğ1, 
ty³Çme
 
	gMakeIndexSequ’ûIm¶
<
	gN
 / 2>::
ty³
,

1179 
	gN
 / 2>::
ty³
 {};

1181 
	g‹m¶©e
 <>

1182 
	gMakeIndexSequ’ûIm¶
<0> : 
IndexSequ’û
<> {};

1184 
	g‹m¶©e
 <
size_t
 
	gN
>

1185 
usšg
 
	gMakeIndexSequ’û
 = 
ty³Çme
 
MakeIndexSequ’ûIm¶
<
N
>::
ty³
;

1187 
	g‹m¶©e
 <
	gty³Çme
... 
	gT
>

1188 
usšg
 
	gIndexSequ’ûFÜ
 = 
ty³Çme
 
MakeIndexSequ’û
<...(
T
)>::
ty³
;

1190 
	g‹m¶©e
 <
	gsize_t
>

1191 
	sIgnÜe
 {

1192 
IgnÜe
(...);

1195 
	g‹m¶©e
 <
	gty³Çme
>

1196 
	gEËmFromLi¡Im¶
;

1197 
	g‹m¶©e
 <
	gsize_t
... 
	gI
>

1198 
	gEËmFromLi¡Im¶
<
	gIndexSequ’û
<
	gI
...>> {

1203 
	g‹m¶©e
 <
ty³Çme
 
	gR
>

1204 
R
 
Aµly
(
IgnÜe
<0 * 
I
>..., R (*)(), ...);

1207 
	g‹m¶©e
 <
size_t
 
	gN
, 
	gty³Çme
... 
	gT
>

1208 
	sEËmFromLi¡
 {

1209 
usšg
 
	gty³
 =

1210 
deşty³
(
EËmFromLi¡Im¶
<
ty³Çme
 
MakeIndexSequ’û
<
N
>::
ty³
>::
Aµly
(

1211 
¡©ic_ÿ¡
<
T
 (*)()>(
nuÎ±r
)...));

1214 
	sFÏtTu¶eCÚ¡ruùTag
 {};

1216 
	g‹m¶©e
 <
	gty³Çme
... 
	gT
>

1217 
şass
 
	gFÏtTu¶e
;

1219 
	g‹m¶©e
 <
ty³Çme
 
	gD”ived
, 
size_t
 
	gI
>

1220 
	gFÏtTu¶eEËmBa£
;

1222 
	g‹m¶©e
 <
	gty³Çme
... 
	gT
, 
size_t
 
	gI
>

1223 
	gFÏtTu¶eEËmBa£
<
	gFÏtTu¶e
<
	gT
...>, 
	gI
> {

1224 
usšg
 
	gv®ue_ty³
 = 
ty³Çme
 
EËmFromLi¡
<
I
, 
	gT
...>::
ty³
;

1225 
FÏtTu¶eEËmBa£
() = ;

1226 
	g‹m¶©e
 <
ty³Çme
 
	gArg
>

1227 
ex¶ic™
 
FÏtTu¶eEËmBa£
(
FÏtTu¶eCÚ¡ruùTag
, 
Arg
&& 
t
)

1228 : 
v®ue
(
¡d
::
fÜw¬d
<
Arg
>(
t
)) {}

1229 
v®ue_ty³
 
v®ue
;

1232 
	g‹m¶©e
 <
ty³Çme
 
	gD”ived
,y³Çm
	gIdx
>

1233 
	gFÏtTu¶eBa£
;

1235 
	g‹m¶©e
 <
	gsize_t
... 
	gIdx
, 
	gty³Çme
... 
	gT
>

1236 
	gFÏtTu¶eBa£
<
	gFÏtTu¶e
<
	gT
...>, 
	gIndexSequ’û
<
	gIdx
...>>

1237 : 
FÏtTu¶eEËmBa£
<
FÏtTu¶e
<
T
...>, 
	gIdx
>... {

1238 
usšg
 
	gIndiûs
 = 
IndexSequ’û
<
Idx
...>;

1239 
FÏtTu¶eBa£
() = ;

1240 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

1241 
ex¶ic™
 
FÏtTu¶eBa£
(
FÏtTu¶eCÚ¡ruùTag
, 
Args
&&... 
¬gs
)

1242 : 
FÏtTu¶eEËmBa£
<
FÏtTu¶e
<
T
...>, 
	gIdx
>(
	gFÏtTu¶eCÚ¡ruùTag
{},

1243 
	g¡d
::
fÜw¬d
<
Args
>(
¬gs
))... {}

1245 
‹m¶©e
 <
size_t
 
I
>

1246 cÚ¡ 
ty³Çme
 
EËmFromLi¡
<
I
, 
	gT
...>::
ty³
& 
G‘
() const {

1247  
FÏtTu¶eEËmBa£
<
FÏtTu¶e
<
T
...>, 
	gI
>::
v®ue
;

1250 
	g‹m¶©e
 <
size_t
 
	gI
>

1251 
ty³Çme
 
	gEËmFromLi¡
<
	gI
, 
	gT
...>::
ty³
& 
G‘
() {

1252  
FÏtTu¶eEËmBa£
<
FÏtTu¶e
<
T
...>, 
	gI
>::
v®ue
;

1255 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

1256 autØ
Aµly
(
F
&& 
f
è-> 
deşty³
(
¡d
::
fÜw¬d
<F>(f)(
this
->
G‘
<
Idx
>()...)) {

1257  
¡d
::
fÜw¬d
<
F
>(
f
)(
G‘
<
Idx
>()...);

1260 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

1261 autØ
Aµly
(
F
&& 
f
ècÚ¡ -> 
deşty³
(
¡d
::
fÜw¬d
<F>(f)(
this
->
G‘
<
Idx
>()...)) {

1262  
¡d
::
fÜw¬d
<
F
>(
f
)(
G‘
<
Idx
>()...);

1275 
	g‹m¶©e
 <
	gty³Çme
... 
	gT
>

1276 
şass
 
	gFÏtTu¶e


1277 : 
´iv©e
 
FÏtTu¶eBa£
<
FÏtTu¶e
<
T
...>,

1278 
ty³Çme
 
	gMakeIndexSequ’û
<...(
	gT
)>::
ty³
> {

1279 
usšg
 
Indiûs
 = 
ty³Çme
 
FÏtTu¶eBa£
<

1280 
FÏtTu¶e
<
T
...>, 
ty³Çme
 
	gMakeIndexSequ’û
<...(
	gT
)>::
ty³
>::
Indiûs
;

1282 
	gpublic
:

1283 
FÏtTu¶e
() = ;

1284 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

1285 
ex¶ic™
 
FÏtTu¶e
(
FÏtTu¶eCÚ¡ruùTag
 
g
, 
Args
&&... 
¬gs
)

1286 : 
FÏtTu¶e
::
FÏtTu¶eBa£
(
g
, 
¡d
::
fÜw¬d
<
Args
>(
¬gs
)...) {}

1288 
usšg
 
FÏtTu¶e
::
FÏtTu¶eBa£
::
Aµly
;

1289 
usšg
 
	gFÏtTu¶e
::
FÏtTu¶eBa£
::
G‘
;

1294 
GTEST_INTERNAL_DEPRECATED
(

1297 
cÚ¡ex´
 
boŞ
 
In¡ªtŸ‹Te¡Ca£_P_IsD•»ÿ‹d
(è{  
	gŒue
; }

1299 
GTEST_INTERNAL_DEPRECATED
(

1302 
cÚ¡ex´
 
boŞ
 
Ty³dTe¡Ca£_P_IsD•»ÿ‹d
(è{  
	gŒue
; }

1304 
GTEST_INTERNAL_DEPRECATED
(

1307 
cÚ¡ex´
 
boŞ
 
Ty³dTe¡Ca£IsD•»ÿ‹d
(è{  
	gŒue
; }

1309 
GTEST_INTERNAL_DEPRECATED
(

1312 
cÚ¡ex´
 
boŞ
 
Regi¡”Ty³dTe¡Ca£_P_IsD•»ÿ‹d
(è{  
	gŒue
; }

1314 
GTEST_INTERNAL_DEPRECATED
(

1317 
cÚ¡ex´
 
boŞ
 
In¡ªtŸ‹Ty³dTe¡Ca£_P_IsD•»ÿ‹d
(è{  
	gŒue
; }

1322 
Çme¥aû
 
	g¡d
 {

1326 #ifdeà
__şªg__


1327 #´agm¨
şªg
 
dŸgno¡ic
 
push


1328 #´agm¨
şªg
 
dŸgno¡ic
 
ignÜed
 "-Wmismatched-tags"

1330 
	g‹m¶©e
 <
	gty³Çme
... 
	gTs
>

1331 
	gtu¶e_size
<
	g‹¡šg
::
š‹º®
::
FÏtTu¶e
<
Ts
...>>

1332 : 
¡d
::
š‹g¿l_cÚ¡ªt
<
size_t
, ...(
	gTs
)> {};

1333 #ifdeà
__şªg__


1334 #´agm¨
şªg
 
dŸgno¡ic
 
pİ


1338 
	#GTEST_MESSAGE_AT_
(
fe
, 
lše
, 
mes§ge
, 
»suÉ_ty³
) \

1339 ::
‹¡šg
::
š‹º®
::
	`As£¹H–³r
(
»suÉ_ty³
, 
fe
, 
lše
, 
mes§ge
) \

1340 ğ::
‹¡šg
::
	`Mes§ge
()

	)

1342 
	#GTEST_MESSAGE_
(
mes§ge
, 
»suÉ_ty³
) \

1343 
	`GTEST_MESSAGE_AT_
(
__FILE__
, 
__LINE__
, 
mes§ge
, 
»suÉ_ty³
)

	)

1345 
	#GTEST_FATAL_FAILURE_
(
mes§ge
) \

1346  
	`GTEST_MESSAGE_
(
mes§ge
, ::
‹¡šg
::
Te¡P¬tResuÉ
::
kF©®Fau»
)

	)

1348 
	#GTEST_NONFATAL_FAILURE_
(
mes§ge
) \

1349 
	`GTEST_MESSAGE_
(
mes§ge
, ::
‹¡šg
::
Te¡P¬tResuÉ
::
kNÚF©®Fau»
)

	)

1351 
	#GTEST_SUCCESS_
(
mes§ge
) \

1352 
	`GTEST_MESSAGE_
(
mes§ge
, ::
‹¡šg
::
Te¡P¬tResuÉ
::
kSucûss
)

	)

1354 
	#GTEST_SKIP_
(
mes§ge
) \

1355  
	`GTEST_MESSAGE_
(
mes§ge
, ::
‹¡šg
::
Te¡P¬tResuÉ
::
kSk
)

	)

1362 
	#GTEST_SUPPRESS_UNREACHABLE_CODE_WARNING_BELOW_
(
¡©em’t
) \

1363 ià(::
‹¡šg
::
š‹º®
::
	`AlwaysTrue
()) { \

1364 
¡©em’t
; \

1366 
	`¡©ic_as£¹
(
Œue
, "")

1367 

	)

1368 #ià
GTEST_HAS_EXCEPTIONS


1370 
Çme¥aû
 
	g‹¡šg
 {

1371 
Çme¥aû
 
	gš‹º®
 {

1373 şas 
	cNev”Thrown
 {

1374 
	gpublic
:

1375 cÚ¡ * 
wh©
(ècÚ¡ 
nÛxû±
 {

1383 #ià
GTEST_HAS_RTTI


1385 
	#GTEST_EXCEPTION_TYPE_
(
e
è::
‹¡šg
::
š‹º®
::
	`G‘Ty³Name
(
	`ty³id
Ó))

	)

1389 
	#GTEST_EXCEPTION_TYPE_
(
e
) \

1390 
¡d
::
¡ršg
 { "ª std::exû±iÚ-d”ivedƒ¼Ü" }

	)

1394 
	#GTEST_TEST_THROW_CATCH_STD_EXCEPTION_
(
¡©em’t
, 
ex³ùed_exû±iÚ
) \

1395 
	`ÿtch
 (
ty³Çme
 
¡d
::
cÚd™iÚ®
< \

1396 
¡d
::
is_§me
<
ty³Çme
 std::
»move_cv
<ty³Çm¡d::
»move_»ã»nû
< \

1397 
ex³ùed_exû±iÚ
>::
ty³
>::type, \

1398 
¡d
::
exû±iÚ
>::
v®ue
, \

1399 cÚ¡ ::
‹¡šg
::
š‹º®
::
Nev”Thrown
&, cÚ¡ 
¡d
::
exû±iÚ
&>::
ty³
 \

1400 
e
) { \

1401 
g‹¡_msg
.
v®ue
 = "Expected: " #statement \

1404 
g‹¡_msg
.
v®ue
 +ğ
	`GTEST_EXCEPTION_TYPE_
(
e
); \

1405 
g‹¡_msg
.
v®ue
 += " with description \""; \

1406 
g‹¡_msg
.
v®ue
 +ğ
e
.
	`wh©
(); \

1407 
g‹¡_msg
.
v®ue
 += "\"."; \

1408 
	`GTEST_CONCAT_TOKEN_
(
g‹¡_Ïb–_‹¡throw_
, 
__LINE__
); \

1409 }

	)

1413 
	#GTEST_TEST_THROW_CATCH_STD_EXCEPTION_
(
¡©em’t
, 
ex³ùed_exû±iÚ
)

	)

1417 
	#GTEST_TEST_THROW_
(
¡©em’t
, 
ex³ùed_exû±iÚ
, 
ç
) \

1418 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

1419 ià(::
‹¡šg
::
š‹º®
::
TrueW™hSŒšg
 
g‹¡_msg
{}) { \

1420 
boŞ
 
g‹¡_ÿught_ex³ùed
 = 
çl£
; \

1421 
Œy
 { \

1422 
	`GTEST_SUPPRESS_UNREACHABLE_CODE_WARNING_BELOW_
(
¡©em’t
); \

1423 } 
	`ÿtch
 (
ex³ùed_exû±iÚ
 const&) { \

1424 
g‹¡_ÿught_ex³ùed
 = 
Œue
; \

1426 
	`GTEST_TEST_THROW_CATCH_STD_EXCEPTION_
(
¡©em’t
, 
ex³ùed_exû±iÚ
) \

1427 
	`ÿtch
 (...) { \

1428 
g‹¡_msg
.
v®ue
 = "Expected: " #statement \

1431 
	`GTEST_CONCAT_TOKEN_
(
g‹¡_Ïb–_‹¡throw_
, 
__LINE__
); \

1433 ià(!
g‹¡_ÿught_ex³ùed
) { \

1434 
g‹¡_msg
.
v®ue
 = "Expected: " #statement \

1437 
	`GTEST_CONCAT_TOKEN_
(
g‹¡_Ïb–_‹¡throw_
, 
__LINE__
); \

1440 
	`GTEST_CONCAT_TOKEN_
(
g‹¡_Ïb–_‹¡throw_
, 
__LINE__
) \

1441 : 
	`ç
(
g‹¡_msg
.
v®ue
.
	`c_¡r
())

	)

1443 #ià
GTEST_HAS_EXCEPTIONS


1445 
	#GTEST_TEST_NO_THROW_CATCH_STD_EXCEPTION_
() \

1446 
	`ÿtch
 (
¡d
::
exû±iÚ
 cÚ¡& 
e
) { \

1447 
g‹¡_msg
.
v®ue
 = "ithrows "; \

1448 
g‹¡_msg
.
v®ue
 +ğ
	`GTEST_EXCEPTION_TYPE_
(
e
); \

1449 
g‹¡_msg
.
v®ue
 += " with description \""; \

1450 
g‹¡_msg
.
v®ue
 +ğ
e
.
	`wh©
(); \

1451 
g‹¡_msg
.
v®ue
 += "\"."; \

1452 
	`GTEST_CONCAT_TOKEN_
(
g‹¡_Ïb–_‹¡nÙhrow_
, 
__LINE__
); \

1453 }

	)

1457 
	#GTEST_TEST_NO_THROW_CATCH_STD_EXCEPTION_
()

	)

1461 
	#GTEST_TEST_NO_THROW_
(
¡©em’t
, 
ç
) \

1462 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

1463 ià(::
‹¡šg
::
š‹º®
::
TrueW™hSŒšg
 
g‹¡_msg
{}) { \

1464 
Œy
 { \

1465 
	`GTEST_SUPPRESS_UNREACHABLE_CODE_WARNING_BELOW_
(
¡©em’t
); \

1467 
	`GTEST_TEST_NO_THROW_CATCH_STD_EXCEPTION_
() \

1468 
	`ÿtch
 (...) { \

1469 
g‹¡_msg
.
v®ue
 = "ithrows."; \

1470 
	`GTEST_CONCAT_TOKEN_
(
g‹¡_Ïb–_‹¡nÙhrow_
, 
__LINE__
); \

1473 
	`GTEST_CONCAT_TOKEN_
(
g‹¡_Ïb–_‹¡nÙhrow_
, 
__LINE__
): \

1474 
	`ç
(("Expected: " #statement " doesn'throw‡nƒxception.\n" \

1475 " Aùu®: " + 
g‹¡_msg
.
v®ue
).
	`c_¡r
())

	)

1477 
	#GTEST_TEST_ANY_THROW_
(
¡©em’t
, 
ç
) \

1478 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

1479 ià(::
‹¡šg
::
š‹º®
::
	`AlwaysTrue
()) { \

1480 
boŞ
 
g‹¡_ÿught_ªy
 = 
çl£
; \

1481 
Œy
 { \

1482 
	`GTEST_SUPPRESS_UNREACHABLE_CODE_WARNING_BELOW_
(
¡©em’t
); \

1484 
	`ÿtch
 (...) { \

1485 
g‹¡_ÿught_ªy
 = 
Œue
; \

1487 ià(!
g‹¡_ÿught_ªy
) { \

1488 
	`GTEST_CONCAT_TOKEN_
(
g‹¡_Ïb–_‹¡ªythrow_
, 
__LINE__
); \

1491 
	`GTEST_CONCAT_TOKEN_
(
g‹¡_Ïb–_‹¡ªythrow_
, 
__LINE__
): \

1492 
	`ç
("Expected: " #statement "hrows‡nƒxception.\n" \

1493 " Aùu®: iˆdÛ¢'t.")

	)

1499 
	#GTEST_TEST_BOOLEAN_
(
ex´essiÚ
, 
‹xt
, 
aùu®
, 
ex³ùed
, 
ç
) \

1500 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

1501 ià(cÚ¡ ::
‹¡šg
::
As£¹iÚResuÉ
 
g‹¡_¬_
 = \

1502 ::
‹¡šg
::
	`As£¹iÚResuÉ
(
ex´essiÚ
)) \

1505 
	`ç
(::
‹¡šg
::
š‹º®
::
	`G‘BoŞAs£¹iÚFau»Mes§ge
(\

1506 
g‹¡_¬_
, 
‹xt
, #aùu®, #ex³ùed).
	`c_¡r
())

	)

1508 
	#GTEST_TEST_NO_FATAL_FAILURE_
(
¡©em’t
, 
ç
) \

1509 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

1510 ià(::
‹¡šg
::
š‹º®
::
	`AlwaysTrue
()) { \

1511 ::
‹¡šg
::
š‹º®
::
HasNewF©®Fau»H–³r
 
g‹¡_çl_çu»_check”
; \

1512 
	`GTEST_SUPPRESS_UNREACHABLE_CODE_WARNING_BELOW_
(
¡©em’t
); \

1513 ià(
g‹¡_çl_çu»_check”
.
	`has_Ãw_çl_çu»
()) { \

1514 
	`GTEST_CONCAT_TOKEN_
(
g‹¡_Ïb–_‹¡noçl_
, 
__LINE__
); \

1517 
	`GTEST_CONCAT_TOKEN_
(
g‹¡_Ïb–_‹¡noçl_
, 
__LINE__
): \

1518 
	`ç
("Expected: " #statement " doesn't generate‚ew fatal " \

1520 " Aùu®: iˆdÛs.")

	)

1523 
	#GTEST_TEST_CLASS_NAME_
(
‹¡_su™e_Çme
, 
‹¡_Çme
) \

1524 
‹¡_su™e_Çme
##
_
##
‹¡_Çme
##
_Te¡


	)

1527 
	#GTEST_TEST_
(
‹¡_su™e_Çme
, 
‹¡_Çme
, 
·»Á_şass
, 
·»Á_id
) \

1528 
	`¡©ic_as£¹
((
	`GTEST_STRINGIFY_
(
‹¡_su™e_Çme
)) > 1, \

1530 
	`¡©ic_as£¹
((
	`GTEST_STRINGIFY_
(
‹¡_Çme
)) > 1, \

1532 
şass
 
	`GTEST_TEST_CLASS_NAME_
(
‹¡_su™e_Çme
, 
‹¡_Çme
) \

1533 : 
public
 
·»Á_şass
 { \

1534 
public
: \

1535 
	`GTEST_TEST_CLASS_NAME_
(
‹¡_su™e_Çme
, 
‹¡_Çme
)() = ; \

1536 ~
	`GTEST_TEST_CLASS_NAME_
(
‹¡_su™e_Çme
, 
‹¡_Çme
)(è
ov”ride
 = ; \

1537 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
	`GTEST_TEST_CLASS_NAME_
(
‹¡_su™e_Çme
, \

1538 
‹¡_Çme
)); \

1539 
	`GTEST_DISALLOW_MOVE_AND_ASSIGN_
(
	`GTEST_TEST_CLASS_NAME_
(
‹¡_su™e_Çme
, \

1540 
‹¡_Çme
)); \

1542 
´iv©e
: \

1543 
	`Te¡Body
(è
ov”ride
; \

1544 ::
‹¡šg
::
Te¡Info
* cÚ¡ 
‹¡_šfo_
 
GTEST_ATTRIBUTE_UNUSED_
; \

1547 ::
‹¡šg
::
Te¡Info
* cÚ¡ 
	`GTEST_TEST_CLASS_NAME_
(
‹¡_su™e_Çme
, \

1548 
‹¡_Çme
)::
‹¡_šfo_
 = \

1549 ::
‹¡šg
::
š‹º®
::
	`MakeAndRegi¡”Te¡Info
( \

1550 #‹¡_su™e_Çme, #‹¡_Çme, 
nuÎ±r
,‚ullptr, \

1551 ::
‹¡šg
::
š‹º®
::
	`CodeLoÿtiÚ
(
__FILE__
, 
__LINE__
), (
·»Á_id
), \

1552 ::
‹¡šg
::
š‹º®
::
Su™eApiResŞv”
< \

1553 
·»Á_şass
>::
	`G‘S‘UpCa£OrSu™e
(
__FILE__
, 
__LINE__
), \

1554 ::
‹¡šg
::
š‹º®
::
Su™eApiResŞv”
< \

1555 
·»Á_şass
>::
	`G‘T—rDownCa£OrSu™e
(
__FILE__
, 
__LINE__
), \

1556 
Ãw
 ::
‹¡šg
::
š‹º®
::
Te¡FaùÜyIm¶
<
	`GTEST_TEST_CLASS_NAME_
( \

1557 
‹¡_su™e_Çme
, 
‹¡_Çme
)>); \

1558 
	`GTEST_TEST_CLASS_NAME_
(
‹¡_su™e_Çme
, 
‹¡_Çme
)::
	`Te¡Body
()

	)

	@/usr/include/gtest/internal/gtest-string.h

41 #iâdeà
GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_STRING_H_


42 
	#GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_STRING_H_


	)

44 #ifdeà
__BORLANDC__


46 
	~<mem.h
>

49 
	~<¡ršg.h
>

50 
	~<c¡dšt
>

51 
	~<¡ršg
>

53 
	~"g‹¡/š‹º®/g‹¡-pÜt.h
"

55 
Çme¥aû
 
	g‹¡šg
 {

56 
Çme¥aû
 
	gš‹º®
 {

59 şas 
	cGTEST_API_
 
	gSŒšg
 {

60 
	gpublic
:

70 cÚ¡ * 
ClÚeCSŒšg
(cÚ¡ * 
c_¡r
);

72 #ià
GTEST_OS_WINDOWS_MOBILE


85 
LPCWSTR
 
AnsiToUtf16
(cÚ¡ * 
c_¡r
);

95 cÚ¡ * 
Utf16ToAnsi
(
LPCWSTR
 
utf16_¡r
);

104 
boŞ
 
CSŒšgEqu®s
(cÚ¡ * 
lhs
, cÚ¡ * 
rhs
);

110 
	g¡d
::
¡ršg
 
ShowWideCSŒšg
(cÚ¡ 
wch¬_t
* 
wide_c_¡r
);

118 
boŞ
 
WideCSŒšgEqu®s
(cÚ¡ 
wch¬_t
* 
lhs
, cÚ¡ wch¬_t* 
rhs
);

126 
boŞ
 
Ca£In£ns™iveCSŒšgEqu®s
(cÚ¡ * 
lhs
,

127 cÚ¡ * 
rhs
);

141 
boŞ
 
Ca£In£ns™iveWideCSŒšgEqu®s
(cÚ¡ 
wch¬_t
* 
lhs
,

142 cÚ¡ 
wch¬_t
* 
rhs
);

146 
boŞ
 
EndsW™hCa£In£ns™ive
(

147 cÚ¡ 
¡d
::
¡ršg
& 
¡r
, cÚ¡ std::¡ršg& 
suffix
);

150 
	g¡d
::
¡ršg
 
FÜm©IÁWidth2
(
v®ue
);

153 
	g¡d
::
¡ršg
 
FÜm©IÁWidthN
(
v®ue
, 
width
);

156 
	g¡d
::
¡ršg
 
FÜm©HexIÁ
(
v®ue
);

159 
	g¡d
::
¡ršg
 
FÜm©HexUIÁ32
(
ušt32_t
 
v®ue
);

162 
	g¡d
::
¡ršg
 
FÜm©By‹
(
v®ue
);

164 
	g´iv©e
:

165 
SŒšg
();

170 
GTEST_API_
 
	g¡d
::
¡ršg
 
SŒšgSŒ—mToSŒšg
(::
¡d
::
¡ršg¡»am
* 
¡»am
);

	@/usr/include/sched.h

19 #iâdef 
_SCHED_H


20 
	#_SCHED_H
 1

	)

22 
	~<ã©u»s.h
>

25 
	~<b™s/ty³s.h
>

27 
	#__Ãed_size_t


	)

28 
	#__Ãed_NULL


	)

29 
	~<¡ddef.h
>

31 
	~<b™s/ty³s/time_t.h
>

32 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

33 #iâdeà
__USE_XOPEN2K


34 
	~<time.h
>

37 #iâdeà
__pid_t_defšed


38 
__pid_t
 
	tpid_t
;

39 
	#__pid_t_defšed


	)

43 
	~<b™s/sched.h
>

44 
	~<b™s/ıu-£t.h
>

47 
	#sched_´iÜ™y
 
sched_´iÜ™y


	)

48 
	#__sched_´iÜ™y
 
sched_´iÜ™y


	)

51 
__BEGIN_DECLS


54 
	$sched_£¬am
 (
__pid_t
 
__pid
, cÚ¡ 
sched_·¿m
 *
__·¿m
)

55 
__THROW
;

58 
	$sched_g‘·¿m
 (
__pid_t
 
__pid
, 
sched_·¿m
 *
__·¿m
è
__THROW
;

61 
	$sched_£tscheduËr
 (
__pid_t
 
__pid
, 
__pŞicy
,

62 cÚ¡ 
sched_·¿m
 *
__·¿m
è
__THROW
;

65 
	$sched_g‘scheduËr
 (
__pid_t
 
__pid
è
__THROW
;

68 
	$sched_y›ld
 (è
__THROW
;

71 
	$sched_g‘_´iÜ™y_max
 (
__®gÜ™hm
è
__THROW
;

74 
	$sched_g‘_´iÜ™y_mš
 (
__®gÜ™hm
è
__THROW
;

77 #iâdeà
__USE_TIME_BITS64


78 
	$sched_¼_g‘_š‹rv®
 (
__pid_t
 
__pid
, 
time¥ec
 *
__t
è
__THROW
;

80 #ifdeà
__REDIRECT_NTH


81 
	`__REDIRECT_NTH
 (
sched_¼_g‘_š‹rv®
,

82 (
__pid_t
 
__pid
, 
time¥ec
 *
__t
),

83 
__sched_¼_g‘_š‹rv®64
);

85 
	#sched_¼_g‘_š‹rv®
 
__sched_¼_g‘_š‹rv®64


	)

89 #ifdeà
__USE_GNU


91 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

92 
	#CPU_SET
(
ıu
, 
ıu£
è
	`__CPU_SET_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

93 
	#CPU_CLR
(
ıu
, 
ıu£
è
	`__CPU_CLR_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

94 
	#CPU_ISSET
(
ıu
, 
ıu£
è
	`__CPU_ISSET_S
 (ıu,  (
ıu_£t_t
), \

95 
ıu£
)

	)

96 
	#CPU_ZERO
(
ıu£
è
	`__CPU_ZERO_S
 ( (
ıu_£t_t
), cpu£)

	)

97 
	#CPU_COUNT
(
ıu£
è
	`__CPU_COUNT_S
 ( (
ıu_£t_t
), cpu£)

	)

99 
	#CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_SET_S
 (ıu, s‘size, cpu£)

	)

100 
	#CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_CLR_S
 (ıu, s‘size, cpu£)

	)

101 
	#CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_ISSET_S
 (cpu, setsize, \

102 
ıu£
)

	)

103 
	#CPU_ZERO_S
(
£tsize
, 
ıu£
è
	`__CPU_ZERO_S
 (£tsize, cpu£)

	)

104 
	#CPU_COUNT_S
(
£tsize
, 
ıu£
è
	`__CPU_COUNT_S
 (£tsize, cpu£)

	)

106 
	#CPU_EQUAL
(
ıu£1
, 
ıu£2
) \

107 
	`__CPU_EQUAL_S
 ( (
ıu_£t_t
), 
ıu£1
, 
ıu£2
)

	)

108 
	#CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

109 
	`__CPU_EQUAL_S
 (
£tsize
, 
ıu£1
, 
ıu£2
)

	)

111 
	#CPU_AND
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

112 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

113 
	#CPU_OR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

114 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

115 
	#CPU_XOR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

116 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

117 
	#CPU_AND_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

118 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

119 
	#CPU_OR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

120 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

121 
	#CPU_XOR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

122 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

124 
	#CPU_ALLOC_SIZE
(
couÁ
è
	`__CPU_ALLOC_SIZE
 (couÁ)

	)

125 
	#CPU_ALLOC
(
couÁ
è
	`__CPU_ALLOC
 (couÁ)

	)

126 
	#CPU_FREE
(
ıu£t
è
	`__CPU_FREE
 (ıu£t)

	)

130 
	$sched_£ffš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

131 cÚ¡ 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

134 
	$sched_g‘affš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

135 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

138 
__END_DECLS


	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

27 
	~<b™s/ty³s.h
>

28 
	~<b™s/wch¬.h
>

29 
	~<b™s/wÜdsize.h
>

34 
	~<b™s/¡dšt-šŠ.h
>

37 
	~<b™s/¡dšt-ušŠ.h
>

43 
__št_Ëa¡8_t
 
	tšt_Ëa¡8_t
;

44 
__št_Ëa¡16_t
 
	tšt_Ëa¡16_t
;

45 
__št_Ëa¡32_t
 
	tšt_Ëa¡32_t
;

46 
__št_Ëa¡64_t
 
	tšt_Ëa¡64_t
;

49 
__ušt_Ëa¡8_t
 
	tušt_Ëa¡8_t
;

50 
__ušt_Ëa¡16_t
 
	tušt_Ëa¡16_t
;

51 
__ušt_Ëa¡32_t
 
	tušt_Ëa¡32_t
;

52 
__ušt_Ëa¡64_t
 
	tušt_Ëa¡64_t
;

58 sigÃd 
	tšt_ç¡8_t
;

59 #ià
__WORDSIZE
 == 64

60 
	tšt_ç¡16_t
;

61 
	tšt_ç¡32_t
;

62 
	tšt_ç¡64_t
;

64 
	tšt_ç¡16_t
;

65 
	tšt_ç¡32_t
;

66 
__ex‹nsiÚ__


67 
	tšt_ç¡64_t
;

71 
	tušt_ç¡8_t
;

72 #ià
__WORDSIZE
 == 64

73 
	tušt_ç¡16_t
;

74 
	tušt_ç¡32_t
;

75 
	tušt_ç¡64_t
;

77 
	tušt_ç¡16_t
;

78 
	tušt_ç¡32_t
;

79 
__ex‹nsiÚ__


80 
	tušt_ç¡64_t
;

85 #ià
__WORDSIZE
 == 64

86 #iâdeà
__šŒ_t_defšed


87 
	tšŒ_t
;

88 
	#__šŒ_t_defšed


	)

90 
	tušŒ_t
;

92 #iâdeà
__šŒ_t_defšed


93 
	tšŒ_t
;

94 
	#__šŒ_t_defšed


	)

96 
	tušŒ_t
;

101 
__štmax_t
 
	tštmax_t
;

102 
__uštmax_t
 
	tuštmax_t
;

105 #ià
__WORDSIZE
 == 64

106 
	#__INT64_C
(
c
èø## 
L


	)

107 
	#__UINT64_C
(
c
èø## 
UL


	)

109 
	#__INT64_C
(
c
èø## 
LL


	)

110 
	#__UINT64_C
(
c
èø## 
ULL


	)

116 
	#INT8_MIN
 (-128)

	)

117 
	#INT16_MIN
 (-32767-1)

	)

118 
	#INT32_MIN
 (-2147483647-1)

	)

119 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

121 
	#INT8_MAX
 (127)

	)

122 
	#INT16_MAX
 (32767)

	)

123 
	#INT32_MAX
 (2147483647)

	)

124 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

127 
	#UINT8_MAX
 (255)

	)

128 
	#UINT16_MAX
 (65535)

	)

129 
	#UINT32_MAX
 (4294967295U)

	)

130 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

134 
	#INT_LEAST8_MIN
 (-128)

	)

135 
	#INT_LEAST16_MIN
 (-32767-1)

	)

136 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

137 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

139 
	#INT_LEAST8_MAX
 (127)

	)

140 
	#INT_LEAST16_MAX
 (32767)

	)

141 
	#INT_LEAST32_MAX
 (2147483647)

	)

142 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

145 
	#UINT_LEAST8_MAX
 (255)

	)

146 
	#UINT_LEAST16_MAX
 (65535)

	)

147 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

148 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

152 
	#INT_FAST8_MIN
 (-128)

	)

153 #ià
__WORDSIZE
 == 64

154 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

155 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

157 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

158 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

160 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

162 
	#INT_FAST8_MAX
 (127)

	)

163 #ià
__WORDSIZE
 == 64

164 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

165 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

167 
	#INT_FAST16_MAX
 (2147483647)

	)

168 
	#INT_FAST32_MAX
 (2147483647)

	)

170 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

173 
	#UINT_FAST8_MAX
 (255)

	)

174 #ià
__WORDSIZE
 == 64

175 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

176 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

178 
	#UINT_FAST16_MAX
 (4294967295U)

	)

179 
	#UINT_FAST32_MAX
 (4294967295U)

	)

181 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

185 #ià
__WORDSIZE
 == 64

186 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

187 
	#INTPTR_MAX
 (9223372036854775807L)

	)

188 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

190 
	#INTPTR_MIN
 (-2147483647-1)

	)

191 
	#INTPTR_MAX
 (2147483647)

	)

192 
	#UINTPTR_MAX
 (4294967295U)

	)

197 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

199 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

202 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

208 #ià
__WORDSIZE
 == 64

209 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

210 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

212 #ià
__WORDSIZE32_PTRDIFF_LONG


213 
	#PTRDIFF_MIN
 (-2147483647L-1)

	)

214 
	#PTRDIFF_MAX
 (2147483647L)

	)

216 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

217 
	#PTRDIFF_MAX
 (2147483647)

	)

222 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

223 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

226 #ià
__WORDSIZE
 == 64

227 
	#SIZE_MAX
 (18446744073709551615UL)

	)

229 #ià
__WORDSIZE32_SIZE_ULONG


230 
	#SIZE_MAX
 (4294967295UL)

	)

232 
	#SIZE_MAX
 (4294967295U)

	)

237 #iâdeà
WCHAR_MIN


239 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

240 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

244 
	#WINT_MIN
 (0u)

	)

245 
	#WINT_MAX
 (4294967295u)

	)

248 
	#INT8_C
(
c
è
	)
c

249 
	#INT16_C
(
c
è
	)
c

250 
	#INT32_C
(
c
è
	)
c

251 #ià
__WORDSIZE
 == 64

252 
	#INT64_C
(
c
èø## 
L


	)

254 
	#INT64_C
(
c
èø## 
LL


	)

258 
	#UINT8_C
(
c
è
	)
c

259 
	#UINT16_C
(
c
è
	)
c

260 
	#UINT32_C
(
c
èø## 
U


	)

261 #ià
__WORDSIZE
 == 64

262 
	#UINT64_C
(
c
èø## 
UL


	)

264 
	#UINT64_C
(
c
èø## 
ULL


	)

268 #ià
__WORDSIZE
 == 64

269 
	#INTMAX_C
(
c
èø## 
L


	)

270 
	#UINTMAX_C
(
c
èø## 
UL


	)

272 
	#INTMAX_C
(
c
èø## 
LL


	)

273 
	#UINTMAX_C
(
c
èø## 
ULL


	)

276 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT_C2X
)

278 
	#INT8_WIDTH
 8

	)

279 
	#UINT8_WIDTH
 8

	)

280 
	#INT16_WIDTH
 16

	)

281 
	#UINT16_WIDTH
 16

	)

282 
	#INT32_WIDTH
 32

	)

283 
	#UINT32_WIDTH
 32

	)

284 
	#INT64_WIDTH
 64

	)

285 
	#UINT64_WIDTH
 64

	)

287 
	#INT_LEAST8_WIDTH
 8

	)

288 
	#UINT_LEAST8_WIDTH
 8

	)

289 
	#INT_LEAST16_WIDTH
 16

	)

290 
	#UINT_LEAST16_WIDTH
 16

	)

291 
	#INT_LEAST32_WIDTH
 32

	)

292 
	#UINT_LEAST32_WIDTH
 32

	)

293 
	#INT_LEAST64_WIDTH
 64

	)

294 
	#UINT_LEAST64_WIDTH
 64

	)

296 
	#INT_FAST8_WIDTH
 8

	)

297 
	#UINT_FAST8_WIDTH
 8

	)

298 
	#INT_FAST16_WIDTH
 
__WORDSIZE


	)

299 
	#UINT_FAST16_WIDTH
 
__WORDSIZE


	)

300 
	#INT_FAST32_WIDTH
 
__WORDSIZE


	)

301 
	#UINT_FAST32_WIDTH
 
__WORDSIZE


	)

302 
	#INT_FAST64_WIDTH
 64

	)

303 
	#UINT_FAST64_WIDTH
 64

	)

305 
	#INTPTR_WIDTH
 
__WORDSIZE


	)

306 
	#UINTPTR_WIDTH
 
__WORDSIZE


	)

308 
	#INTMAX_WIDTH
 64

	)

309 
	#UINTMAX_WIDTH
 64

	)

311 
	#PTRDIFF_WIDTH
 
__WORDSIZE


	)

312 
	#SIG_ATOMIC_WIDTH
 32

	)

313 
	#SIZE_WIDTH
 
__WORDSIZE


	)

314 
	#WCHAR_WIDTH
 32

	)

315 
	#WINT_WIDTH
 32

	)

	@/usr/include/errno.h

22 #iâdef 
_ERRNO_H


23 
	#_ERRNO_H
 1

	)

25 
	~<ã©u»s.h
>

28 
	~<b™s/”ºo.h
>

32 #iâdeà
__ASSEMBLER__


34 
__BEGIN_DECLS


37 *
	$__”ºo_loÿtiÚ
 (è
__THROW
 
__©Œibu‹_cÚ¡__
;

38 
	#”ºo
 (*
	`__”ºo_loÿtiÚ
 ())

	)

40 #ifdeà
__USE_GNU


45 *
´og¿m_švoÿtiÚ_Çme
;

46 *
´og¿m_švoÿtiÚ_shÜt_Çme
;

48 
	~<b™s/ty³s/”rÜ_t.h
>

52 
__END_DECLS


	@/usr/include/features-time64.h

20 
	~<b™s/wÜdsize.h
>

21 
	~<b™s/timesize.h
>

23 #ià
defšed
 
_TIME_BITS


24 #ià
_TIME_BITS
 == 64

25 #ià! 
defšed
 (
_FILE_OFFSET_BITS
) || _FILE_OFFSET_BITS != 64

27 #–ià
__TIMESIZE
 == 32

28 
	#__USE_TIME_BITS64
 1

	)

30 #–ià
_TIME_BITS
 == 32

31 #ià
__TIMESIZE
 > 32

35 #”rÜ 
Inv®id
 
_TIME_BITS
 
v®ue
 (
ÿn
 
Úly
 
be
 32 
Ü
 64-
b™
)

	@/usr/include/gmock/gmock-spec-builders.h

61 #iâdeà
GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_SPEC_BUILDERS_H_


62 
	#GOOGLEMOCK_INCLUDE_GMOCK_GMOCK_SPEC_BUILDERS_H_


	)

64 
	~<funùiÚ®
>

65 
	~<m­
>

66 
	~<memÜy
>

67 
	~<£t
>

68 
	~<s¡»am
>

69 
	~<¡ršg
>

70 
	~<ty³_Œa™s
>

71 
	~<ut™y
>

72 
	~<veùÜ
>

73 
	~"gmock/gmock-aùiÚs.h
"

74 
	~"gmock/gmock-ÿrdš®™›s.h
"

75 
	~"gmock/gmock-m©ch”s.h
"

76 
	~"gmock/š‹º®/gmock-š‹º®-uts.h
"

77 
	~"gmock/š‹º®/gmock-pÜt.h
"

78 
	~"g‹¡/g‹¡.h
"

80 #ià
GTEST_HAS_EXCEPTIONS


81 
	~<¡dexû±
>

84 
GTEST_DISABLE_MSC_WARNINGS_PUSH_
(4251 \

87 
Çme¥aû
 
	g‹¡šg
 {

90 
şass
 
	gEx³ù©iÚ
;

93 
şass
 
	gEx³ù©iÚS‘
;

97 
Çme¥aû
 
	gš‹º®
 {

100 
	g‹m¶©e
 <
ty³Çme
 
	gF
> 
şass
 
	gFunùiÚMock”
;

103 
şass
 
	gEx³ù©iÚBa£
;

106 
	g‹m¶©e
 <
ty³Çme
 
	gF
> 
şass
 
	gTy³dEx³ù©iÚ
;

109 
şass
 
	gEx³ù©iÚTe¡”
;

112 
	g‹m¶©e
 <
ty³Çme
 
	gMockCÏss
>

113 
şass
 
	gNiûMockIm¶
;

114 
	g‹m¶©e
 <
ty³Çme
 
	gMockCÏss
>

115 
şass
 
	gSŒiùMockIm¶
;

116 
	g‹m¶©e
 <
ty³Çme
 
	gMockCÏss
>

117 
şass
 
	gNaggyMockIm¶
;

130 
GTEST_API_
 
GTEST_DECLARE_STATIC_MUTEX_
(
g_gmock_mu‹x
);

133 
şass
 
	gUÁy³dAùiÚResuÉHŞd”Ba£
;

138 şas 
	cGTEST_API_
 
	gUÁy³dFunùiÚMock”Ba£
 {

139 
	gpublic
:

140 
UÁy³dFunùiÚMock”Ba£
();

141 
	gvœtu®
 ~
UÁy³dFunùiÚMock”Ba£
();

146 
boŞ
 
V”ifyAndCË¬Ex³ù©iÚsLocked
()

147 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
);

150 
vœtu®
 
CË¬DeçuÉAùiÚsLocked
()

151 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) = 0;

162 
vœtu®
 
UÁy³dAùiÚResuÉHŞd”Ba£
* 
UÁy³dP”fÜmDeçuÉAùiÚ
(

163 * 
uÁy³d_¬gs
, cÚ¡ 
¡d
::
¡ršg
& 
ÿÎ_desütiÚ
) const = 0;

168 
vœtu®
 
UÁy³dAùiÚResuÉHŞd”Ba£
* 
UÁy³dP”fÜmAùiÚ
(

169 cÚ¡ * 
uÁy³d_aùiÚ
, * 
uÁy³d_¬gs
) const = 0;

174 
vœtu®
 
UÁy³dDesüibeUnš‹»¡šgC®l
(

175 cÚ¡ * 
uÁy³d_¬gs
,

176 ::
¡d
::
o¡»am
* 
os
) const

177 
GTEST_LOCK_EXCLUDED_
(
g_gmock_mu‹x
) = 0;

185 
vœtu®
 cÚ¡ 
Ex³ù©iÚBa£
* 
UÁy³dFšdM©chšgEx³ù©iÚ
(

186 cÚ¡ * 
uÁy³d_¬gs
,

187 cÚ¡ ** 
uÁy³d_aùiÚ
, 
boŞ
* 
is_exûssive
,

188 ::
¡d
::
o¡»am
* 
wh©
, ::¡d::o¡»am* 
why
)

189 
GTEST_LOCK_EXCLUDED_
(
g_gmock_mu‹x
) = 0;

192 
vœtu®
 
UÁy³dPrštArgs
(cÚ¡ * 
uÁy³d_¬gs
,

193 ::
¡d
::
o¡»am
* 
os
) const = 0;

199 
Regi¡”OwÃr
(cÚ¡ * 
mock_obj
)

200 
GTEST_LOCK_EXCLUDED_
(
g_gmock_mu‹x
);

205 
S‘OwÃrAndName
(cÚ¡ * 
mock_obj
, cÚ¡ * 
Çme
)

206 
GTEST_LOCK_EXCLUDED_
(
g_gmock_mu‹x
);

211 cÚ¡ * 
MockObjeù
() const

212 
GTEST_LOCK_EXCLUDED_
(
g_gmock_mu‹x
);

216 cÚ¡ * 
Name
() const

217 
GTEST_LOCK_EXCLUDED_
(
g_gmock_mu‹x
);

223 
UÁy³dAùiÚResuÉHŞd”Ba£
* 
UÁy³dInvokeW™h
(* 
uÁy³d_¬gs
)

224 
GTEST_LOCK_EXCLUDED_
(
g_gmock_mu‹x
);

226 
	g´Ùeùed
:

227 
¡d
::
	tveùÜ
<cÚ¡ *> 
	tUÁy³dOnC®lS³cs
;

229 
usšg
 
	gUÁy³dEx³ù©iÚs
 = 
¡d
::
veùÜ
<¡d::
sh¬ed_±r
<
Ex³ù©iÚBa£
>>;

233 
Ex³ù©iÚ
 
G‘HªdËOf
(
Ex³ù©iÚBa£
* 
exp
);

238 cÚ¡ * 
	gmock_obj_
;

242 cÚ¡ * 
	gÇme_
;

245 
UÁy³dOnC®lS³cs
 
	guÁy³d_Ú_ÿÎ_¥ecs_
;

256 
UÁy³dEx³ù©iÚs
 
	guÁy³d_ex³ù©iÚs_
;

260 şas 
	cUÁy³dOnC®lS³cBa£
 {

261 
	gpublic
:

263 
UÁy³dOnC®lS³cBa£
(cÚ¡ * 
a_fe
, 
a_lše
)

264 : 
fe_
(
a_fe
), 
lše_
(
a_lše
), 
Ï¡_şau£_
(
kNÚe
) {}

267 cÚ¡ * 
fe
(ècÚ¡ {  
	gfe_
; }

268 
lše
(ècÚ¡ {  
	glše_
; }

270 
	g´Ùeùed
:

272 
	eCÏu£
 {

275 
kNÚe
,

276 
	gkW™h
,

277 
	gkWlByDeçuÉ


281 
As£¹S³cPrİ”ty
(
boŞ
 
´İ”ty
,

282 cÚ¡ 
¡d
::
¡ršg
& 
çu»_mes§ge
) const {

283 
As£¹
(
´İ”ty
, 
fe_
, 
lše_
, 
çu»_mes§ge
);

287 
Ex³ùS³cPrİ”ty
(
boŞ
 
´İ”ty
,

288 cÚ¡ 
¡d
::
¡ršg
& 
çu»_mes§ge
) const {

289 
Ex³ù
(
´İ”ty
, 
fe_
, 
lše_
, 
çu»_mes§ge
);

292 cÚ¡ * 
	gfe_
;

293 
	glše_
;

297 
CÏu£
 
	gÏ¡_şau£_
;

301 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

302 şas 
	cOnC®lS³c
 : 
public
 
UÁy³dOnC®lS³cBa£
 {

303 
public
:

304 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tArgum’tTu¶e
 ArgumentTuple;

305 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tArgum’tM©ch”Tu¶e
 ArgumentMatcherTuple;

309 
OnC®lS³c
(cÚ¡ * 
a_fe
, 
a_lše
,

310 cÚ¡ 
Argum’tM©ch”Tu¶e
& 
m©ch”s
)

311 : 
UÁy³dOnC®lS³cBa£
(
a_fe
, 
a_lše
),

312 
m©ch”s_
(
m©ch”s
),

316 
exŒa_m©ch”_
(
A
<cÚ¡ 
Argum’tTu¶e
&>()) {}

319 
	gOnC®lS³c
& 
W™h
(cÚ¡ 
M©ch”
<cÚ¡ 
Argum’tTu¶e
&>& 
m
) {

321 
Ex³ùS³cPrİ”ty
(
Ï¡_şau£_
 < 
kW™h
,

324 
	gÏ¡_şau£_
 = 
kW™h
;

326 
	gexŒa_m©ch”_
 = 
m
;

327  *
	gthis
;

331 
	gOnC®lS³c
& 
WlByDeçuÉ
(cÚ¡ 
AùiÚ
<
F
>& 
aùiÚ
) {

332 
Ex³ùS³cPrİ”ty
(
Ï¡_şau£_
 < 
kWlByDeçuÉ
,

335 
	gÏ¡_şau£_
 = 
kWlByDeçuÉ
;

337 
Ex³ùS³cPrİ”ty
(!
aùiÚ
.
IsDoDeçuÉ
(),

339 
	gaùiÚ_
 = 
aùiÚ
;

340  *
	gthis
;

344 
boŞ
 
M©ches
(cÚ¡ 
Argum’tTu¶e
& 
¬gs
) const {

345  
Tu¶eM©ches
(
m©ch”s_
, 
¬gs
è&& 
	gexŒa_m©ch”_
.
M©ches
(args);

349 cÚ¡ 
	gAùiÚ
<
	gF
>& 
G‘AùiÚ
() const {

350 
As£¹S³cPrİ”ty
(
Ï¡_şau£_
 =ğ
kWlByDeçuÉ
,

353  
	gaùiÚ_
;

356 
	g´iv©e
:

370 
Argum’tM©ch”Tu¶e
 
m©ch”s_
;

371 
	gM©ch”
<cÚ¡ 
	gArgum’tTu¶e
&> 
	gexŒa_m©ch”_
;

372 
	gAùiÚ
<
	gF
> 
	gaùiÚ_
;

376 
	eC®lR—ùiÚ
 {

377 
	gkAÎow
,

378 
	gkW¬n
,

379 
	gkFa
,

385 şas 
	cGTEST_API_
 
	gMock
 {

386 
	gpublic
:

391 
AÎowL—k
(cÚ¡ * 
mock_obj
)

392 
GTEST_LOCK_EXCLUDED_
(
š‹º®
::
g_gmock_mu‹x
);

397 
boŞ
 
V”ifyAndCË¬Ex³ù©iÚs
(* 
mock_obj
)

398 
GTEST_LOCK_EXCLUDED_
(
š‹º®
::
g_gmock_mu‹x
);

403 
boŞ
 
V”ifyAndCË¬
(* 
mock_obj
)

404 
GTEST_LOCK_EXCLUDED_
(
š‹º®
::
g_gmock_mu‹x
);

407 
boŞ
 
IsNaggy
(* 
mock_obj
)

408 
GTEST_LOCK_EXCLUDED_
(
š‹º®
::
g_gmock_mu‹x
);

410 
boŞ
 
IsNiû
(* 
mock_obj
)

411 
GTEST_LOCK_EXCLUDED_
(
š‹º®
::
g_gmock_mu‹x
);

413 
boŞ
 
IsSŒiù
(* 
mock_obj
)

414 
GTEST_LOCK_EXCLUDED_
(
š‹º®
::
g_gmock_mu‹x
);

416 
	g´iv©e
:

417 
ä›nd
 
şass
 
š‹º®
::
UÁy³dFunùiÚMock”Ba£
;

421 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

422 
ä›nd
 
şass
 
	gš‹º®
::
FunùiÚMock”
;

424 
	g‹m¶©e
 <
ty³Çme
 
	gMockCÏss
>

425 
ä›nd
 
şass
 
	gš‹º®
::
NiûMockIm¶
;

426 
	g‹m¶©e
 <
ty³Çme
 
	gMockCÏss
>

427 
ä›nd
 
şass
 
	gš‹º®
::
NaggyMockIm¶
;

428 
	g‹m¶©e
 <
ty³Çme
 
	gMockCÏss
>

429 
ä›nd
 
şass
 
	gš‹º®
::
SŒiùMockIm¶
;

433 
AÎowUnš‹»¡šgC®ls
(cÚ¡ * 
mock_obj
)

434 
GTEST_LOCK_EXCLUDED_
(
š‹º®
::
g_gmock_mu‹x
);

438 
W¬nUnš‹»¡šgC®ls
(cÚ¡ * 
mock_obj
)

439 
GTEST_LOCK_EXCLUDED_
(
š‹º®
::
g_gmock_mu‹x
);

443 
FaUnš‹»¡šgC®ls
(cÚ¡ * 
mock_obj
)

444 
GTEST_LOCK_EXCLUDED_
(
š‹º®
::
g_gmock_mu‹x
);

448 
UÄegi¡”C®lR—ùiÚ
(cÚ¡ * 
mock_obj
)

449 
GTEST_LOCK_EXCLUDED_
(
š‹º®
::
g_gmock_mu‹x
);

453 
	gš‹º®
::
C®lR—ùiÚ
 
G‘R—ùiÚOnUnš‹»¡šgC®ls
(

454 cÚ¡ * 
mock_obj
)

455 
GTEST_LOCK_EXCLUDED_
(
š‹º®
::
g_gmock_mu‹x
);

460 
boŞ
 
V”ifyAndCË¬Ex³ù©iÚsLocked
(* 
mock_obj
)

461 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
š‹º®
::
g_gmock_mu‹x
);

464 
CË¬DeçuÉAùiÚsLocked
(* 
mock_obj
)

465 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
š‹º®
::
g_gmock_mu‹x
);

468 
Regi¡”
(

469 cÚ¡ * 
mock_obj
,

470 
š‹º®
::
UÁy³dFunùiÚMock”Ba£
* 
mock”
)

471 
GTEST_LOCK_EXCLUDED_
(
š‹º®
::
g_gmock_mu‹x
);

476 
Regi¡”U£ByOnC®lOrEx³ùC®l
(

477 cÚ¡ * 
mock_obj
, cÚ¡ * 
fe
, 
lše
)

478 
GTEST_LOCK_EXCLUDED_
(
š‹º®
::
g_gmock_mu‹x
);

484 
UÄegi¡”Locked
(
š‹º®
::
UÁy³dFunùiÚMock”Ba£
* 
mock”
)

485 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
š‹º®
::
g_gmock_mu‹x
);

504 şas 
	cGTEST_API_
 
	gEx³ù©iÚ
 {

505 
	gpublic
:

507 
Ex³ù©iÚ
();

508 
Ex³ù©iÚ
(Expectation&&) = ;

509 
Ex³ù©iÚ
(const Expectation&) = ;

510 
	gEx³ù©iÚ
& 
	gİ”©Ü
=(
Ex³ù©iÚ
&&) = ;

511 
	gEx³ù©iÚ
& 
	gİ”©Ü
=(cÚ¡ 
Ex³ù©iÚ
&) = ;

512 ~
Ex³ù©iÚ
();

523 
Ex³ù©iÚ
(
š‹º®
::
Ex³ù©iÚBa£
& 
exp
);

530 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
Ex³ù©iÚ
& 
rhs
) const {

531  
ex³ù©iÚ_ba£_
 =ğ
rhs
.expectation_base_;

534 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
Ex³ù©iÚ
& 
rhs
ècÚ¡ {  !(*
this
 ==„hs); }

536 
	g´iv©e
:

537 
ä›nd
 
şass
 
Ex³ù©iÚS‘
;

538 
ä›nd
 
şass
 
	gSequ’û
;

539 
ä›nd
 
	gşass
 ::
‹¡šg
::
š‹º®
::
Ex³ù©iÚBa£
;

540 
ä›nd
 
	gşass
 ::
‹¡šg
::
š‹º®
::
UÁy³dFunùiÚMock”Ba£
;

542 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

543 
ä›nd
 
	gşass
 ::
‹¡šg
::
š‹º®
::
FunùiÚMock”
;

545 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

546 
ä›nd
 
	gşass
 ::
‹¡šg
::
š‹º®
::
Ty³dEx³ù©iÚ
;

549 şas 
	cLess
 {

550 
	gpublic
:

551 
boŞ
 
İ”©Ü
()(cÚ¡ 
Ex³ù©iÚ
& 
lhs
, cÚ¡ 
	gEx³ù©iÚ
& 
	grhs
) const {

552  
	glhs
.
	gex³ù©iÚ_ba£_
.
g‘
(è< 
	grhs
.expectation_base_.get();

556 ::
¡d
::
	t£t
<
	tEx³ù©iÚ
, 
	tLess
> 
	tS‘
;

558 
Ex³ù©iÚ
(

559 cÚ¡ 
¡d
::
sh¬ed_±r
<
š‹º®
::
Ex³ù©iÚBa£
>& 
ex³ù©iÚ_ba£
);

562 cÚ¡ 
	g¡d
::
sh¬ed_±r
<
š‹º®
::
Ex³ù©iÚBa£
>& 
ex³ù©iÚ_ba£
() const {

563  
ex³ù©iÚ_ba£_
;

567 
	g¡d
::
sh¬ed_±r
<
š‹º®
::
Ex³ù©iÚBa£
> 
ex³ù©iÚ_ba£_
;

583 şas 
	cEx³ù©iÚS‘
 {

584 
	gpublic
:

586 
Ex³ù©iÚ
::
	tS‘
::
	tcÚ¡_™”©Ü
 const_iterator;

589 
	gEx³ù©iÚ
::
	tS‘
::
	tv®ue_ty³
 value_type;

592 
Ex³ù©iÚS‘
() {}

597 
Ex³ù©iÚS‘
(
š‹º®
::
Ex³ù©iÚBa£
& 
exp
) {

598 *
this
 +ğ
Ex³ù©iÚ
(
exp
);

604 
Ex³ù©iÚS‘
(cÚ¡ 
Ex³ù©iÚ
& 
e
) {

605 *
	gthis
 +ğ
e
;

613 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
Ex³ù©iÚS‘
& 
rhs
) const {

614  
ex³ù©iÚs_
 =ğ
rhs
.expectations_;

617 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
Ex³ù©iÚS‘
& 
rhs
ècÚ¡ {  !(*
this
 ==„hs); }

621 
	gEx³ù©iÚS‘
& 
	gİ”©Ü
+=(cÚ¡ 
Ex³ù©iÚ
& 
e
) {

622 
ex³ù©iÚs_
.
š£¹
(
e
);

623  *
	gthis
;

626 
size
(ècÚ¡ {  
	g¡©ic_ÿ¡
<>(
	gex³ù©iÚs_
.size()); }

628 
cÚ¡_™”©Ü
 
begš
(ècÚ¡ {  
	gex³ù©iÚs_
.begin(); }

629 
cÚ¡_™”©Ü
 
’d
(ècÚ¡ {  
	gex³ù©iÚs_
.end(); }

631 
	g´iv©e
:

632 
Ex³ù©iÚ
::
S‘
 
ex³ù©iÚs_
;

639 şas 
	cGTEST_API_
 
	gSequ’û
 {

640 
	gpublic
:

642 
Sequ’û
(è: 
Ï¡_ex³ù©iÚ_
(
Ãw
 
Ex³ù©iÚ
) {}

646 
AddEx³ù©iÚ
(cÚ¡ 
Ex³ù©iÚ
& 
ex³ù©iÚ
) const;

648 
	g´iv©e
:

650 
¡d
::
sh¬ed_±r
<
Ex³ù©iÚ
> 
Ï¡_ex³ù©iÚ_
;

677 şas 
	cGTEST_API_
 
	gInSequ’û
 {

678 
	gpublic
:

679 
InSequ’û
();

680 ~
InSequ’û
();

681 
	g´iv©e
:

682 
boŞ
 
£qu’û_ü—‹d_
;

684 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
InSequ’û
);

685 } 
	gGTEST_ATTRIBUTE_UNUSED_
;

687 
Çme¥aû
 
	gš‹º®
 {

691 
GTEST_API_
 
Th»adLoÿl
<
Sequ’û
*> 
g_gmock_im¶ic™_£qu’û
;

707 şas 
	cGTEST_API_
 
	gEx³ù©iÚBa£
 {

708 
	gpublic
:

710 
Ex³ù©iÚBa£
(cÚ¡ * 
fe
, 
lše
, cÚ¡ 
¡d
::
¡ršg
& 
sourû_‹xt
);

712 
	gvœtu®
 ~
Ex³ù©iÚBa£
();

715 cÚ¡ * 
fe
(ècÚ¡ {  
	gfe_
; }

716 
lše
(ècÚ¡ {  
	glše_
; }

717 cÚ¡ * 
sourû_‹xt
(ècÚ¡ {  
	gsourû_‹xt_
.
c_¡r
(); }

719 cÚ¡ 
	gC¬dš®™y
& 
ÿrdš®™y
(ècÚ¡ {  
	gÿrdš®™y_
; }

722 
DesüibeLoÿtiÚTo
(::
¡d
::
o¡»am
* 
os
) const {

723 *
os
 << 
FÜm©FeLoÿtiÚ
(
fe
(), 
lše
()) << " ";

728 
DesüibeC®lCouÁTo
(::
¡d
::
o¡»am
* 
os
) const

729 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
);

733 
vœtu®
 
MaybeDesüibeExŒaM©ch”To
(::
¡d
::
o¡»am
* 
os
) = 0;

735 
	g´Ùeùed
:

736 
ä›nd
 
şass
 ::
‹¡šg
::
Ex³ù©iÚ
;

737 
ä›nd
 
şass
 
	gUÁy³dFunùiÚMock”Ba£
;

739 
	eCÏu£
 {

741 
	gkNÚe
,

742 
	gkW™h
,

743 
	gkTimes
,

744 
	gkInSequ’û
,

745 
	gkAá”
,

746 
	gkWlOnû
,

747 
	gkWlR•—‹dly
,

748 
	gkR‘œesOnS©u¿tiÚ


751 
	g¡d
::
	tveùÜ
<cÚ¡ *> 
	tUÁy³dAùiÚs
;

755 
vœtu®
 
Ex³ù©iÚ
 
G‘HªdË
() = 0;

758 
As£¹S³cPrİ”ty
(
boŞ
 
´İ”ty
,

759 cÚ¡ 
¡d
::
¡ršg
& 
çu»_mes§ge
) const {

760 
As£¹
(
´İ”ty
, 
fe_
, 
lše_
, 
çu»_mes§ge
);

764 
Ex³ùS³cPrİ”ty
(
boŞ
 
´İ”ty
,

765 cÚ¡ 
¡d
::
¡ršg
& 
çu»_mes§ge
) const {

766 
Ex³ù
(
´İ”ty
, 
fe_
, 
lše_
, 
çu»_mes§ge
);

771 
S³cifyC¬dš®™y
(cÚ¡ 
C¬dš®™y
& 
ÿrdš®™y
);

775 
boŞ
 
ÿrdš®™y_¥ecif›d
(ècÚ¡ {  
	gÿrdš®™y_¥ecif›d_
; }

778 
£t_ÿrdš®™y
(cÚ¡ 
C¬dš®™y
& 
a_ÿrdš®™y
) {

779 
	gÿrdš®™y_
 = 
a_ÿrdš®™y
;

787 
R‘œeAÎP»Requis™es
()

788 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
);

791 
boŞ
 
is_»tœed
() const

792 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

793 
	gg_gmock_mu‹x
.
As£¹H–d
();

794  
	g»tœed_
;

798 
R‘œe
()

799 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

800 
	gg_gmock_mu‹x
.
As£¹H–d
();

801 
	g»tœed_
 = 
Œue
;

805 
boŞ
 
IsS©isf›d
() const

806 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

807 
	gg_gmock_mu‹x
.
As£¹H–d
();

808  
ÿrdš®™y
().
IsS©isf›dByC®lCouÁ
(
ÿÎ_couÁ_
);

812 
boŞ
 
IsS©u¿‹d
() const

813 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

814 
	gg_gmock_mu‹x
.
As£¹H–d
();

815  
ÿrdš®™y
().
IsS©u¿‹dByC®lCouÁ
(
ÿÎ_couÁ_
);

819 
boŞ
 
IsOv”S©u¿‹d
() const

820 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

821 
	gg_gmock_mu‹x
.
As£¹H–d
();

822  
ÿrdš®™y
().
IsOv”S©u¿‹dByC®lCouÁ
(
ÿÎ_couÁ_
);

827 
boŞ
 
AÎP»»quis™esA»S©isf›d
() const

828 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
);

831 
FšdUn§tisf›dP»»quis™es
(
Ex³ù©iÚS‘
* 
»suÉ
) const

832 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
);

835 
ÿÎ_couÁ
() const

836 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

837 
	gg_gmock_mu‹x
.
As£¹H–d
();

838  
	gÿÎ_couÁ_
;

842 
Inüem’tC®lCouÁ
()

843 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

844 
	gg_gmock_mu‹x
.
As£¹H–d
();

845 
	gÿÎ_couÁ_
++;

852 
CheckAùiÚCouÁIfNÙDÚe
() const

853 
GTEST_LOCK_EXCLUDED_
(
mu‹x_
);

855 
ä›nd
 
	gşass
 ::
‹¡šg
::
Sequ’û
;

856 
ä›nd
 
	gşass
 ::
‹¡šg
::
š‹º®
::
Ex³ù©iÚTe¡”
;

858 
	g‹m¶©e
 <
ty³Çme
 
	gFunùiÚ
>

859 
ä›nd
 
şass
 
	gTy³dEx³ù©iÚ
;

862 
UÁy³dTimes
(cÚ¡ 
C¬dš®™y
& 
a_ÿrdš®™y
);

866 cÚ¡ * 
	gfe_
;

867 
	glše_
;

868 cÚ¡ 
	g¡d
::
¡ršg
 
sourû_‹xt_
;

870 
boŞ
 
	gÿrdš®™y_¥ecif›d_
;

871 
C¬dš®™y
 
	gÿrdš®™y_
;

878 
Ex³ù©iÚS‘
 
	gimmedŸ‹_´”equis™es_
;

882 
	gÿÎ_couÁ_
;

883 
boŞ
 
	g»tœed_
;

884 
UÁy³dAùiÚs
 
	guÁy³d_aùiÚs_
;

885 
boŞ
 
	gexŒa_m©ch”_¥ecif›d_
;

886 
boŞ
 
	g»³©ed_aùiÚ_¥ecif›d_
;

887 
boŞ
 
	g»tœes_Ú_§tu¿tiÚ_
;

888 
CÏu£
 
	gÏ¡_şau£_
;

889 
mubË
 
boŞ
 
	gaùiÚ_couÁ_checked_
;

890 
mubË
 
Mu‹x
 
	gmu‹x_
;

894 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

895 şas 
	cTy³dEx³ù©iÚ
 : 
public
 
Ex³ù©iÚBa£
 {

896 
public
:

897 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tArgum’tTu¶e
 ArgumentTuple;

898 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tArgum’tM©ch”Tu¶e
 ArgumentMatcherTuple;

899 
ty³Çme
 
	tFunùiÚ
<
	tF
>::
	tResuÉ
 Result;

901 
Ty³dEx³ù©iÚ
(
FunùiÚMock”
<
F
>* 
owÃr
, cÚ¡ * 
a_fe
, 
a_lše
,

902 cÚ¡ 
¡d
::
¡ršg
& 
a_sourû_‹xt
,

903 cÚ¡ 
Argum’tM©ch”Tu¶e
& 
m
)

904 : 
Ex³ù©iÚBa£
(
a_fe
, 
a_lše
, 
a_sourû_‹xt
),

905 
owÃr_
(
owÃr
),

906 
m©ch”s_
(
m
),

910 
exŒa_m©ch”_
(
A
<cÚ¡ 
Argum’tTu¶e
&>()),

911 
»³©ed_aùiÚ_
(
DoDeçuÉ
()) {}

913 ~
Ty³dEx³ù©iÚ
(è
	gov”ride
 {

916 
CheckAùiÚCouÁIfNÙDÚe
();

917 
	gUÁy³dAùiÚs
::
cÚ¡_™”©Ü
 
™
 = 
uÁy³d_aùiÚs_
.
begš
();

918 
	g™
 !ğ
uÁy³d_aùiÚs_
.
’d
(); ++it) {

919 
d–‘e
 
	g¡©ic_ÿ¡
<cÚ¡ 
	gAùiÚ
<
	gF
>*>(*
	g™
);

924 
	gTy³dEx³ù©iÚ
& 
W™h
(cÚ¡ 
M©ch”
<cÚ¡ 
Argum’tTu¶e
&>& 
m
) {

925 ià(
	gÏ¡_şau£_
 =ğ
kW™h
) {

926 
Ex³ùS³cPrİ”ty
(
çl£
,

930 
Ex³ùS³cPrİ”ty
(
Ï¡_şau£_
 < 
kW™h
,

934 
	gÏ¡_şau£_
 = 
kW™h
;

936 
	gexŒa_m©ch”_
 = 
m
;

937 
	gexŒa_m©ch”_¥ecif›d_
 = 
Œue
;

938  *
	gthis
;

942 
	gTy³dEx³ù©iÚ
& 
Times
(cÚ¡ 
C¬dš®™y
& 
a_ÿrdš®™y
) {

943 
	gEx³ù©iÚBa£
::
UÁy³dTimes
(
a_ÿrdš®™y
);

944  *
	gthis
;

948 
	gTy³dEx³ù©iÚ
& 
Times
(
n
) {

949  
Times
(
Exaùly
(
n
));

953 
	gTy³dEx³ù©iÚ
& 
InSequ’û
(cÚ¡ 
Sequ’û
& 
s
) {

954 
Ex³ùS³cPrİ”ty
(
Ï¡_şau£_
 <ğ
kInSequ’û
,

958 
	gÏ¡_şau£_
 = 
kInSequ’û
;

960 
	gs
.
AddEx³ù©iÚ
(
G‘HªdË
());

961  *
	gthis
;

963 
	gTy³dEx³ù©iÚ
& 
InSequ’û
(cÚ¡ 
Sequ’û
& 
s1
, cÚ¡ Sequ’û& 
s2
) {

964  
InSequ’û
(
s1
).InSequ’û(
s2
);

966 
	gTy³dEx³ù©iÚ
& 
InSequ’û
(cÚ¡ 
Sequ’û
& 
s1
, cÚ¡ Sequ’û& 
s2
,

967 cÚ¡ 
Sequ’û
& 
s3
) {

968  
InSequ’û
(
s1
, 
s2
).InSequ’û(
s3
);

970 
	gTy³dEx³ù©iÚ
& 
InSequ’û
(cÚ¡ 
Sequ’û
& 
s1
, cÚ¡ Sequ’û& 
s2
,

971 cÚ¡ 
Sequ’û
& 
s3
, cÚ¡ Sequ’û& 
s4
) {

972  
InSequ’û
(
s1
, 
s2
, 
s3
).InSequ’û(
s4
);

974 
	gTy³dEx³ù©iÚ
& 
InSequ’û
(cÚ¡ 
Sequ’û
& 
s1
, cÚ¡ Sequ’û& 
s2
,

975 cÚ¡ 
Sequ’û
& 
s3
, cÚ¡ Sequ’û& 
s4
,

976 cÚ¡ 
Sequ’û
& 
s5
) {

977  
InSequ’û
(
s1
, 
s2
, 
s3
, 
s4
).InSequ’û(
s5
);

981 
	gTy³dEx³ù©iÚ
& 
Aá”
(cÚ¡ 
Ex³ù©iÚS‘
& 
s
) {

982 
Ex³ùS³cPrİ”ty
(
Ï¡_şau£_
 <ğ
kAá”
,

986 
	gÏ¡_şau£_
 = 
kAá”
;

988 
	gEx³ù©iÚS‘
::
cÚ¡_™”©Ü
 
™
 = 
s
.
begš
(); 
	g™
 !ğs.
’d
(); ++it) {

989 
	gimmedŸ‹_´”equis™es_
 +ğ*
™
;

991  *
	gthis
;

993 
	gTy³dEx³ù©iÚ
& 
Aá”
(cÚ¡ 
Ex³ù©iÚS‘
& 
s1
, cÚ¡ Ex³ù©iÚS‘& 
s2
) {

994  
Aá”
(
s1
).Aá”(
s2
);

996 
	gTy³dEx³ù©iÚ
& 
Aá”
(cÚ¡ 
Ex³ù©iÚS‘
& 
s1
, cÚ¡ Ex³ù©iÚS‘& 
s2
,

997 cÚ¡ 
Ex³ù©iÚS‘
& 
s3
) {

998  
Aá”
(
s1
, 
s2
).Aá”(
s3
);

1000 
	gTy³dEx³ù©iÚ
& 
Aá”
(cÚ¡ 
Ex³ù©iÚS‘
& 
s1
, cÚ¡ Ex³ù©iÚS‘& 
s2
,

1001 cÚ¡ 
Ex³ù©iÚS‘
& 
s3
, cÚ¡ Ex³ù©iÚS‘& 
s4
) {

1002  
Aá”
(
s1
, 
s2
, 
s3
).Aá”(
s4
);

1004 
	gTy³dEx³ù©iÚ
& 
Aá”
(cÚ¡ 
Ex³ù©iÚS‘
& 
s1
, cÚ¡ Ex³ù©iÚS‘& 
s2
,

1005 cÚ¡ 
Ex³ù©iÚS‘
& 
s3
, cÚ¡ Ex³ù©iÚS‘& 
s4
,

1006 cÚ¡ 
Ex³ù©iÚS‘
& 
s5
) {

1007  
Aá”
(
s1
, 
s2
, 
s3
, 
s4
).Aá”(
s5
);

1011 
	gTy³dEx³ù©iÚ
& 
WlOnû
(cÚ¡ 
AùiÚ
<
F
>& 
aùiÚ
) {

1012 
Ex³ùS³cPrİ”ty
(
Ï¡_şau£_
 <ğ
kWlOnû
,

1015 
	gÏ¡_şau£_
 = 
kWlOnû
;

1017 
	guÁy³d_aùiÚs_
.
push_back
(
Ãw
 
AùiÚ
<
F
>(
aùiÚ
));

1018 ià(!
ÿrdš®™y_¥ecif›d
()) {

1019 
£t_ÿrdš®™y
(
Exaùly
(
¡©ic_ÿ¡
<>(
uÁy³d_aùiÚs_
.
size
())));

1021  *
	gthis
;

1025 
	gTy³dEx³ù©iÚ
& 
WlR•—‹dly
(cÚ¡ 
AùiÚ
<
F
>& 
aùiÚ
) {

1026 ià(
	gÏ¡_şau£_
 =ğ
kWlR•—‹dly
) {

1027 
Ex³ùS³cPrİ”ty
(
çl£
,

1031 
Ex³ùS³cPrİ”ty
(
Ï¡_şau£_
 < 
kWlR•—‹dly
,

1035 
	gÏ¡_şau£_
 = 
kWlR•—‹dly
;

1036 
	g»³©ed_aùiÚ_¥ecif›d_
 = 
Œue
;

1038 
	g»³©ed_aùiÚ_
 = 
aùiÚ
;

1039 ià(!
ÿrdš®™y_¥ecif›d
()) {

1040 
£t_ÿrdš®™y
(
AtL—¡
(
¡©ic_ÿ¡
<>(
uÁy³d_aùiÚs_
.
size
())));

1045 
CheckAùiÚCouÁIfNÙDÚe
();

1046  *
	gthis
;

1050 
	gTy³dEx³ù©iÚ
& 
R‘œesOnS©u¿tiÚ
() {

1051 
Ex³ùS³cPrİ”ty
(
Ï¡_şau£_
 < 
kR‘œesOnS©u¿tiÚ
,

1054 
	gÏ¡_şau£_
 = 
kR‘œesOnS©u¿tiÚ
;

1055 
	g»tœes_Ú_§tu¿tiÚ_
 = 
Œue
;

1059 
CheckAùiÚCouÁIfNÙDÚe
();

1060  *
	gthis
;

1065 cÚ¡ 
	gArgum’tM©ch”Tu¶e
& 
m©ch”s
() const {

1066  
	gm©ch”s_
;

1070 cÚ¡ 
	gM©ch”
<cÚ¡ 
	gArgum’tTu¶e
&>& 
exŒa_m©ch”
() const {

1071  
	gexŒa_m©ch”_
;

1075 cÚ¡ 
	gAùiÚ
<
	gF
>& 
»³©ed_aùiÚ
(ècÚ¡ {  
	g»³©ed_aùiÚ_
; }

1079 
MaybeDesüibeExŒaM©ch”To
(::
¡d
::
o¡»am
* 
os
è
ov”ride
 {

1080 ià(
exŒa_m©ch”_¥ecif›d_
) {

1081 *
os
 << " Expected‡rgs: ";

1082 
	gexŒa_m©ch”_
.
DesüibeTo
(
os
);

1083 *
	gos
 << "\n";

1087 
	g´iv©e
:

1088 
‹m¶©e
 <
ty³Çme
 
FunùiÚ
>

1089 
ä›nd
 
şass
 
FunùiÚMock”
;

1093 
Ex³ù©iÚ
 
G‘HªdË
(è
	gov”ride
 {  
	gowÃr_
->
G‘HªdËOf
(
this
); }

1100 
boŞ
 
M©ches
(cÚ¡ 
Argum’tTu¶e
& 
¬gs
) const

1101 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

1102 
	gg_gmock_mu‹x
.
As£¹H–d
();

1103  
Tu¶eM©ches
(
m©ch”s_
, 
¬gs
è&& 
	gexŒa_m©ch”_
.
M©ches
(args);

1108 
boŞ
 
ShouldHªdËArgum’ts
(cÚ¡ 
Argum’tTu¶e
& 
¬gs
) const

1109 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

1110 
	gg_gmock_mu‹x
.
As£¹H–d
();

1116 
CheckAùiÚCouÁIfNÙDÚe
();

1117  !
is_»tœed
(è&& 
AÎP»»quis™esA»S©isf›d
(è&& 
M©ches
(
¬gs
);

1122 
Ex¶ašM©chResuÉTo
(

1123 cÚ¡ 
Argum’tTu¶e
& 
¬gs
,

1124 ::
¡d
::
o¡»am
* 
os
) const

1125 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

1126 
g_gmock_mu‹x
.
As£¹H–d
();

1128 ià(
is_»tœed
()) {

1129 *
	gos
 << " Expected:heƒxpectation is‡ctive\n"

1131 } ià(!
M©ches
(
¬gs
)) {

1132 ià(!
Tu¶eM©ches
(
m©ch”s_
, 
¬gs
)) {

1133 
Ex¶ašM©chFau»Tu¶eTo
(
m©ch”s_
, 
¬gs
, 
os
);

1135 
SŒšgM©chResuÉLi¡’”
 
	gli¡’”
;

1136 ià(!
	gexŒa_m©ch”_
.
M©chAndEx¶aš
(
¬gs
, &
li¡’”
)) {

1137 *
	gos
 << " Expected‡rgs: ";

1138 
	gexŒa_m©ch”_
.
DesüibeTo
(
os
);

1139 *
	gos
 << "\n Actual: don't match";

1141 
	gš‹º®
::
PrštIfNÙEm±y
(
li¡’”
.
¡r
(), 
os
);

1142 *
	gos
 << "\n";

1144 } ià(!
AÎP»»quis™esA»S©isf›d
()) {

1145 *
	gos
 << " Expected:‡ll…re-requisites‡re satisfied\n"

1148 
Ex³ù©iÚS‘
 
	gun§tisf›d_´”eqs
;

1149 
FšdUn§tisf›dP»»quis™es
(&
un§tisf›d_´”eqs
);

1150 
	gi
 = 0;

1151 
	gEx³ù©iÚS‘
::
cÚ¡_™”©Ü
 
™
 = 
un§tisf›d_´”eqs
.
begš
();

1152 
	g™
 !ğ
un§tisf›d_´”eqs
.
’d
(); ++it) {

1153 
	g™
->
ex³ù©iÚ_ba£
()->
DesüibeLoÿtiÚTo
(
os
);

1154 *
	gos
 << "´e-»quis™#" << 
	gi
++ << "\n";

1156 *
	gos
 << " (end of…re-requisites)\n";

1162 *
	gos
 << "The call matchesheƒxpectation.\n";

1167 cÚ¡ 
	gAùiÚ
<
	gF
>& 
G‘Cu¼’tAùiÚ
(cÚ¡ 
FunùiÚMock”
<
F
>* 
mock”
,

1168 cÚ¡ 
Argum’tTu¶e
& 
¬gs
) const

1169 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

1170 
	gg_gmock_mu‹x
.
As£¹H–d
();

1171 cÚ¡ 
	gcouÁ
 = 
ÿÎ_couÁ
();

1172 
As£¹
(
couÁ
 >ğ1, 
__FILE__
, 
__LINE__
,

1176 cÚ¡ 
	gaùiÚ_couÁ
 = 
¡©ic_ÿ¡
<>(
uÁy³d_aùiÚs_
.
size
());

1177 ià(
	gaùiÚ_couÁ
 > 0 && !
	g»³©ed_aùiÚ_¥ecif›d_
 &&

1178 
	gcouÁ
 > 
	gaùiÚ_couÁ
) {

1181 ::
¡d
::
¡ršg¡»am
 
ss
;

1182 
DesüibeLoÿtiÚTo
(&
ss
);

1183 
	gss
 << "AùiÚ ¿Àouˆš " << 
sourû_‹xt
() << "...\n"

1184 << "C®Ëd " << 
	gcouÁ
 << "imes, but only "

1185 << 
	gaùiÚ_couÁ
 << " WillOnce()"

1186 << (
	gaùiÚ_couÁ
 == 1 ? " is" : "s‡re") << " specified - ";

1187 
	gmock”
->
DesüibeDeçuÉAùiÚTo
(
¬gs
, &
ss
);

1188 
Log
(
kW¬nšg
, 
ss
.
¡r
(), 1);

1191  
	gcouÁ
 <ğ
aùiÚ_couÁ


1192 ? *
¡©ic_ÿ¡
<cÚ¡ 
AùiÚ
<
F
>*>(

1193 
uÁy³d_aùiÚs_
[
¡©ic_ÿ¡
<
size_t
>(
couÁ
 - 1)])

1194 : 
»³©ed_aùiÚ
();

1204 cÚ¡ 
	gAùiÚ
<
	gF
>* 
G‘AùiÚFÜArgum’ts
(cÚ¡ 
FunùiÚMock”
<
F
>* 
mock”
,

1205 cÚ¡ 
Argum’tTu¶e
& 
¬gs
,

1206 ::
¡d
::
o¡»am
* 
wh©
,

1207 ::
¡d
::
o¡»am
* 
why
)

1208 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

1209 
g_gmock_mu‹x
.
As£¹H–d
();

1210 ià(
IsS©u¿‹d
()) {

1212 
Inüem’tC®lCouÁ
();

1213 *
	gwh©
 << "Mock function called moreimeshanƒxpected - ";

1214 
	gmock”
->
DesüibeDeçuÉAùiÚTo
(
¬gs
, 
wh©
);

1215 
DesüibeC®lCouÁTo
(
why
);

1217  
	gnuÎ±r
;

1220 
Inüem’tC®lCouÁ
();

1221 
R‘œeAÎP»Requis™es
();

1223 ià(
	g»tœes_Ú_§tu¿tiÚ_
 && 
IsS©u¿‹d
()) {

1224 
R‘œe
();

1228 *
	gwh©
 << "Mock funùiÚ c®Èm©che " << 
sourû_‹xt
() <<"...\n";

1229  &(
G‘Cu¼’tAùiÚ
(
mock”
, 
¬gs
));

1234 
	gFunùiÚMock”
<
	gF
>* cÚ¡ 
	gowÃr_
;

1235 
Argum’tM©ch”Tu¶e
 
	gm©ch”s_
;

1236 
	gM©ch”
<cÚ¡ 
	gArgum’tTu¶e
&> 
	gexŒa_m©ch”_
;

1237 
	gAùiÚ
<
	gF
> 
	g»³©ed_aùiÚ_
;

1239 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Ty³dEx³ù©iÚ
);

1253 
GTEST_API_
 
LogW™hLoÿtiÚ
(
‹¡šg
::
š‹º®
::
LogSev”™y
 
£v”™y
,

1254 cÚ¡ * 
fe
, 
lše
,

1255 cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
);

1257 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

1258 şas 
	cMockS³c
 {

1259 
	gpublic
:

1260 
ty³Çme
 
	tš‹º®
::
	tFunùiÚ
<
	tF
>::
	tArgum’tTu¶e
 ArgumentTuple;

1261 
ty³Çme
 
	tš‹º®
::
	tFunùiÚ
<
	tF
>::
	tArgum’tM©ch”Tu¶e


1262 
	tArgum’tM©ch”Tu¶e
;

1266 
MockS³c
(
š‹º®
::
FunùiÚMock”
<
F
>* 
funùiÚ_mock”
,

1267 cÚ¡ 
Argum’tM©ch”Tu¶e
& 
m©ch”s
)

1268 : 
funùiÚ_mock”_
(
funùiÚ_mock”
), 
m©ch”s_
(
m©ch”s
) {}

1272 
	gš‹º®
::
OnC®lS³c
<
F
>& 
IÁ”ÇlDeçuÉAùiÚS‘At
(

1273 cÚ¡ * 
fe
, 
lše
, cÚ¡ * 
obj
, cÚ¡ * 
ÿÎ
) {

1274 
LogW™hLoÿtiÚ
(
š‹º®
::
kInfo
, 
fe
, 
lše
,

1275 
¡d
::
¡ršg
("ON_CALL("è+ 
obj
 + ", " + 
ÿÎ
 + ") invoked");

1276  
	gfunùiÚ_mock”_
->
AddNewOnC®lS³c
(
fe
, 
lše
, 
m©ch”s_
);

1281 
	gš‹º®
::
Ty³dEx³ù©iÚ
<
F
>& 
IÁ”ÇlEx³ùedAt
(

1282 cÚ¡ * 
fe
, 
lše
, cÚ¡ * 
obj
, cÚ¡ * 
ÿÎ
) {

1283 cÚ¡ 
	g¡d
::
¡ršg
 
sourû_‹xt
(
¡d
::¡ršg("EXPECT_CALL("è+ 
obj
 + ", " +

1284 
ÿÎ
 + ")");

1285 
LogW™hLoÿtiÚ
(
š‹º®
::
kInfo
, 
fe
, 
lše
, 
sourû_‹xt
 + " invoked");

1286  
	gfunùiÚ_mock”_
->
AddNewEx³ù©iÚ
(

1287 
fe
, 
lše
, 
sourû_‹xt
, 
m©ch”s_
);

1293 
	gMockS³c
<
	gF
>& 
İ”©Ü
()(cÚ¡ 
	gš‹º®
::
W™houtM©ch”s
&, * const) {

1294  *
	gthis
;

1297 
	g´iv©e
:

1298 
‹m¶©e
 <
ty³Çme
 
FunùiÚ
>

1299 
ä›nd
 
şass
 
š‹º®
::
FunùiÚMock”
;

1302 
	gš‹º®
::
FunùiÚMock”
<
F
>* cÚ¡ 
funùiÚ_mock”_
;

1304 
Argum’tM©ch”Tu¶e
 
	gm©ch”s_
;

1316 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1317 şas 
	cReã»nûOrV®ueW¿µ”
 {

1318 
	gpublic
:

1320 
ex¶ic™
 
Reã»nûOrV®ueW¿µ”
(
T
 
v®ue
)

1321 : 
v®ue_
(
¡d
::
move
(
v®ue
)) {

1327 
T
 
Unw¿p
(è{  
¡d
::
move
(
v®ue_
); }

1333 cÚ¡ 
	gT
& 
P“k
() const {

1334  
	gv®ue_
;

1337 
	g´iv©e
:

1338 
T
 
v®ue_
;

1343 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1344 
şass
 
	gReã»nûOrV®ueW¿µ”
<
	gT
&> {

1345 
	gpublic
:

1348 
T
& 
	t»ã»nû
;

1349 
ex¶ic™
 
Reã»nûOrV®ueW¿µ”
(
»ã»nû
 
»f
)

1350 : 
v®ue_±r_
(&
»f
) {}

1351 
T
& 
Unw¿p
(è{  *
v®ue_±r_
; }

1352 cÚ¡ 
	gT
& 
P“k
(ècÚ¡ {  *
	gv®ue_±r_
; }

1354 
	g´iv©e
:

1355 
T
* 
v®ue_±r_
;

1367 şas 
	cUÁy³dAùiÚResuÉHŞd”Ba£
 {

1368 
	gpublic
:

1369 
vœtu®
 ~
UÁy³dAùiÚResuÉHŞd”Ba£
() {}

1372 
vœtu®
 
PrštAsAùiÚResuÉ
(::
¡d
::
o¡»am
* 
os
) const = 0;

1376 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1377 şas 
	cAùiÚResuÉHŞd”
 : 
public
 
UÁy³dAùiÚResuÉHŞd”Ba£
 {

1378 
public
:

1380 
T
 
Unw¿p
() {

1381  
»suÉ_
.
Unw¿p
();

1385 
PrštAsAùiÚResuÉ
(::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1386 *
os
 << "\n Returns: ";

1388 
	gUniv”§lPrš‹r
<
	gT
>::
Pršt
(
»suÉ_
.
P“k
(), 
os
);

1393 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

1394 
AùiÚResuÉHŞd”
* 
P”fÜmDeçuÉAùiÚ
(

1395 cÚ¡ 
FunùiÚMock”
<
F
>* 
func_mock”
,

1396 
ty³Çme
 
FunùiÚ
<
F
>::
Argum’tTu¶e
&& 
¬gs
,

1397 cÚ¡ 
¡d
::
¡ršg
& 
ÿÎ_desütiÚ
) {

1398  
Ãw
 
AùiÚResuÉHŞd”
(
W¿µ”
(
func_mock”
->
P”fÜmDeçuÉAùiÚ
(

1399 
¡d
::
move
(
¬gs
), 
ÿÎ_desütiÚ
)));

1404 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

1405 
AùiÚResuÉHŞd”
* 
P”fÜmAùiÚ
(

1406 cÚ¡ 
AùiÚ
<
F
>& 
aùiÚ
, 
ty³Çme
 
FunùiÚ
<F>::
Argum’tTu¶e
&& 
¬gs
) {

1407  
Ãw
 
AùiÚResuÉHŞd”
(

1408 
W¿µ”
(
aùiÚ
.
P”fÜm
(
¡d
::
move
(
¬gs
))));

1411 
	g´iv©e
:

1412 
Reã»nûOrV®ueW¿µ”
<
	tT
> 
	tW¿µ”
;

1414 
ex¶ic™
 
AùiÚResuÉHŞd”
(
W¿µ”
 
»suÉ
)

1415 : 
»suÉ_
(
¡d
::
move
(
»suÉ
)) {

1418 
W¿µ”
 
»suÉ_
;

1420 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
AùiÚResuÉHŞd”
);

1424 
	g‹m¶©e
 <>

1425 
şass
 
	gAùiÚResuÉHŞd”
<> : 
public
 
UÁy³dAùiÚResuÉHŞd”Ba£
 {

1426 
public
:

1427 
Unw¿p
() { }

1429 
PrštAsAùiÚResuÉ
(::
¡d
::
o¡»am
* ) cÚ¡ 
ov”ride
 {}

1433 
‹m¶©e
 <
ty³Çme
 
F
>

1434 
AùiÚResuÉHŞd”
* 
P”fÜmDeçuÉAùiÚ
(

1435 cÚ¡ 
FunùiÚMock”
<
F
>* 
func_mock”
,

1436 
ty³Çme
 
FunùiÚ
<
F
>::
Argum’tTu¶e
&& 
¬gs
,

1437 cÚ¡ 
¡d
::
¡ršg
& 
ÿÎ_desütiÚ
) {

1438 
func_mock”
->
P”fÜmDeçuÉAùiÚ
(
¡d
::
move
(
¬gs
), 
ÿÎ_desütiÚ
);

1439  
Ãw
 
	gAùiÚResuÉHŞd”
;

1444 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

1445 
AùiÚResuÉHŞd”
* 
P”fÜmAùiÚ
(

1446 cÚ¡ 
AùiÚ
<
F
>& 
aùiÚ
, 
ty³Çme
 
FunùiÚ
<F>::
Argum’tTu¶e
&& 
¬gs
) {

1447 
aùiÚ
.
P”fÜm
(
¡d
::
move
(
¬gs
));

1448  
Ãw
 
	gAùiÚResuÉHŞd”
;

1451 
	g´iv©e
:

1452 
AùiÚResuÉHŞd”
() {}

1453 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
AùiÚResuÉHŞd”
);

1456 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

1457 
şass
 
	gFunùiÚMock”
;

1459 
	g‹m¶©e
 <
ty³Çme
 
	gR
, 
	gty³Çme
... 
	gArgs
>

1460 
şass
 
	gFunùiÚMock”
<
R
(
Args
...)> 
	gfš®
 : 
public
 
UÁy³dFunùiÚMock”Ba£
 {

1461 
usšg
 
F
 = 
R
(
Args
...);

1463 
	gpublic
:

1464 
usšg
 
ResuÉ
 = 
R
;

1465 
usšg
 
	gArgum’tTu¶e
 = 
¡d
::
tu¶e
<
Args
...>;

1466 
usšg
 
	gArgum’tM©ch”Tu¶e
 = 
¡d
::
tu¶e
<
M©ch”
<
Args
>...>;

1468 
FunùiÚMock”
() {}

1482 
FunùiÚMock”
(cÚ¡ FunùiÚMock”&èğ
d–‘e
;

1483 
	gFunùiÚMock”
& 
	gİ”©Ü
=(cÚ¡ 
FunùiÚMock”
&èğ
d–‘e
;

1488 ~
FunùiÚMock”
(è
ov”ride
 
GTEST_LOCK_EXCLUDED_
(
g_gmock_mu‹x
) {

1489 
Mu‹xLock
 
l
(&
g_gmock_mu‹x
);

1490 
V”ifyAndCË¬Ex³ù©iÚsLocked
();

1491 
	gMock
::
UÄegi¡”Locked
(
this
);

1492 
CË¬DeçuÉAùiÚsLocked
();

1498 cÚ¡ 
	gOnC®lS³c
<
	gF
>* 
FšdOnC®lS³c
(

1499 cÚ¡ 
Argum’tTu¶e
& 
¬gs
) const {

1500 
	gUÁy³dOnC®lS³cs
::
cÚ¡_»v”£_™”©Ü
 
™


1501 ğ
uÁy³d_Ú_ÿÎ_¥ecs_
.
rbegš
();

1502 
	g™
 !ğ
uÁy³d_Ú_ÿÎ_¥ecs_
.
»nd
(); ++it) {

1503 cÚ¡ 
	gOnC®lS³c
<
	gF
>* 
	g¥ec
 = 
¡©ic_ÿ¡
<cÚ¡ 
OnC®lS³c
<
F
>*>(*
™
);

1504 ià(
	g¥ec
->
M©ches
(
¬gs
))

1505  
	g¥ec
;

1508  
	gnuÎ±r
;

1518 
ResuÉ
 
P”fÜmDeçuÉAùiÚ
(
Argum’tTu¶e
&& 
¬gs
,

1519 cÚ¡ 
¡d
::
¡ršg
& 
ÿÎ_desütiÚ
) const {

1520 cÚ¡ 
OnC®lS³c
<
F
>* cÚ¡ 
¥ec
 =

1521 
this
->
FšdOnC®lS³c
(
¬gs
);

1522 ià(
	g¥ec
 !ğ
nuÎ±r
) {

1523  
¥ec
->
G‘AùiÚ
().
P”fÜm
(
¡d
::
move
(
¬gs
));

1525 cÚ¡ 
	g¡d
::
¡ršg
 
mes§ge
 =

1526 
ÿÎ_desütiÚ
 +

1529 #ià
GTEST_HAS_EXCEPTIONS


1530 ià(!
	gDeçuÉV®ue
<
	gResuÉ
>::
Exi¡s
()) {

1531 
throw
 
¡d
::
ruÁime_”rÜ
(
mes§ge
);

1534 
As£¹
(
DeçuÉV®ue
<
ResuÉ
>::
Exi¡s
(), "", -1, 
mes§ge
);

1536  
	gDeçuÉV®ue
<
	gResuÉ
>::
G‘
();

1544 
UÁy³dAùiÚResuÉHŞd”Ba£
* 
UÁy³dP”fÜmDeçuÉAùiÚ
(

1545 * 
uÁy³d_¬gs
,

1546 cÚ¡ 
¡d
::
¡ršg
& 
ÿÎ_desütiÚ
ècÚ¡ 
ov”ride
 {

1547 
Argum’tTu¶e
* 
¬gs
 = 
¡©ic_ÿ¡
<Argum’tTu¶e*>(
uÁy³d_¬gs
);

1548  
	gResuÉHŞd”
::
P”fÜmDeçuÉAùiÚ
(
this
, 
¡d
::
move
(*
¬gs
),

1549 
ÿÎ_desütiÚ
);

1556 
UÁy³dAùiÚResuÉHŞd”Ba£
* 
UÁy³dP”fÜmAùiÚ
(

1557 cÚ¡ * 
uÁy³d_aùiÚ
, * 
uÁy³d_¬gs
ècÚ¡ 
	gov”ride
 {

1560 cÚ¡ 
	gAùiÚ
<
	gF
> 
	gaùiÚ
 = *
¡©ic_ÿ¡
<cÚ¡ 
AùiÚ
<
F
>*>(
uÁy³d_aùiÚ
);

1561 
Argum’tTu¶e
* 
	g¬gs
 = 
¡©ic_ÿ¡
<Argum’tTu¶e*>(
uÁy³d_¬gs
);

1562  
	gResuÉHŞd”
::
P”fÜmAùiÚ
(
aùiÚ
, 
¡d
::
move
(*
¬gs
));

1567 
CË¬DeçuÉAùiÚsLocked
(è
ov”ride


1568 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

1569 
	gg_gmock_mu‹x
.
As£¹H–d
();

1578 
UÁy³dOnC®lS³cs
 
	g¥ecs_to_d–‘e
;

1579 
	guÁy³d_Ú_ÿÎ_¥ecs_
.
sw­
(
¥ecs_to_d–‘e
);

1581 
	gg_gmock_mu‹x
.
UÆock
();

1582 
	gUÁy³dOnC®lS³cs
::
cÚ¡_™”©Ü
 
™
 =

1583 
¥ecs_to_d–‘e
.
begš
();

1584 
	g™
 !ğ
¥ecs_to_d–‘e
.
’d
(); ++it) {

1585 
d–‘e
 
	g¡©ic_ÿ¡
<cÚ¡ 
	gOnC®lS³c
<
	gF
>*>(*
	g™
);

1590 
	gg_gmock_mu‹x
.
Lock
();

1596 
ResuÉ
 
Invoke
(
Args
... 
¬gs
è
GTEST_LOCK_EXCLUDED_
(
g_gmock_mu‹x
) {

1597 
Argum’tTu¶e
 
tu¶e
(
¡d
::
fÜw¬d
<
Args
>(
¬gs
)...);

1598 
	g¡d
::
unique_±r
<
ResuÉHŞd”
> 
hŞd”
(
DownCa¡_
<ResultHolder*>(

1599 
this
->
UÁy³dInvokeW™h
(
¡©ic_ÿ¡
<*>(&
tu¶e
))));

1600  
	ghŞd”
->
Unw¿p
();

1603 
	gMockS³c
<
	gF
> 
W™h
(
M©ch”
<
Args
>... 
m
) {

1604  
	gMockS³c
<
	gF
>(
	gthis
, ::
¡d
::
make_tu¶e
(¡d::
move
(
m
)...));

1607 
	g´Ùeùed
:

1608 
‹m¶©e
 <
ty³Çme
 
FunùiÚ
>

1609 
ä›nd
 
şass
 
MockS³c
;

1611 
	gAùiÚResuÉHŞd”
<
	tResuÉ
> 
	tResuÉHŞd”
;

1614 
	gOnC®lS³c
<
	gF
>& 
AddNewOnC®lS³c
(

1615 cÚ¡ * 
fe
, 
lše
,

1616 cÚ¡ 
Argum’tM©ch”Tu¶e
& 
m
)

1617 
GTEST_LOCK_EXCLUDED_
(
g_gmock_mu‹x
) {

1618 
	gMock
::
Regi¡”U£ByOnC®lOrEx³ùC®l
(
MockObjeù
(), 
fe
, 
lše
);

1619 
	gOnC®lS³c
<
	gF
>* cÚ¡ 
	gÚ_ÿÎ_¥ec
 = 
Ãw
 
OnC®lS³c
<
F
>(
fe
, 
	glše
, 
	gm
);

1620 
	guÁy³d_Ú_ÿÎ_¥ecs_
.
push_back
(
Ú_ÿÎ_¥ec
);

1621  *
	gÚ_ÿÎ_¥ec
;

1625 
	gTy³dEx³ù©iÚ
<
	gF
>& 
AddNewEx³ù©iÚ
(cÚ¡ * 
fe
, 
lše
,

1626 cÚ¡ 
¡d
::
¡ršg
& 
sourû_‹xt
,

1627 cÚ¡ 
Argum’tM©ch”Tu¶e
& 
m
)

1628 
GTEST_LOCK_EXCLUDED_
(
g_gmock_mu‹x
) {

1629 
	gMock
::
Regi¡”U£ByOnC®lOrEx³ùC®l
(
MockObjeù
(), 
fe
, 
lše
);

1630 
	gTy³dEx³ù©iÚ
<
	gF
>* cÚ¡ 
	gex³ù©iÚ
 =

1631 
Ãw
 
Ty³dEx³ù©iÚ
<
F
>(
this
, 
	gfe
, 
	glše
, 
	gsourû_‹xt
, 
	gm
);

1632 cÚ¡ 
	g¡d
::
sh¬ed_±r
<
Ex³ù©iÚBa£
> 
uÁy³d_ex³ù©iÚ
(
ex³ù©iÚ
);

1635 
	guÁy³d_ex³ù©iÚs_
.
push_back
(
uÁy³d_ex³ù©iÚ
);

1638 
Sequ’û
* cÚ¡ 
	gim¶ic™_£qu’û
 = 
g_gmock_im¶ic™_£qu’û
.
g‘
();

1639 ià(
	gim¶ic™_£qu’û
 !ğ
nuÎ±r
) {

1640 
im¶ic™_£qu’û
->
AddEx³ù©iÚ
(
Ex³ù©iÚ
(
uÁy³d_ex³ù©iÚ
));

1643  *
	gex³ù©iÚ
;

1646 
	g´iv©e
:

1647 
‹m¶©e
 <
ty³Çme
 
Func
> 
ä›nd
 
şass
 
Ty³dEx³ù©iÚ
;

1654 
DesüibeDeçuÉAùiÚTo
(cÚ¡ 
Argum’tTu¶e
& 
¬gs
,

1655 ::
¡d
::
o¡»am
* 
os
) const {

1656 cÚ¡ 
OnC®lS³c
<
F
>* cÚ¡ 
¥ec
 = 
FšdOnC®lS³c
(
¬gs
);

1658 ià(
	g¥ec
 =ğ
nuÎ±r
) {

1659 *
os
 << (
¡d
::
is_void
<
ResuÉ
>::
v®ue
 ? "returning directly.\n"

1662 *
	gos
 << "taking default‡ction specified‡t:\n"

1663 << 
FÜm©FeLoÿtiÚ
(
¥ec
->
fe
(), s³c->
lše
()) << "\n";

1670 
UÁy³dDesüibeUnš‹»¡šgC®l
(cÚ¡ * 
uÁy³d_¬gs
,

1671 ::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride


1672 
GTEST_LOCK_EXCLUDED_
(
g_gmock_mu‹x
) {

1673 cÚ¡ 
Argum’tTu¶e
& 
¬gs
 =

1674 *
¡©ic_ÿ¡
<cÚ¡ 
Argum’tTu¶e
*>(
uÁy³d_¬gs
);

1675 *
	gos
 << "Uninteresting mock function call - ";

1676 
DesüibeDeçuÉAùiÚTo
(
¬gs
, 
os
);

1677 *
	gos
 << " FunùiÚ c®l: " << 
Name
();

1678 
Univ”§lPršt
(
¬gs
, 
os
);

1697 cÚ¡ 
Ex³ù©iÚBa£
* 
UÁy³dFšdM©chšgEx³ù©iÚ
(

1698 cÚ¡ * 
uÁy³d_¬gs
, cÚ¡ ** 
uÁy³d_aùiÚ
, 
boŞ
* 
is_exûssive
,

1699 ::
¡d
::
o¡»am
* 
wh©
, ::¡d::o¡»am* 
why
è
ov”ride


1700 
GTEST_LOCK_EXCLUDED_
(
g_gmock_mu‹x
) {

1701 cÚ¡ 
Argum’tTu¶e
& 
¬gs
 =

1702 *
¡©ic_ÿ¡
<cÚ¡ 
Argum’tTu¶e
*>(
uÁy³d_¬gs
);

1703 
Mu‹xLock
 
l
(&
g_gmock_mu‹x
);

1704 
	gTy³dEx³ù©iÚ
<
	gF
>* 
	gexp
 = 
this
->
FšdM©chšgEx³ù©iÚLocked
(
¬gs
);

1705 ià(
	gexp
 =ğ
nuÎ±r
) {

1706 
this
->
FÜm©UÃx³ùedC®lMes§geLocked
(
¬gs
, 
wh©
, 
why
);

1707  
	gnuÎ±r
;

1713 *
	gis_exûssive
 = 
exp
->
IsS©u¿‹d
();

1714 cÚ¡ 
	gAùiÚ
<
	gF
>* 
	gaùiÚ
 = 
exp
->
G‘AùiÚFÜArgum’ts
(
this
, 
¬gs
, 
wh©
, 
why
);

1715 ià(
	gaùiÚ
 !ğ
nuÎ±r
 && 
aùiÚ
->
IsDoDeçuÉ
())

1716 
aùiÚ
 = 
nuÎ±r
;

1717 *
	guÁy³d_aùiÚ
 = 
aùiÚ
;

1718  
	gexp
;

1722 
UÁy³dPrštArgs
(cÚ¡ * 
uÁy³d_¬gs
,

1723 ::
¡d
::
o¡»am
* 
os
ècÚ¡ 
ov”ride
 {

1724 cÚ¡ 
Argum’tTu¶e
& 
¬gs
 =

1725 *
¡©ic_ÿ¡
<cÚ¡ 
Argum’tTu¶e
*>(
uÁy³d_¬gs
);

1726 
Univ”§lPršt
(
¬gs
, 
os
);

1731 
	gTy³dEx³ù©iÚ
<
	gF
>* 
FšdM©chšgEx³ù©iÚLocked
(

1732 cÚ¡ 
Argum’tTu¶e
& 
¬gs
) const

1733 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

1734 
	gg_gmock_mu‹x
.
As£¹H–d
();

1737 
ty³Çme
 
	gUÁy³dEx³ù©iÚs
::
cÚ¡_»v”£_™”©Ü
 
™
 =

1738 
uÁy³d_ex³ù©iÚs_
.
rbegš
();

1739 
	g™
 !ğ
uÁy³d_ex³ù©iÚs_
.
»nd
(); ++it) {

1740 
	gTy³dEx³ù©iÚ
<
	gF
>* cÚ¡ 
	gexp
 =

1741 
¡©ic_ÿ¡
<
Ty³dEx³ù©iÚ
<
F
>*>(
™
->
g‘
());

1742 ià(
	gexp
->
ShouldHªdËArgum’ts
(
¬gs
)) {

1743  
	gexp
;

1746  
	gnuÎ±r
;

1750 
FÜm©UÃx³ùedC®lMes§geLocked
(

1751 cÚ¡ 
Argum’tTu¶e
& 
¬gs
,

1752 ::
¡d
::
o¡»am
* 
os
,

1753 ::
¡d
::
o¡»am
* 
why
) const

1754 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

1755 
g_gmock_mu‹x
.
As£¹H–d
();

1756 *
	gos
 << "\nUnexpected mock function call - ";

1757 
DesüibeDeçuÉAùiÚTo
(
¬gs
, 
os
);

1758 
PrštTr›dEx³ù©iÚsLocked
(
¬gs
, 
why
);

1763 
PrštTr›dEx³ù©iÚsLocked
(

1764 cÚ¡ 
Argum’tTu¶e
& 
¬gs
,

1765 ::
¡d
::
o¡»am
* 
why
) const

1766 
GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
g_gmock_mu‹x
) {

1767 
g_gmock_mu‹x
.
As£¹H–d
();

1768 cÚ¡ 
size_t
 
	gcouÁ
 = 
uÁy³d_ex³ù©iÚs_
.
size
();

1769 *
	gwhy
 << "GoogË Mockr›dhfŞlowšg " << 
	gcouÁ
 << " "

1770 << (
	gcouÁ
 == 1 ? "expectation, but it didn't match" :

1773 
size_t
 
	gi
 = 0; i < 
	gcouÁ
; i++) {

1774 
	gTy³dEx³ù©iÚ
<
	gF
>* cÚ¡ 
	gex³ù©iÚ
 =

1775 
¡©ic_ÿ¡
<
Ty³dEx³ù©iÚ
<
F
>*>(
uÁy³d_ex³ù©iÚs_
[
i
].
g‘
());

1776 *
	gwhy
 << "\n";

1777 
	gex³ù©iÚ
->
DesüibeLoÿtiÚTo
(
why
);

1778 ià(
	gcouÁ
 > 1) {

1779 *
	gwhy
 << "Œ›dƒx³ù©iÚ #" << 
	gi
 << ": ";

1781 *
	gwhy
 << 
	gex³ù©iÚ
->
sourû_‹xt
() << "...\n";

1782 
	gex³ù©iÚ
->
Ex¶ašM©chResuÉTo
(
¬gs
, 
why
);

1783 
	gex³ù©iÚ
->
DesüibeC®lCouÁTo
(
why
);

1790 
R•ÜtUnš‹»¡šgC®l
(
C®lR—ùiÚ
 
»aùiÚ
, cÚ¡ 
¡d
::
¡ršg
& 
msg
);

1794 
Çme¥aû
 
	gš‹º®
 {

1796 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

1797 
şass
 
	gMockFunùiÚ
;

1799 
	g‹m¶©e
 <
ty³Çme
 
	gR
, 
	gty³Çme
... 
	gArgs
>

1800 
şass
 
	gMockFunùiÚ
<
R
(
Args
...)> {

1801 
	gpublic
:

1802 
MockFunùiÚ
(cÚ¡ MockFunùiÚ&èğ
d–‘e
;

1803 
	gMockFunùiÚ
& 
	gİ”©Ü
=(cÚ¡ 
MockFunùiÚ
&èğ
d–‘e
;

1805 
	g¡d
::
funùiÚ
<
R
(
Args
...)> 
AsStdFunùiÚ
() {

1806  [
this
](
Args
... 
¬gs
è-> 
R
 {

1807  
this
->
C®l
(
¡d
::
fÜw¬d
<
Args
>(
¬gs
)...);

1812 
R
 
C®l
(
Args
... 
¬gs
) {

1813 
	gmock_
.
S‘OwÃrAndName
(
this
, "Call");

1814  
	gmock_
.
Invoke
(
¡d
::
fÜw¬d
<
Args
>(
¬gs
)...);

1817 
	gMockS³c
<
R
(
Args
...)> 
gmock_C®l
(
M©ch”
<Args>... 
m
) {

1818 
	gmock_
.
Regi¡”OwÃr
(
this
);

1819  
	gmock_
.
W™h
(
¡d
::
move
(
m
)...);

1822 
	gMockS³c
<
R
(
Args
...)> 
gmock_C®l
(cÚ¡ 
W™houtM©ch”s
&, R (*)(Args...)) {

1823  
	gthis
->
gmock_C®l
(::
‹¡šg
::
A
<
Args
>()...);

1826 
	g´Ùeùed
:

1827 
MockFunùiÚ
() = ;

1828 ~
MockFunùiÚ
() = ;

1830 
	g´iv©e
:

1831 
FunùiÚMock”
<
R
(
Args
...)> 
mock_
;

1846 
	g‹m¶©e
 <
ty³Çme
 
	gF
, 
	gty³Çme
 = >

1847 
SigÇtu»Of
;

1849 
	g‹m¶©e
 <
ty³Çme
 
	gR
, 
	gty³Çme
... 
	gArgs
>

1850 
	gSigÇtu»Of
<
R
(
Args
...)> {

1851 
usšg
 
	gty³
 = 
R
(
Args
...);

1854 
	g‹m¶©e
 <‹m¶©<
	gty³Çme
> 
şass
 
	gC
, 
ty³Çme
 
	gF
>

1855 
	gSigÇtu»Of
<
	gC
<
	gF
>,

1856 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_funùiÚ
<
F
>::
v®ue
>::
ty³
>

1857 : 
SigÇtu»Of
<
F
> {};

1859 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

1860 
usšg
 
	gSigÇtu»OfT
 = 
ty³Çme
 
SigÇtu»Of
<
F
>::
ty³
;

1924 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

1925 
şass
 
	gMockFunùiÚ
 : 
public
 
š‹º®
::
MockFunùiÚ
<š‹º®::
SigÇtu»OfT
<
F
>> {

1926 
usšg
 
Ba£
 = 
š‹º®
::
MockFunùiÚ
<š‹º®::
SigÇtu»OfT
<
F
>>;

1928 
	gpublic
:

1929 
usšg
 
Ba£
::Base;

1937 
usšg
 
	gš‹º®
::
MockS³c
;

1954 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

1955 
šlše
 cÚ¡ 
	gT
& 
	$CÚ¡
(cÚ¡ 
T
& 
x
è{  x; 
	}
}

1958 
šlše
 
	gEx³ù©iÚ
::
	$Ex³ù©iÚ
(
š‹º®
::
Ex³ù©iÚBa£
& 
exp
)

1959 : 
	`ex³ù©iÚ_ba£_
(
exp
.
	`G‘HªdË
().
	$ex³ù©iÚ_ba£
()è{
	}
}

1963 
	$GTEST_DISABLE_MSC_WARNINGS_POP_
()

2027 
	#GMOCK_ON_CALL_IMPL_
(
mock_ex´
, 
S‘‹r
, 
ÿÎ
) \

2028 ((
mock_ex´
).
gmock_
##
ÿÎ
)(::
‹¡šg
::
š‹º®
::
	`G‘W™houtM©ch”s
(), \

2029 
nuÎ±r
) \

2030 .
	`S‘‹r
(
__FILE__
, 
__LINE__
, #mock_ex´, #ÿÎ)

	)

2032 
	#ON_CALL
(
obj
, 
ÿÎ
) \

2033 
	`GMOCK_ON_CALL_IMPL_
(
obj
, 
IÁ”ÇlDeçuÉAùiÚS‘At
, 
ÿÎ
)

	)

2035 
	#EXPECT_CALL
(
obj
, 
ÿÎ
) \

2036 
	`GMOCK_ON_CALL_IMPL_
(
obj
, 
IÁ”ÇlEx³ùedAt
, 
ÿÎ
)

	)

	@/usr/include/gmock/internal/custom/gmock-generated-actions.h

3 #iâdeà
GOOGLEMOCK_INCLUDE_GMOCK_INTERNAL_CUSTOM_GMOCK_GENERATED_ACTIONS_H_


4 
	#GOOGLEMOCK_INCLUDE_GMOCK_INTERNAL_CUSTOM_GMOCK_GENERATED_ACTIONS_H_


	)

	@/usr/include/gmock/internal/custom/gmock-matchers.h

34 #iâdeà
GOOGLEMOCK_INCLUDE_GMOCK_INTERNAL_CUSTOM_GMOCK_MATCHERS_H_


35 
	#GOOGLEMOCK_INCLUDE_GMOCK_INTERNAL_CUSTOM_GMOCK_MATCHERS_H_


	)

	@/usr/include/gmock/internal/gmock-port.h

40 #iâdeà
GOOGLEMOCK_INCLUDE_GMOCK_INTERNAL_GMOCK_PORT_H_


41 
	#GOOGLEMOCK_INCLUDE_GMOCK_INTERNAL_GMOCK_PORT_H_


	)

43 
	~<as£¹.h
>

44 
	~<¡dlib.h
>

45 
	~<c¡dšt
>

46 
	~<io¡»am
>

56 
	~"g‹¡/š‹º®/g‹¡-pÜt.h
"

57 
	~"gmock/š‹º®/cu¡om/gmock-pÜt.h
"

61 #ià
defšed
(
_MSC_VER
) && _MSC_VER < 1900

67 
	#GMOCK_FLAG
(
Çme
è
FLAGS_gmock_
##
	)
name

69 #ià!
defšed
(
GMOCK_DECLARE_boŞ_
)

72 
	#GMOCK_DECLARE_boŞ_
(
Çme
è
GTEST_API_
 
boŞ
 
	`GMOCK_FLAG
Òame)

	)

73 
	#GMOCK_DECLARE_št32_
(
Çme
è
GTEST_API_
 
št32_t
 
	`GMOCK_FLAG
Òame)

	)

74 
	#GMOCK_DECLARE_¡ršg_
(
Çme
) \

75 
GTEST_API_
 ::
¡d
::
¡ršg
 
	`GMOCK_FLAG
(
Çme
)

	)

78 
	#GMOCK_DEFINE_boŞ_
(
Çme
, 
deçuÉ_v®
, 
doc
) \

79 
GTEST_API_
 
boŞ
 
	`GMOCK_FLAG
(
Çme
èğ(
deçuÉ_v®
)

	)

80 
	#GMOCK_DEFINE_št32_
(
Çme
, 
deçuÉ_v®
, 
doc
) \

81 
GTEST_API_
 
št32_t
 
	`GMOCK_FLAG
(
Çme
èğ(
deçuÉ_v®
)

	)

82 
	#GMOCK_DEFINE_¡ršg_
(
Çme
, 
deçuÉ_v®
, 
doc
) \

83 
GTEST_API_
 ::
¡d
::
¡ršg
 
	`GMOCK_FLAG
(
Çme
èğ(
deçuÉ_v®
)

	)

	@/usr/include/gmock/internal/gmock-pp.h

1 #iâdeà
GOOGLEMOCK_INCLUDE_GMOCK_INTERNAL_GMOCK_PP_H_


2 
	#GOOGLEMOCK_INCLUDE_GMOCK_INTERNAL_GMOCK_PP_H_


	)

5 
	#GMOCK_PP_CAT
(
_1
, 
_2
è
	`GMOCK_PP_INTERNAL_CAT
(_1, _2)

	)

8 
	#GMOCK_PP_STRINGIZE
(...è
	`GMOCK_PP_INTERNAL_STRINGIZE
(
__VA_ARGS__
)

	)

11 
	#GMOCK_PP_EMPTY
(...)

	)

14 
	#GMOCK_PP_COMMA
(...è,

	)

17 
	#GMOCK_PP_IDENTITY
(
_1
è
	)
_1

29 
	#GMOCK_PP_NARG
(...) \

30 
	`GMOCK_PP_INTERNAL_16TH
( \

31 (
__VA_ARGS__
, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0))

	)

35 
	#GMOCK_PP_HAS_COMMA
(...) \

36 
	`GMOCK_PP_INTERNAL_16TH
( \

37 (
__VA_ARGS__
, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0))

	)

40 
	#GMOCK_PP_HEAD
(...è
	`GMOCK_PP_INTERNAL_HEAD
((
__VA_ARGS__
, 
unu£dArg
))

	)

44 
	#GMOCK_PP_TAIL
(...è
	`GMOCK_PP_INTERNAL_TAIL
((
__VA_ARGS__
))

	)

47 
	#GMOCK_PP_VARIADIC_CALL
(
_Maüo
, ...) \

48 
	`GMOCK_PP_IDENTITY
( \

49 
	`GMOCK_PP_CAT
(
_Maüo
, 
	`GMOCK_PP_NARG
(
__VA_ARGS__
))(__VA_ARGS__))

	)

79 
	#GMOCK_PP_IS_EMPTY
(...) \

80 
	`GMOCK_PP_INTERNAL_IS_EMPTY
(
	`GMOCK_PP_HAS_COMMA
(
__VA_ARGS__
), \

81 
	`GMOCK_PP_HAS_COMMA
(
GMOCK_PP_COMMA
 
__VA_ARGS__
), \

82 
	`GMOCK_PP_HAS_COMMA
(
	`__VA_ARGS__
()), \

83 
	`GMOCK_PP_HAS_COMMA
(
GMOCK_PP_COMMA
 
	`__VA_ARGS__
()))

	)

86 
	#GMOCK_PP_IF
(
_CÚd
, 
_Th’
, 
_El£
) \

87 
	`GMOCK_PP_CAT
(
GMOCK_PP_INTERNAL_IF_
, 
_CÚd
)(
_Th’
, 
_El£
)

	)

94 
	#GMOCK_PP_GENERIC_IF
(
_CÚd
, 
_Th’
, 
_El£
) \

95 
	`GMOCK_PP_REMOVE_PARENS
(
	`GMOCK_PP_IF
(
_CÚd
, 
_Th’
, 
_El£
))

	)

110 
	#GMOCK_PP_NARG0
(...) \

111 
	`GMOCK_PP_IF
(
	`GMOCK_PP_IS_EMPTY
(
__VA_ARGS__
), 0, 
	`GMOCK_PP_NARG
(__VA_ARGS__))

	)

115 
	#GMOCK_PP_IS_BEGIN_PARENS
(...) \

116 
	`GMOCK_PP_HEAD
(
	`GMOCK_PP_CAT
(
GMOCK_PP_INTERNAL_IBP_IS_VARIADIC_R_
, \

117 
GMOCK_PP_INTERNAL_IBP_IS_VARIADIC_C
 
__VA_ARGS__
))

	)

120 
	#GMOCK_PP_IS_ENCLOSED_PARENS
(...) \

121 
	`GMOCK_PP_IF
(
	`GMOCK_PP_IS_BEGIN_PARENS
(
__VA_ARGS__
), \

122 
	`GMOCK_PP_IS_EMPTY
(
GMOCK_PP_EMPTY
 
__VA_ARGS__
), 0)

	)

125 
	#GMOCK_PP_REMOVE_PARENS
(...è
GMOCK_PP_INTERNAL_REMOVE_PARENS
 
__VA_ARGS__


	)

131 
	#GMOCK_PP_FOR_EACH
(
_Maüo
, 
_D©a
, 
_Tu¶e
) \

132 
	`GMOCK_PP_CAT
(
GMOCK_PP_INTERNAL_FOR_EACH_IMPL_
, 
GMOCK_PP_NARG0
 
_Tu¶e
) \

133 (0, 
_Maüo
, 
_D©a
, 
_Tu¶e
)

	)

139 
	#GMOCK_PP_REPEAT
(
_Maüo
, 
_D©a
, 
_N
) \

140 
	`GMOCK_PP_CAT
(
GMOCK_PP_INTERNAL_FOR_EACH_IMPL_
, 
_N
) \

141 (0, 
_Maüo
, 
_D©a
, 
GMOCK_PP_INTENRAL_EMPTY_TUPLE
)

	)

144 
	#GMOCK_PP_INC
(
_i
è
	`GMOCK_PP_CAT
(
GMOCK_PP_INTERNAL_INC_
, _i)

	)

147 
	#GMOCK_PP_COMMA_IF
(
_i
è
	`GMOCK_PP_CAT
(
GMOCK_PP_INTERNAL_COMMA_IF_
, _i)

	)

151 
	#GMOCK_PP_INTENRAL_EMPTY_TUPLE
 (, , , , , , , , , , , , , , , )

	)

152 
	#GMOCK_PP_INTERNAL_CAT
(
_1
, 
_2
è_1##
	)
_2

153 
	#GMOCK_PP_INTERNAL_STRINGIZE
(...è#__VA_ARGS__

	)

154 
	#GMOCK_PP_INTERNAL_CAT_5
(
_1
, 
_2
, 
_3
, 
_4
, 
_5
è_1##_2##_3##_4##
	)
_5

155 
	#GMOCK_PP_INTERNAL_IS_EMPTY
(
_1
, 
_2
, 
_3
, 
_4
) \

156 
	`GMOCK_PP_HAS_COMMA
(
	`GMOCK_PP_INTERNAL_CAT_5
(
GMOCK_PP_INTERNAL_IS_EMPTY_CASE_
, \

157 
_1
, 
_2
, 
_3
, 
_4
))

	)

158 
	#GMOCK_PP_INTERNAL_IS_EMPTY_CASE_0001
 ,

	)

159 
	#GMOCK_PP_INTERNAL_IF_1
(
_Th’
, 
_El£
è
	)
_Then

160 
	#GMOCK_PP_INTERNAL_IF_0
(
_Th’
, 
_El£
è
	)
_Else

167 
	#GMOCK_PP_INTERNAL_INTERNAL_16TH
(
_1
, 
_2
, 
_3
, 
_4
, 
_5
, 
_6
, 
_7
, 
_8
, 
_9
, \

168 
_10
, 
_11
, 
_12
, 
_13
, 
_14
, 
_15
, 
_16
, \

170 
_16


	)

171 
	#GMOCK_PP_INTERNAL_16TH
(
_Args
) \

172 
	`GMOCK_PP_IDENTITY
(
GMOCK_PP_INTERNAL_INTERNAL_16TH
 
_Args
)

	)

173 
	#GMOCK_PP_INTERNAL_INTERNAL_HEAD
(
_1
, ...è
	)
_1

174 
	#GMOCK_PP_INTERNAL_HEAD
(
_Args
) \

175 
	`GMOCK_PP_IDENTITY
(
GMOCK_PP_INTERNAL_INTERNAL_HEAD
 
_Args
)

	)

176 
	#GMOCK_PP_INTERNAL_INTERNAL_TAIL
(
_1
, ...è
__VA_ARGS__


	)

177 
	#GMOCK_PP_INTERNAL_TAIL
(
_Args
) \

178 
	`GMOCK_PP_IDENTITY
(
GMOCK_PP_INTERNAL_INTERNAL_TAIL
 
_Args
)

	)

180 
	#GMOCK_PP_INTERNAL_IBP_IS_VARIADIC_C
(...è1 
_


	)

181 
	#GMOCK_PP_INTERNAL_IBP_IS_VARIADIC_R_1
 1,

	)

182 
	#GMOCK_PP_INTERNAL_IBP_IS_VARIADIC_R_GMOCK_PP_INTERNAL_IBP_IS_VARIADIC_C
 \

183 0,

	)

184 
	#GMOCK_PP_INTERNAL_REMOVE_PARENS
(...è
__VA_ARGS__


	)

185 
	#GMOCK_PP_INTERNAL_INC_0
 1

	)

186 
	#GMOCK_PP_INTERNAL_INC_1
 2

	)

187 
	#GMOCK_PP_INTERNAL_INC_2
 3

	)

188 
	#GMOCK_PP_INTERNAL_INC_3
 4

	)

189 
	#GMOCK_PP_INTERNAL_INC_4
 5

	)

190 
	#GMOCK_PP_INTERNAL_INC_5
 6

	)

191 
	#GMOCK_PP_INTERNAL_INC_6
 7

	)

192 
	#GMOCK_PP_INTERNAL_INC_7
 8

	)

193 
	#GMOCK_PP_INTERNAL_INC_8
 9

	)

194 
	#GMOCK_PP_INTERNAL_INC_9
 10

	)

195 
	#GMOCK_PP_INTERNAL_INC_10
 11

	)

196 
	#GMOCK_PP_INTERNAL_INC_11
 12

	)

197 
	#GMOCK_PP_INTERNAL_INC_12
 13

	)

198 
	#GMOCK_PP_INTERNAL_INC_13
 14

	)

199 
	#GMOCK_PP_INTERNAL_INC_14
 15

	)

200 
	#GMOCK_PP_INTERNAL_INC_15
 16

	)

201 
	#GMOCK_PP_INTERNAL_COMMA_IF_0


	)

202 
	#GMOCK_PP_INTERNAL_COMMA_IF_1
 ,

	)

203 
	#GMOCK_PP_INTERNAL_COMMA_IF_2
 ,

	)

204 
	#GMOCK_PP_INTERNAL_COMMA_IF_3
 ,

	)

205 
	#GMOCK_PP_INTERNAL_COMMA_IF_4
 ,

	)

206 
	#GMOCK_PP_INTERNAL_COMMA_IF_5
 ,

	)

207 
	#GMOCK_PP_INTERNAL_COMMA_IF_6
 ,

	)

208 
	#GMOCK_PP_INTERNAL_COMMA_IF_7
 ,

	)

209 
	#GMOCK_PP_INTERNAL_COMMA_IF_8
 ,

	)

210 
	#GMOCK_PP_INTERNAL_COMMA_IF_9
 ,

	)

211 
	#GMOCK_PP_INTERNAL_COMMA_IF_10
 ,

	)

212 
	#GMOCK_PP_INTERNAL_COMMA_IF_11
 ,

	)

213 
	#GMOCK_PP_INTERNAL_COMMA_IF_12
 ,

	)

214 
	#GMOCK_PP_INTERNAL_COMMA_IF_13
 ,

	)

215 
	#GMOCK_PP_INTERNAL_COMMA_IF_14
 ,

	)

216 
	#GMOCK_PP_INTERNAL_COMMA_IF_15
 ,

	)

217 
	#GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
_–em’t
) \

218 
	`_Maüo
(
_i
, 
_D©a
, 
_–em’t
)

	)

219 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_0
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
)

	)

220 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_1
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
) \

221 
	`GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
GMOCK_PP_HEAD
 
_Tu¶e
)

	)

222 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_2
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
) \

223 
	`GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
GMOCK_PP_HEAD
 
_Tu¶e
) \

224 
	`GMOCK_PP_INTERNAL_FOR_EACH_IMPL_1
(
	`GMOCK_PP_INC
(
_i
), 
_Maüo
, 
_D©a
, \

225 (
GMOCK_PP_TAIL
 
_Tu¶e
))

	)

226 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_3
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
) \

227 
	`GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
GMOCK_PP_HEAD
 
_Tu¶e
) \

228 
	`GMOCK_PP_INTERNAL_FOR_EACH_IMPL_2
(
	`GMOCK_PP_INC
(
_i
), 
_Maüo
, 
_D©a
, \

229 (
GMOCK_PP_TAIL
 
_Tu¶e
))

	)

230 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_4
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
) \

231 
	`GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
GMOCK_PP_HEAD
 
_Tu¶e
) \

232 
	`GMOCK_PP_INTERNAL_FOR_EACH_IMPL_3
(
	`GMOCK_PP_INC
(
_i
), 
_Maüo
, 
_D©a
, \

233 (
GMOCK_PP_TAIL
 
_Tu¶e
))

	)

234 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_5
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
) \

235 
	`GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
GMOCK_PP_HEAD
 
_Tu¶e
) \

236 
	`GMOCK_PP_INTERNAL_FOR_EACH_IMPL_4
(
	`GMOCK_PP_INC
(
_i
), 
_Maüo
, 
_D©a
, \

237 (
GMOCK_PP_TAIL
 
_Tu¶e
))

	)

238 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_6
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
) \

239 
	`GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
GMOCK_PP_HEAD
 
_Tu¶e
) \

240 
	`GMOCK_PP_INTERNAL_FOR_EACH_IMPL_5
(
	`GMOCK_PP_INC
(
_i
), 
_Maüo
, 
_D©a
, \

241 (
GMOCK_PP_TAIL
 
_Tu¶e
))

	)

242 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_7
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
) \

243 
	`GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
GMOCK_PP_HEAD
 
_Tu¶e
) \

244 
	`GMOCK_PP_INTERNAL_FOR_EACH_IMPL_6
(
	`GMOCK_PP_INC
(
_i
), 
_Maüo
, 
_D©a
, \

245 (
GMOCK_PP_TAIL
 
_Tu¶e
))

	)

246 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_8
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
) \

247 
	`GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
GMOCK_PP_HEAD
 
_Tu¶e
) \

248 
	`GMOCK_PP_INTERNAL_FOR_EACH_IMPL_7
(
	`GMOCK_PP_INC
(
_i
), 
_Maüo
, 
_D©a
, \

249 (
GMOCK_PP_TAIL
 
_Tu¶e
))

	)

250 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_9
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
) \

251 
	`GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
GMOCK_PP_HEAD
 
_Tu¶e
) \

252 
	`GMOCK_PP_INTERNAL_FOR_EACH_IMPL_8
(
	`GMOCK_PP_INC
(
_i
), 
_Maüo
, 
_D©a
, \

253 (
GMOCK_PP_TAIL
 
_Tu¶e
))

	)

254 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_10
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
) \

255 
	`GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
GMOCK_PP_HEAD
 
_Tu¶e
) \

256 
	`GMOCK_PP_INTERNAL_FOR_EACH_IMPL_9
(
	`GMOCK_PP_INC
(
_i
), 
_Maüo
, 
_D©a
, \

257 (
GMOCK_PP_TAIL
 
_Tu¶e
))

	)

258 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_11
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
) \

259 
	`GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
GMOCK_PP_HEAD
 
_Tu¶e
) \

260 
	`GMOCK_PP_INTERNAL_FOR_EACH_IMPL_10
(
	`GMOCK_PP_INC
(
_i
), 
_Maüo
, 
_D©a
, \

261 (
GMOCK_PP_TAIL
 
_Tu¶e
))

	)

262 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_12
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
) \

263 
	`GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
GMOCK_PP_HEAD
 
_Tu¶e
) \

264 
	`GMOCK_PP_INTERNAL_FOR_EACH_IMPL_11
(
	`GMOCK_PP_INC
(
_i
), 
_Maüo
, 
_D©a
, \

265 (
GMOCK_PP_TAIL
 
_Tu¶e
))

	)

266 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_13
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
) \

267 
	`GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
GMOCK_PP_HEAD
 
_Tu¶e
) \

268 
	`GMOCK_PP_INTERNAL_FOR_EACH_IMPL_12
(
	`GMOCK_PP_INC
(
_i
), 
_Maüo
, 
_D©a
, \

269 (
GMOCK_PP_TAIL
 
_Tu¶e
))

	)

270 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_14
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
) \

271 
	`GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
GMOCK_PP_HEAD
 
_Tu¶e
) \

272 
	`GMOCK_PP_INTERNAL_FOR_EACH_IMPL_13
(
	`GMOCK_PP_INC
(
_i
), 
_Maüo
, 
_D©a
, \

273 (
GMOCK_PP_TAIL
 
_Tu¶e
))

	)

274 
	#GMOCK_PP_INTERNAL_FOR_EACH_IMPL_15
(
_i
, 
_Maüo
, 
_D©a
, 
_Tu¶e
) \

275 
	`GMOCK_PP_INTERNAL_CALL_MACRO
(
_Maüo
, 
_i
, 
_D©a
, 
GMOCK_PP_HEAD
 
_Tu¶e
) \

276 
	`GMOCK_PP_INTERNAL_FOR_EACH_IMPL_14
(
	`GMOCK_PP_INC
(
_i
), 
_Maüo
, 
_D©a
, \

277 (
GMOCK_PP_TAIL
 
_Tu¶e
))

	)

	@/usr/include/gtest/internal/custom/gtest-printers.h

39 #iâdeà
GOOGLETEST_INCLUDE_GTEST_INTERNAL_CUSTOM_GTEST_PRINTERS_H_


40 
	#GOOGLETEST_INCLUDE_GTEST_INTERNAL_CUSTOM_GTEST_PRINTERS_H_


	)

	@/usr/include/gtest/internal/gtest-death-test-internal.h

36 #iâdeà
GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_DEATH_TEST_INTERNAL_H_


37 
	#GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_DEATH_TEST_INTERNAL_H_


	)

39 
	~"g‹¡/g‹¡-m©ch”s.h
"

40 
	~"g‹¡/š‹º®/g‹¡-š‹º®.h
"

42 
	~<¡dio.h
>

43 
	~<memÜy
>

45 
Çme¥aû
 
	g‹¡šg
 {

46 
Çme¥aû
 
	gš‹º®
 {

48 
GTEST_DECLARE_¡ršg_
(
š‹º®_run_d—th_‹¡
);

51 cÚ¡ 
	gkD—thTe¡StyËFÏg
[] = "death_test_style";

52 cÚ¡ 
	gkD—thTe¡U£FÜk
[] = "death_test_use_fork";

53 cÚ¡ 
	gkIÁ”ÇlRunD—thTe¡FÏg
[] = "internal_run_death_test";

55 #ià
GTEST_HAS_DEATH_TEST


57 
GTEST_DISABLE_MSC_WARNINGS_PUSH_
(4251 \

73 şas 
	cGTEST_API_
 
	gD—thTe¡
 {

74 
	gpublic
:

83 
boŞ
 
C»©e
(cÚ¡ * 
¡©em’t
, 
M©ch”
<cÚ¡ 
¡d
::
¡ršg
&> 
m©ch”
,

84 cÚ¡ * 
fe
, 
lše
, 
D—thTe¡
** 
‹¡
);

85 
D—thTe¡
();

86 
	gvœtu®
 ~
D—thTe¡
() { }

89 şas 
	cR‘uºS’tš–
 {

90 
	gpublic
:

91 
ex¶ic™
 
R‘uºS’tš–
(
D—thTe¡
* 
‹¡
è: 
‹¡_
(test) { }

92 ~
R‘uºS’tš–
(è{ 
‹¡_
->
AbÜt
(
TEST_ENCOUNTERED_RETURN_STATEMENT
); }

93 
	g´iv©e
:

94 
D—thTe¡
* cÚ¡ 
‹¡_
;

95 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
R‘uºS’tš–
);

96 } 
	gGTEST_ATTRIBUTE_UNUSED_
;

103 
	eTe¡RŞe
 { 
	gOVERSEE_TEST
, 
	gEXECUTE_TEST
 };

106 
	eAbÜtR—sÚ
 {

107 
	gTEST_ENCOUNTERED_RETURN_STATEMENT
,

108 
	gTEST_THREW_EXCEPTION
,

109 
	gTEST_DID_NOT_DIE


113 
vœtu®
 
Te¡RŞe
 
AssumeRŞe
() = 0;

116 
vœtu®
 
Wa™
() = 0;

125 
vœtu®
 
boŞ
 
Pas£d
(boŞ 
ex™_¡©us_ok
) = 0;

128 
vœtu®
 
AbÜt
(
AbÜtR—sÚ
 
»asÚ
) = 0;

132 cÚ¡ * 
La¡Mes§ge
();

134 
£t_Ï¡_d—th_‹¡_mes§ge
(cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
);

136 
	g´iv©e
:

138 
¡d
::
¡ršg
 
Ï¡_d—th_‹¡_mes§ge_
;

140 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
D—thTe¡
);

143 
GTEST_DISABLE_MSC_WARNINGS_POP_
()

146 şas 
	cD—thTe¡FaùÜy
 {

147 
	gpublic
:

148 
vœtu®
 ~
D—thTe¡FaùÜy
() { }

149 
vœtu®
 
boŞ
 
C»©e
(cÚ¡ * 
¡©em’t
,

150 
M©ch”
<cÚ¡ 
¡d
::
¡ršg
&> 
m©ch”
, cÚ¡ * 
fe
,

151 
lše
, 
D—thTe¡
** 
‹¡
) = 0;

155 şas 
	cDeçuÉD—thTe¡FaùÜy
 : 
public
 
D—thTe¡FaùÜy
 {

156 
public
:

157 
boŞ
 
C»©e
(cÚ¡ * 
¡©em’t
, 
M©ch”
<cÚ¡ 
¡d
::
¡ršg
&> 
m©ch”
,

158 cÚ¡ * 
fe
, 
lše
, 
D—thTe¡
** 
‹¡
è
	gov”ride
;

163 
GTEST_API_
 
boŞ
 
Ex™edUnsucûssfuÎy
(
ex™_¡©us
);

168 
šlše
 
	gM©ch”
<cÚ¡ ::
¡d
::
¡ršg
&> 
MakeD—thTe¡M©ch”
(

169 ::
‹¡šg
::
š‹º®
::
RE
 
»gex
) {

170  
CÚšsRegex
(
»gex
.
·‰”n
());

172 
šlše
 
	gM©ch”
<cÚ¡ ::
¡d
::
¡ršg
&> 
MakeD—thTe¡M©ch”
(cÚ¡ * 
»gex
) {

173  
CÚšsRegex
(
»gex
);

175 
šlše
 
	gM©ch”
<cÚ¡ ::
¡d
::
¡ršg
&> 
MakeD—thTe¡M©ch”
(

176 cÚ¡ ::
¡d
::
¡ršg
& 
»gex
) {

177  
CÚšsRegex
(
»gex
);

182 
šlše
 
	gM©ch”
<cÚ¡ ::
¡d
::
¡ršg
&> 
MakeD—thTe¡M©ch”
(

183 
M©ch”
<cÚ¡ ::
¡d
::
¡ršg
&> 
m©ch”
) {

184  
m©ch”
;

189 #ià
GTEST_HAS_EXCEPTIONS


190 
	#GTEST_EXECUTE_DEATH_TEST_STATEMENT_
(
¡©em’t
, 
d—th_‹¡
) \

191 
Œy
 { \

192 
	`GTEST_SUPPRESS_UNREACHABLE_CODE_WARNING_BELOW_
(
¡©em’t
); \

193 } 
	`ÿtch
 (cÚ¡ ::
¡d
::
exû±iÚ
& 
g‹¡_exû±iÚ
) { \

194 
	`årštf
(\

195 
¡d”r
, \

198 ::
‹¡šg
::
š‹º®
::
	`FÜm©FeLoÿtiÚ
(
__FILE__
, 
__LINE__
).
	`c_¡r
(), \

199 
g‹¡_exû±iÚ
.
	`wh©
()); \

200 
	`fæush
(
¡d”r
); \

201 
d—th_‹¡
->
	`AbÜt
(::
‹¡šg
::
š‹º®
::
D—thTe¡
::
TEST_THREW_EXCEPTION
); \

202 } 
	`ÿtch
 (...) { \

203 
d—th_‹¡
->
	`AbÜt
(::
‹¡šg
::
š‹º®
::
D—thTe¡
::
TEST_THREW_EXCEPTION
); \

204 }

	)

207 
	#GTEST_EXECUTE_DEATH_TEST_STATEMENT_
(
¡©em’t
, 
d—th_‹¡
) \

208 
	`GTEST_SUPPRESS_UNREACHABLE_CODE_WARNING_BELOW_
(
¡©em’t
)

	)

214 
	#GTEST_DEATH_TEST_
(
¡©em’t
, 
´ediÿ‹
, 
»gex_Ü_m©ch”
, 
ç
) \

215 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

216 ià(::
‹¡šg
::
š‹º®
::
	`AlwaysTrue
()) { \

217 ::
‹¡šg
::
š‹º®
::
D—thTe¡
* 
g‹¡_dt
; \

218 ià(!::
‹¡šg
::
š‹º®
::
D—thTe¡
::
	`C»©e
( \

220 ::
‹¡šg
::
š‹º®
::
	`MakeD—thTe¡M©ch”
(
»gex_Ü_m©ch”
), \

221 
__FILE__
, 
__LINE__
, &
g‹¡_dt
)) { \

222 
	`GTEST_CONCAT_TOKEN_
(
g‹¡_Ïb–_
, 
__LINE__
); \

224 ià(
g‹¡_dt
 !ğ
nuÎ±r
) { \

225 
¡d
::
unique_±r
< ::
‹¡šg
::
š‹º®
::
D—thTe¡
> 
	`g‹¡_dt_±r
(
g‹¡_dt
); \

226 
g‹¡_dt
->
	`AssumeRŞe
()) { \

227 ::
‹¡šg
::
š‹º®
::
D—thTe¡
::
OVERSEE_TEST
: \

228 ià(!
g‹¡_dt
->
	`Pas£d
(
	`´ediÿ‹
(g‹¡_dt->
	`Wa™
()))) { \

229 
	`GTEST_CONCAT_TOKEN_
(
g‹¡_Ïb–_
, 
__LINE__
); \

232 ::
‹¡šg
::
š‹º®
::
D—thTe¡
::
EXECUTE_TEST
: { \

233 ::
‹¡šg
::
š‹º®
::
D—thTe¡
::
R‘uºS’tš–
 
	`g‹¡_£Áš–
( \

234 
g‹¡_dt
); \

235 
	`GTEST_EXECUTE_DEATH_TEST_STATEMENT_
(
¡©em’t
, 
g‹¡_dt
); \

236 
g‹¡_dt
->
	`AbÜt
(::
‹¡šg
::
š‹º®
::
D—thTe¡
::
TEST_DID_NOT_DIE
); \

244 
	`GTEST_CONCAT_TOKEN_
(
g‹¡_Ïb–_
, 
__LINE__
) \

245 : 
	`ç
(::
‹¡šg
::
š‹º®
::
D—thTe¡
::
	`La¡Mes§ge
())

	)

254 
	#GTEST_EXECUTE_STATEMENT_
(
¡©em’t
, 
»gex_Ü_m©ch”
) \

255 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

256 ià(::
‹¡šg
::
š‹º®
::
	`AlwaysTrue
()) { \

257 
	`GTEST_SUPPRESS_UNREACHABLE_CODE_WARNING_BELOW_
(
¡©em’t
); \

258 } ià(!::
‹¡šg
::
š‹º®
::
	`AlwaysTrue
()) { \

259 ::
‹¡šg
::
š‹º®
::
	`MakeD—thTe¡M©ch”
(
»gex_Ü_m©ch”
); \

261 ::
‹¡šg
::
	`Mes§ge
()

	)

266 şas 
	cIÁ”ÇlRunD—thTe¡FÏg
 {

267 
	gpublic
:

268 
IÁ”ÇlRunD—thTe¡FÏg
(cÚ¡ 
¡d
::
¡ršg
& 
a_fe
,

269 
a_lše
,

270 
ª_šdex
,

271 
a_wr™e_fd
)

272 : 
fe_
(
a_fe
), 
lše_
(
a_lše
), 
šdex_
(
ª_šdex
),

273 
wr™e_fd_
(
a_wr™e_fd
) {}

275 ~
IÁ”ÇlRunD—thTe¡FÏg
() {

276 ià(
	gwr™e_fd_
 >= 0)

277 
posix
::
Clo£
(
wr™e_fd_
);

280 cÚ¡ 
	g¡d
::
¡ršg
& 
fe
(ècÚ¡ {  
fe_
; }

281 
lše
(ècÚ¡ {  
	glše_
; }

282 
šdex
(ècÚ¡ {  
	gšdex_
; }

283 
wr™e_fd
(ècÚ¡ {  
	gwr™e_fd_
; }

285 
	g´iv©e
:

286 
¡d
::
¡ršg
 
fe_
;

287 
	glše_
;

288 
	gšdex_
;

289 
	gwr™e_fd_
;

291 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
IÁ”ÇlRunD—thTe¡FÏg
);

297 
IÁ”ÇlRunD—thTe¡FÏg
* 
P¬£IÁ”ÇlRunD—thTe¡FÏg
();

	@/usr/include/gtest/internal/gtest-filepath.h

40 #iâdeà
GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_FILEPATH_H_


41 
	#GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_FILEPATH_H_


	)

43 
	~"g‹¡/š‹º®/g‹¡-¡ršg.h
"

45 
GTEST_DISABLE_MSC_WARNINGS_PUSH_
(4251 \

48 
Çme¥aû
 
	g‹¡šg
 {

49 
Çme¥aû
 
	gš‹º®
 {

62 şas 
	cGTEST_API_
 
	gFeP©h
 {

63 
	gpublic
:

64 
FeP©h
(è: 
·thÇme_
("") { }

65 
FeP©h
(cÚ¡ FeP©h& 
rhs
è: 
·thÇme_
(rhs.pathname_) { }

67 
ex¶ic™
 
FeP©h
(cÚ¡ 
¡d
::
¡ršg
& 
·thÇme
è: 
·thÇme_
(pathname) {

68 
NÜm®ize
();

71 
	gFeP©h
& 
	gİ”©Ü
=(cÚ¡ 
FeP©h
& 
rhs
) {

72 
S‘
(
rhs
);

73  *
	gthis
;

76 
S‘
(cÚ¡ 
FeP©h
& 
rhs
) {

77 
	g·thÇme_
 = 
rhs
.
·thÇme_
;

80 cÚ¡ 
	g¡d
::
¡ršg
& sŒšg(ècÚ¡ {  
·thÇme_
; }

81 cÚ¡ * 
c_¡r
(ècÚ¡ {  
	g·thÇme_
.c_str(); }

84 
FeP©h
 
G‘Cu¼’tDœ
();

90 
FeP©h
 
MakeFeName
(cÚ¡ FeP©h& 
dœeùÜy
,

91 cÚ¡ 
FeP©h
& 
ba£_Çme
,

92 
numb”
,

93 cÚ¡ * 
ex‹nsiÚ
);

98 
FeP©h
 
CÚÿtP©hs
(cÚ¡ FeP©h& 
dœeùÜy
,

99 cÚ¡ 
FeP©h
& 
»Ïtive_·th
);

109 
FeP©h
 
G’”©eUniqueFeName
(cÚ¡ FeP©h& 
dœeùÜy
,

110 cÚ¡ 
FeP©h
& 
ba£_Çme
,

111 cÚ¡ * 
ex‹nsiÚ
);

114 
boŞ
 
IsEm±y
(ècÚ¡ {  
	g·thÇme_
.
em±y
(); }

119 
FeP©h
 
RemoveT¿šgP©hS•¬©Ü
() const;

127 
FeP©h
 
RemoveDœeùÜyName
() const;

135 
FeP©h
 
RemoveFeName
() const;

141 
FeP©h
 
RemoveEx‹nsiÚ
(cÚ¡ * 
ex‹nsiÚ
) const;

147 
boŞ
 
C»©eDœeùÜ›sRecursiv–y
() const;

153 
boŞ
 
C»©eFŞd”
() const;

157 
boŞ
 
FeOrDœeùÜyExi¡s
() const;

161 
boŞ
 
DœeùÜyExi¡s
() const;

166 
boŞ
 
IsDœeùÜy
() const;

170 
boŞ
 
IsRoÙDœeùÜy
() const;

173 
boŞ
 
IsAbsŞu‹P©h
() const;

175 
	g´iv©e
:

196 
NÜm®ize
();

201 cÚ¡ * 
FšdLa¡P©hS•¬©Ü
() const;

203 
	g¡d
::
¡ršg
 
·thÇme_
;

209 
	$GTEST_DISABLE_MSC_WARNINGS_POP_
()

	@/usr/include/gtest/internal/gtest-param-util.h

35 #iâdeà
GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_PARAM_UTIL_H_


36 
	#GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_PARAM_UTIL_H_


	)

38 
	~<ùy³.h
>

40 
	~<ÿs£¹
>

41 
	~<™”©Ü
>

42 
	~<memÜy
>

43 
	~<£t
>

44 
	~<tu¶e
>

45 
	~<ty³_Œa™s
>

46 
	~<ut™y
>

47 
	~<veùÜ
>

49 
	~"g‹¡/š‹º®/g‹¡-š‹º®.h
"

50 
	~"g‹¡/š‹º®/g‹¡-pÜt.h
"

51 
	~"g‹¡/g‹¡-´š‹rs.h
"

52 
	~"g‹¡/g‹¡-‹¡-·¹.h
"

54 
Çme¥aû
 
	g‹¡šg
 {

57 
	g‹m¶©e
 <
şass
 
	gP¬amTy³
>

58 
	sTe¡P¬amInfo
 {

59 
Te¡P¬amInfo
(cÚ¡ 
P¬amTy³
& 
a_·¿m
, 
size_t
 
ª_šdex
) :

60 
·¿m
(
a_·¿m
),

61 
šdex
(
ª_šdex
) {}

62 
P¬amTy³
 
	g·¿m
;

63 
size_t
 
	gšdex
;

68 
	sPrštToSŒšgP¬amName
 {

69 
	g‹m¶©e
 <
şass
 
	gP¬amTy³
>

70 
	g¡d
::
¡ršg
 
İ”©Ü
()(cÚ¡ 
Te¡P¬amInfo
<
P¬amTy³
>& 
šfo
) const {

71  
PrštToSŒšg
(
šfo
.
·¿m
);

75 
Çme¥aû
 
	gš‹º®
 {

84 
GTEST_API_
 
R•ÜtInv®idTe¡Su™eTy³
(cÚ¡ * 
‹¡_su™e_Çme
,

85 
CodeLoÿtiÚ
 
code_loÿtiÚ
);

87 
	g‹m¶©e
 <
	gty³Çme
> 
şass
 
	gP¬amG’”©ÜIÁ”çû
;

88 
	g‹m¶©e
 <
	gty³Çme
> 
şass
 
	gP¬amG’”©Ü
;

92 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

93 şas 
	cP¬amI‹¿tÜIÁ”çû
 {

94 
	gpublic
:

95 
vœtu®
 ~
P¬amI‹¿tÜIÁ”çû
() {}

99 
vœtu®
 cÚ¡ 
P¬amG’”©ÜIÁ”çû
<
T
>* 
Ba£G’”©Ü
() const = 0;

104 
vœtu®
 
Advªû
() = 0;

107 
vœtu®
 
P¬amI‹¿tÜIÁ”çû
* 
ClÚe
() const = 0;

112 
vœtu®
 cÚ¡ 
T
* 
Cu¼’t
() const = 0;

116 
vœtu®
 
boŞ
 
Equ®s
(cÚ¡ 
P¬amI‹¿tÜIÁ”çû
& 
Ùh”
) const = 0;

122 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

123 şas 
	cP¬amI‹¿tÜ
 {

124 
	gpublic
:

125 
T
 
	tv®ue_ty³
;

126 cÚ¡ 
	tT
& 
	t»ã»nû
;

127 
±rdiff_t
 
	tdifã»nû_ty³
;

130 
P¬amI‹¿tÜ
(cÚ¡ P¬amI‹¿tÜ& 
Ùh”
è: 
im¶_
(Ùh”.im¶_->
ClÚe
()) {}

131 
P¬amI‹¿tÜ
& 
İ”©Ü
=(cÚ¡ P¬amI‹¿tÜ& 
Ùh”
) {

132 ià(
this
 !ğ&
Ùh”
)

133 
im¶_
.
»£t
(
Ùh”
.im¶_->
ClÚe
());

134  *
	gthis
;

137 cÚ¡ 
	gT
& 
	gİ”©Ü
*(ècÚ¡ {  *
	gim¶_
->
Cu¼’t
(); }

138 cÚ¡ 
T
* 
	gİ”©Ü
->(ècÚ¡ {  
	gim¶_
->
Cu¼’t
(); }

140 
	gP¬amI‹¿tÜ
& 
	gİ”©Ü
++() {

141 
	gim¶_
->
Advªû
();

142  *
	gthis
;

145 
P¬amI‹¿tÜ
 
	gİ”©Ü
++() {

146 
	gP¬amI‹¿tÜIÁ”çû
<
	gT
>* 
	gşÚe
 = 
im¶_
->
ClÚe
();

147 
	gim¶_
->
Advªû
();

148  
P¬amI‹¿tÜ
(
şÚe
);

150 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
P¬amI‹¿tÜ
& 
Ùh”
) const {

151  
im¶_
.
g‘
(è=ğ
Ùh”
.im¶_.g‘(è|| im¶_->
Equ®s
(*other.impl_);

153 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
P¬amI‹¿tÜ
& 
Ùh”
) const {

154  !(*
this
 =ğ
Ùh”
);

157 
	g´iv©e
:

158 
ä›nd
 
şass
 
P¬amG’”©Ü
<
T
>;

159 
ex¶ic™
 
P¬amI‹¿tÜ
(
P¬amI‹¿tÜIÁ”çû
<
T
>* 
im¶
è: 
im¶_
(impl) {}

160 
¡d
::
unique_±r
<
P¬amI‹¿tÜIÁ”çû
<
T
> > 
im¶_
;

165 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

166 şas 
	cP¬amG’”©ÜIÁ”çû
 {

167 
	gpublic
:

168 
T
 
	tP¬amTy³
;

170 
	gvœtu®
 ~
P¬amG’”©ÜIÁ”çû
() {}

173 
vœtu®
 
	gP¬amI‹¿tÜIÁ”çû
<
	gT
>* 
Begš
() const = 0;

174 
vœtu®
 
	gP¬amI‹¿tÜIÁ”çû
<
	gT
>* 
End
() const = 0;

182 
	g‹m¶©e
<
ty³Çme
 
	gT
>

183 şas 
	cP¬amG’”©Ü
 {

184 
	gpublic
:

185 
P¬amI‹¿tÜ
<
	tT
> 
	t™”©Ü
;

187 
ex¶ic™
 
P¬amG’”©Ü
(
P¬amG’”©ÜIÁ”çû
<
T
>* 
im¶
è: 
im¶_
(impl) {}

188 
P¬amG’”©Ü
(cÚ¡ P¬amG’”©Ü& 
Ùh”
è: 
im¶_
(other.impl_) {}

190 
P¬amG’”©Ü
& 
İ”©Ü
=(cÚ¡ P¬amG’”©Ü& 
Ùh”
) {

191 
im¶_
 = 
Ùh”
.impl_;

192  *
	gthis
;

195 
™”©Ü
 
begš
(ècÚ¡ {  i‹¿tÜ(
im¶_
->
Begš
()); }

196 
™”©Ü
 
’d
(ècÚ¡ {  i‹¿tÜ(
im¶_
->
End
()); }

198 
	g´iv©e
:

199 
¡d
::
sh¬ed_±r
<cÚ¡ 
P¬amG’”©ÜIÁ”çû
<
T
> > 
im¶_
;

206 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gInüem’tT
>

207 
şass
 
	gRªgeG’”©Ü
 : 
public
 
P¬amG’”©ÜIÁ”çû
<
T
> {

208 
public
:

209 
RªgeG’”©Ü
(
T
 
begš
, T 
’d
, 
Inüem’tT
 
¡•
)

210 : 
begš_
(
begš
), 
’d_
(
’d
),

211 
¡•_
(
¡•
), 
’d_šdex_
(
C®cuÏ‹EndIndex
(
begš
, 
’d
, step)) {}

212 ~
RªgeG’”©Ü
(è
	gov”ride
 {}

214 
	gP¬amI‹¿tÜIÁ”çû
<
	gT
>* 
Begš
(ècÚ¡ 
	gov”ride
 {

215  
Ãw
 
I‹¿tÜ
(
this
, 
begš_
, 0, 
¡•_
);

217 
	gP¬amI‹¿tÜIÁ”çû
<
	gT
>* 
End
(ècÚ¡ 
	gov”ride
 {

218  
Ãw
 
I‹¿tÜ
(
this
, 
’d_
, 
’d_šdex_
, 
¡•_
);

221 
	g´iv©e
:

222 
şass
 
I‹¿tÜ
 : 
public
 
P¬amI‹¿tÜIÁ”çû
<
T
> {

223 
public
:

224 
I‹¿tÜ
(cÚ¡ 
P¬amG’”©ÜIÁ”çû
<
T
>* 
ba£
, T 
v®ue
, 
šdex
,

225 
Inüem’tT
 
¡•
)

226 : 
ba£_
(
ba£
), 
v®ue_
(
v®ue
), 
šdex_
(
šdex
), 
¡•_
(
¡•
) {}

227 ~
I‹¿tÜ
(è
	gov”ride
 {}

229 cÚ¡ 
	gP¬amG’”©ÜIÁ”çû
<
	gT
>* 
Ba£G’”©Ü
(ècÚ¡ 
	gov”ride
 {

230  
	gba£_
;

232 
Advªû
(è
	gov”ride
 {

233 
	gv®ue_
 = 
¡©ic_ÿ¡
<
T
>(
v®ue_
 + 
¡•_
);

234 
	gšdex_
++;

236 
	gP¬amI‹¿tÜIÁ”çû
<
	gT
>* 
ClÚe
(ècÚ¡ 
	gov”ride
 {

237  
Ãw
 
I‹¿tÜ
(*
this
);

239 cÚ¡ 
T
* 
Cu¼’t
(ècÚ¡ 
	gov”ride
 {  &
	gv®ue_
; }

240 
boŞ
 
Equ®s
(cÚ¡ 
P¬amI‹¿tÜIÁ”çû
<
T
>& 
Ùh”
ècÚ¡ 
	gov”ride
 {

243 
GTEST_CHECK_
(
Ba£G’”©Ü
(è=ğ
Ùh”
.BaseGenerator())

245 << "äom difã»Á g’”©Üs." << 
¡d
::
’dl
;

246 cÚ¡ 
	gÙh”_šdex
 =

247 
CheckedDownÿ¡ToAùu®Ty³
<cÚ¡ 
I‹¿tÜ
>(&
Ùh”
)->
šdex_
;

248  
	gšdex_
 =ğ
Ùh”_šdex
;

251 
	g´iv©e
:

252 
I‹¿tÜ
(cÚ¡ I‹¿tÜ& 
Ùh”
)

253 : 
P¬amI‹¿tÜIÁ”çû
<
T
>(),

254 
ba£_
(
Ùh”
.ba£_), 
v®ue_
(Ùh”.v®ue_), 
šdex_
(other.index_),

255 
¡•_
(
Ùh”
.step_) {}

258 
	gİ”©Ü
=(cÚ¡ 
I‹¿tÜ
& 
Ùh”
);

260 cÚ¡ 
	gP¬amG’”©ÜIÁ”çû
<
	gT
>* cÚ¡ 
	gba£_
;

261 
T
 
	gv®ue_
;

262 
	gšdex_
;

263 cÚ¡ 
Inüem’tT
 
	g¡•_
;

266 
C®cuÏ‹EndIndex
(cÚ¡ 
T
& 
begš
,

267 cÚ¡ 
T
& 
’d
,

268 cÚ¡ 
Inüem’tT
& 
¡•
) {

269 
	g’d_šdex
 = 0;

270 
T
 
	gi
 = 
begš
; i < 
	g’d
; i = 
¡©ic_ÿ¡
<T>(
i
 + 
¡•
))

271 
’d_šdex
++;

272  
	g’d_šdex
;

276 
	gİ”©Ü
=(cÚ¡ 
RªgeG’”©Ü
& 
Ùh”
);

278 cÚ¡ 
T
 
	gbegš_
;

279 cÚ¡ 
T
 
	g’d_
;

280 cÚ¡ 
Inüem’tT
 
	g¡•_
;

283 cÚ¡ 
	g’d_šdex_
;

291 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

292 
şass
 
	gV®uesInI‹¿tÜRªgeG’”©Ü
 : 
public
 
P¬amG’”©ÜIÁ”çû
<
T
> {

293 
public
:

294 
‹m¶©e
 <
ty³Çme
 
FÜw¬dI‹¿tÜ
>

295 
V®uesInI‹¿tÜRªgeG’”©Ü
(
FÜw¬dI‹¿tÜ
 
begš
, FÜw¬dI‹¿tÜ 
’d
)

296 : 
cÚš”_
(
begš
, 
’d
) {}

297 ~
V®uesInI‹¿tÜRªgeG’”©Ü
(è
	gov”ride
 {}

299 
	gP¬amI‹¿tÜIÁ”çû
<
	gT
>* 
Begš
(ècÚ¡ 
	gov”ride
 {

300  
Ãw
 
I‹¿tÜ
(
this
, 
cÚš”_
.
begš
());

302 
	gP¬amI‹¿tÜIÁ”çû
<
	gT
>* 
End
(ècÚ¡ 
	gov”ride
 {

303  
Ãw
 
I‹¿tÜ
(
this
, 
cÚš”_
.
’d
());

306 
	g´iv©e
:

307 
ty³Çme
 ::
	t¡d
::
	tveùÜ
<
	tT
> 
	tCÚš”Ty³
;

309 
şass
 
	gI‹¿tÜ
 : 
public
 
P¬amI‹¿tÜIÁ”çû
<
T
> {

310 
public
:

311 
I‹¿tÜ
(cÚ¡ 
P¬amG’”©ÜIÁ”çû
<
T
>* 
ba£
,

312 
ty³Çme
 
CÚš”Ty³
::
cÚ¡_™”©Ü
 
™”©Ü
)

313 : 
ba£_
(
ba£
), 
™”©Ü_
(
™”©Ü
) {}

314 ~
I‹¿tÜ
(è
	gov”ride
 {}

316 cÚ¡ 
	gP¬amG’”©ÜIÁ”çû
<
	gT
>* 
Ba£G’”©Ü
(ècÚ¡ 
	gov”ride
 {

317  
	gba£_
;

319 
Advªû
(è
	gov”ride
 {

320 ++
	g™”©Ü_
;

321 
	gv®ue_
.
»£t
();

323 
	gP¬amI‹¿tÜIÁ”çû
<
	gT
>* 
ClÚe
(ècÚ¡ 
	gov”ride
 {

324  
Ãw
 
I‹¿tÜ
(*
this
);

333 cÚ¡ 
T
* 
Cu¼’t
(ècÚ¡ 
	gov”ride
 {

334 ià(
	gv®ue_
.
g‘
(è=ğ
nuÎ±r
è
v®ue_
.
»£t
(
Ãw
 
T
(*
™”©Ü_
));

335  
	gv®ue_
.
g‘
();

337 
boŞ
 
Equ®s
(cÚ¡ 
P¬amI‹¿tÜIÁ”çû
<
T
>& 
Ùh”
ècÚ¡ 
	gov”ride
 {

340 
GTEST_CHECK_
(
Ba£G’”©Ü
(è=ğ
Ùh”
.BaseGenerator())

342 << "äom difã»Á g’”©Üs." << 
¡d
::
’dl
;

343  
	g™”©Ü_
 ==

344 
CheckedDownÿ¡ToAùu®Ty³
<cÚ¡ 
I‹¿tÜ
>(&
Ùh”
)->
™”©Ü_
;

347 
	g´iv©e
:

348 
I‹¿tÜ
(cÚ¡ I‹¿tÜ& 
Ùh”
)

351 : 
P¬amI‹¿tÜIÁ”çû
<
T
>(),

352 
ba£_
(
Ùh”
.base_),

353 
™”©Ü_
(
Ùh”
.iterator_) {}

355 cÚ¡ 
	gP¬amG’”©ÜIÁ”çû
<
	gT
>* cÚ¡ 
	gba£_
;

356 
ty³Çme
 
	gCÚš”Ty³
::
cÚ¡_™”©Ü
 
™”©Ü_
;

362 
mubË
 
	g¡d
::
unique_±r
<cÚ¡ 
T
> 
v®ue_
;

366 
	gİ”©Ü
=(cÚ¡ 
V®uesInI‹¿tÜRªgeG’”©Ü
& 
Ùh”
);

368 cÚ¡ 
CÚš”Ty³
 
	gcÚš”_
;

375 
	g‹m¶©e
 <
şass
 
	gP¬amTy³
>

376 
	g¡d
::
¡ršg
 
DeçuÉP¬amName
(cÚ¡ 
Te¡P¬amInfo
<
P¬amTy³
>& 
šfo
) {

377 
Mes§ge
 
Çme_¡»am
;

378 
	gÇme_¡»am
 << 
	gšfo
.
	gšdex
;

379  
	gÇme_¡»am
.
G‘SŒšg
();

382 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = >

383 
Te¡NÙEm±y
() {

384 
¡©ic_as£¹
((
T
) == 0, "Empty‡rguments‡re‚ot‡llowed.");

386 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = >

387 
Te¡NÙEm±y
(cÚ¡ 
T
&) {}

393 
‹m¶©e
 <
şass
 
Te¡CÏss
>

394 şas 
	cP¬am‘”izedTe¡FaùÜy
 : 
public
 
Te¡FaùÜyBa£
 {

395 
public
:

396 
ty³Çme
 
	tTe¡CÏss
::
	tP¬amTy³
 ParamType;

397 
ex¶ic™
 
P¬am‘”izedTe¡FaùÜy
(
P¬amTy³
 
·¿m‘”
) :

398 
·¿m‘”_
(
·¿m‘”
) {}

399 
Te¡
* 
C»©eTe¡
(è
ov”ride
 {

400 
Te¡CÏss
::
S‘P¬am
(&
·¿m‘”_
);

401  
Ãw
 
Te¡CÏss
();

404 
	g´iv©e
:

405 cÚ¡ 
P¬amTy³
 
·¿m‘”_
;

407 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
P¬am‘”izedTe¡FaùÜy
);

414 
	g‹m¶©e
 <
şass
 
	gP¬amTy³
>

415 şas 
	cTe¡M‘aFaùÜyBa£
 {

416 
	gpublic
:

417 
vœtu®
 ~
Te¡M‘aFaùÜyBa£
() {}

419 
vœtu®
 
Te¡FaùÜyBa£
* 
C»©eTe¡FaùÜy
(
P¬amTy³
 
·¿m‘”
) = 0;

430 
	g‹m¶©e
 <
şass
 
	gTe¡Su™e
>

431 
şass
 
	gTe¡M‘aFaùÜy


432 : 
public
 
Te¡M‘aFaùÜyBa£
<
ty³Çme
 
Te¡Su™e
::
P¬amTy³
> {

433 
public
:

434 
usšg
 
P¬amTy³
 = 
ty³Çme
 
Te¡Su™e
::ParamType;

436 
Te¡M‘aFaùÜy
() {}

438 
Te¡FaùÜyBa£
* 
C»©eTe¡FaùÜy
(
P¬amTy³
 
·¿m‘”
è
	gov”ride
 {

439  
Ãw
 
	gP¬am‘”izedTe¡FaùÜy
<
	gTe¡Su™e
>(
	g·¿m‘”
);

442 
	g´iv©e
:

443 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Te¡M‘aFaùÜy
);

456 şas 
	cP¬am‘”izedTe¡Su™eInfoBa£
 {

457 
	gpublic
:

458 
vœtu®
 ~
P¬am‘”izedTe¡Su™eInfoBa£
() {}

461 
vœtu®
 cÚ¡ 
¡d
::
¡ršg
& 
G‘Te¡Su™eName
() const = 0;

463 
vœtu®
 
Ty³Id
 
G‘Te¡Su™eTy³Id
() const = 0;

468 
vœtu®
 
Regi¡”Te¡s
() = 0;

470 
	g´Ùeùed
:

471 
P¬am‘”izedTe¡Su™eInfoBa£
() {}

473 
´iv©e
:

474 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
P¬am‘”izedTe¡Su™eInfoBa£
);

481 
GTEST_API_
 
	gM¬kAsIgnÜed
 {

482 
ex¶ic™
 
M¬kAsIgnÜed
(cÚ¡ * 
‹¡_su™e
);

485 
GTEST_API_
 
In£¹SyÁh‘icTe¡Ca£
(cÚ¡ 
¡d
::
¡ršg
& 
Çme
,

486 
CodeLoÿtiÚ
 
loÿtiÚ
, 
boŞ
 
has_‹¡_p
);

495 
	g‹m¶©e
 <
şass
 
	gTe¡Su™e
>

496 şas 
	cP¬am‘”izedTe¡Su™eInfo
 : 
public
 
P¬am‘”izedTe¡Su™eInfoBa£
 {

497 
public
:

501 
usšg
 
P¬amTy³
 = 
ty³Çme
 
Te¡Su™e
::ParamType;

503 
	gP¬amG’”©Ü
<
	tP¬amTy³
>(
	tG’”©ÜC»©iÚFunc
)();

504 
usšg
 
	gP¬amNameG’”©ÜFunc
 = 
¡d
::
¡ršg
(cÚ¡ 
Te¡P¬amInfo
<
P¬amTy³
>&);

506 
ex¶ic™
 
P¬am‘”izedTe¡Su™eInfo
(cÚ¡ * 
Çme
,

507 
CodeLoÿtiÚ
 
code_loÿtiÚ
)

508 : 
‹¡_su™e_Çme_
(
Çme
), 
code_loÿtiÚ_
(
code_loÿtiÚ
) {}

511 cÚ¡ 
	g¡d
::
¡ršg
& 
G‘Te¡Su™eName
(ècÚ¡ 
ov”ride
 {

512  
‹¡_su™e_Çme_
;

515 
Ty³Id
 
G‘Te¡Su™eTy³Id
(ècÚ¡ 
	gov”ride
 {  
	gG‘Ty³Id
<
	gTe¡Su™e
>(); }

522 
AddTe¡P©‹º
(cÚ¡ * 
‹¡_su™e_Çme
, cÚ¡ * 
‹¡_ba£_Çme
,

523 
Te¡M‘aFaùÜyBa£
<
P¬amTy³
>* 
m‘a_çùÜy
,

524 
CodeLoÿtiÚ
 
code_loÿtiÚ
) {

525 
	g‹¡s_
.
push_back
(
¡d
::
sh¬ed_±r
<
Te¡Info
>(
Ãw
 TestInfo(

526 
‹¡_su™e_Çme
, 
‹¡_ba£_Çme
, 
m‘a_çùÜy
, 
code_loÿtiÚ
)));

530 
AddTe¡Su™eIn¡ªtŸtiÚ
(cÚ¡ 
¡d
::
¡ršg
& 
š¡ªtŸtiÚ_Çme
,

531 
G’”©ÜC»©iÚFunc
* 
func
,

532 
P¬amNameG’”©ÜFunc
* 
Çme_func
,

533 cÚ¡ * 
fe
, 
lše
) {

534 
	gš¡ªtŸtiÚs_
.
push_back
(

535 
In¡ªtŸtiÚInfo
(
š¡ªtŸtiÚ_Çme
, 
func
, 
Çme_func
, 
fe
, 
lše
));

543 
Regi¡”Te¡s
(è
	gov”ride
 {

544 
boŞ
 
	gg’”©ed_š¡ªtŸtiÚs
 = 
çl£
;

546 
ty³Çme
 
	gTe¡InfoCÚš”
::
™”©Ü
 
‹¡_™
 = 
‹¡s_
.
begš
();

547 
	g‹¡_™
 !ğ
‹¡s_
.
’d
(); ++test_it) {

548 
	g¡d
::
sh¬ed_±r
<
Te¡Info
> 
‹¡_šfo
 = *
‹¡_™
;

549 
ty³Çme
 
	gIn¡ªtŸtiÚCÚš”
::
™”©Ü
 
g’_™
 =

550 
š¡ªtŸtiÚs_
.
begš
(); 
	gg’_™
 !ğš¡ªtŸtiÚs_.
’d
();

551 ++
	gg’_™
) {

552 cÚ¡ 
	g¡d
::
¡ršg
& 
š¡ªtŸtiÚ_Çme
 = 
g’_™
->
Çme
;

553 
	gP¬amG’”©Ü
<
	gP¬amTy³
> 
g’”©Ü
((*
g’_™
->generator)());

554 
P¬amNameG’”©ÜFunc
* 
	gÇme_func
 = 
g’_™
->
Çme_func
;

555 cÚ¡ * 
	gfe
 = 
g’_™
->
fe
;

556 
	glše
 = 
g’_™
->
lše
;

558 
	g¡d
::
¡ršg
 
‹¡_su™e_Çme
;

559 iàĞ!
	gš¡ªtŸtiÚ_Çme
.
em±y
() )

560 
	g‹¡_su™e_Çme
 = 
š¡ªtŸtiÚ_Çme
 + "/";

561 
	g‹¡_su™e_Çme
 +ğ
‹¡_šfo
->
‹¡_su™e_ba£_Çme
;

563 
size_t
 
	gi
 = 0;

564 
	g¡d
::
£t
<
¡d
::
¡ršg
> 
‹¡_·¿m_Çmes
;

565 
ty³Çme
 
	gP¬amG’”©Ü
<
	gP¬amTy³
>::
™”©Ü
 
·¿m_™
 =

566 
g’”©Ü
.
begš
();

567 
	g·¿m_™
 !ğ
g’”©Ü
.
’d
(); ++·¿m_™, ++
	gi
) {

568 
	gg’”©ed_š¡ªtŸtiÚs
 = 
Œue
;

570 
Mes§ge
 
	g‹¡_Çme_¡»am
;

572 
	g¡d
::
¡ršg
 
·¿m_Çme
 = 
Çme_func
(

573 
Te¡P¬amInfo
<
P¬amTy³
>(*
·¿m_™
, 
i
));

575 
GTEST_CHECK_
(
IsV®idP¬amName
(
·¿m_Çme
))

576 << "P¬am‘”izede¡‚am'" << 
	g·¿m_Çme


577 << "' i šv®id, iÀ" << 
	gfe


578 << "†š" << 
	glše
 << 
	g¡d
::
’dl
;

580 
GTEST_CHECK_
(
‹¡_·¿m_Çmes
.
couÁ
(
·¿m_Çme
) == 0)

581 << "Du¶iÿ‹…¬am‘”izede¡‚am'" << 
·¿m_Çme


582 << "', iÀ" << 
fe
 << "†š" << 
lše
 << 
¡d
::
’dl
;

584 
	g‹¡_·¿m_Çmes
.
š£¹
(
·¿m_Çme
);

586 ià(!
	g‹¡_šfo
->
	g‹¡_ba£_Çme
.
em±y
()) {

587 
	g‹¡_Çme_¡»am
 << 
	g‹¡_šfo
->
	g‹¡_ba£_Çme
 << "/";

589 
	g‹¡_Çme_¡»am
 << 
	g·¿m_Çme
;

590 
MakeAndRegi¡”Te¡Info
(

591 
‹¡_su™e_Çme
.
c_¡r
(), 
‹¡_Çme_¡»am
.
G‘SŒšg
().c_str(),

592 
nuÎ±r
,

593 
PrštToSŒšg
(*
·¿m_™
).
c_¡r
(), 
‹¡_šfo
->
code_loÿtiÚ
,

594 
G‘Te¡Su™eTy³Id
(),

595 
Su™eApiResŞv”
<
Te¡Su™e
>::
G‘S‘UpCa£OrSu™e
(
fe
, 
lše
),

596 
Su™eApiResŞv”
<
Te¡Su™e
>::
G‘T—rDownCa£OrSu™e
(
fe
, 
lše
),

597 
‹¡_šfo
->
‹¡_m‘a_çùÜy
->
C»©eTe¡FaùÜy
(*
·¿m_™
));

602 ià(!
	gg’”©ed_š¡ªtŸtiÚs
) {

604 
In£¹SyÁh‘icTe¡Ca£
(
G‘Te¡Su™eName
(), 
code_loÿtiÚ_
,

605 !
‹¡s_
.
em±y
());

609 
	g´iv©e
:

612 
	sTe¡Info
 {

613 
Te¡Info
(cÚ¡ * 
a_‹¡_su™e_ba£_Çme
, cÚ¡ * 
a_‹¡_ba£_Çme
,

614 
Te¡M‘aFaùÜyBa£
<
P¬amTy³
>* 
a_‹¡_m‘a_çùÜy
,

615 
CodeLoÿtiÚ
 
a_code_loÿtiÚ
)

616 : 
‹¡_su™e_ba£_Çme
(
a_‹¡_su™e_ba£_Çme
),

617 
‹¡_ba£_Çme
(
a_‹¡_ba£_Çme
),

618 
‹¡_m‘a_çùÜy
(
a_‹¡_m‘a_çùÜy
),

619 
code_loÿtiÚ
(
a_code_loÿtiÚ
) {}

621 cÚ¡ 
	g¡d
::
¡ršg
 
‹¡_su™e_ba£_Çme
;

622 cÚ¡ 
	g¡d
::
¡ršg
 
‹¡_ba£_Çme
;

623 cÚ¡ 
	g¡d
::
unique_±r
<
Te¡M‘aFaùÜyBa£
<
P¬amTy³
> > 
‹¡_m‘a_çùÜy
;

624 cÚ¡ 
CodeLoÿtiÚ
 
	gcode_loÿtiÚ
;

626 
usšg
 
	gTe¡InfoCÚš”
 = ::
¡d
::
veùÜ
<¡d::
sh¬ed_±r
<
Te¡Info
> >;

630 
	sIn¡ªtŸtiÚInfo
 {

631 
In¡ªtŸtiÚInfo
(cÚ¡ 
¡d
::
¡ršg
 &
Çme_š
,

632 
G’”©ÜC»©iÚFunc
* 
g’”©Ü_š
,

633 
P¬amNameG’”©ÜFunc
* 
Çme_func_š
,

634 cÚ¡ * 
fe_š
,

635 
lše_š
)

636 : 
Çme
(
Çme_š
),

637 
g’”©Ü
(
g’”©Ü_š
),

638 
Çme_func
(
Çme_func_š
),

639 
fe
(
fe_š
),

640 
lše
(
lše_š
) {}

642 
	g¡d
::
¡ršg
 
Çme
;

643 
G’”©ÜC»©iÚFunc
* 
	gg’”©Ü
;

644 
P¬amNameG’”©ÜFunc
* 
	gÇme_func
;

645 cÚ¡ * 
	gfe
;

646 
	glše
;

648 ::
¡d
::
	tveùÜ
<
	tIn¡ªtŸtiÚInfo
> 
	tIn¡ªtŸtiÚCÚš”
;

650 
boŞ
 
IsV®idP¬amName
(cÚ¡ 
¡d
::
¡ršg
& 
Çme
) {

652 ià(
Çme
.
em±y
())

653  
çl£
;

656 
	g¡d
::
¡ršg
::
size_ty³
 
šdex
 = 0; 
	gšdex
 < 
	gÇme
.
size
(); ++index) {

657 ià(!
IsAlNum
(
Çme
[
šdex
]è&& 
	gÇme
[index] != '_')

658  
çl£
;

661  
	gŒue
;

664 cÚ¡ 
	g¡d
::
¡ršg
 
‹¡_su™e_Çme_
;

665 
CodeLoÿtiÚ
 
	gcode_loÿtiÚ_
;

666 
Te¡InfoCÚš”
 
	g‹¡s_
;

667 
In¡ªtŸtiÚCÚš”
 
	gš¡ªtŸtiÚs_
;

669 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
P¬am‘”izedTe¡Su™eInfo
);

673 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


674 
	g‹m¶©e
 <
şass
 
	gTe¡Ca£
>

675 
usšg
 
	gP¬am‘”izedTe¡Ca£Info
 = 
P¬am‘”izedTe¡Su™eInfo
<
Te¡Ca£
>;

684 şas 
	cP¬am‘”izedTe¡Su™eRegi¡ry
 {

685 
	gpublic
:

686 
P¬am‘”izedTe¡Su™eRegi¡ry
() {}

687 ~
P¬am‘”izedTe¡Su™eRegi¡ry
() {

688 auto& 
‹¡_su™e_šfo
 : 
‹¡_su™e_šfos_
) {

689 
d–‘e
 
‹¡_su™e_šfo
;

695 
	g‹m¶©e
 <
şass
 
	gTe¡Su™e
>

696 
	gP¬am‘”izedTe¡Su™eInfo
<
	gTe¡Su™e
>* 
G‘Te¡Su™eP©‹ºHŞd”
(

697 cÚ¡ * 
‹¡_su™e_Çme
, 
CodeLoÿtiÚ
 
code_loÿtiÚ
) {

698 
	gP¬am‘”izedTe¡Su™eInfo
<
	gTe¡Su™e
>* 
	gty³d_‹¡_šfo
 = 
nuÎ±r
;

699 auto& 
	g‹¡_su™e_šfo
 : 
‹¡_su™e_šfos_
) {

700 ià(
‹¡_su™e_šfo
->
G‘Te¡Su™eName
(è=ğ
‹¡_su™e_Çme
) {

701 ià(
‹¡_su™e_šfo
->
G‘Te¡Su™eTy³Id
(è!ğ
G‘Ty³Id
<
Te¡Su™e
>()) {

705 
R•ÜtInv®idTe¡Su™eTy³
(
‹¡_su™e_Çme
, 
code_loÿtiÚ
);

706 
	gposix
::
AbÜt
();

711 
	gty³d_‹¡_šfo
 = 
CheckedDownÿ¡ToAùu®Ty³
<

712 
P¬am‘”izedTe¡Su™eInfo
<
Te¡Su™e
> >(
‹¡_su™e_šfo
);

717 ià(
	gty³d_‹¡_šfo
 =ğ
nuÎ±r
) {

718 
ty³d_‹¡_šfo
 = 
Ãw
 
P¬am‘”izedTe¡Su™eInfo
<
Te¡Su™e
>(

719 
‹¡_su™e_Çme
, 
	gcode_loÿtiÚ
);

720 
	g‹¡_su™e_šfos_
.
push_back
(
ty³d_‹¡_šfo
);

722  
	gty³d_‹¡_šfo
;

724 
Regi¡”Te¡s
() {

725 auto& 
	g‹¡_su™e_šfo
 : 
‹¡_su™e_šfos_
) {

726 
‹¡_su™e_šfo
->
Regi¡”Te¡s
();

730 #iâdeà
GTEST_REMOVE_LEGACY_TEST_CASEAPI_


731 
	g‹m¶©e
 <
şass
 
	gTe¡Ca£
>

732 
	gP¬am‘”izedTe¡Ca£Info
<
	gTe¡Ca£
>* 
G‘Te¡Ca£P©‹ºHŞd”
(

733 cÚ¡ * 
‹¡_ÿ£_Çme
, 
CodeLoÿtiÚ
 
code_loÿtiÚ
) {

734  
	gG‘Te¡Su™eP©‹ºHŞd”
<
	gTe¡Ca£
>(
	g‹¡_ÿ£_Çme
, 
	gcode_loÿtiÚ
);

739 
	g´iv©e
:

740 
usšg
 
Te¡Su™eInfoCÚš”
 = ::
¡d
::
veùÜ
<
P¬am‘”izedTe¡Su™eInfoBa£
*>;

742 
Te¡Su™eInfoCÚš”
 
	g‹¡_su™e_šfos_
;

744 
GTEST_DISALLOW_COPY_AND_ASSIGN_
(
P¬am‘”izedTe¡Su™eRegi¡ry
);

750 şas 
	cTy³P¬am‘”izedTe¡Su™eRegi¡ry
 {

751 
	gpublic
:

753 
Regi¡”Te¡Su™e
(cÚ¡ * 
‹¡_su™e_Çme
,

754 
CodeLoÿtiÚ
 
code_loÿtiÚ
);

757 
Regi¡”In¡ªtŸtiÚ
(cÚ¡ * 
‹¡_su™e_Çme
);

761 
CheckFÜIn¡ªtŸtiÚs
();

763 
	g´iv©e
:

764 
	sTy³P¬am‘”izedTe¡Su™eInfo
 {

765 
ex¶ic™
 
Ty³P¬am‘”izedTe¡Su™eInfo
(
CodeLoÿtiÚ
 
c
)

766 : 
code_loÿtiÚ
(
c
), 
š¡ªtŸ‹d
(
çl£
) {}

768 
CodeLoÿtiÚ
 
	gcode_loÿtiÚ
;

769 
boŞ
 
	gš¡ªtŸ‹d
;

772 
	g¡d
::
m­
<
¡d
::
¡ršg
, 
	gTy³P¬am‘”izedTe¡Su™eInfo
> 
	gsu™es_
;

779 
	g‹m¶©e
 <
şass
 
	gCÚš”
>

780 
	gš‹º®
::
P¬amG’”©Ü
<
ty³Çme
 
CÚš”
::
v®ue_ty³
> 
V®uesIn
(

781 cÚ¡ 
CÚš”
& 
cÚš”
);

783 
Çme¥aû
 
	gš‹º®
 {

786 #ifdeà
_MSC_VER


787 #´agm¨
w¬nšg
(
push
)

788 #´agm¨
w¬nšg
(
di§bË
 : 4100)

791 
	g‹m¶©e
 <
	gty³Çme
... 
	gTs
>

792 şas 
	cV®ueA¼ay
 {

793 
	gpublic
:

794 
ex¶ic™
 
V®ueA¼ay
(
Ts
... 
v
è: 
v_
(
FÏtTu¶eCÚ¡ruùTag
{}, 
¡d
::
move
(v)...) {}

796 
‹m¶©e
 <
ty³Çme
 
T
>

797 
İ”©Ü
 
P¬amG’”©Ü
<
T
>() const {

798  
V®uesIn
(
MakeVeùÜ
<
T
>(
MakeIndexSequ’û
<...(
Ts
)>()));

801 
	g´iv©e
:

802 
‹m¶©e
 <
ty³Çme
 
T
, 
	gsize_t
... 
	gI
>

803 
	g¡d
::
veùÜ
<
T
> 
MakeVeùÜ
(
IndexSequ’û
<
I
...>) const {

804  
¡d
::
veùÜ
<
T
>{
¡©ic_ÿ¡
<T>(
v_
.
‹m¶©e
 
G‘
<
I
>())...};

807 
	gFÏtTu¶e
<
	gTs
...> 
	gv_
;

810 #ifdeà
_MSC_VER


811 #´agm¨
w¬nšg
(
pİ
)

814 
	g‹m¶©e
 <
	gty³Çme
... 
	gT
>

815 
şass
 
	gC¬‹sŸnProduùG’”©Ü


816 : 
public
 
P¬amG’”©ÜIÁ”çû
<::
¡d
::
tu¶e
<
T
...>> {

817 
public
:

818 ::
¡d
::
	ttu¶e
<
	tT
...> 
	tP¬amTy³
;

820 
C¬‹sŸnProduùG’”©Ü
(cÚ¡ 
¡d
::
tu¶e
<
P¬amG’”©Ü
<
T
>...>& 
g
)

821 : 
g’”©Üs_
(
g
) {}

822 ~
C¬‹sŸnProduùG’”©Ü
(è
ov”ride
 {}

824 
P¬amI‹¿tÜIÁ”çû
<
P¬amTy³
>* 
Begš
(ècÚ¡ 
ov”ride
 {

825  
Ãw
 
I‹¿tÜ
(
this
, 
g’”©Üs_
, 
çl£
);

827 
	gP¬amI‹¿tÜIÁ”çû
<
	gP¬amTy³
>* 
End
(ècÚ¡ 
	gov”ride
 {

828  
Ãw
 
I‹¿tÜ
(
this
, 
g’”©Üs_
, 
Œue
);

831 
	g´iv©e
:

832 
‹m¶©e
 <
şass
 
I
>

833 
şass
 
I‹¿tÜIm¶
;

834 
	g‹m¶©e
 <
	gsize_t
... 
	gI
>

835 
şass
 
	gI‹¿tÜIm¶
<
	gIndexSequ’û
<
	gI
...>>

836 : 
public
 
P¬amI‹¿tÜIÁ”çû
<
P¬amTy³
> {

837 
public
:

838 
I‹¿tÜIm¶
(cÚ¡ 
P¬amG’”©ÜIÁ”çû
<
P¬amTy³
>* 
ba£
,

839 cÚ¡ 
¡d
::
tu¶e
<
P¬amG’”©Ü
<
T
>...>& 
g’”©Üs
, 
boŞ
 
is_’d
)

840 : 
ba£_
(
ba£
),

841 
begš_
(
¡d
::
g‘
<
I
>(
g’”©Üs
).
begš
()...),

842 
’d_
(
¡d
::
g‘
<
I
>(
g’”©Üs
).
’d
()...),

843 
cu¼’t_
(
is_’d
 ? 
’d_
 : 
begš_
) {

844 
Compu‹Cu¼’tV®ue
();

846 ~
I‹¿tÜIm¶
(è
	gov”ride
 {}

848 cÚ¡ 
	gP¬amG’”©ÜIÁ”çû
<
	gP¬amTy³
>* 
Ba£G’”©Ü
(ècÚ¡ 
	gov”ride
 {

849  
	gba£_
;

853 
Advªû
(è
	gov”ride
 {

854 
as£¹
(!
AtEnd
());

856 ++
	g¡d
::
g‘
<...(
T
è- 1>(
cu¼’t_
);

858 
	gAdvªûIfEnd
<...(
	gT
) - 1>();

859 
Compu‹Cu¼’tV®ue
();

861 
	gP¬amI‹¿tÜIÁ”çû
<
	gP¬amTy³
>* 
ClÚe
(ècÚ¡ 
	gov”ride
 {

862  
Ãw
 
I‹¿tÜIm¶
(*
this
);

865 cÚ¡ 
P¬amTy³
* 
Cu¼’t
(ècÚ¡ 
	gov”ride
 {  
	gcu¼’t_v®ue_
.
g‘
(); }

867 
boŞ
 
Equ®s
(cÚ¡ 
P¬amI‹¿tÜIÁ”çû
<
P¬amTy³
>& 
Ùh”
ècÚ¡ 
	gov”ride
 {

870 
GTEST_CHECK_
(
Ba£G’”©Ü
(è=ğ
Ùh”
.BaseGenerator())

872 << "äom difã»Á g’”©Üs." << 
¡d
::
’dl
;

873 cÚ¡ 
I‹¿tÜIm¶
* 
	gty³d_Ùh”
 =

874 
CheckedDownÿ¡ToAùu®Ty³
<cÚ¡ 
I‹¿tÜIm¶
>(&
Ùh”
);

879 ià(
AtEnd
(è&& 
	gty³d_Ùh”
->AtEnd()è 
	gŒue
;

881 
boŞ
 
	g§me
 = 
Œue
;

882 
boŞ
 
	gdummy
[] = {

883 (
§me
 = sam&& 
¡d
::
g‘
<
I
>(
cu¼’t_
) ==

884 
¡d
::
g‘
<
I
>(
ty³d_Ùh”
->
cu¼’t_
))...};

885 ()
	gdummy
;

886  
	g§me
;

889 
	g´iv©e
:

890 
‹m¶©e
 <
size_t
 
ThisI
>

891 
AdvªûIfEnd
() {

892 ià(
¡d
::
g‘
<
ThisI
>(
cu¼’t_
è!ğ¡d::g‘<ThisI>(
’d_
)) ;

894 
boŞ
 
	gÏ¡
 = 
ThisI
 == 0;

895 ià(
	gÏ¡
) {

900 
cÚ¡ex´
 
size_t
 
	gNextI
 = 
ThisI
 - (ThisI != 0);

901 
	g¡d
::
g‘
<
ThisI
>(
cu¼’t_
èğ
¡d
::g‘<ThisI>(
begš_
);

902 ++
	g¡d
::
g‘
<
NextI
>(
cu¼’t_
);

903 
	gAdvªûIfEnd
<
	gNextI
>();

906 
Compu‹Cu¼’tV®ue
() {

907 ià(!
AtEnd
())

908 
	gcu¼’t_v®ue_
 = 
¡d
::
make_sh¬ed
<
P¬amTy³
>(*¡d::
g‘
<
I
>(
cu¼’t_
)...);

910 
boŞ
 
AtEnd
() const {

911 
boŞ
 
	g©_’d
 = 
çl£
;

912 
boŞ
 
	gdummy
[] = {

913 (
©_’d
 =‡t_’d || 
¡d
::
g‘
<
I
>(
cu¼’t_
è=ğ¡d::g‘<I>(
’d_
))...};

914 ()
	gdummy
;

915  
	g©_’d
;

918 cÚ¡ 
	gP¬amG’”©ÜIÁ”çû
<
	gP¬amTy³
>* cÚ¡ 
	gba£_
;

919 
	g¡d
::
tu¶e
<
ty³Çme
 
P¬amG’”©Ü
<
T
>::
™”©Ü
...> 
begš_
;

920 
	g¡d
::
tu¶e
<
ty³Çme
 
P¬amG’”©Ü
<
T
>::
™”©Ü
...> 
’d_
;

921 
	g¡d
::
tu¶e
<
ty³Çme
 
P¬amG’”©Ü
<
T
>::
™”©Ü
...> 
cu¼’t_
;

922 
	g¡d
::
sh¬ed_±r
<
P¬amTy³
> 
cu¼’t_v®ue_
;

925 
usšg
 
	gI‹¿tÜ
 = 
I‹¿tÜIm¶
<
ty³Çme
 
MakeIndexSequ’û
<...(
T
)>::
ty³
>;

927 
	g¡d
::
tu¶e
<
P¬amG’”©Ü
<
T
>...> 
g’”©Üs_
;

930 
	g‹m¶©e
 <
	gşass
... 
	gG’
>

931 şas 
	cC¬‹sŸnProduùHŞd”
 {

932 
	gpublic
:

933 
C¬‹sŸnProduùHŞd”
(cÚ¡ 
G’
&... 
g
è: 
g’”©Üs_
(g...) {}

934 
‹m¶©e
 <
ty³Çme
... 
T
>

935 
İ”©Ü
 
P¬amG’”©Ü
<::
¡d
::
tu¶e
<
T
...>>() const {

936  
P¬amG’”©Ü
<::
¡d
::
tu¶e
<
T
...>>(

937 
Ãw
 
C¬‹sŸnProduùG’”©Ü
<
T
...>(
g’”©Üs_
));

940 
	g´iv©e
:

941 
¡d
::
tu¶e
<
G’
...> 
g’”©Üs_
;

	@/usr/include/gtest/internal/gtest-port.h

43 #iâdeà
GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_PORT_H_


44 
	#GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_PORT_H_


	)

260 
	~<ùy³.h
>

261 
	~<¡ddef.h
>

262 
	~<¡dio.h
>

263 
	~<¡dlib.h
>

264 
	~<¡ršg.h
>

266 
	~<û¼no
>

267 
	~<c¡dšt
>

268 
	~<lim™s
>

269 
	~<ty³_Œa™s
>

271 #iâdeà
_WIN32_WCE


272 
	~<sys/ty³s.h
>

273 
	~<sys/¡©.h
>

276 #ià
defšed
 
__APPLE__


277 
	~<Avaab™yMaüos.h
>

278 
	~<T¬g‘CÚd™iÚ®s.h
>

281 
	~<io¡»am
>

282 
	~<loÿË
>

283 
	~<memÜy
>

284 
	~<¡ršg
>

285 
	~<tu¶e
>

286 
	~<veùÜ
>

288 
	~"g‹¡/š‹º®/cu¡om/g‹¡-pÜt.h
"

289 
	~"g‹¡/š‹º®/g‹¡-pÜt-¬ch.h
"

291 #ià!
defšed
(
GTEST_DEV_EMAIL_
)

292 
	#GTEST_DEV_EMAIL_
 "googË‹¡äamewÜk@@googËgroups.com"

	)

293 
	#GTEST_FLAG_PREFIX_
 "g‹¡_"

	)

294 
	#GTEST_FLAG_PREFIX_DASH_
 "g‹¡-"

	)

295 
	#GTEST_FLAG_PREFIX_UPPER_
 "GTEST_"

	)

296 
	#GTEST_NAME_
 "GoogË Te¡"

	)

297 
	#GTEST_PROJECT_URL_
 "h‰ps://g™hub.com/googË/googË‹¡/"

	)

300 #ià!
defšed
(
GTEST_INIT_GOOGLE_TEST_NAME_
)

301 
	#GTEST_INIT_GOOGLE_TEST_NAME_
 "‹¡šg::In™GoogËTe¡"

	)

305 #ifdeà
__GNUC__


307 
	#GTEST_GCC_VER_
 \

308 (
__GNUC__
*10000 + 
__GNUC_MINOR__
*100 + 
__GNUC_PATCHLEVEL__
)

	)

316 #ià
defšed
(
_MSC_VER
)

317 
	#GTEST_DISABLE_MSC_WARNINGS_PUSH_
(
w¬nšgs
) \

318 
	`__´agma
(
	`w¬nšg
(
push
)) \

319 
	`__´agma
(
	`w¬nšg
(
di§bË
: 
w¬nšgs
))

	)

320 
	#GTEST_DISABLE_MSC_WARNINGS_POP_
() \

321 
	`__´agma
(
	`w¬nšg
(
pİ
))

	)

324 
	#GTEST_DISABLE_MSC_WARNINGS_PUSH_
(
w¬nšgs
)

	)

325 
	#GTEST_DISABLE_MSC_WARNINGS_POP_
()

	)

330 #ifdeà
__şªg__


331 
	#GTEST_DISABLE_MSC_DEPRECATED_PUSH_
() \

332 
	`_P¿gma
("clang diagnostic…ush") \

333 
	`_P¿gma
("clang diagnostic ignored \"-Wdeprecated-declarations\"") \

334 
	`_P¿gma
("şªg dŸgno¡iøignÜed \"-Wd•»ÿ‹d-im¶em’tiÚs\"")

	)

335 
	#GTEST_DISABLE_MSC_DEPRECATED_POP_
() \

336 
	`_P¿gma
("şªg dŸgno¡iøpİ")

	)

338 
	#GTEST_DISABLE_MSC_DEPRECATED_PUSH_
() \

339 
	`GTEST_DISABLE_MSC_WARNINGS_PUSH_
(4996)

	)

340 
	#GTEST_DISABLE_MSC_DEPRECATED_POP_
() \

341 
	`GTEST_DISABLE_MSC_WARNINGS_POP_
()

	)

347 #ià
GTEST_OS_WINDOWS


348 #ià!
GTEST_OS_WINDOWS_MOBILE


349 
	~<dœeù.h
>

350 
	~<io.h
>

353 #ià
GTEST_OS_WINDOWS_MINGW
 && !
defšed
(
__MINGW64_VERSION_MAJOR
)

356 
_CRITICAL_SECTION
 
	tGTEST_CRITICAL_SECTION
;

361 
_RTL_CRITICAL_SECTION
 
	tGTEST_CRITICAL_SECTION
;

363 #–ià
GTEST_OS_XTENSA


364 
	~<uni¡d.h
>

371 
	~<uni¡d.h
>

372 
	~<¡ršgs.h
>

375 #ià
GTEST_OS_LINUX_ANDROID


377 
	~<ªdroid/­i-Ëv–.h
>

382 #iâdeà
GTEST_HAS_POSIX_RE


383 #ià
GTEST_OS_LINUX_ANDROID


385 
	#GTEST_HAS_POSIX_RE
 (
__ANDROID_API__
 >ğ9)

	)

387 
	#GTEST_HAS_POSIX_RE
 (!
GTEST_OS_WINDOWS
 && !
GTEST_OS_XTENSA
)

	)

391 #ià
GTEST_USES_PCRE


394 #–ià
GTEST_HAS_POSIX_RE


400 
	~<»gex.h
>

402 
	#GTEST_USES_POSIX_RE
 1

	)

404 #–ià
GTEST_OS_WINDOWS


408 
	#GTEST_USES_SIMPLE_RE
 1

	)

414 
	#GTEST_USES_SIMPLE_RE
 1

	)

418 #iâdeà
GTEST_HAS_EXCEPTIONS


421 #ià
defšed
(
_MSC_VER
è&& defšed(
_CPPUNWIND
)

423 
	#GTEST_HAS_EXCEPTIONS
 1

	)

424 #–ià
defšed
(
__BORLANDC__
)

428 #iâdeà
_HAS_EXCEPTIONS


429 
	#_HAS_EXCEPTIONS
 1

	)

431 
	#GTEST_HAS_EXCEPTIONS
 
_HAS_EXCEPTIONS


	)

432 #–ià
defšed
(
__şªg__
)

441 
	#GTEST_HAS_EXCEPTIONS
 (
__EXCEPTIONS
 && 
	`__has_ã©u»
(
cxx_exû±iÚs
))

	)

442 #–ià
defšed
(
__GNUC__
è&& 
__EXCEPTIONS


444 
	#GTEST_HAS_EXCEPTIONS
 1

	)

445 #–ià
defšed
(
__SUNPRO_CC
)

449 
	#GTEST_HAS_EXCEPTIONS
 1

	)

450 #–ià
defšed
(
__IBMCPP__
è&& 
__EXCEPTIONS


452 
	#GTEST_HAS_EXCEPTIONS
 1

	)

453 #–ià
defšed
(
__HP_aCC
)

456 
	#GTEST_HAS_EXCEPTIONS
 1

	)

460 
	#GTEST_HAS_EXCEPTIONS
 0

	)

464 #iâdeà
GTEST_HAS_STD_WSTRING


470 
	#GTEST_HAS_STD_WSTRING
 \

471 (!(
GTEST_OS_LINUX_ANDROID
 || 
GTEST_OS_CYGWIN
 || 
GTEST_OS_SOLARIS
 || \

472 
GTEST_OS_HAIKU
 || 
GTEST_OS_ESP32
 || 
GTEST_OS_ESP8266
 || 
GTEST_OS_XTENSA
))

	)

477 #iâdeà
GTEST_HAS_RTTI


481 #ifdeà
_MSC_VER


483 #ifdeà
_CPPRTTI


484 
	#GTEST_HAS_RTTI
 1

	)

486 
	#GTEST_HAS_RTTI
 0

	)

491 #–ià
defšed
(
__GNUC__
)

493 #ifdeà
__GXX_RTTI


498 #ià
GTEST_OS_LINUX_ANDROID
 && 
defšed
(
_STLPORT_MAJOR
) && \

499 !
	$defšed
(
__EXCEPTIONS
)

500 
	#GTEST_HAS_RTTI
 0

	)

502 
	#GTEST_HAS_RTTI
 1

	)

505 
	#GTEST_HAS_RTTI
 0

	)

511 #–ià
	`defšed
(
__şªg__
)

513 
	#GTEST_HAS_RTTI
 
	`__has_ã©u»
(
cxx_¹ti
)

	)

517 #–ià
	`defšed
(
__IBMCPP__
) && (__IBMCPP__ >= 900)

519 #ifdeà
__RTTI_ALL__


520 
	#GTEST_HAS_RTTI
 1

	)

522 
	#GTEST_HAS_RTTI
 0

	)

528 
	#GTEST_HAS_RTTI
 1

	)

536 #ià
GTEST_HAS_RTTI


537 
	~<ty³šfo
>

541 #iâdeà
GTEST_HAS_PTHREAD


547 
	#GTEST_HAS_PTHREAD
 \

548 (
GTEST_OS_LINUX
 || 
GTEST_OS_MAC
 || 
GTEST_OS_HPUX
 || 
GTEST_OS_QNX
 || \

549 
GTEST_OS_FREEBSD
 || 
GTEST_OS_NACL
 || 
GTEST_OS_NETBSD
 || 
GTEST_OS_FUCHSIA
 || \

550 
GTEST_OS_DRAGONFLY
 || 
GTEST_OS_GNU_KFREEBSD
 || 
GTEST_OS_OPENBSD
 || \

551 
GTEST_OS_HAIKU
 || 
GTEST_OS_GNU_HURD
)

	)

554 #ià
GTEST_HAS_PTHREAD


557 
	~<±h»ad.h
>

560 
	~<time.h
>

567 #iâdeà
GTEST_HAS_CLONE


570 #ià
GTEST_OS_LINUX
 && !
	`defšed
(
__Ÿ64__
)

571 #ià
GTEST_OS_LINUX_ANDROID


574 #ià
	`defšed
(
__LP64__
) || \

575 (
	`defšed
(
__¬m__
è&& 
__ANDROID_API__
 >= 9) || \

576 (
	`defšed
(
__ms__
è&& 
__ANDROID_API__
 >= 12) || \

577 (
	`defšed
(
__i386__
è&& 
__ANDROID_API__
 >= 17)

578 
	#GTEST_HAS_CLONE
 1

	)

580 
	#GTEST_HAS_CLONE
 0

	)

583 
	#GTEST_HAS_CLONE
 1

	)

586 
	#GTEST_HAS_CLONE
 0

	)

593 #iâdeà
GTEST_HAS_STREAM_REDIRECTION


596 #ià
GTEST_OS_WINDOWS_MOBILE
 || 
GTEST_OS_WINDOWS_PHONE
 || \

597 
GTEST_OS_WINDOWS_RT
 || 
GTEST_OS_ESP8266
 || 
GTEST_OS_XTENSA


598 
	#GTEST_HAS_STREAM_REDIRECTION
 0

	)

600 
	#GTEST_HAS_STREAM_REDIRECTION
 1

	)

606 #ià(
GTEST_OS_LINUX
 || 
GTEST_OS_CYGWIN
 || 
GTEST_OS_SOLARIS
 || \

607 (
GTEST_OS_MAC
 && !
GTEST_OS_IOS
) || \

608 (
GTEST_OS_WINDOWS_DESKTOP
 && 
_MSC_VER
è|| 
GTEST_OS_WINDOWS_MINGW
 || \

609 
GTEST_OS_AIX
 || 
GTEST_OS_HPUX
 || 
GTEST_OS_OPENBSD
 || 
GTEST_OS_QNX
 || \

610 
GTEST_OS_FREEBSD
 || 
GTEST_OS_NETBSD
 || 
GTEST_OS_FUCHSIA
 || \

611 
GTEST_OS_DRAGONFLY
 || 
GTEST_OS_GNU_KFREEBSD
 || 
GTEST_OS_HAIKU
 || \

612 
GTEST_OS_GNU_HURD
)

613 
	#GTEST_HAS_DEATH_TEST
 1

	)

620 #ià
	`defšed
(
__GNUC__
è|| defšed(
_MSC_VER
è|| defšed(
__SUNPRO_CC
) || \

621 
	`defšed
(
__IBMCPP__
è|| 
	$defšed
(
__HP_aCC
)

622 
	#GTEST_HAS_TYPED_TEST
 1

	)

623 
	#GTEST_HAS_TYPED_TEST_P
 1

	)

627 
	#GTEST_WIDE_STRING_USES_UTF16_
 \

628 (
GTEST_OS_WINDOWS
 || 
GTEST_OS_CYGWIN
 || 
GTEST_OS_AIX
 || 
GTEST_OS_OS2
)

	)

631 #ià
GTEST_OS_LINUX
 || 
GTEST_OS_GNU_KFREEBSD
 || 
GTEST_OS_DRAGONFLY
 || \

632 
GTEST_OS_FREEBSD
 || 
GTEST_OS_NETBSD
 || 
GTEST_OS_OPENBSD
 || \

633 
GTEST_OS_GNU_HURD


634 
	#GTEST_CAN_STREAM_RESULTS_
 1

	)

647 #ifdeà
__INTEL_COMPILER


648 
	#GTEST_AMBIGUOUS_ELSE_BLOCKER_


	)

650 
	#GTEST_AMBIGUOUS_ELSE_BLOCKER_
 0) 0: :

652 

	)

664 #ià
	`defšed
(
__GNUC__
è&& !defšed(
COMPILER_ICC
)

665 
	#GTEST_ATTRIBUTE_UNUSED_
 
	`__©Œibu‹__
 ((
unu£d
))

	)

666 #–ià
	`defšed
(
__şªg__
)

667 #ià
	`__has_©Œibu‹
(
unu£d
)

668 
	#GTEST_ATTRIBUTE_UNUSED_
 
	`__©Œibu‹__
 ((
unu£d
))

	)

671 #iâdeà
GTEST_ATTRIBUTE_UNUSED_


672 
	#GTEST_ATTRIBUTE_UNUSED_


	)

676 #ià(
	`defšed
(
__GNUC__
è|| defšed(
__şªg__
)è&& !defšed(
COMPILER_ICC
)

677 #ià
	`defšed
(
__MINGW_PRINTF_FORMAT
)

681 
	#GTEST_ATTRIBUTE_PRINTF_
(
¡ršg_šdex
, 
fœ¡_to_check
) \

682 
	`__©Œibu‹__
((
	`__fÜm©__
(
__MINGW_PRINTF_FORMAT
, 
¡ršg_šdex
, \

683 
fœ¡_to_check
)))

	)

685 
	#GTEST_ATTRIBUTE_PRINTF_
(
¡ršg_šdex
, 
fœ¡_to_check
) \

686 
	`__©Œibu‹__
((
	`__fÜm©__
(
__´štf__
, 
¡ršg_šdex
, 
fœ¡_to_check
)))

	)

689 
	#GTEST_ATTRIBUTE_PRINTF_
(
¡ršg_šdex
, 
fœ¡_to_check
)

	)

695 
	#GTEST_DISALLOW_ASSIGN_
(
ty³
) \

696 
ty³
& 
İ”©Ü
=Ñy³ cÚ¡ &èğ
d–‘e


	)

700 
	#GTEST_DISALLOW_COPY_AND_ASSIGN_
(
ty³
) \

701 
	`ty³
(
ty³
 cÚ¡&èğ
d–‘e
; \

702 
ty³
& 
İ”©Ü
=Ñy³ cÚ¡&èğ
d–‘e


	)

706 
	#GTEST_DISALLOW_MOVE_ASSIGN_
(
ty³
) \

707 
ty³
& 
İ”©Ü
=Ñy³ &&è
nÛxû±
 = 
d–‘e


	)

711 
	#GTEST_DISALLOW_MOVE_AND_ASSIGN_
(
ty³
) \

712 
	`ty³
(
ty³
&&è
nÛxû±
 = 
d–‘e
; \

713 
ty³
& 
İ”©Ü
=Ñy³&&è
nÛxû±
 = 
d–‘e


	)

720 #ià
	`defšed
(
__GNUC__
è&& !defšed(
COMPILER_ICC
)

721 
	#GTEST_MUST_USE_RESULT_
 
	`__©Œibu‹__
 ((
w¬n_unu£d_»suÉ
))

	)

723 
	#GTEST_MUST_USE_RESULT_


	)

734 
	#GTEST_INTENTIONAL_CONST_COND_PUSH_
() \

735 
	`GTEST_DISABLE_MSC_WARNINGS_PUSH_
(4127)

	)

736 
	#GTEST_INTENTIONAL_CONST_COND_POP_
() \

737 
	`GTEST_DISABLE_MSC_WARNINGS_POP_
()

	)

742 #iâdeà
GTEST_HAS_SEH


745 #ià
	`defšed
(
_MSC_VER
è|| defšed(
__BORLANDC__
)

747 
	#GTEST_HAS_SEH
 1

	)

750 
	#GTEST_HAS_SEH
 0

	)

755 #iâdeà
GTEST_IS_THREADSAFE


757 
	#GTEST_IS_THREADSAFE
 \

758 (
GTEST_HAS_MUTEX_AND_THREAD_LOCAL_
 || \

759 (
GTEST_OS_WINDOWS
 && !
GTEST_OS_WINDOWS_PHONE
 && !
GTEST_OS_WINDOWS_RT
) || \

760 
GTEST_HAS_PTHREAD
)

	)

767 #iâdeà
GTEST_API_


769 #ifdeà
_MSC_VER


770 #ià
GTEST_LINKED_AS_SHARED_LIBRARY


771 
	#GTEST_API_
 
	`__deş¥ec
(
dÎimpÜt
)

	)

772 #–ià
GTEST_CREATE_SHARED_LIBRARY


773 
	#GTEST_API_
 
	`__deş¥ec
(
dÎexpÜt
)

	)

775 #–ià
__GNUC__
 >ğ4 || 
	`defšed
(
__şªg__
)

776 
	#GTEST_API_
 
	`__©Œibu‹__
((
	`visib™y
 ("deçuÉ")))

	)

781 #iâdeà
GTEST_API_


782 
	#GTEST_API_


	)

785 #iâdeà
GTEST_DEFAULT_DEATH_TEST_STYLE


786 
	#GTEST_DEFAULT_DEATH_TEST_STYLE
 "ç¡"

	)

789 #ifdeà
__GNUC__


791 
	#GTEST_NO_INLINE_
 
	`__©Œibu‹__
((
nošlše
))

	)

793 
	#GTEST_NO_INLINE_


	)

797 #ià!
	`defšed
(
GTEST_HAS_CXXABI_H_
)

798 #ià
	`defšed
(
__GLIBCXX__
è|| (defšed(
_LIBCPP_VERSION
è&& !defšed(
_MSC_VER
))

799 
	#GTEST_HAS_CXXABI_H_
 1

	)

801 
	#GTEST_HAS_CXXABI_H_
 0

	)

807 #ià
	`defšed
(
__şªg__
)

808 #ià
	`__has_ã©u»
(
memÜy_§n™iz”
)

809 
	#GTEST_ATTRIBUTE_NO_SANITIZE_MEMORY_
 \

810 
	`__©Œibu‹__
((
no_§n™ize_memÜy
))

	)

812 
	#GTEST_ATTRIBUTE_NO_SANITIZE_MEMORY_


	)

815 
	#GTEST_ATTRIBUTE_NO_SANITIZE_MEMORY_


	)

819 #ià
	`defšed
(
__şªg__
)

820 #ià
	`__has_ã©u»
(
add»ss_§n™iz”
)

821 
	#GTEST_ATTRIBUTE_NO_SANITIZE_ADDRESS_
 \

822 
	`__©Œibu‹__
((
no_§n™ize_add»ss
))

	)

824 
	#GTEST_ATTRIBUTE_NO_SANITIZE_ADDRESS_


	)

827 
	#GTEST_ATTRIBUTE_NO_SANITIZE_ADDRESS_


	)

831 #ià
	`defšed
(
__şªg__
)

832 #ià
	`__has_ã©u»
(
hwadd»ss_§n™iz”
)

833 
	#GTEST_ATTRIBUTE_NO_SANITIZE_HWADDRESS_
 \

834 
	`__©Œibu‹__
((
	`no_§n™ize
("hwadd»ss")))

	)

836 
	#GTEST_ATTRIBUTE_NO_SANITIZE_HWADDRESS_


	)

839 
	#GTEST_ATTRIBUTE_NO_SANITIZE_HWADDRESS_


	)

843 #ià
	`defšed
(
__şªg__
)

844 #ià
	`__has_ã©u»
(
th»ad_§n™iz”
)

845 
	#GTEST_ATTRIBUTE_NO_SANITIZE_THREAD_
 \

846 
	`__©Œibu‹__
((
no_§n™ize_th»ad
))

	)

848 
	#GTEST_ATTRIBUTE_NO_SANITIZE_THREAD_


	)

851 
	#GTEST_ATTRIBUTE_NO_SANITIZE_THREAD_


	)

854 
Çme¥aû
 
‹¡šg
 {

856 
şass
 
Mes§ge
;

860 
usšg
 
¡d
::
g‘
;

861 
usšg
 
¡d
::
make_tu¶e
;

862 
usšg
 
¡d
::
tu¶e
;

863 
usšg
 
¡d
::
tu¶e_–em’t
;

864 
usšg
 
¡d
::
tu¶e_size
;

866 
Çme¥aû
 
š‹º®
 {

871 
şass
 
Seü‘
;

882 
	#GTEST_COMPILE_ASSERT_
(
ex´
, 
msg
è
	`¡©ic_as£¹
Óx´, #msg)

	)

886 
GTEST_API_
 
boŞ
 
	`IsTrue
(boŞ 
cÚd™iÚ
);

890 #ià
GTEST_USES_PCRE


892 #–ià
GTEST_USES_POSIX_RE
 || 
GTEST_USES_SIMPLE_RE


896 şas 
	cGTEST_API_
 
RE
 {

897 
public
:

900 
	`RE
(cÚ¡ 
RE
& 
Ùh”
è{ 
	`In™
(Ùh”.
	`·‰”n
()); }

903 
	`RE
(cÚ¡ ::
¡d
::
¡ršg
& 
»gex
è{ 
	`In™
Ôegex.
	`c_¡r
()); }

905 
	`RE
(cÚ¡ * 
»gex
è{ 
	`In™
(regex); }

906 ~
	`RE
();

909 cÚ¡ * 
	`·‰”n
(ècÚ¡ {  
·‰”n_
; }

915 
boŞ
 
	`FuÎM©ch
(cÚ¡ ::
¡d
::
¡ršg
& 
¡r
, cÚ¡ 
RE
& 
»
) {

916  
	`FuÎM©ch
(
¡r
.
	`c_¡r
(), 
»
);

918 
boŞ
 
	`P¬tŸlM©ch
(cÚ¡ ::
¡d
::
¡ršg
& 
¡r
, cÚ¡ 
RE
& 
»
) {

919  
	`P¬tŸlM©ch
(
¡r
.
	`c_¡r
(), 
»
);

922 
boŞ
 
	`FuÎM©ch
(cÚ¡ * 
¡r
, cÚ¡ 
RE
& 
»
);

923 
boŞ
 
	`P¬tŸlM©ch
(cÚ¡ * 
¡r
, cÚ¡ 
RE
& 
»
);

925 
´iv©e
:

926 
	`In™
(cÚ¡ * 
»gex
);

927 cÚ¡ * 
·‰”n_
;

928 
boŞ
 
is_v®id_
;

930 #ià
GTEST_USES_POSIX_RE


932 
»gex_t
 
fuÎ_»gex_
;

933 
»gex_t
 
·¹Ÿl_»gex_
;

937 cÚ¡ * 
fuÎ_·‰”n_
;

946 
GTEST_API_
 ::
¡d
::
¡ršg
 
	`FÜm©FeLoÿtiÚ
(cÚ¡ * 
fe
, 
lše
);

951 
GTEST_API_
 ::
¡d
::
¡ršg
 
	`FÜm©Comp”Ind•’d’tFeLoÿtiÚ
(cÚ¡ * 
fe
,

952 
lše
);

960 
	eGTe¡LogSev”™y
 {

961 
GTEST_INFO
,

962 
GTEST_WARNING
,

963 
GTEST_ERROR
,

964 
GTEST_FATAL


970 şas 
	cGTEST_API_
 
GTe¡Log
 {

971 
public
:

972 
	`GTe¡Log
(
GTe¡LogSev”™y
 
£v”™y
, cÚ¡ * 
fe
, 
lše
);

975 ~
	`GTe¡Log
();

977 ::
¡d
::
o¡»am
& 
	`G‘SŒ—m
(è{  ::¡d::
û¼
; }

979 
´iv©e
:

980 cÚ¡ 
GTe¡LogSev”™y
 
£v”™y_
;

982 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
GTe¡Log
);

985 #ià!
	`defšed
(
GTEST_LOG_
)

987 
	#GTEST_LOG_
(
£v”™y
) \

988 ::
‹¡šg
::
š‹º®
::
	`GTe¡Log
(::‹¡šg::š‹º®::
GTEST_
##
£v”™y
, \

989 
__FILE__
, 
__LINE__
).
	`G‘SŒ—m
()

	)

991 
šlše
 
	`LogToStd”r
() {}

992 
šlše
 
	`FlushInfoLog
(è{ 
	`fæush
(
nuÎ±r
); }

996 #ià!
	`defšed
(
GTEST_CHECK_
)

1011 
	#GTEST_CHECK_
(
cÚd™iÚ
) \

1012 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

1013 ià(::
‹¡šg
::
š‹º®
::
	`IsTrue
(
cÚd™iÚ
)) \

1016 
	`GTEST_LOG_
(
FATAL
è<< "CÚd™iÚ " #cÚd™iÚ " faed. "

	)

1024 
	#GTEST_CHECK_POSIX_SUCCESS_
(
posix_ÿÎ
) \

1025 ià(cÚ¡ 
g‹¡_”rÜ
 = (
posix_ÿÎ
)) \

1026 
	`GTEST_LOG_
(
FATAL
) << #posix_call << "failed withƒrror " \

1027 << 
g‹¡_”rÜ


	)

1040 
‹m¶©e
 <
ty³Çme
 
T
>

1041 
	sCÚ¡Ref
 { cÚ¡ 
	tT
& 
	tty³
; };

1042 
‹m¶©e
 <
ty³Çme
 
T
>

1043 
CÚ¡Ref
<
T
&> { T& 
	tty³
; };

1046 
	#GTEST_REFERENCE_TO_CONST_
(
T
) \

1047 
ty³Çme
 ::
‹¡šg
::
š‹º®
::
CÚ¡Ref
<
T
>::
ty³


	)

1069 
‹m¶©e
<
ty³Çme
 
To
>

1070 
šlše
 
To
 
	`Im¶ic™Ca¡_
(TØ
x
) {  x; }

1093 
‹m¶©e
<
ty³Çme
 
To
,y³Çm
From
>

1094 
šlše
 
To
 
	`DownCa¡_
(
From
* 
f
) {

1099 
	`GTEST_INTENTIONAL_CONST_COND_PUSH_
()

1100 ià(
çl£
) {

1101 
	`GTEST_INTENTIONAL_CONST_COND_POP_
()

1102 cÚ¡ 
To
 
to
 = 
nuÎ±r
;

1103 ::
‹¡šg
::
š‹º®
::
Im¶ic™Ca¡_
<
From
*>(
to
);

1106 #ià
GTEST_HAS_RTTI


1108 
	`GTEST_CHECK_
(
f
 =ğ
nuÎ±r
 || 
dyÇmic_ÿ¡
<
To
>(f) !=‚ullptr);

1110  
¡©ic_ÿ¡
<
To
>(
f
);

1118 
‹m¶©e
 <
şass
 
D”ived
, cÏs 
Ba£
>

1119 
D”ived
* 
	`CheckedDownÿ¡ToAùu®Ty³
(
Ba£
* 
ba£
) {

1120 #ià
GTEST_HAS_RTTI


1121 
	`GTEST_CHECK_
(
	`ty³id
(*
ba£
è=ğty³id(
D”ived
));

1124 #ià
GTEST_HAS_DOWNCAST_


1125  ::
down_ÿ¡
<
D”ived
*>(
ba£
);

1126 #–ià
GTEST_HAS_RTTI


1127  
dyÇmic_ÿ¡
<
D”ived
*>(
ba£
);

1129  
¡©ic_ÿ¡
<
D”ived
*>(
ba£
);

1133 #ià
GTEST_HAS_STREAM_REDIRECTION


1141 
GTEST_API_
 
	`C­tu»Stdout
();

1142 
GTEST_API_
 
¡d
::
¡ršg
 
	`G‘C­tu»dStdout
();

1143 
GTEST_API_
 
	`C­tu»Std”r
();

1144 
GTEST_API_
 
¡d
::
¡ršg
 
	`G‘C­tu»dStd”r
();

1148 
GTEST_API_
 
size_t
 
	`G‘FeSize
(
FILE
* 
fe
);

1151 
GTEST_API_
 
¡d
::
¡ršg
 
	`R—dEÁœeFe
(
FILE
* 
fe
);

1154 
GTEST_API_
 
¡d
::
veùÜ
<¡d::
¡ršg
> 
	`G‘Argvs
();

1156 #ià
GTEST_HAS_DEATH_TEST


1158 
¡d
::
veùÜ
<¡d::
¡ršg
> 
	`G‘InjeùabËArgvs
();

1160 
	`S‘InjeùabËArgvs
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>* 
Ãw_¬gvs
);

1161 
	`S‘InjeùabËArgvs
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
Ãw_¬gvs
);

1162 
	`CË¬InjeùabËArgvs
();

1167 #ià
GTEST_IS_THREADSAFE


1168 #ià
GTEST_HAS_PTHREAD


1172 
šlše
 
	`SË•Mli£cÚds
(
n
) {

1173 cÚ¡ 
time¥ec
 
time
 = {

1175 
n
 * 1000L * 1000L,

1177 
	`Çno¦“p
(&
time
, 
nuÎ±r
);

1181 #ià
GTEST_HAS_NOTIFICATION_


1185 #–ià
GTEST_HAS_PTHREAD


1192 şas 
	cNÙifiÿtiÚ
 {

1193 
public
:

1194 
	`NÙifiÿtiÚ
(è: 
	`nÙif›d_
(
çl£
) {

1195 
	`GTEST_CHECK_POSIX_SUCCESS_
(
	`±h»ad_mu‹x_š™
(&
mu‹x_
, 
nuÎ±r
));

1197 ~
	`NÙifiÿtiÚ
() {

1198 
	`±h»ad_mu‹x_de¡roy
(&
mu‹x_
);

1203 
	`NÙify
() {

1204 
	`±h»ad_mu‹x_lock
(&
mu‹x_
);

1205 
nÙif›d_
 = 
Œue
;

1206 
	`±h»ad_mu‹x_uÆock
(&
mu‹x_
);

1211 
	`Wa™FÜNÙifiÿtiÚ
() {

1213 
	`±h»ad_mu‹x_lock
(&
mu‹x_
);

1214 cÚ¡ 
boŞ
 
nÙif›d
 = 
nÙif›d_
;

1215 
	`±h»ad_mu‹x_uÆock
(&
mu‹x_
);

1216 ià(
nÙif›d
)

1218 
	`SË•Mli£cÚds
(10);

1222 
´iv©e
:

1223 
±h»ad_mu‹x_t
 
mu‹x_
;

1224 
boŞ
 
nÙif›d_
;

1226 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
NÙifiÿtiÚ
);

1229 #–ià
GTEST_OS_WINDOWS
 && !
GTEST_OS_WINDOWS_PHONE
 && !
GTEST_OS_WINDOWS_RT


1231 
GTEST_API_
 
	`SË•Mli£cÚds
(
n
);

1235 şas 
	cGTEST_API_
 
AutoHªdË
 {

1236 
public
:

1242 * 
	tHªdË
;

1243 
	`AutoHªdË
();

1244 
ex¶ic™
 
	`AutoHªdË
(
HªdË
 
hªdË
);

1246 ~
	`AutoHªdË
();

1248 
HªdË
 
	`G‘
() const;

1249 
	`Re£t
();

1250 
	`Re£t
(
HªdË
 
hªdË
);

1252 
´iv©e
:

1255 
boŞ
 
	`IsClo£abË
() const;

1257 
HªdË
 
hªdË_
;

1259 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
AutoHªdË
);

1268 şas 
	cGTEST_API_
 
NÙifiÿtiÚ
 {

1269 
public
:

1270 
	`NÙifiÿtiÚ
();

1271 
	`NÙify
();

1272 
	`Wa™FÜNÙifiÿtiÚ
();

1274 
´iv©e
:

1275 
AutoHªdË
 
ev’t_
;

1277 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
NÙifiÿtiÚ
);

1284 #ià
GTEST_HAS_PTHREAD
 && !
GTEST_OS_WINDOWS_MINGW


1291 şas 
	cTh»adW™hP¬amBa£
 {

1292 
public
:

1293 
vœtu®
 ~
	`Th»adW™hP¬amBa£
() {}

1294 
vœtu®
 
	`Run
() = 0;

1303 "C" 
šlše
 * 
	`Th»adFuncW™hCLškage
(* 
th»ad
) {

1304 
¡©ic_ÿ¡
<
Th»adW™hP¬amBa£
*>(
th»ad
)->
	`Run
();

1305  
nuÎ±r
;

1320 
‹m¶©e
 <
ty³Çme
 
T
>

1321 şas 
	cTh»adW™hP¬am
 : 
public
 
Th»adW™hP¬amBa£
 {

1322 
public
:

1323 
	tU£rTh»adFunc
(
	tT
);

1325 
	`Th»adW™hP¬am
(
U£rTh»adFunc
* 
func
, 
T
 
·¿m
, 
NÙifiÿtiÚ
* 
th»ad_ÿn_¡¬t
)

1326 : 
	`func_
(
func
),

1327 
	`·¿m_
(
·¿m
),

1328 
	`th»ad_ÿn_¡¬t_
(
th»ad_ÿn_¡¬t
),

1329 
	`fšished_
(
çl£
) {

1330 
Th»adW™hP¬amBa£
* cÚ¡ 
ba£
 = 
this
;

1333 
	`GTEST_CHECK_POSIX_SUCCESS_
(

1334 
	`±h»ad_ü—‹
(&
th»ad_
, 
nuÎ±r
, &
Th»adFuncW™hCLškage
, 
ba£
));

1336 ~
	`Th»adW™hP¬am
(è
ov”ride
 { 
	`Još
(); }

1338 
	`Još
() {

1339 ià(!
fšished_
) {

1340 
	`GTEST_CHECK_POSIX_SUCCESS_
(
	`±h»ad_još
(
th»ad_
, 
nuÎ±r
));

1341 
fšished_
 = 
Œue
;

1345 
	`Run
(è
ov”ride
 {

1346 ià(
th»ad_ÿn_¡¬t_
 !ğ
nuÎ±r
èth»ad_ÿn_¡¬t_->
	`Wa™FÜNÙifiÿtiÚ
();

1347 
	`func_
(
·¿m_
);

1350 
´iv©e
:

1351 
U£rTh»adFunc
* cÚ¡ 
func_
;

1352 cÚ¡ 
T
 
·¿m_
;

1355 
NÙifiÿtiÚ
* cÚ¡ 
th»ad_ÿn_¡¬t_
;

1356 
boŞ
 
fšished_
;

1358 
±h»ad_t
 
th»ad_
;

1360 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Th»adW™hP¬am
);

1365 #ià
GTEST_HAS_MUTEX_AND_THREAD_LOCAL_


1369 #–ià
GTEST_OS_WINDOWS
 && !
GTEST_OS_WINDOWS_PHONE
 && !
GTEST_OS_WINDOWS_RT


1385 şas 
	cGTEST_API_
 
Mu‹x
 {

1386 
public
:

1387 
	eMu‹xTy³
 { 
kStic
 = 0, 
kDyÇmic
 = 1 };

1391 
	eSticCÚ¡ruùÜS–eùÜ
 { 
kSticMu‹x
 = 0 };

1396 
ex¶ic™
 
	`Mu‹x
(
SticCÚ¡ruùÜS–eùÜ
 ) {}

1398 
	`Mu‹x
();

1399 ~
	`Mu‹x
();

1401 
	`Lock
();

1403 
	`UÆock
();

1407 
	`As£¹H–d
();

1409 
´iv©e
:

1411 
	`Th»adSaãLazyIn™
();

1415 
owÃr_th»ad_id_
;

1419 
Mu‹xTy³
 
ty³_
;

1420 
ü™iÿl_£ùiÚ_š™_pha£_
;

1421 
GTEST_CRITICAL_SECTION
* 
ü™iÿl_£ùiÚ_
;

1423 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Mu‹x
);

1426 
	#GTEST_DECLARE_STATIC_MUTEX_
(
mu‹x
) \

1427 ::
‹¡šg
::
š‹º®
::
Mu‹x
 
mu‹x


	)

1429 
	#GTEST_DEFINE_STATIC_MUTEX_
(
mu‹x
) \

1430 ::
‹¡šg
::
š‹º®
::
Mu‹x
 
	`mu‹x
(::‹¡šg::š‹º®::Mu‹x::
kSticMu‹x
)

	)

1437 şas 
	cGTe¡Mu‹xLock
 {

1438 
public
:

1439 
ex¶ic™
 
	`GTe¡Mu‹xLock
(
Mu‹x
* 
mu‹x
)

1440 : 
	`mu‹x_
(
mu‹x
è{ 
mu‹x_
->
	`Lock
(); }

1442 ~
	`GTe¡Mu‹xLock
(è{ 
mu‹x_
->
	`UÆock
(); }

1444 
´iv©e
:

1445 
Mu‹x
* cÚ¡ 
mu‹x_
;

1447 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
GTe¡Mu‹xLock
);

1450 
GTe¡Mu‹xLock
 
	tMu‹xLock
;

1454 şas 
	cTh»adLoÿlV®ueHŞd”Ba£
 {

1455 
public
:

1456 
vœtu®
 ~
	`Th»adLoÿlV®ueHŞd”Ba£
() {}

1461 şas 
	cTh»adLoÿlBa£
 {

1462 
public
:

1467 
vœtu®
 
Th»adLoÿlV®ueHŞd”Ba£
* 
	`NewV®ueFÜCu¼’tTh»ad
() const = 0;

1469 
´Ùeùed
:

1470 
	`Th»adLoÿlBa£
() {}

1471 
vœtu®
 ~
	`Th»adLoÿlBa£
() {}

1473 
´iv©e
:

1474 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Th»adLoÿlBa£
);

1480 şas 
	cGTEST_API_
 
Th»adLoÿlRegi¡ry
 {

1481 
public
:

1484 
Th»adLoÿlV®ueHŞd”Ba£
* 
	`G‘V®ueOnCu¼’tTh»ad
(

1485 cÚ¡ 
Th»adLoÿlBa£
* 
th»ad_loÿl_š¡ªû
);

1488 
	`OnTh»adLoÿlDe¡royed
(

1489 cÚ¡ 
Th»adLoÿlBa£
* 
th»ad_loÿl_š¡ªû
);

1492 şas 
	cGTEST_API_
 
Th»adW™hP¬amBa£
 {

1493 
public
:

1494 
	`Još
();

1496 
´Ùeùed
:

1497 şas 
	cRuÂabË
 {

1498 
public
:

1499 
vœtu®
 ~
	`RuÂabË
() {}

1500 
vœtu®
 
	`Run
() = 0;

1503 
	`Th»adW™hP¬amBa£
(
RuÂabË
 *
ruÂabË
, 
NÙifiÿtiÚ
* 
th»ad_ÿn_¡¬t
);

1504 
vœtu®
 ~
	`Th»adW™hP¬amBa£
();

1506 
´iv©e
:

1507 
AutoHªdË
 
th»ad_
;

1511 
‹m¶©e
 <
ty³Çme
 
T
>

1512 şas 
	cTh»adW™hP¬am
 : 
public
 
Th»adW™hP¬amBa£
 {

1513 
public
:

1514 
	tU£rTh»adFunc
(
	tT
);

1516 
	`Th»adW™hP¬am
(
U£rTh»adFunc
* 
func
, 
T
 
·¿m
, 
NÙifiÿtiÚ
* 
th»ad_ÿn_¡¬t
)

1517 : 
	`Th»adW™hP¬amBa£
(
Ãw
 
	`RuÂabËIm¶
(
func
, 
·¿m
), 
th»ad_ÿn_¡¬t
) {

1519 
vœtu®
 ~
	`Th»adW™hP¬am
() {}

1521 
´iv©e
:

1522 şas 
	cRuÂabËIm¶
 : 
public
 
RuÂabË
 {

1523 
public
:

1524 
	`RuÂabËIm¶
(
U£rTh»adFunc
* 
func
, 
T
 
·¿m
)

1525 : 
	`func_
(
func
),

1526 
	`·¿m_
(
·¿m
) {

1528 
vœtu®
 ~
	`RuÂabËIm¶
() {}

1529 
vœtu®
 
	`Run
() {

1530 
	`func_
(
·¿m_
);

1533 
´iv©e
:

1534 
U£rTh»adFunc
* cÚ¡ 
func_
;

1535 cÚ¡ 
T
 
·¿m_
;

1537 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
RuÂabËIm¶
);

1540 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Th»adW™hP¬am
);

1570 
‹m¶©e
 <
ty³Çme
 
T
>

1571 şas 
	cTh»adLoÿl
 : 
public
 
Th»adLoÿlBa£
 {

1572 
public
:

1573 
	`Th»adLoÿl
(è: 
	`deçuÉ_çùÜy_
(
Ãw
 
	`DeçuÉV®ueHŞd”FaùÜy
()) {}

1574 
ex¶ic™
 
	`Th»adLoÿl
(cÚ¡ 
T
& 
v®ue
)

1575 : 
	`deçuÉ_çùÜy_
(
Ãw
 
	`In¡ªûV®ueHŞd”FaùÜy
(
v®ue
)) {}

1577 ~
	`Th»adLoÿl
(è{ 
Th»adLoÿlRegi¡ry
::
	`OnTh»adLoÿlDe¡royed
(
this
); }

1579 
T
* 
	`poš‹r
(è{  
	`G‘OrC»©eV®ue
(); }

1580 cÚ¡ 
T
* 
	`poš‹r
(ècÚ¡ {  
	`G‘OrC»©eV®ue
(); }

1581 cÚ¡ 
T
& 
	`g‘
(ècÚ¡ {  *
	`poš‹r
(); }

1582 
	`£t
(cÚ¡ 
T
& 
v®ue
è{ *
	`poš‹r
() = value; }

1584 
´iv©e
:

1587 şas 
	cV®ueHŞd”
 : 
public
 
Th»adLoÿlV®ueHŞd”Ba£
 {

1588 
public
:

1589 
	`V®ueHŞd”
(è: 
	`v®ue_
() {}

1590 
ex¶ic™
 
	`V®ueHŞd”
(cÚ¡ 
T
& 
v®ue
è: 
	`v®ue_
(value) {}

1592 
T
* 
	`poš‹r
(è{  &
v®ue_
; }

1594 
´iv©e
:

1595 
T
 
v®ue_
;

1596 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
V®ueHŞd”
);

1600 
T
* 
	`G‘OrC»©eV®ue
() const {

1601  
¡©ic_ÿ¡
<
V®ueHŞd”
*>(

1602 
Th»adLoÿlRegi¡ry
::
	`G‘V®ueOnCu¼’tTh»ad
(
this
))->
	`poš‹r
();

1605 
vœtu®
 
Th»adLoÿlV®ueHŞd”Ba£
* 
	`NewV®ueFÜCu¼’tTh»ad
() const {

1606  
deçuÉ_çùÜy_
->
	`MakeNewHŞd”
();

1609 şas 
	cV®ueHŞd”FaùÜy
 {

1610 
public
:

1611 
	`V®ueHŞd”FaùÜy
() {}

1612 
vœtu®
 ~
	`V®ueHŞd”FaùÜy
() {}

1613 
vœtu®
 
V®ueHŞd”
* 
	`MakeNewHŞd”
() const = 0;

1615 
´iv©e
:

1616 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
V®ueHŞd”FaùÜy
);

1619 şas 
	cDeçuÉV®ueHŞd”FaùÜy
 : 
public
 
V®ueHŞd”FaùÜy
 {

1620 
public
:

1621 
	`DeçuÉV®ueHŞd”FaùÜy
() {}

1622 
V®ueHŞd”
* 
	`MakeNewHŞd”
(ècÚ¡ 
ov”ride
 {  
Ãw
 
	`V®ueHŞd”
(); }

1624 
´iv©e
:

1625 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
DeçuÉV®ueHŞd”FaùÜy
);

1628 şas 
	cIn¡ªûV®ueHŞd”FaùÜy
 : 
public
 
V®ueHŞd”FaùÜy
 {

1629 
public
:

1630 
ex¶ic™
 
	`In¡ªûV®ueHŞd”FaùÜy
(cÚ¡ 
T
& 
v®ue
è: 
	`v®ue_
(value) {}

1631 
V®ueHŞd”
* 
	`MakeNewHŞd”
(ècÚ¡ 
ov”ride
 {

1632  
Ãw
 
	`V®ueHŞd”
(
v®ue_
);

1635 
´iv©e
:

1636 cÚ¡ 
T
 
v®ue_
;

1638 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
In¡ªûV®ueHŞd”FaùÜy
);

1641 
¡d
::
unique_±r
<
V®ueHŞd”FaùÜy
> 
deçuÉ_çùÜy_
;

1643 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Th»adLoÿl
);

1646 #–ià
GTEST_HAS_PTHREAD


1649 şas 
	cMu‹xBa£
 {

1650 
public
:

1652 
	`Lock
() {

1653 
	`GTEST_CHECK_POSIX_SUCCESS_
(
	`±h»ad_mu‹x_lock
(&
mu‹x_
));

1654 
owÃr_
 = 
	`±h»ad_£lf
();

1655 
has_owÃr_
 = 
Œue
;

1659 
	`UÆock
() {

1664 
has_owÃr_
 = 
çl£
;

1665 
	`GTEST_CHECK_POSIX_SUCCESS_
(
	`±h»ad_mu‹x_uÆock
(&
mu‹x_
));

1670 
	`As£¹H–d
() const {

1671 
	`GTEST_CHECK_
(
has_owÃr_
 && 
	`±h»ad_equ®
(
owÃr_
, 
	`±h»ad_£lf
()))

1672 << "Thcu¼’ˆth»ad i nÙ hŞdšghmu‹x @" << 
this
;

1680 
public
:

1681 
±h»ad_mu‹x_t
 
mu‹x_
;

1688 
boŞ
 
has_owÃr_
;

1689 
±h»ad_t
 
owÃr_
;

1693 
	#GTEST_DECLARE_STATIC_MUTEX_
(
mu‹x
) \

1694 ::
‹¡šg
::
š‹º®
::
Mu‹xBa£
 
mu‹x


	)

1702 
	#GTEST_DEFINE_STATIC_MUTEX_
(
mu‹x
) \

1703 ::
‹¡šg
::
š‹º®
::
Mu‹xBa£
 
mu‹x
 = {
PTHREAD_MUTEX_INITIALIZER
, 
çl£
, 0}

	)

1707 şas 
	cMu‹x
 : 
public
 
Mu‹xBa£
 {

1708 
public
:

1709 
	`Mu‹x
() {

1710 
	`GTEST_CHECK_POSIX_SUCCESS_
(
	`±h»ad_mu‹x_š™
(&
mu‹x_
, 
nuÎ±r
));

1711 
has_owÃr_
 = 
çl£
;

1713 ~
	`Mu‹x
() {

1714 
	`GTEST_CHECK_POSIX_SUCCESS_
(
	`±h»ad_mu‹x_de¡roy
(&
mu‹x_
));

1717 
´iv©e
:

1718 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Mu‹x
);

1726 şas 
	cGTe¡Mu‹xLock
 {

1727 
public
:

1728 
ex¶ic™
 
	`GTe¡Mu‹xLock
(
Mu‹xBa£
* 
mu‹x
)

1729 : 
	`mu‹x_
(
mu‹x
è{ 
mu‹x_
->
	`Lock
(); }

1731 ~
	`GTe¡Mu‹xLock
(è{ 
mu‹x_
->
	`UÆock
(); }

1733 
´iv©e
:

1734 
Mu‹xBa£
* cÚ¡ 
mu‹x_
;

1736 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
GTe¡Mu‹xLock
);

1739 
GTe¡Mu‹xLock
 
	tMu‹xLock
;

1747 şas 
	cTh»adLoÿlV®ueHŞd”Ba£
 {

1748 
public
:

1749 
vœtu®
 ~
	`Th»adLoÿlV®ueHŞd”Ba£
() {}

1754 "C" 
šlše
 
	`D–‘eTh»adLoÿlV®ue
(* 
v®ue_hŞd”
) {

1755 
d–‘e
 
¡©ic_ÿ¡
<
Th»adLoÿlV®ueHŞd”Ba£
*>(
v®ue_hŞd”
);

1759 
‹m¶©e
 <
ty³Çme
 
T
>

1760 şas 
	cGTEST_API_
 
Th»adLoÿl
 {

1761 
public
:

1762 
	`Th»adLoÿl
()

1763 : 
	`key_
(
	`C»©eKey
()), 
	`deçuÉ_çùÜy_
(
Ãw
 
	`DeçuÉV®ueHŞd”FaùÜy
()) {}

1764 
ex¶ic™
 
	`Th»adLoÿl
(cÚ¡ 
T
& 
v®ue
)

1765 : 
	`key_
(
	`C»©eKey
()),

1766 
	`deçuÉ_çùÜy_
(
Ãw
 
	`In¡ªûV®ueHŞd”FaùÜy
(
v®ue
)) {}

1768 ~
	`Th»adLoÿl
() {

1770 
	`D–‘eTh»adLoÿlV®ue
(
	`±h»ad_g‘¥ecific
(
key_
));

1774 
	`GTEST_CHECK_POSIX_SUCCESS_
(
	`±h»ad_key_d–‘e
(
key_
));

1777 
T
* 
	`poš‹r
(è{  
	`G‘OrC»©eV®ue
(); }

1778 cÚ¡ 
T
* 
	`poš‹r
(ècÚ¡ {  
	`G‘OrC»©eV®ue
(); }

1779 cÚ¡ 
T
& 
	`g‘
(ècÚ¡ {  *
	`poš‹r
(); }

1780 
	`£t
(cÚ¡ 
T
& 
v®ue
è{ *
	`poš‹r
() = value; }

1782 
´iv©e
:

1784 şas 
	cV®ueHŞd”
 : 
public
 
Th»adLoÿlV®ueHŞd”Ba£
 {

1785 
public
:

1786 
	`V®ueHŞd”
(è: 
	`v®ue_
() {}

1787 
ex¶ic™
 
	`V®ueHŞd”
(cÚ¡ 
T
& 
v®ue
è: 
	`v®ue_
(value) {}

1789 
T
* 
	`poš‹r
(è{  &
v®ue_
; }

1791 
´iv©e
:

1792 
T
 
v®ue_
;

1793 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
V®ueHŞd”
);

1796 
±h»ad_key_t
 
	`C»©eKey
() {

1797 
±h»ad_key_t
 
key
;

1800 
	`GTEST_CHECK_POSIX_SUCCESS_
(

1801 
	`±h»ad_key_ü—‹
(&
key
, &
D–‘eTh»adLoÿlV®ue
));

1802  
key
;

1805 
T
* 
	`G‘OrC»©eV®ue
() const {

1806 
Th»adLoÿlV®ueHŞd”Ba£
* cÚ¡ 
hŞd”
 =

1807 
¡©ic_ÿ¡
<
Th»adLoÿlV®ueHŞd”Ba£
*>(
	`±h»ad_g‘¥ecific
(
key_
));

1808 ià(
hŞd”
 !ğ
nuÎ±r
) {

1809  
CheckedDownÿ¡ToAùu®Ty³
<
V®ueHŞd”
>(
hŞd”
)->
	`poš‹r
();

1812 
V®ueHŞd”
* cÚ¡ 
Ãw_hŞd”
 = 
deçuÉ_çùÜy_
->
	`MakeNewHŞd”
();

1813 
Th»adLoÿlV®ueHŞd”Ba£
* cÚ¡ 
hŞd”_ba£
 = 
Ãw_hŞd”
;

1814 
	`GTEST_CHECK_POSIX_SUCCESS_
(
	`±h»ad_£t¥ecific
(
key_
, 
hŞd”_ba£
));

1815  
Ãw_hŞd”
->
	`poš‹r
();

1818 şas 
	cV®ueHŞd”FaùÜy
 {

1819 
public
:

1820 
	`V®ueHŞd”FaùÜy
() {}

1821 
vœtu®
 ~
	`V®ueHŞd”FaùÜy
() {}

1822 
vœtu®
 
V®ueHŞd”
* 
	`MakeNewHŞd”
() const = 0;

1824 
´iv©e
:

1825 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
V®ueHŞd”FaùÜy
);

1828 şas 
	cDeçuÉV®ueHŞd”FaùÜy
 : 
public
 
V®ueHŞd”FaùÜy
 {

1829 
public
:

1830 
	`DeçuÉV®ueHŞd”FaùÜy
() {}

1831 
V®ueHŞd”
* 
	`MakeNewHŞd”
(ècÚ¡ 
ov”ride
 {  
Ãw
 
	`V®ueHŞd”
(); }

1833 
´iv©e
:

1834 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
DeçuÉV®ueHŞd”FaùÜy
);

1837 şas 
	cIn¡ªûV®ueHŞd”FaùÜy
 : 
public
 
V®ueHŞd”FaùÜy
 {

1838 
public
:

1839 
ex¶ic™
 
	`In¡ªûV®ueHŞd”FaùÜy
(cÚ¡ 
T
& 
v®ue
è: 
	`v®ue_
(value) {}

1840 
V®ueHŞd”
* 
	`MakeNewHŞd”
(ècÚ¡ 
ov”ride
 {

1841  
Ãw
 
	`V®ueHŞd”
(
v®ue_
);

1844 
´iv©e
:

1845 cÚ¡ 
T
 
v®ue_
;

1847 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
In¡ªûV®ueHŞd”FaùÜy
);

1851 cÚ¡ 
±h»ad_key_t
 
key_
;

1852 
¡d
::
unique_±r
<
V®ueHŞd”FaùÜy
> 
deçuÉ_çùÜy_
;

1854 
	`GTEST_DISALLOW_COPY_AND_ASSIGN_
(
Th»adLoÿl
);

1866 şas 
	cMu‹x
 {

1867 
public
:

1868 
	`Mu‹x
() {}

1869 
	`Lock
() {}

1870 
	`UÆock
() {}

1871 
	`As£¹H–d
() const {}

1874 
	#GTEST_DECLARE_STATIC_MUTEX_
(
mu‹x
) \

1875 ::
‹¡šg
::
š‹º®
::
Mu‹x
 
mu‹x


	)

1877 
	#GTEST_DEFINE_STATIC_MUTEX_
(
mu‹x
è::
‹¡šg
::
š‹º®
::
Mu‹x
 
	)
mutex

1884 şas 
	cGTe¡Mu‹xLock
 {

1885 
public
:

1886 
ex¶ic™
 
	`GTe¡Mu‹xLock
(
Mu‹x
*) {}

1889 
GTe¡Mu‹xLock
 
	tMu‹xLock
;

1891 
‹m¶©e
 <
ty³Çme
 
T
>

1892 şas 
	cGTEST_API_
 
Th»adLoÿl
 {

1893 
public
:

1894 
	`Th»adLoÿl
(è: 
	`v®ue_
() {}

1895 
ex¶ic™
 
	`Th»adLoÿl
(cÚ¡ 
T
& 
v®ue
è: 
	`v®ue_
(value) {}

1896 
T
* 
	`poš‹r
(è{  &
v®ue_
; }

1897 cÚ¡ 
T
* 
	`poš‹r
(ècÚ¡ {  &
v®ue_
; }

1898 cÚ¡ 
T
& 
	`g‘
(ècÚ¡ {  
v®ue_
; }

1899 
	`£t
(cÚ¡ 
T
& 
v®ue
è{ 
v®ue_
 = value; }

1900 
´iv©e
:

1901 
T
 
v®ue_
;

1908 
GTEST_API_
 
size_t
 
	`G‘Th»adCouÁ
();

1910 #ià
GTEST_OS_WINDOWS


1911 
	#GTEST_PATH_SEP_
 "\\"

	)

1912 
	#GTEST_HAS_ALT_PATH_SEP_
 1

	)

1914 
	#GTEST_PATH_SEP_
 "/"

	)

1915 
	#GTEST_HAS_ALT_PATH_SEP_
 0

	)

1925 
šlše
 
boŞ
 
	`IsAÍha
(
ch
) {

1926  
	`i§Íha
(
¡©ic_ÿ¡
<>(
ch
)) != 0;

1928 
šlše
 
boŞ
 
	`IsAlNum
(
ch
) {

1929  
	`i§Êum
(
¡©ic_ÿ¡
<>(
ch
)) != 0;

1931 
šlše
 
boŞ
 
	`IsDig™
(
ch
) {

1932  
	`isdig™
(
¡©ic_ÿ¡
<>(
ch
)) != 0;

1934 
šlše
 
boŞ
 
	`IsLow”
(
ch
) {

1935  
	`i¦ow”
(
¡©ic_ÿ¡
<>(
ch
)) != 0;

1937 
šlše
 
boŞ
 
	`IsS·û
(
ch
) {

1938  
	`is¥aû
(
¡©ic_ÿ¡
<>(
ch
)) != 0;

1940 
šlše
 
boŞ
 
	`IsUµ”
(
ch
) {

1941  
	`isuµ”
(
¡©ic_ÿ¡
<>(
ch
)) != 0;

1943 
šlše
 
boŞ
 
	`IsXDig™
(
ch
) {

1944  
	`isxdig™
(
¡©ic_ÿ¡
<>(
ch
)) != 0;

1946 #ifdeà
__ıp_ch¬8_t


1947 
šlše
 
boŞ
 
	`IsXDig™
(
ch¬8_t
 
ch
) {

1948  
	`isxdig™
(
¡©ic_ÿ¡
<>(
ch
)) != 0;

1951 
šlše
 
boŞ
 
	`IsXDig™
(
ch¬16_t
 
ch
) {

1952 cÚ¡ 
low_by‹
 = 
¡©ic_ÿ¡
<>(
ch
);

1953  
ch
 =ğ
low_by‹
 && 
	`isxdig™
(low_byte) != 0;

1955 
šlše
 
boŞ
 
	`IsXDig™
(
ch¬32_t
 
ch
) {

1956 cÚ¡ 
low_by‹
 = 
¡©ic_ÿ¡
<>(
ch
);

1957  
ch
 =ğ
low_by‹
 && 
	`isxdig™
(low_byte) != 0;

1959 
šlše
 
boŞ
 
	`IsXDig™
(
wch¬_t
 
ch
) {

1960 cÚ¡ 
low_by‹
 = 
¡©ic_ÿ¡
<>(
ch
);

1961  
ch
 =ğ
low_by‹
 && 
	`isxdig™
(low_byte) != 0;

1964 
šlše
 
	`ToLow”
(
ch
) {

1965  
¡©ic_ÿ¡
<>(
	`tŞow”
(¡©ic_ÿ¡<>(
ch
)));

1967 
šlše
 
	`ToUµ”
(
ch
) {

1968  
¡©ic_ÿ¡
<>(
	`touµ”
(¡©ic_ÿ¡<>(
ch
)));

1971 
šlše
 
¡d
::
¡ršg
 
	`SŒT¿šgS·ûs
(¡d::¡ršg 
¡r
) {

1972 
¡d
::
¡ršg
::
™”©Ü
 
™
 = 
¡r
.
	`’d
();

1973 
™
 !ğ
¡r
.
	`begš
(è&& 
	`IsS·û
(*--it))

1974 
™
 = 
¡r
.
	`”a£
(it);

1975  
¡r
;

1984 
Çme¥aû
 
posix
 {

1988 #ià
GTEST_OS_WINDOWS


1990 
_¡©
 
	tStSŒuù
;

1992 #ifdeà
__BORLANDC__


1993 
šlše
 
	`DoIsATTY
(
fd
è{  
	`i§‰y
(fd); }

1994 
šlše
 
	`SŒCa£Cmp
(cÚ¡ * 
s1
, cÚ¡ * 
s2
) {

1995  
	`¡ricmp
(
s1
, 
s2
);

1997 
šlše
 * 
	`SŒDup
(cÚ¡ * 
¤c
è{  
	`¡rdup
(src); }

1999 #ià
GTEST_OS_WINDOWS_MOBILE


2000 
šlše
 
	`DoIsATTY
() {  0; }

2002 
šlše
 
	`DoIsATTY
(
fd
è{  
	`_i§‰y
(fd); }

2004 
šlše
 
	`SŒCa£Cmp
(cÚ¡ * 
s1
, cÚ¡ * 
s2
) {

2005  
	`_¡ricmp
(
s1
, 
s2
);

2007 
šlše
 * 
	`SŒDup
(cÚ¡ * 
¤c
è{  
	`_¡rdup
(src); }

2010 #ià
GTEST_OS_WINDOWS_MOBILE


2011 
šlše
 
	`FeNo
(
FILE
* 
fe
è{  
»š‹½»t_ÿ¡
<>(
	`_f’o
(file)); }

2015 
šlše
 
	`FeNo
(
FILE
* 
fe
è{  
	`_f’o
(file); }

2016 
šlše
 
	`St
(cÚ¡ * 
·th
, 
StSŒuù
* 
buf
è{  
	`_¡©
(path, buf); }

2017 
šlše
 
	`RmDœ
(cÚ¡ * 
dœ
è{  
	`_rmdœ
(dir); }

2018 
šlše
 
boŞ
 
	`IsDœ
(cÚ¡ 
StSŒuù
& 
¡
) {

2019  (
_S_IFDIR
 & 
¡
.
¡_mode
) != 0;

2023 #–ià
GTEST_OS_ESP8266


2024 
¡©
 
	tStSŒuù
;

2026 
šlše
 
	`FeNo
(
FILE
* 
fe
è{  
	`f’o
(file); }

2027 
šlše
 
	`DoIsATTY
(
fd
è{  
	`i§‰y
(fd); }

2028 
šlše
 
	`St
(cÚ¡ * 
·th
, 
StSŒuù
* 
buf
) {

2032 
šlše
 
	`SŒCa£Cmp
(cÚ¡ * 
s1
, cÚ¡ * 
s2
) {

2033  
	`¡rÿ£cmp
(
s1
, 
s2
);

2035 
šlše
 * 
	`SŒDup
(cÚ¡ * 
¤c
è{  
	`¡rdup
(src); }

2036 
šlše
 
	`RmDœ
(cÚ¡ * 
dœ
è{  
	`rmdœ
(dir); }

2037 
šlše
 
boŞ
 
	`IsDœ
(cÚ¡ 
StSŒuù
& 
¡
è{  
	`S_ISDIR
(¡.
¡_mode
); }

2041 
¡©
 
	tStSŒuù
;

2043 
šlše
 
	`FeNo
(
FILE
* 
fe
è{  
	`f’o
(file); }

2044 
šlše
 
	`DoIsATTY
(
fd
è{  
	`i§‰y
(fd); }

2045 
šlše
 
	`St
(cÚ¡ * 
·th
, 
StSŒuù
* 
buf
è{  
	`¡©
(path, buf); }

2046 
šlše
 
	`SŒCa£Cmp
(cÚ¡ * 
s1
, cÚ¡ * 
s2
) {

2047  
	`¡rÿ£cmp
(
s1
, 
s2
);

2049 
šlše
 * 
	`SŒDup
(cÚ¡ * 
¤c
è{  
	`¡rdup
(src); }

2050 
šlše
 
	`RmDœ
(cÚ¡ * 
dœ
è{  
	`rmdœ
(dir); }

2051 
šlše
 
boŞ
 
	`IsDœ
(cÚ¡ 
StSŒuù
& 
¡
è{  
	`S_ISDIR
(¡.
¡_mode
); }

2055 
šlše
 
	`IsATTY
(
fd
) {

2059 
§vedE¼no
 = 
”ºo
;

2060 
isA‰yV®ue
 = 
	`DoIsATTY
(
fd
);

2061 
”ºo
 = 
§vedE¼no
;

2063  
isA‰yV®ue
;

2068 
	`GTEST_DISABLE_MSC_DEPRECATED_PUSH_
()

2074 #ià!
GTEST_OS_WINDOWS_MOBILE
 && !
GTEST_OS_WINDOWS_PHONE
 && \

2075 !
GTEST_OS_WINDOWS_RT
 && !
GTEST_OS_ESP8266
 && !
GTEST_OS_XTENSA


2076 
šlše
 
	`ChDœ
(cÚ¡ * 
dœ
è{  
	`chdœ
(dir); }

2078 
šlše
 
FILE
* 
	`FO³n
(cÚ¡ * 
·th
, cÚ¡ * 
mode
) {

2079 #ià
GTEST_OS_WINDOWS
 && !
GTEST_OS_WINDOWS_MINGW


2080 
wch¬_codecvt
 : 
public
 
¡d
::
codecvt
<
wch¬_t
, , std::
mb¡©e_t
> {};

2081 
¡d
::
w¡ršg_cÚv”t
<
wch¬_codecvt
> 
cÚv”‹r
;

2082 
¡d
::
w¡ršg
 
wide_·th
 = 
cÚv”‹r
.
	`äom_by‹s
(
·th
);

2083 
¡d
::
w¡ršg
 
wide_mode
 = 
cÚv”‹r
.
	`äom_by‹s
(
mode
);

2084  
	`_wfİ’
(
wide_·th
.
	`c_¡r
(), 
wide_mode
.c_str());

2086  
	`fİ’
(
·th
, 
mode
);

2089 #ià!
GTEST_OS_WINDOWS_MOBILE


2090 
šlše
 
FILE
 *
	`FReİ’
(cÚ¡ * 
·th
, cÚ¡ * 
mode
, FILE* 
¡»am
) {

2091  
	`äeİ’
(
·th
, 
mode
, 
¡»am
);

2093 
šlše
 
FILE
* 
	`FDO³n
(
fd
, cÚ¡ * 
mode
è{  
	`fdİ’
(fd, mode); }

2095 
šlše
 
	`FClo£
(
FILE
* 
å
è{  
	`fşo£
(fp); }

2096 #ià!
GTEST_OS_WINDOWS_MOBILE


2097 
šlše
 
	`R—d
(
fd
, * 
buf
, 
couÁ
) {

2098  
¡©ic_ÿ¡
<>(
	`»ad
(
fd
, 
buf
, 
couÁ
));

2100 
šlše
 
	`Wr™e
(
fd
, cÚ¡ * 
buf
, 
couÁ
) {

2101  
¡©ic_ÿ¡
<>(
	`wr™e
(
fd
, 
buf
, 
couÁ
));

2103 
šlše
 
	`Clo£
(
fd
è{  
	`şo£
(fd); }

2104 
šlše
 cÚ¡ * 
	`SŒE¼Ü
(
”ºum
è{  
	`¡»¼Ü
(errnum); }

2106 
šlše
 cÚ¡ * 
	`G‘Env
(cÚ¡ * 
Çme
) {

2107 #ià
GTEST_OS_WINDOWS_MOBILE
 || 
GTEST_OS_WINDOWS_PHONE
 || \

2108 
GTEST_OS_WINDOWS_RT
 || 
GTEST_OS_ESP8266
 || 
GTEST_OS_XTENSA


2110 
¡©ic_ÿ¡
<>(
Çme
);

2111  
nuÎ±r
;

2112 #–ià
	`defšed
(
__BORLANDC__
è|| defšed(
__SunOS_5_8
è|| defšed(
__SunOS_5_9
)

2115 cÚ¡ * cÚ¡ 
’v
 = 
	`g‘’v
(
Çme
);

2116  (
’v
 !ğ
nuÎ±r
 &&ƒnv[0] != '\0') ?ƒnv :‚ullptr;

2118  
	`g‘’v
(
Çme
);

2122 
	`GTEST_DISABLE_MSC_DEPRECATED_POP_
()

2124 #ià
GTEST_OS_WINDOWS_MOBILE


2128 [[
nÜ‘uº
]] 
	`AbÜt
();

2130 [[
nÜ‘uº
]] 
šlše
 
	`AbÜt
(è{ 
	`abÜt
(); }

2140 #ià
_MSC_VER
 && !
GTEST_OS_WINDOWS_MOBILE


2142 
	#GTEST_SNPRINTF_
(
bufãr
, 
size
, 
fÜm©
, ...) \

2143 
	`_¢´štf_s
(
bufãr
, 
size
, size, 
fÜm©
, 
__VA_ARGS__
)

	)

2144 #–ià
	`defšed
(
_MSC_VER
)

2146 
	#GTEST_SNPRINTF_
 
_¢´štf


	)

2148 
	#GTEST_SNPRINTF_
 
¢´štf


	)

2154 
usšg
 
Bigge¡IÁ
 = ;

2157 
cÚ¡ex´
 
Bigge¡IÁ
 
kMaxBigge¡IÁ
 = (
¡d
::
num”ic_lim™s
<Bigge¡IÁ>::
max
)();

2177 
‹m¶©e
 <
size_t
 
size
>

2178 şas 
	cTy³W™hSize
 {

2179 
public
:

2182 
usšg
 
UIÁ
 = ;

2186 
‹m¶©e
 <>

2187 
şass
 
Ty³W™hSize
<4> {

2188 
public
:

2189 
usšg
 
IÁ
 = 
¡d
::
št32_t
;

2190 
usšg
 
UIÁ
 = 
¡d
::
ušt32_t
;

2194 
‹m¶©e
 <>

2195 
şass
 
Ty³W™hSize
<8> {

2196 
public
:

2197 
usšg
 
IÁ
 = 
¡d
::
št64_t
;

2198 
usšg
 
UIÁ
 = 
¡d
::
ušt64_t
;

2202 
usšg
 
TimeInMlis
 = 
št64_t
;

2207 #ià!
	`defšed
(
GTEST_FLAG
)

2208 
	#GTEST_FLAG
(
Çme
è
FLAGS_g‹¡_
##
	)
name

2211 #ià!
	`defšed
(
GTEST_USE_OWN_FLAGFILE_FLAG_
)

2212 
	#GTEST_USE_OWN_FLAGFILE_FLAG_
 1

	)

2215 #ià!
	`defšed
(
GTEST_DECLARE_boŞ_
)

2216 
	#GTEST_FLAG_SAVER_
 ::
‹¡šg
::
š‹º®
::
GTe¡FÏgSav”


	)

2219 
	#GTEST_DECLARE_boŞ_
(
Çme
è
GTEST_API_
 
boŞ
 
	`GTEST_FLAG
Òame)

	)

2220 
	#GTEST_DECLARE_št32_
(
Çme
) \

2221 
GTEST_API_
 
¡d
::
št32_t
 
	`GTEST_FLAG
(
Çme
)

	)

2222 
	#GTEST_DECLARE_¡ršg_
(
Çme
) \

2223 
GTEST_API_
 ::
¡d
::
¡ršg
 
	`GTEST_FLAG
(
Çme
)

	)

2226 
	#GTEST_DEFINE_boŞ_
(
Çme
, 
deçuÉ_v®
, 
doc
) \

2227 
GTEST_API_
 
boŞ
 
	`GTEST_FLAG
(
Çme
èğ(
deçuÉ_v®
)

	)

2228 
	#GTEST_DEFINE_št32_
(
Çme
, 
deçuÉ_v®
, 
doc
) \

2229 
GTEST_API_
 
¡d
::
št32_t
 
	`GTEST_FLAG
(
Çme
èğ(
deçuÉ_v®
)

	)

2230 
	#GTEST_DEFINE_¡ršg_
(
Çme
, 
deçuÉ_v®
, 
doc
) \

2231 
GTEST_API_
 ::
¡d
::
¡ršg
 
	`GTEST_FLAG
(
Çme
èğ(
deçuÉ_v®
)

	)

2236 #ià!
	`defšed
(
GTEST_EXCLUSIVE_LOCK_REQUIRED_
)

2237 
	#GTEST_EXCLUSIVE_LOCK_REQUIRED_
(
locks
)

	)

2238 
	#GTEST_LOCK_EXCLUDED_
(
locks
)

	)

2244 
GTEST_API_
 
boŞ
 
	`P¬£IÁ32
(cÚ¡ 
Mes§ge
& 
¤c_‹xt
, cÚ¡ * 
¡r
,

2245 
št32_t
* 
v®ue
);

2249 
boŞ
 
	`BoŞFromGTe¡Env
(cÚ¡ * 
æag
, boŞ 
deçuÉ_v®
);

2250 
GTEST_API_
 
št32_t
 
	`IÁ32FromGTe¡Env
(cÚ¡ * 
æag
, iÁ32_ˆ
deçuÉ_v®
);

2251 
¡d
::
¡ršg
 
	`OuutFÏgAlsoCheckEnvV¬
();

2252 cÚ¡ * 
	`SŒšgFromGTe¡Env
(cÚ¡ * 
æag
, cÚ¡ * 
deçuÉ_v®
);

2254 
	}
}

2257 #ià!
defšed
(
GTEST_INTERNAL_DEPRECATED
)

2267 #ià
defšed
(
_MSC_VER
)

2268 
	#GTEST_INTERNAL_DEPRECATED
(
mes§ge
è
	`__deş¥ec
(
	`d•»ÿ‹d
(mes§ge))

	)

2269 #–ià
defšed
(
__GNUC__
)

2270 
	#GTEST_INTERNAL_DEPRECATED
(
mes§ge
è
	`__©Œibu‹__
((
	`d•»ÿ‹d
(mes§ge)))

	)

2272 
	#GTEST_INTERNAL_DEPRECATED
(
mes§ge
)

	)

2277 #ià
GTEST_HAS_ABSL


2280 
	#GTEST_INTERNAL_HAS_ANY
 1

	)

2281 
	~"ab¦/ty³s/ªy.h
"

2282 
Çme¥aû
 
	g‹¡šg
 {

2283 
Çme¥aû
 
	gš‹º®
 {

2284 
usšg
 
	gAny
 = ::
ab¦
::
ªy
;

2288 #ifdeà
__has_šşude


2289 #ià
__has_šşude
(<
ªy
>è&& 
__ılu¥lus
 >= 201703L

2292 
	#GTEST_INTERNAL_HAS_ANY
 1

	)

2293 
	~<ªy
>

2294 
Çme¥aû
 
	g‹¡šg
 {

2295 
Çme¥aû
 
	gš‹º®
 {

2296 
usšg
 
	gAny
 = ::
¡d
::
ªy
;

2305 #ià
GTEST_HAS_ABSL


2308 
	#GTEST_INTERNAL_HAS_OPTIONAL
 1

	)

2309 
	~"ab¦/ty³s/İtiÚ®.h
"

2310 
Çme¥aû
 
	g‹¡šg
 {

2311 
Çme¥aû
 
	gš‹º®
 {

2312 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2313 
usšg
 
	gO±iÚ®
 = ::
ab¦
::
İtiÚ®
<
T
>;

2317 #ifdeà
__has_šşude


2318 #ià
__has_šşude
(<
İtiÚ®
>è&& 
__ılu¥lus
 >= 201703L

2321 
	#GTEST_INTERNAL_HAS_OPTIONAL
 1

	)

2322 
	~<İtiÚ®
>

2323 
Çme¥aû
 
	g‹¡šg
 {

2324 
Çme¥aû
 
	gš‹º®
 {

2325 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

2326 
usšg
 
	gO±iÚ®
 = ::
¡d
::
İtiÚ®
<
T
>;

2335 #ià
GTEST_HAS_ABSL


2338 
	#GTEST_INTERNAL_HAS_STRING_VIEW
 1

	)

2339 
	~"ab¦/¡ršgs/¡ršg_v›w.h
"

2340 
Çme¥aû
 
	g‹¡šg
 {

2341 
Çme¥aû
 
	gš‹º®
 {

2342 
usšg
 
	gSŒšgV›w
 = ::
ab¦
::
¡ršg_v›w
;

2346 #ifdeà
__has_šşude


2347 #ià
__has_šşude
(<
¡ršg_v›w
>è&& 
__ılu¥lus
 >= 201703L

2350 
	#GTEST_INTERNAL_HAS_STRING_VIEW
 1

	)

2351 
	~<¡ršg_v›w
>

2352 
Çme¥aû
 
	g‹¡šg
 {

2353 
Çme¥aû
 
	gš‹º®
 {

2354 
usšg
 
	gSŒšgV›w
 = ::
¡d
::
¡ršg_v›w
;

2363 #ià
GTEST_HAS_ABSL


2366 
	#GTEST_INTERNAL_HAS_VARIANT
 1

	)

2367 
	~"ab¦/ty³s/v¬ŸÁ.h
"

2368 
Çme¥aû
 
	g‹¡šg
 {

2369 
Çme¥aû
 
	gš‹º®
 {

2370 
	g‹m¶©e
 <
	gty³Çme
... 
	gT
>

2371 
usšg
 
	gV¬ŸÁ
 = ::
ab¦
::
v¬ŸÁ
<
T
...>;

2375 #ifdeà
__has_šşude


2376 #ià
__has_šşude
(<
v¬ŸÁ
>è&& 
__ılu¥lus
 >= 201703L

2379 
	#GTEST_INTERNAL_HAS_VARIANT
 1

	)

2380 
	~<v¬ŸÁ
>

2381 
Çme¥aû
 
	g‹¡šg
 {

2382 
Çme¥aû
 
	gš‹º®
 {

2383 
	g‹m¶©e
 <
	gty³Çme
... 
	gT
>

2384 
usšg
 
	gV¬ŸÁ
 = ::
¡d
::
v¬ŸÁ
<
T
...>;

	@/usr/include/gtest/internal/gtest-type-util.h

35 #iâdeà
GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_TYPE_UTIL_H_


36 
	#GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_TYPE_UTIL_H_


	)

38 
	~"g‹¡/š‹º®/g‹¡-pÜt.h
"

42 #ià
GTEST_HAS_CXXABI_H_


43 
	~<cxxabi.h
>

44 #–ià
defšed
(
__HP_aCC
)

45 
	~<acxx_demªgË.h
>

48 
Çme¥aû
 
	g‹¡šg
 {

49 
Çme¥aû
 
	gš‹º®
 {

55 
šlše
 
	g¡d
::
¡ršg
 
CªÚiÿlizeFÜStdLibV”siÚšg
(
¡d
::¡ršg 
s
) {

56 cÚ¡ 
´efix
[] = "std::__";

57 ià(
	gs
.
com·»
(0, 
¡¾’
(
´efix
),…refix) == 0) {

58 
¡d
::
¡ršg
::
size_ty³
 
’d
 = 
s
.
fšd
("::", 
¡¾’
(
´efix
));

59 ià(
	g’d
 !ğ
s
.
Åos
) {

61 
s
.
”a£
(
¡¾’
("¡d"), 
’d
 - strlen("std"));

64  
	gs
;

67 #ià
GTEST_HAS_RTTI


69 
šlše
 
	g¡d
::
¡ršg
 
G‘Ty³Name
(cÚ¡ 
¡d
::
ty³_šfo
& 
ty³
) {

70 cÚ¡ * cÚ¡ 
Çme
 = 
ty³
.name();

71 #ià
GTEST_HAS_CXXABI_H_
 || 
defšed
(
__HP_aCC
)

72 
	g¡©us
 = 0;

75 #ià
GTEST_HAS_CXXABI_H_


76 
usšg
 
	gabi
::
__cxa_demªgË
;

78 * cÚ¡ 
	g»adabË_Çme
 = 
__cxa_demªgË
(
Çme
, 
nuÎ±r
,‚uÎ±r, &
¡©us
);

79 cÚ¡ 
	g¡d
::
¡ršg
 
Çme_¡r
(
¡©us
 =ğ0 ? 
»adabË_Çme
 : 
Çme
);

80 
ä“
(
»adabË_Çme
);

81  
CªÚiÿlizeFÜStdLibV”siÚšg
(
Çme_¡r
);

83  
	gÇme
;

92 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

93 
	g¡d
::
¡ršg
 
G‘Ty³Name
() {

94 #ià
GTEST_HAS_RTTI


95  
G‘Ty³Name
(
ty³id
(
T
));

102 
	sNÚe
 {};

104 
	#GTEST_TEMPLATE_
 
‹m¶©e
 <
ty³Çme
 
T
> 
şass


	)

114 
	g‹m¶©e
 <
GTEST_TEMPLATE_
 
	gTm¶
>

115 
	sTem¶©eS–
 {

116 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

117 
	sBšd
 {

118 
	gTm¶
<
	tT
> 
	tty³
;

122 
	#GTEST_BIND_
(
Tm¶S–
, 
T
) \

123 
Tm¶S–
::
‹m¶©e
 
Bšd
<
T
>::
ty³


	)

125 
	g‹m¶©e
 <
GTEST_TEMPLATE_
 
	gH—d_
, 
	gGTEST_TEMPLATE_
... 
	gTa_
>

126 
	sTem¶©es
 {

127 
usšg
 
	gH—d
 = 
Tem¶©eS–
<
H—d_
>;

128 
usšg
 
	gTa
 = 
Tem¶©es
<
Ta_
...>;

131 
	g‹m¶©e
 <
GTEST_TEMPLATE_
 
	gH—d_
>

132 
	gTem¶©es
<
	gH—d_
> {

133 
usšg
 
	gH—d
 = 
Tem¶©eS–
<
H—d_
>;

134 
usšg
 
	gTa
 = 
NÚe
;

138 
	g‹m¶©e
 <
ty³Çme
 
	gH—d_
, 
	gty³Çme
... 
	gTa_
>

139 
	sTy³s
 {

140 
usšg
 
	gH—d
 = 
H—d_
;

141 
usšg
 
	gTa
 = 
Ty³s
<
Ta_
...>;

144 
	g‹m¶©e
 <
ty³Çme
 
	gH—d_
>

145 
	gTy³s
<
	gH—d_
> {

146 
usšg
 
	gH—d
 = 
H—d_
;

147 
usšg
 
	gTa
 = 
NÚe
;

152 
	g‹m¶©e
 <
	gty³Çme
... 
	gTs
>

153 
	sProxyTy³Li¡
 {

154 
usšg
 
	gty³
 = 
Ty³s
<
Ts
...>;

157 
	g‹m¶©e
 <
	gty³Çme
>

158 
	gis_´oxy_ty³_li¡
 : 
¡d
::
çl£_ty³
 {};

160 
	g‹m¶©e
 <
	gty³Çme
... 
	gTs
>

161 
	gis_´oxy_ty³_li¡
<
	gProxyTy³Li¡
<
	gTs
...>> : 
¡d
::
Œue_ty³
 {};

166 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

167 
	sG’”©eTy³Li¡
 {

168 
	g´iv©e
:

169 
usšg
 
´oxy
 = 
ty³Çme
 
¡d
::
cÚd™iÚ®
<
is_´oxy_ty³_li¡
<
T
>::
v®ue
, 
	gT
,

170 
	gProxyTy³Li¡
<
	gT
>>::
ty³
;

172 
	gpublic
:

173 
usšg
 
ty³
 = 
ty³Çme
 
´oxy
::type;

178 
	g‹m¶©e
 <
	gty³Çme
... 
	gTs
>

179 
usšg
 
	gTy³s
 = 
š‹º®
::
ProxyTy³Li¡
<
Ts
...>;

	@/usr/include/limits.h

22 #iâdeà
_LIBC_LIMITS_H_


23 
	#_LIBC_LIMITS_H_
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

32 
	#MB_LEN_MAX
 16

	)

37 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

42 #iâdeà
_LIMITS_H


43 
	#_LIMITS_H
 1

	)

45 
	~<b™s/wÜdsize.h
>

54 
	#CHAR_BIT
 8

	)

57 
	#SCHAR_MIN
 (-128)

	)

58 
	#SCHAR_MAX
 127

	)

61 
	#UCHAR_MAX
 255

	)

64 #ifdeà
__CHAR_UNSIGNED__


65 
	#CHAR_MIN
 0

	)

66 
	#CHAR_MAX
 
UCHAR_MAX


	)

68 
	#CHAR_MIN
 
SCHAR_MIN


	)

69 
	#CHAR_MAX
 
SCHAR_MAX


	)

73 
	#SHRT_MIN
 (-32768)

	)

74 
	#SHRT_MAX
 32767

	)

77 
	#USHRT_MAX
 65535

	)

80 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

81 
	#INT_MAX
 2147483647

	)

84 
	#UINT_MAX
 4294967295U

	)

87 #ià
__WORDSIZE
 == 64

88 
	#LONG_MAX
 9223372036854775807L

	)

90 
	#LONG_MAX
 2147483647L

	)

92 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

95 #ià
__WORDSIZE
 == 64

96 
	#ULONG_MAX
 18446744073709551615UL

	)

98 
	#ULONG_MAX
 4294967295UL

	)

101 #ifdeà
__USE_ISOC99


104 
	#LLONG_MAX
 9223372036854775807LL

	)

105 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

108 
	#ULLONG_MAX
 18446744073709551615ULL

	)

122 #ià
defšed
 
__GNUC__
 && !defšed 
_GCC_LIMITS_H_


124 #šşude_Ãxˆ<
lim™s
.
h
>

130 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__


131 #iâdeà
LLONG_MIN


132 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

134 #iâdeà
LLONG_MAX


135 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

137 #iâdeà
ULLONG_MAX


138 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

145 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT_C2X
)

146 #iâdeà
CHAR_WIDTH


147 
	#CHAR_WIDTH
 8

	)

149 #iâdeà
SCHAR_WIDTH


150 
	#SCHAR_WIDTH
 8

	)

152 #iâdeà
UCHAR_WIDTH


153 
	#UCHAR_WIDTH
 8

	)

155 #iâdeà
SHRT_WIDTH


156 
	#SHRT_WIDTH
 16

	)

158 #iâdeà
USHRT_WIDTH


159 
	#USHRT_WIDTH
 16

	)

161 #iâdeà
INT_WIDTH


162 
	#INT_WIDTH
 32

	)

164 #iâdeà
UINT_WIDTH


165 
	#UINT_WIDTH
 32

	)

167 #iâdeà
LONG_WIDTH


168 
	#LONG_WIDTH
 
__WORDSIZE


	)

170 #iâdeà
ULONG_WIDTH


171 
	#ULONG_WIDTH
 
__WORDSIZE


	)

173 #iâdeà
LLONG_WIDTH


174 
	#LLONG_WIDTH
 64

	)

176 #iâdeà
ULLONG_WIDTH


177 
	#ULLONG_WIDTH
 64

	)

184 #ià
__GLIBC_USE
 (
ISOC2X
)

185 #iâdeà
BOOL_MAX


186 
	#BOOL_MAX
 1

	)

188 #iâdeà
BOOL_WIDTH


189 
	#BOOL_WIDTH
 1

	)

193 #ifdef 
__USE_POSIX


195 
	~<b™s/posix1_lim.h
>

198 #ifdef 
__USE_POSIX2


199 
	~<b™s/posix2_lim.h
>

202 #ifdef 
__USE_XOPEN


203 
	~<b™s/xİ’_lim.h
>

	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifdeà
__GCC_IEC_559


37 #ià
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

39 
	#__STDC_IEC_60559_BFP__
 201404L

	)

42 
	#__STDC_IEC_559__
 1

	)

43 
	#__STDC_IEC_60559_BFP__
 201404L

	)

46 #ifdeà
__GCC_IEC_559_COMPLEX


47 #ià
__GCC_IEC_559_COMPLEX
 > 0

48 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_60559_COMPLEX__
 201404L

	)

52 
	#__STDC_IEC_559_COMPLEX__
 1

	)

53 
	#__STDC_IEC_60559_COMPLEX__
 201404L

	)

62 
	#__STDC_ISO_10646__
 201706L

	)

	@/usr/include/assert.h

22 #ifdef 
_ASSERT_H


24 #undeà
_ASSERT_H


25 #undeà
as£¹


26 #undeà
__ASSERT_VOID_CAST


28 #ifdef 
__USE_GNU


29 #undeà
as£¹_³¼Ü


34 
	#_ASSERT_H
 1

	)

35 
	~<ã©u»s.h
>

37 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,95)

38 
	#__ASSERT_VOID_CAST
 
¡©ic_ÿ¡
<>

	)

40 
	#__ASSERT_VOID_CAST
 ()

	)

48 #ifdef 
NDEBUG


50 
	#as£¹
(
ex´
è(
	`__ASSERT_VOID_CAST
 (0))

	)

58 #ifdef 
__USE_GNU


59 
	#as£¹_³¼Ü
(
”ºum
è(
	`__ASSERT_VOID_CAST
 (0))

	)

64 #iâdeà
_ASSERT_H_DECLS


65 
	#_ASSERT_H_DECLS


	)

66 
__BEGIN_DECLS


69 
	$__as£¹_ç
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
,

70 
__lše
, cÚ¡ *
__funùiÚ
)

71 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

74 
	$__as£¹_³¼Ü_ç
 (
__”ºum
, cÚ¡ *
__fe
,

75 
__lše
, cÚ¡ *
__funùiÚ
)

76 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

81 
	$__as£¹
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
, 
__lše
)

82 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

85 
__END_DECLS


91 #ià
defšed
 
__ılu¥lus


92 
	#as£¹
(
ex´
) \

93 (
¡©ic_ÿ¡
 <
boŞ
> (
ex´
) \

95 : 
	`__as£¹_ç
 (#ex´, 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

96 #–ià!
defšed
 
__GNUC__
 || defšed 
__STRICT_ANSI__


97 
	#as£¹
(
ex´
) \

98 ((
ex´
) \

99 ? 
	`__ASSERT_VOID_CAST
 (0) \

100 : 
	`__as£¹_ç
 (#ex´, 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

107 
	#as£¹
(
ex´
) \

108 ((è ((
ex´
è? 1 : 0), 
	`__ex‹nsiÚ__
 ({ \

109 ià(
ex´
) \

112 
	`__as£¹_ç
 (#ex´, 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
); \

113 
	}
}))

	)

116 #ifdef 
__USE_GNU


117 
	#as£¹_³¼Ü
(
”ºum
) \

118 (!(
”ºum
) \

119 ? 
	`__ASSERT_VOID_CAST
 (0) \

120 : 
	`__as£¹_³¼Ü_ç
 ((
”ºum
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

128 #ià
defšed
 
__ılu¥lus
 ? 
__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

129 
	#__ASSERT_FUNCTION
 
__ex‹nsiÚ__
 
__PRETTY_FUNCTION__


	)

131 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

132 
	#__ASSERT_FUNCTION
 
__func__


	)

134 
	#__ASSERT_FUNCTION
 ((cÚ¡ *è0)

	)

141 #ià
defšed
 
__USE_ISOC11
 && !defšed 
__ılu¥lus


142 #undeà
¡©ic_as£¹


143 
	#¡©ic_as£¹
 
_Stic_as£¹


	)

	@/usr/include/gmock/internal/custom/gmock-port.h

36 #iâdeà
GOOGLEMOCK_INCLUDE_GMOCK_INTERNAL_CUSTOM_GMOCK_PORT_H_


37 
	#GOOGLEMOCK_INCLUDE_GMOCK_INTERNAL_CUSTOM_GMOCK_PORT_H_


	)

	@/usr/include/gtest/internal/custom/gtest-port.h

34 #iâdeà
GOOGLETEST_INCLUDE_GTEST_INTERNAL_CUSTOM_GTEST_PORT_H_


35 
	#GOOGLETEST_INCLUDE_GTEST_INTERNAL_CUSTOM_GTEST_PORT_H_


	)

	@/usr/include/gtest/internal/gtest-port-arch.h

35 #iâdeà
GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_PORT_ARCH_H_


36 
	#GOOGLETEST_INCLUDE_GTEST_INTERNAL_GTEST_PORT_ARCH_H_


	)

39 #ifdeà
__CYGWIN__


40 
	#GTEST_OS_CYGWIN
 1

	)

41 #–ià
defšed
(
__MINGW__
è|| defšed(
__MINGW32__
è|| defšed(
__MINGW64__
)

42 
	#GTEST_OS_WINDOWS_MINGW
 1

	)

43 
	#GTEST_OS_WINDOWS
 1

	)

44 #–ià
defšed
 
_WIN32


45 
	#GTEST_OS_WINDOWS
 1

	)

46 #ifdeà
_WIN32_WCE


47 
	#GTEST_OS_WINDOWS_MOBILE
 1

	)

48 #–ià
defšed
(
WINAPI_FAMILY
)

49 
	~<wš­içmy.h
>

50 #ià
WINAPI_FAMILY_PARTITION
(
WINAPI_PARTITION_DESKTOP
)

51 
	#GTEST_OS_WINDOWS_DESKTOP
 1

	)

52 #–ià
WINAPI_FAMILY_PARTITION
(
WINAPI_PARTITION_PHONE_APP
)

53 
	#GTEST_OS_WINDOWS_PHONE
 1

	)

54 #–ià
WINAPI_FAMILY_PARTITION
(
WINAPI_PARTITION_APP
)

55 
	#GTEST_OS_WINDOWS_RT
 1

	)

56 #–ià
WINAPI_FAMILY_PARTITION
(
WINAPI_PARTITION_TV_TITLE
)

57 
	#GTEST_OS_WINDOWS_PHONE
 1

	)

58 
	#GTEST_OS_WINDOWS_TV_TITLE
 1

	)

62 
	#GTEST_OS_WINDOWS_DESKTOP
 1

	)

65 
	#GTEST_OS_WINDOWS_DESKTOP
 1

	)

67 #–ià
defšed
 
__OS2__


68 
	#GTEST_OS_OS2
 1

	)

69 #–ià
defšed
 
__APPLE__


70 
	#GTEST_OS_MAC
 1

	)

71 
	~<T¬g‘CÚd™iÚ®s.h
>

72 #ià
TARGET_OS_IPHONE


73 
	#GTEST_OS_IOS
 1

	)

75 #–ià
defšed
 
__D¿gÚFly__


76 
	#GTEST_OS_DRAGONFLY
 1

	)

77 #–ià
defšed
 
__F»eBSD__


78 
	#GTEST_OS_FREEBSD
 1

	)

79 #–ià
defšed
 
__FuchsŸ__


80 
	#GTEST_OS_FUCHSIA
 1

	)

81 #–ià
defšed
(
__GNU__
)

82 
	#GTEST_OS_GNU_HURD
 1

	)

83 #–ià
defšed
(
__GLIBC__
è&& defšed(
__F»eBSD_k”Ãl__
)

84 
	#GTEST_OS_GNU_KFREEBSD
 1

	)

85 #–ià
defšed
 
__lšux__


86 
	#GTEST_OS_LINUX
 1

	)

87 #ià
defšed
 
__ANDROID__


88 
	#GTEST_OS_LINUX_ANDROID
 1

	)

90 #–ià
defšed
 
__MVS__


91 
	#GTEST_OS_ZOS
 1

	)

92 #–ià
defšed
(
__sun
è&& defšed(
__SVR4
)

93 
	#GTEST_OS_SOLARIS
 1

	)

94 #–ià
defšed
(
_AIX
)

95 
	#GTEST_OS_AIX
 1

	)

96 #–ià
defšed
(
__hpux
)

97 
	#GTEST_OS_HPUX
 1

	)

98 #–ià
defšed
 
__Çtive_ş›Á__


99 
	#GTEST_OS_NACL
 1

	)

100 #–ià
defšed
 
__N‘BSD__


101 
	#GTEST_OS_NETBSD
 1

	)

102 #–ià
defšed
 
__O³nBSD__


103 
	#GTEST_OS_OPENBSD
 1

	)

104 #–ià
defšed
 
__QNX__


105 
	#GTEST_OS_QNX
 1

	)

106 #–ià
defšed
(
__HAIKU__
)

107 
	#GTEST_OS_HAIKU
 1

	)

108 #–ià
defšed
 
ESP8266


109 
	#GTEST_OS_ESP8266
 1

	)

110 #–ià
defšed
 
ESP32


111 
	#GTEST_OS_ESP32
 1

	)

112 #–ià
defšed
(
__XTENSA__
)

113 
	#GTEST_OS_XTENSA
 1

	)

	@/usr/include/regex.h

20 #iâdeà
_REGEX_H


21 
	#_REGEX_H
 1

	)

23 
	~<sys/ty³s.h
>

26 #ifdeà
__ılu¥lus


32 #ifdeà
_GNU_SOURCE


33 
	#__USE_GNU
 1

	)

36 #ifdeà
_REGEX_LARGE_OFFSETS


45 
size_t
 
	t__»_size_t
;

49 
size_t
 
	t__»_lÚg_size_t
;

55 
	t__»_size_t
;

56 
	t__»_lÚg_size_t
;

64 
	ts_»g_t
;

65 
	taùive_»g_t
;

72 
	t»g_syÁax_t
;

74 #ifdeà
__USE_GNU


77 
	#RE_BACKSLASH_ESCAPE_IN_LISTS
 ((è1)

	)

82 
	#RE_BK_PLUS_QM
 (
RE_BACKSLASH_ESCAPE_IN_LISTS
 << 1)

	)

88 
	#RE_CHAR_CLASSES
 (
RE_BK_PLUS_QM
 << 1)

	)

102 
	#RE_CONTEXT_INDEP_ANCHORS
 (
RE_CHAR_CLASSES
 << 1)

	)

110 
	#RE_CONTEXT_INDEP_OPS
 (
RE_CONTEXT_INDEP_ANCHORS
 << 1)

	)

114 
	#RE_CONTEXT_INVALID_OPS
 (
RE_CONTEXT_INDEP_OPS
 << 1)

	)

118 
	#RE_DOT_NEWLINE
 (
RE_CONTEXT_INVALID_OPS
 << 1)

	)

122 
	#RE_DOT_NOT_NULL
 (
RE_DOT_NEWLINE
 << 1)

	)

126 
	#RE_HAT_LISTS_NOT_NEWLINE
 (
RE_DOT_NOT_NULL
 << 1)

	)

131 
	#RE_INTERVALS
 (
RE_HAT_LISTS_NOT_NEWLINE
 << 1)

	)

135 
	#RE_LIMITED_OPS
 (
RE_INTERVALS
 << 1)

	)

139 
	#RE_NEWLINE_ALT
 (
RE_LIMITED_OPS
 << 1)

	)

144 
	#RE_NO_BK_BRACES
 (
RE_NEWLINE_ALT
 << 1)

	)

148 
	#RE_NO_BK_PARENS
 (
RE_NO_BK_BRACES
 << 1)

	)

152 
	#RE_NO_BK_REFS
 (
RE_NO_BK_PARENS
 << 1)

	)

156 
	#RE_NO_BK_VBAR
 (
RE_NO_BK_REFS
 << 1)

	)

162 
	#RE_NO_EMPTY_RANGES
 (
RE_NO_BK_VBAR
 << 1)

	)

166 
	#RE_UNMATCHED_RIGHT_PAREN_ORD
 (
RE_NO_EMPTY_RANGES
 << 1)

	)

170 
	#RE_NO_POSIX_BACKTRACKING
 (
RE_UNMATCHED_RIGHT_PAREN_ORD
 << 1)

	)

174 
	#RE_NO_GNU_OPS
 (
RE_NO_POSIX_BACKTRACKING
 << 1)

	)

182 
	#RE_DEBUG
 (
RE_NO_GNU_OPS
 << 1)

	)

187 
	#RE_INVALID_INTERVAL_ORD
 (
RE_DEBUG
 << 1)

	)

191 
	#RE_ICASE
 (
RE_INVALID_INTERVAL_ORD
 << 1)

	)

196 
	#RE_CARET_ANCHORS_HERE
 (
RE_ICASE
 << 1)

	)

200 
	#RE_CONTEXT_INVALID_DUP
 (
RE_CARET_ANCHORS_HERE
 << 1)

	)

204 
	#RE_NO_SUB
 (
RE_CONTEXT_INVALID_DUP
 << 1)

	)

211 
»g_syÁax_t
 
»_syÁax_İtiÚs
;

213 #ifdeà
__USE_GNU


218 
	#RE_SYNTAX_EMACS
 0

	)

220 
	#RE_SYNTAX_AWK
 \

221 (
RE_BACKSLASH_ESCAPE_IN_LISTS
 | 
RE_DOT_NOT_NULL
 \

222 | 
RE_NO_BK_PARENS
 | 
RE_NO_BK_REFS
 \

223 | 
RE_NO_BK_VBAR
 | 
RE_NO_EMPTY_RANGES
 \

224 | 
RE_DOT_NEWLINE
 | 
RE_CONTEXT_INDEP_ANCHORS
 \

225 | 
RE_CHAR_CLASSES
 \

226 | 
RE_UNMATCHED_RIGHT_PAREN_ORD
 | 
RE_NO_GNU_OPS
)

	)

228 
	#RE_SYNTAX_GNU_AWK
 \

229 ((
RE_SYNTAX_POSIX_EXTENDED
 | 
RE_BACKSLASH_ESCAPE_IN_LISTS
 \

230 | 
RE_INVALID_INTERVAL_ORD
) \

231 & ~(
RE_DOT_NOT_NULL
 | 
RE_CONTEXT_INDEP_OPS
 \

232 | 
RE_CONTEXT_INVALID_OPS
 ))

	)

234 
	#RE_SYNTAX_POSIX_AWK
 \

235 (
RE_SYNTAX_POSIX_EXTENDED
 | 
RE_BACKSLASH_ESCAPE_IN_LISTS
 \

236 | 
RE_INTERVALS
 | 
RE_NO_GNU_OPS
 \

237 | 
RE_INVALID_INTERVAL_ORD
)

	)

239 
	#RE_SYNTAX_GREP
 \

240 ((
RE_SYNTAX_POSIX_BASIC
 | 
RE_NEWLINE_ALT
) \

241 & ~(
RE_CONTEXT_INVALID_DUP
 | 
RE_DOT_NOT_NULL
))

	)

243 
	#RE_SYNTAX_EGREP
 \

244 ((
RE_SYNTAX_POSIX_EXTENDED
 | 
RE_INVALID_INTERVAL_ORD
 | 
RE_NEWLINE_ALT
) \

245 & ~(
RE_CONTEXT_INVALID_OPS
 | 
RE_DOT_NOT_NULL
))

	)

248 
	#RE_SYNTAX_POSIX_EGREP
 \

249 
RE_SYNTAX_EGREP


	)

252 
	#RE_SYNTAX_ED
 
RE_SYNTAX_POSIX_BASIC


	)

254 
	#RE_SYNTAX_SED
 
RE_SYNTAX_POSIX_BASIC


	)

257 
	#_RE_SYNTAX_POSIX_COMMON
 \

258 (
RE_CHAR_CLASSES
 | 
RE_DOT_NEWLINE
 | 
RE_DOT_NOT_NULL
 \

259 | 
RE_INTERVALS
 | 
RE_NO_EMPTY_RANGES
)

	)

261 
	#RE_SYNTAX_POSIX_BASIC
 \

262 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_BK_PLUS_QM
 | 
RE_CONTEXT_INVALID_DUP
)

	)

267 
	#RE_SYNTAX_POSIX_MINIMAL_BASIC
 \

268 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_LIMITED_OPS
)

	)

270 
	#RE_SYNTAX_POSIX_EXTENDED
 \

271 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_CONTEXT_INDEP_ANCHORS
 \

272 | 
RE_CONTEXT_INDEP_OPS
 | 
RE_NO_BK_BRACES
 \

273 | 
RE_NO_BK_PARENS
 | 
RE_NO_BK_VBAR
 \

274 | 
RE_CONTEXT_INVALID_OPS
 | 
RE_UNMATCHED_RIGHT_PAREN_ORD
)

	)

278 
	#RE_SYNTAX_POSIX_MINIMAL_EXTENDED
 \

279 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_CONTEXT_INDEP_ANCHORS
 \

280 | 
RE_CONTEXT_INVALID_OPS
 | 
RE_NO_BK_BRACES
 \

281 | 
RE_NO_BK_PARENS
 | 
RE_NO_BK_REFS
 \

282 | 
RE_NO_BK_VBAR
 | 
RE_UNMATCHED_RIGHT_PAREN_ORD
)

	)

288 #ifdeà
_REGEX_INCLUDE_LIMITS_H


289 
	~<lim™s.h
>

291 #ifdeà
RE_DUP_MAX


292 #undeà
RE_DUP_MAX


302 
	#RE_DUP_MAX
 (0x7fff)

	)

310 
	#REG_EXTENDED
 1

	)

314 
	#REG_ICASE
 (1 << 1)

	)

319 
	#REG_NEWLINE
 (1 << 2)

	)

323 
	#REG_NOSUB
 (1 << 3)

	)

333 
	#REG_NOTBOL
 1

	)

336 
	#REG_NOTEOL
 (1 << 1)

	)

340 
	#REG_STARTEND
 (1 << 2)

	)

348 
	g_REG_ENOSYS
 = -1,

349 
	g_REG_NOERROR
 = 0,

350 
	g_REG_NOMATCH
,

354 
	g_REG_BADPAT
,

355 
	g_REG_ECOLLATE
,

356 
	g_REG_ECTYPE
,

357 
	g_REG_EESCAPE
,

358 
	g_REG_ESUBREG
,

359 
	g_REG_EBRACK
,

360 
	g_REG_EPAREN
,

361 
	g_REG_EBRACE
,

362 
	g_REG_BADBR
,

363 
	g_REG_ERANGE
,

364 
	g_REG_ESPACE
,

365 
	g_REG_BADRPT
,

368 
	g_REG_EEND
,

369 
	g_REG_ESIZE
,

370 
	g_REG_ERPAREN


371 } 
	t»g_”rcode_t
;

373 #ià
defšed
 
_XOPEN_SOURCE
 || defšed 
__USE_XOPEN2K


374 
	#REG_ENOSYS
 
_REG_ENOSYS


	)

376 
	#REG_NOERROR
 
_REG_NOERROR


	)

377 
	#REG_NOMATCH
 
_REG_NOMATCH


	)

378 
	#REG_BADPAT
 
_REG_BADPAT


	)

379 
	#REG_ECOLLATE
 
_REG_ECOLLATE


	)

380 
	#REG_ECTYPE
 
_REG_ECTYPE


	)

381 
	#REG_EESCAPE
 
_REG_EESCAPE


	)

382 
	#REG_ESUBREG
 
_REG_ESUBREG


	)

383 
	#REG_EBRACK
 
_REG_EBRACK


	)

384 
	#REG_EPAREN
 
_REG_EPAREN


	)

385 
	#REG_EBRACE
 
_REG_EBRACE


	)

386 
	#REG_BADBR
 
_REG_BADBR


	)

387 
	#REG_ERANGE
 
_REG_ERANGE


	)

388 
	#REG_ESPACE
 
_REG_ESPACE


	)

389 
	#REG_BADRPT
 
_REG_BADRPT


	)

390 
	#REG_EEND
 
_REG_EEND


	)

391 
	#REG_ESIZE
 
_REG_ESIZE


	)

392 
	#REG_ERPAREN
 
_REG_ERPAREN


	)

400 #iâdeà
RE_TRANSLATE_TYPE


401 
	#__RE_TRANSLATE_TYPE
 *

	)

402 #ifdeà
__USE_GNU


403 
	#RE_TRANSLATE_TYPE
 
__RE_TRANSLATE_TYPE


	)

407 #ifdeà
__USE_GNU


408 
	#__REPB_PREFIX
(
Çme
è
	)
name

410 
	#__REPB_PREFIX
(
Çme
è
__
##
	)
name

413 
	s»_·‰”n_bufãr


417 
»_dç_t
 *
__REPB_PREFIX
(
bufãr
);

420 
__»_lÚg_size_t
 
__REPB_PREFIX
(
®loÿ‹d
);

423 
__»_lÚg_size_t
 
__REPB_PREFIX
(
u£d
);

426 
»g_syÁax_t
 
__REPB_PREFIX
(
syÁax
);

431 *
__REPB_PREFIX
(
ç¡m­
);

437 
__RE_TRANSLATE_TYPE
 
__REPB_PREFIX
(
Œª¦©e
);

440 
size_t
 
	g»_nsub
;

446 
__REPB_PREFIX
(
ÿn_be_nuÎ
) : 1;

452 #ifdeà
__USE_GNU


453 
	#REGS_UNALLOCATED
 0

	)

454 
	#REGS_REALLOCATE
 1

	)

455 
	#REGS_FIXED
 2

	)

457 
__REPB_PREFIX
(
»gs_®loÿ‹d
) : 2;

461 
__REPB_PREFIX
(
ç¡m­_accu¿‹
) : 1;

465 
__REPB_PREFIX
(
no_sub
) : 1;

469 
__REPB_PREFIX
(
nÙ_bŞ
) : 1;

472 
__REPB_PREFIX
(
nÙ_eŞ
) : 1;

475 
__REPB_PREFIX
(
Ãwlše_ªchÜ
) : 1;

478 
»_·‰”n_bufãr
 
	t»gex_t
;

481 #ifdeà
_REGEX_LARGE_OFFSETS


486 
ssize_t
 
	t»goff_t
;

490 
	t»goff_t
;

494 #ifdeà
__USE_GNU


497 
	s»_»gi¡”s


499 
__»_size_t
 
	gnum_»gs
;

500 
»goff_t
 *
	g¡¬t
;

501 
»goff_t
 *
	g’d
;

508 #iâdeà
RE_NREGS


509 
	#RE_NREGS
 30

	)

519 
»goff_t
 
	grm_so
;

520 
»goff_t
 
	grm_eo
;

521 } 
	t»gm©ch_t
;

525 #iâdeà
_REGEX_NELTS


526 #ià(
defšed
 
__STDC_VERSION__
 && 199901L <= __STDC_VERSION__ \

527 && !
defšed
 
	g__STDC_NO_VLA__
)

528 
	#_REGEX_NELTS
(
n
è
	)
n

530 
	#_REGEX_NELTS
(
n
)

	)

534 #ià
defšed
 
__GNUC__
 && 4 < __GNUC__ + (6 <ğ
__GNUC_MINOR__
)

535 #´agm¨
GCC
 
dŸgno¡ic
 
push


536 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wvla"

539 #iâdeà
_A‰r_acûss_


540 #ifdeà
__©Œ_acûss


541 
	#_A‰r_acûss_
(
¬g
è
	`__©Œ_acûss
 (¬g)

	)

542 #–ià
defšed
 
__GNUC__
 && 10 <= __GNUC__

543 
	#_A‰r_acûss_
(
x
è
	`__©Œibu‹__
 ((
__acûss__
 x))

	)

545 
	#_A‰r_acûss_
(
x
)

	)

549 #ifdeà
__USE_GNU


552 
»g_syÁax_t
 
»_£t_syÁax
 (»g_syÁax_ˆ
__syÁax
);

562 cÚ¡ *
»_compe_·‰”n
 (cÚ¡ *
__·‰”n
, 
size_t
 
__Ëngth
,

563 
»_·‰”n_bufãr
 *
__bufãr
)

564 
_A‰r_acûss_
 ((
__»ad_Úly__
, 1, 2));

570 
»_compe_ç¡m­
 (
»_·‰”n_bufãr
 *
__bufãr
);

578 
»goff_t
 
»_£¬ch
 (
»_·‰”n_bufãr
 *
__bufãr
,

579 cÚ¡ *
__SŒšg
, 
»goff_t
 
__Ëngth
,

580 
»goff_t
 
__¡¬t
,„egoff_ˆ
__¿nge
,

581 
»_»gi¡”s
 *
__»gs
)

582 
_A‰r_acûss_
 ((
__»ad_Úly__
, 2, 3));

587 
»goff_t
 
»_£¬ch_2
 (
»_·‰”n_bufãr
 *
__bufãr
,

588 cÚ¡ *
__¡ršg1
, 
»goff_t
 
__Ëngth1
,

589 cÚ¡ *
__¡ršg2
, 
»goff_t
 
__Ëngth2
,

590 
»goff_t
 
__¡¬t
,„egoff_ˆ
__¿nge
,

591 
»_»gi¡”s
 *
__»gs
,

592 
»goff_t
 
__¡İ
)

593 
_A‰r_acûss_
 ((
__»ad_Úly__
, 2, 3))

594 
_A‰r_acûss_
 ((
__»ad_Úly__
, 4, 5));

599 
»goff_t
 
»_m©ch
 (
»_·‰”n_bufãr
 *
__bufãr
,

600 cÚ¡ *
__SŒšg
, 
»goff_t
 
__Ëngth
,

601 
»goff_t
 
__¡¬t
, 
»_»gi¡”s
 *
__»gs
)

602 
_A‰r_acûss_
 ((
__»ad_Úly__
, 2, 3));

606 
»goff_t
 
»_m©ch_2
 (
»_·‰”n_bufãr
 *
__bufãr
,

607 cÚ¡ *
__¡ršg1
, 
»goff_t
 
__Ëngth1
,

608 cÚ¡ *
__¡ršg2
, 
»goff_t
 
__Ëngth2
,

609 
»goff_t
 
__¡¬t
, 
»_»gi¡”s
 *
__»gs
,

610 
»goff_t
 
__¡İ
)

611 
_A‰r_acûss_
 ((
__»ad_Úly__
, 2, 3))

612 
_A‰r_acûss_
 ((
__»ad_Úly__
, 4, 5));

627 
»_£t_»gi¡”s
 (
»_·‰”n_bufãr
 *
__bufãr
,

628 
»_»gi¡”s
 *
__»gs
,

629 
__»_size_t
 
__num_»gs
,

630 
»goff_t
 *
__¡¬ts
,„egoff_ˆ*
__’ds
);

633 #ià
defšed
 
_REGEX_RE_COMP
 || (defšed 
_LIBC
 && defšed 
__USE_MISC
)

635 *
»_comp
 (const *);

636 
»_exec
 (const *);

645 #iâdeà
_Re¡riù_


646 #ià
defšed
 
__»¡riù
 \

647 || 2 < 
	g__GNUC__
 + (95 <ğ
__GNUC_MINOR__
) \

648 || 
__şªg_majÜ__
 >= 3

649 
	#_Re¡riù_
 
__»¡riù


	)

650 #–ià199901L <ğ
__STDC_VERSION__
 || 
defšed
 
»¡riù


651 
	#_Re¡riù_
 
»¡riù


	)

653 
	#_Re¡riù_


	)

661 #iâdeà
_Re¡riù_¬r_


662 #ifdeà
__»¡riù_¬r


663 
	#_Re¡riù_¬r_
 
__»¡riù_¬r


	)

664 #–ià((199901L <ğ
__STDC_VERSION__
 \

665 || 3 < 
__GNUC__
 + (1 <ğ
__GNUC_MINOR__
) \

666 || 
__şªg_majÜ__
 >= 3) \

667 && !
defšed
 
__ılu¥lus
)

668 
	#_Re¡riù_¬r_
 
_Re¡riù_


	)

670 
	#_Re¡riù_¬r_


	)

675 
»gcomp
 (
»gex_t
 *
_Re¡riù_
 
__´eg
,

676 cÚ¡ *
_Re¡riù_
 
__·‰”n
,

677 
__cæags
);

679 
»gexec
 (cÚ¡ 
»gex_t
 *
_Re¡riù_
 
__´eg
,

680 cÚ¡ *
_Re¡riù_
 
__SŒšg
, 
size_t
 
__nm©ch
,

681 
»gm©ch_t
 
__pm©ch
[
_Re¡riù_¬r_


682 
_REGEX_NELTS
 (
__nm©ch
)],

683 
__eæags
);

685 
size_t
 
»g”rÜ
 (
__”rcode
, cÚ¡ 
»gex_t
 *
_Re¡riù_
 
__´eg
,

686 *
_Re¡riù_
 
__”rbuf
, 
size_t
 
__”rbuf_size
)

687 
_A‰r_acûss_
 ((
__wr™e_Úly__
, 3, 4));

689 
»gä“
 (
»gex_t
 *
__´eg
);

691 #ià
defšed
 
__GNUC__
 && 4 < __GNUC__ + (6 <ğ
__GNUC_MINOR__
)

692 #´agm¨
GCC
 
dŸgno¡ic
 
pİ


695 #ifdeà
__ılu¥lus


	@
1
.
1
/usr/include
117
3786
src/cedmInterface/codebigUtils.c
src/cedmInterface/codebigUtils.h
src/cedmInterface/mtlsUtils.c
src/cedmInterface/mtlsUtils.h
src/chunk.c
src/dbus/rdkFwupdateMgr_handlers.c
src/dbus/rdkFwupdateMgr_handlers.h
src/dbus/rdkv_dbus_server.c
src/dbus/rdkv_dbus_server.h
src/device_status_helper.c
src/deviceutils/device_api.c
src/deviceutils/device_api.h
src/deviceutils/deviceutils.c
src/deviceutils/deviceutils.h
src/download_status_helper.c
src/flash.c
src/iarmInterface/iarmInterface.c
src/include/device_status_helper.h
src/include/download_status_helper.h
src/include/flash.h
src/include/iarmInterface.h
src/include/json_process.h
src/include/rdkv_cdl.h
src/include/rdkv_upgrade.h
src/include/rfcinterface.h
src/json_process.c
src/rbusInterface/rbusInterface.c
src/rbusInterface/rbusInterface.h
src/rdkFwupdateMgr.c
src/rdkv_main.c
src/rdkv_upgrade.c
src/rfcInterface/rfcinterface.c
src/test/rdkfw_test_client.c
src/test/testClient.c
test/functional-tests/tests/mfrutils.c
test/testiarmInterface.c
test/testiarmInterface.h
unittest/basic_rdkv_main_gtest.cpp
unittest/device_status_helper_gtest.cpp
unittest/deviceutils/device_api_gtest.cpp
unittest/deviceutils/deviceutils_gtest.cpp
unittest/deviceutils/json_parse.c
unittest/deviceutils/json_parse.h
unittest/fwdl_interface_gtest.cpp
unittest/miscellaneous.h
unittest/miscellaneous_mock.cpp
unittest/mocks/device_status_helper_mock.cpp
unittest/mocks/device_status_helper_mock.h
unittest/mocks/deviceutils_mock.cpp
unittest/mocks/deviceutils_mock.h
unittest/mocks/interface_mock.cpp
unittest/mocks/interface_mock.h
unittest/mocks/rbus_mock.c
unittest/mocks/rbus_mock.h
unittest/mocks/rdkFwupdateMgr_mock.cpp
unittest/mocks/rdkFwupdateMgr_mock.h
unittest/rdkFwupdateMgr_handlers_gtest.cpp
unittest/rdkfwupdatemgr_gtest.cpp
unittest/rdkv_cdl_log_wrapper.h
/usr/include/cjson/cJSON.h
/usr/include/ctype.h
/usr/include/dirent.h
/usr/include/fcntl.h
/usr/include/gmock/gmock.h
/usr/include/gtest/gtest.h
/usr/include/inttypes.h
/usr/include/pthread.h
/usr/include/signal.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/strings.h
/usr/include/time.h
/usr/include/unistd.h
/usr/include/alloca.h
/usr/include/features.h
/usr/include/gmock/gmock-actions.h
/usr/include/gmock/gmock-cardinalities.h
/usr/include/gmock/gmock-function-mocker.h
/usr/include/gmock/gmock-matchers.h
/usr/include/gmock/gmock-more-actions.h
/usr/include/gmock/gmock-more-matchers.h
/usr/include/gmock/gmock-nice-strict.h
/usr/include/gmock/internal/gmock-internal-utils.h
/usr/include/gtest/gtest-death-test.h
/usr/include/gtest/gtest-matchers.h
/usr/include/gtest/gtest-message.h
/usr/include/gtest/gtest-param-test.h
/usr/include/gtest/gtest-printers.h
/usr/include/gtest/gtest-test-part.h
/usr/include/gtest/gtest-typed-test.h
/usr/include/gtest/gtest_pred_impl.h
/usr/include/gtest/gtest_prod.h
/usr/include/gtest/internal/gtest-internal.h
/usr/include/gtest/internal/gtest-string.h
/usr/include/sched.h
/usr/include/stdint.h
/usr/include/errno.h
/usr/include/features-time64.h
/usr/include/gmock/gmock-spec-builders.h
/usr/include/gmock/internal/custom/gmock-generated-actions.h
/usr/include/gmock/internal/custom/gmock-matchers.h
/usr/include/gmock/internal/gmock-port.h
/usr/include/gmock/internal/gmock-pp.h
/usr/include/gtest/internal/custom/gtest-printers.h
/usr/include/gtest/internal/gtest-death-test-internal.h
/usr/include/gtest/internal/gtest-filepath.h
/usr/include/gtest/internal/gtest-param-util.h
/usr/include/gtest/internal/gtest-port.h
/usr/include/gtest/internal/gtest-type-util.h
/usr/include/limits.h
/usr/include/stdc-predef.h
/usr/include/assert.h
/usr/include/gmock/internal/custom/gmock-port.h
/usr/include/gtest/internal/custom/gtest-port.h
/usr/include/gtest/internal/gtest-port-arch.h
/usr/include/regex.h
